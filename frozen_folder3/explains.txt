SELECT MIN(chn.name) AS uncredited_voiced_character,
       MIN(t.title) AS russian_movie
FROM char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     company_type AS ct,
     movie_companies AS mc,
     role_type AS rt,
     title AS t
WHERE ci.note LIKE '%(voice)%'
  AND ci.note LIKE '%(uncredited)%'
  AND cn.country_code = '[ru]'
  AND rt.role = 'actor'
  AND t.production_year > 2005
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mc.movie_id
  AND chn.id = ci.person_role_id
  AND rt.id = ci.role_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6812.61, + "Total Cost": 6812.62, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 303.246, + "Actual Total Time": 325.779, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6812.56, + "Total Cost": 6812.57, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 302.688, + "Actual Total Time": 325.749, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6811.56, + "Total Cost": 6811.57, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 291.376, + "Actual Total Time": 291.383, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 293.214, + "Actual Total Time": 293.222, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 294.847, + "Actual Total Time": 294.854, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 292.842, + "Actual Total Time": 292.848, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 292.751, + "Actual Total Time": 292.758, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 283.180, + "Actual Total Time": 283.186, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 279.212, + "Actual Total Time": 279.218, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 293.711, + "Actual Total Time": 293.718, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.97, + "Total Cost": 6811.50, + "Plan Rows": 13, + "Plan Width": 33, + "Actual Startup Time": 40.036, + "Actual Total Time": 291.305, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["chn.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 173.563, + "Actual Total Time": 293.189, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.636, + "Actual Total Time": 294.745, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.404, + "Actual Total Time": 292.774, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.812, + "Actual Total Time": 292.688, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.766, + "Actual Total Time": 283.039, + "Actual Rows": 34, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 25.115, + "Actual Total Time": 279.157, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.265, + "Actual Total Time": 293.668, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 6810.79, + "Plan Rows": 13, + "Plan Width": 37, + "Actual Startup Time": 39.954, + "Actual Total Time": 291.143, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["chn.name", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 173.448, + "Actual Total Time": 293.041, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.557, + "Actual Total Time": 294.543, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.317, + "Actual Total Time": 292.630, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.720, + "Actual Total Time": 292.515, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.665, + "Actual Total Time": 282.773, + "Actual Rows": 34, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 25.043, + "Actual Total Time": 279.033, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.192, + "Actual Total Time": 293.541, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 6786.14, + "Plan Rows": 14, + "Plan Width": 25, + "Actual Startup Time": 36.732, + "Actual Total Time": 290.559, + "Actual Rows": 14, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 148.284, + "Actual Total Time": 292.841, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.478, + "Actual Total Time": 293.793, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.231, + "Actual Total Time": 291.993, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.638, + "Actual Total Time": 291.820, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.567, + "Actual Total Time": 281.482, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 24.909, + "Actual Total Time": 278.643, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.111, + "Actual Total Time": 293.291, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 6784.97, + "Plan Rows": 19, + "Plan Width": 29, + "Actual Startup Time": 28.013, + "Actual Total Time": 290.300, + "Actual Rows": 19, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 79.770, + "Actual Total Time": 292.663, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.373, + "Actual Total Time": 293.562, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.132, + "Actual Total Time": 291.838, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.538, + "Actual Total Time": 291.654, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.413, + "Actual Total Time": 281.156, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 24.797, + "Actual Total Time": 278.446, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.003, + "Actual Total Time": 293.108, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 6009.89, + "Plan Rows": 567, + "Plan Width": 29, + "Actual Startup Time": 0.924, + "Actual Total Time": 54.514, + "Actual Rows": 567, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.422, + "Actual Total Time": 72.104, + "Actual Rows": 608, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.412, + "Actual Total Time": 35.047, + "Actual Rows": 343, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.316, + "Actual Total Time": 45.678, + "Actual Rows": 430, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.546, + "Actual Total Time": 65.595, + "Actual Rows": 650, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.689, + "Actual Total Time": 45.440, + "Actual Rows": 563, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.726, + "Actual Total Time": 23.116, + "Actual Rows": 332, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.790, + "Actual Total Time": 77.453, + "Actual Rows": 929, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 5495.43, + "Plan Rows": 1099, + "Plan Width": 8, + "Actual Startup Time": 0.222, + "Actual Total Time": 28.274, + "Actual Rows": 1099, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.249, + "Actual Total Time": 37.202, + "Actual Rows": 1476, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.190, + "Actual Total Time": 18.466, + "Actual Rows": 650, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.199, + "Actual Total Time": 25.625, + "Actual Rows": 748, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.374, + "Actual Total Time": 30.813, + "Actual Rows": 1393, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.167, + "Actual Total Time": 22.651, + "Actual Rows": 989, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.201, + "Actual Total Time": 10.203, + "Actual Rows": 484, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.271, + "Actual Total Time": 42.857, + "Actual Rows": 1509, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 170, + "Plan Width": 4, + "Actual Startup Time": 0.121, + "Actual Total Time": 15.091, + "Actual Rows": 170, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[ru]'::text)", + "Rows Removed by Filter": 29204, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.126, + "Actual Total Time": 18.743, + "Actual Rows": 208, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.098, + "Actual Total Time": 10.392, + "Actual Rows": 110, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.126, + "Actual Total Time": 16.024, + "Actual Rows": 151, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.255, + "Actual Total Time": 15.535, + "Actual Rows": 184, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.067, + "Actual Total Time": 11.793, + "Actual Rows": 148, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.084, + "Actual Total Time": 4.515, + "Actual Rows": 53, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.169, + "Actual Total Time": 21.633, + "Actual Rows": 240, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 12.49, + "Plan Rows": 6, + "Plan Width": 12, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.072, + "Actual Rows": 6, + "Actual Loops": 1361, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.083, + "Actual Rows": 7, + "Actual Loops": 208 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.067, + "Actual Rows": 6, + "Actual Loops": 110 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.059, + "Actual Rows": 5, + "Actual Loops": 151 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.077, + "Actual Rows": 8, + "Actual Loops": 184 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.068, + "Actual Rows": 7, + "Actual Loops": 148 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.098, + "Actual Rows": 9, + "Actual Loops": 53 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.083, + "Actual Rows": 6, + "Actual Loops": 240 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 8790, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1476 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 650 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 748 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1393 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 989 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 484 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1509 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.35, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.395, + "Actual Total Time": 0.414, + "Actual Rows": 0, + "Actual Loops": 4539, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ci.note ~~ '%(voice)%'::text) AND (ci.note ~~ '%(uncredited)%'::text))", + "Rows Removed by Filter": 50, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.347, + "Actual Total Time": 0.361, + "Actual Rows": 0, + "Actual Loops": 608 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.690, + "Actual Total Time": 0.752, + "Actual Rows": 0, + "Actual Loops": 343 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.548, + "Actual Total Time": 0.571, + "Actual Rows": 0, + "Actual Loops": 430 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.338, + "Actual Total Time": 0.346, + "Actual Rows": 0, + "Actual Loops": 650 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.386, + "Actual Total Time": 0.417, + "Actual Rows": 0, + "Actual Loops": 563 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.723, + "Actual Total Time": 0.767, + "Actual Rows": 0, + "Actual Loops": 332 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.225, + "Actual Total Time": 0.231, + "Actual Rows": 0, + "Actual Loops": 929 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actor'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 1.76, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 112, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 19 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 36 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 104, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 11, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 1, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 18, + "Cache Hits": 16, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 9, + "Cache Hits": 8, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 13, + "Cache Hits": 11, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 34, + "Cache Hits": 32, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 8, + "Cache Hits": 7, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 6, + "Cache Hits": 4, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 14, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6651533820180303979, + "Planning Time": 30.142, + "Triggers": [ + ], + "Execution Time": 328.797, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -6651533820180303979, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(chn.name) AS character,
       MIN(t.title) AS russian_mov_with_actor_producer
FROM char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     company_type AS ct,
     movie_companies AS mc,
     role_type AS rt,
     title AS t
WHERE ci.note LIKE '%(producer)%'
  AND cn.country_code = '[ru]'
  AND rt.role = 'actor'
  AND t.production_year > 2010
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mc.movie_id
  AND chn.id = ci.person_role_id
  AND rt.id = ci.role_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6216.68, + "Total Cost": 6216.69, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 100.844, + "Actual Total Time": 127.586, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6216.63, + "Total Cost": 6216.64, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 99.934, + "Actual Total Time": 127.571, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6215.63, + "Total Cost": 6215.64, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 92.484, + "Actual Total Time": 92.490, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.586, + "Actual Total Time": 90.592, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 91.139, + "Actual Total Time": 91.143, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.545, + "Actual Total Time": 91.549, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 92.038, + "Actual Total Time": 92.042, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.983, + "Actual Total Time": 91.988, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.609, + "Actual Total Time": 91.615, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.946, + "Actual Total Time": 91.953, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.96, + "Total Cost": 6215.63, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 92.479, + "Actual Total Time": 92.485, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["chn.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.580, + "Actual Total Time": 90.585, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 91.136, + "Actual Total Time": 91.140, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.541, + "Actual Total Time": 91.544, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 92.033, + "Actual Total Time": 92.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.979, + "Actual Total Time": 91.984, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.603, + "Actual Total Time": 91.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.941, + "Actual Total Time": 91.946, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 6215.47, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 92.479, + "Actual Total Time": 92.483, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["chn.name", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.579, + "Actual Total Time": 90.584, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 91.135, + "Actual Total Time": 91.139, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.540, + "Actual Total Time": 91.543, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 92.032, + "Actual Total Time": 92.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.979, + "Actual Total Time": 91.982, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.602, + "Actual Total Time": 91.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.940, + "Actual Total Time": 91.945, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 6214.99, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 92.478, + "Actual Total Time": 92.482, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.579, + "Actual Total Time": 90.582, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 91.135, + "Actual Total Time": 91.137, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.539, + "Actual Total Time": 91.541, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 92.031, + "Actual Total Time": 92.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.978, + "Actual Total Time": 91.981, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.602, + "Actual Total Time": 91.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.940, + "Actual Total Time": 91.944, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 6212.73, + "Plan Rows": 327, + "Plan Width": 29, + "Actual Startup Time": 3.054, + "Actual Total Time": 91.948, + "Actual Rows": 327, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.387, + "Actual Total Time": 89.984, + "Actual Rows": 397, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.483, + "Actual Total Time": 90.573, + "Actual Rows": 489, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.312, + "Actual Total Time": 91.066, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.529, + "Actual Total Time": 91.611, + "Actual Rows": 161, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.641, + "Actual Total Time": 91.421, + "Actual Rows": 515, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.522, + "Actual Total Time": 91.077, + "Actual Rows": 255, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.246, + "Actual Total Time": 91.484, + "Actual Rows": 257, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 6009.89, + "Plan Rows": 157, + "Plan Width": 29, + "Actual Startup Time": 2.409, + "Actual Total Time": 50.006, + "Actual Rows": 157, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.263, + "Actual Total Time": 47.816, + "Actual Rows": 197, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.278, + "Actual Total Time": 56.773, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.128, + "Actual Total Time": 23.940, + "Actual Rows": 122, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.378, + "Actual Total Time": 61.239, + "Actual Rows": 100, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.864, + "Actual Total Time": 47.883, + "Actual Rows": 229, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.363, + "Actual Total Time": 55.367, + "Actual Rows": 122, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.551, + "Actual Total Time": 44.280, + "Actual Rows": 126, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 5495.43, + "Plan Rows": 1099, + "Plan Width": 8, + "Actual Startup Time": 0.216, + "Actual Total Time": 26.261, + "Actual Rows": 1099, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.185, + "Actual Total Time": 27.340, + "Actual Rows": 1070, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.130, + "Actual Total Time": 27.173, + "Actual Rows": 1480, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.351, + "Actual Total Time": 14.338, + "Actual Rows": 439, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.267, + "Actual Total Time": 30.879, + "Actual Rows": 1346, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.244, + "Actual Total Time": 24.232, + "Actual Rows": 1216, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.261, + "Actual Total Time": 30.559, + "Actual Rows": 992, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.180, + "Actual Total Time": 24.077, + "Actual Rows": 917, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 170, + "Plan Width": 4, + "Actual Startup Time": 0.142, + "Actual Total Time": 14.859, + "Actual Rows": 170, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[ru]'::text)", + "Rows Removed by Filter": 29204, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.109, + "Actual Total Time": 17.532, + "Actual Rows": 219, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.053, + "Actual Total Time": 13.573, + "Actual Rows": 170, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.281, + "Actual Total Time": 9.286, + "Actual Rows": 113, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.200, + "Actual Total Time": 13.767, + "Actual Rows": 171, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.179, + "Actual Total Time": 14.401, + "Actual Rows": 189, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.183, + "Actual Total Time": 18.229, + "Actual Rows": 154, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.102, + "Actual Total Time": 14.663, + "Actual Rows": 173, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 12.49, + "Plan Rows": 6, + "Plan Width": 12, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.062, + "Actual Rows": 6, + "Actual Loops": 1361, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.041, + "Actual Rows": 5, + "Actual Loops": 219 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.074, + "Actual Rows": 9, + "Actual Loops": 170 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.041, + "Actual Rows": 4, + "Actual Loops": 113 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.096, + "Actual Rows": 8, + "Actual Loops": 171 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.048, + "Actual Rows": 6, + "Actual Loops": 189 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.075, + "Actual Rows": 6, + "Actual Loops": 154 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.051, + "Actual Rows": 5, + "Actual Loops": 173 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 8790, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1070 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1480 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 439 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1346 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1216 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 992 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 917 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.144, + "Actual Total Time": 0.264, + "Actual Rows": 2, + "Actual Loops": 1259, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note ~~ '%(producer)%'::text)", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.137, + "Actual Total Time": 0.211, + "Actual Rows": 2, + "Actual Loops": 197 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.134, + "Actual Rows": 2, + "Actual Loops": 248 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.232, + "Actual Total Time": 0.547, + "Actual Rows": 3, + "Actual Loops": 122 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.152, + "Actual Total Time": 0.301, + "Actual Rows": 2, + "Actual Loops": 100 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.188, + "Actual Rows": 2, + "Actual Loops": 229 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.158, + "Actual Total Time": 0.290, + "Actual Rows": 2, + "Actual Loops": 122 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.201, + "Actual Total Time": 0.372, + "Actual Rows": 2, + "Actual Loops": 126 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actor'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 988535410010893112, + "Planning Time": 30.299, + "Triggers": [ + ], + "Execution Time": 131.953, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 988535410010893112, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(chn.name) AS character,
       MIN(t.title) AS movie_with_american_producer
FROM char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     company_type AS ct,
     movie_companies AS mc,
     role_type AS rt,
     title AS t
WHERE ci.note LIKE '%(producer)%'
  AND cn.country_code = '[us]'
  AND t.production_year > 1990
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mc.movie_id
  AND chn.id = ci.person_role_id
  AND rt.id = ci.role_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;
QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 200870.98, + "Total Cost": 200870.99, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 10571.650, + "Actual Total Time": 10616.296, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 42719.93, + "Total Cost": 200870.93, + "Plan Rows": 10, + "Plan Width": 33, + "Actual Startup Time": 3523.860, + "Actual Total Time": 10616.231, + "Actual Rows": 10, + "Actual Loops": 1, + "Output": ["chn.name", "t.title"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42718.93, + "Total Cost": 200869.93, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 6854.762, + "Actual Total Time": 10543.002, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10537.090, + "Actual Total Time": 10537.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10539.591, + "Actual Total Time": 10539.597, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10541.071, + "Actual Total Time": 10541.081, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3065.831, + "Actual Total Time": 10539.652, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6918.973, + "Actual Total Time": 10538.183, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7576.464, + "Actual Total Time": 10539.986, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2136.011, + "Actual Total Time": 10537.656, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42718.79, + "Total Cost": 200869.77, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 6854.729, + "Actual Total Time": 10542.962, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "ci.role_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10537.089, + "Actual Total Time": 10537.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10539.589, + "Actual Total Time": 10539.595, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10541.070, + "Actual Total Time": 10541.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3065.769, + "Actual Total Time": 10539.565, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6918.919, + "Actual Total Time": 10538.113, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7576.407, + "Actual Total Time": 10539.927, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2135.951, + "Actual Total Time": 10537.595, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42718.66, + "Total Cost": 200869.62, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 6854.693, + "Actual Total Time": 10542.918, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10537.089, + "Actual Total Time": 10537.094, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10539.589, + "Actual Total Time": 10539.594, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10541.070, + "Actual Total Time": 10541.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3065.706, + "Actual Total Time": 10539.469, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6918.857, + "Actual Total Time": 10538.030, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7576.348, + "Actual Total Time": 10539.866, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2135.888, + "Actual Total Time": 10537.531, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42718.22, + "Total Cost": 160410.43, + "Plan Rows": 97763, + "Plan Width": 29, + "Actual Startup Time": 442.939, + "Actual Total Time": 10400.610, + "Actual Rows": 97763, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 440.017, + "Actual Total Time": 10390.990, + "Actual Rows": 99911, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 441.600, + "Actual Total Time": 10406.613, + "Actual Rows": 93562, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 441.466, + "Actual Total Time": 10407.942, + "Actual Rows": 92461, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 441.431, + "Actual Total Time": 10400.166, + "Actual Rows": 96274, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 443.162, + "Actual Total Time": 10391.496, + "Actual Rows": 98928, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 441.926, + "Actual Total Time": 10393.034, + "Actual Rows": 100717, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 441.700, + "Actual Total Time": 10395.882, + "Actual Rows": 96492, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42717.78, + "Total Cost": 65049.61, + "Plan Rows": 74531, + "Plan Width": 29, + "Actual Startup Time": 442.618, + "Actual Total Time": 1253.123, + "Actual Rows": 74531, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 439.271, + "Actual Total Time": 1282.157, + "Actual Rows": 76197, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 441.499, + "Actual Total Time": 1309.987, + "Actual Rows": 72645, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 441.309, + "Actual Total Time": 1363.454, + "Actual Rows": 77683, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 441.262, + "Actual Total Time": 1236.032, + "Actual Rows": 71930, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 442.825, + "Actual Total Time": 1289.395, + "Actual Rows": 77326, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 441.404, + "Actual Total Time": 1155.189, + "Actual Rows": 75629, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 441.465, + "Actual Total Time": 1189.906, + "Actual Rows": 75003, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 21953.67, + "Plan Rows": 144225, + "Plan Width": 8, + "Actual Startup Time": 0.297, + "Actual Total Time": 620.086, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.148, + "Actual Total Time": 636.306, + "Actual Rows": 170001, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.164, + "Actual Total Time": 678.258, + "Actual Rows": 152803, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.080, + "Actual Total Time": 705.146, + "Actual Rows": 169645, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.160, + "Actual Total Time": 599.121, + "Actual Rows": 161846, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.426, + "Actual Total Time": 661.656, + "Actual Rows": 134508, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.159, + "Actual Total Time": 549.964, + "Actual Rows": 111105, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.128, + "Actual Total Time": 570.166, + "Actual Rows": 133813, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 25.663, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"],+ "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 26.023, + "Actual Rows": 10818, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 26.097, + "Actual Rows": 11178, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 24.456, + "Actual Rows": 10402, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 22.662, + "Actual Rows": 9549, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 29.734, + "Actual Rows": 12257, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 24.602, + "Actual Rows": 10449, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 28.249, + "Actual Rows": 10125, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.61, + "Plan Rows": 14, + "Plan Width": 12, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.049, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.049, + "Actual Rows": 16, + "Actual Loops": 10818 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.051, + "Actual Rows": 14, + "Actual Loops": 11178 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.057, + "Actual Rows": 16, + "Actual Loops": 10402 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.052, + "Actual Rows": 17, + "Actual Loops": 9549 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.046, + "Actual Rows": 11, + "Actual Loops": 12257 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.044, + "Actual Rows": 11, + "Actual Loops": 10449 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.047, + "Actual Rows": 13, + "Actual Loops": 10125 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 39984.49, + "Total Cost": 39984.49, + "Plan Rows": 218629, + "Plan Width": 21, + "Actual Startup Time": 438.100, + "Actual Total Time": 438.101, + "Actual Rows": 218629, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 2097152, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 114496, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 438.935, + "Actual Total Time": 438.936, + "Actual Rows": 215038, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 441.132, + "Actual Total Time": 441.133, + "Actual Rows": 220016, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 440.996, + "Actual Total Time": 440.998, + "Actual Rows": 221365, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 440.915, + "Actual Total Time": 440.916, + "Actual Rows": 203013, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 441.142, + "Actual Total Time": 441.143, + "Actual Rows": 197621, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 441.055, + "Actual Total Time": 441.055, + "Actual Rows": 226879, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 441.139, + "Actual Total Time": 441.139, + "Actual Rows": 230122, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.00, + "Total Cost": 39984.49, + "Plan Rows": 218629, + "Plan Width": 21, + "Actual Startup Time": 0.056, + "Actual Total Time": 180.962, + "Actual Rows": 218629, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 97410, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 186.351, + "Actual Rows": 215038, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.068, + "Actual Total Time": 181.437, + "Actual Rows": 220016, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 179.541, + "Actual Rows": 221365, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.069, + "Actual Total Time": 185.770, + "Actual Rows": 203013, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 162.679, + "Actual Rows": 197621, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 178.333, + "Actual Rows": 226879, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 187.471, + "Actual Rows": 230122, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.121, + "Actual Rows": 1, + "Actual Loops": 596250, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note ~~ '%(producer)%'::text)", + "Rows Removed by Filter": 34, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.118, + "Actual Rows": 1, + "Actual Loops": 76197 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.123, + "Actual Rows": 1, + "Actual Loops": 72645 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.115, + "Actual Rows": 1, + "Actual Loops": 77683 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.126, + "Actual Rows": 1, + "Actual Loops": 71930 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.116, + "Actual Rows": 1, + "Actual Loops": 77326 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.120, + "Actual Rows": 1, + "Actual Loops": 75629 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.121, + "Actual Rows": 1, + "Actual Loops": 75003 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.44, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 782104, + "Output": ["chn.name", "chn.id"], + "Cache Key": "ci.person_role_id", + "Cache Mode": "logical", + "Cache Hits": 103757, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 99911, + "Cache Hits": 99910, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 93562, + "Cache Hits": 93561, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 92461, + "Cache Hits": 92460, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 96274, + "Cache Hits": 96272, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 98928, + "Cache Hits": 98926, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 100717, + "Cache Hits": 100715, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 96492, + "Cache Hits": 96490, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 13, + "Output": ["chn.name", "chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["rt.id"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2494719406442254794, + "Planning Time": 22.903, + "Triggers": [ + ], + "Execution Time": 10621.225, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 2494719406442254794, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(lt.link) AS movie_link_type,
       MIN(t.title) AS non_polish_sequel_movie
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND t.production_year BETWEEN 1950 AND 2000
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1838.71, + "Total Cost": 1838.72, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 61.118, + "Actual Total Time": 62.319, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1838.66, + "Total Cost": 1838.68, + "Plan Rows": 5, + "Plan Width": 96, + "Actual Startup Time": 56.677, + "Actual Total Time": 62.295, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1837.66, + "Total Cost": 1837.67, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 50.604, + "Actual Total Time": 50.612, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.837, + "Actual Total Time": 51.843, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 50.187, + "Actual Total Time": 50.194, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 50.094, + "Actual Total Time": 50.100, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.390, + "Actual Total Time": 48.397, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 47.464, + "Actual Total Time": 47.472, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.92, + "Total Cost": 1837.20, + "Plan Rows": 62, + "Plan Width": 48, + "Actual Startup Time": 47.637, + "Actual Total Time": 50.528, + "Actual Rows": 52, + "Actual Loops": 6, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 46.403, + "Actual Total Time": 51.648, + "Actual Rows": 182, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.013, + "Actual Total Time": 50.071, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.422, + "Actual Total Time": 49.956, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.385, + "Actual Total Time": 48.392, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 47.459, + "Actual Total Time": 47.466, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.78, + "Total Cost": 1835.84, + "Plan Rows": 66, + "Plan Width": 40, + "Actual Startup Time": 47.304, + "Actual Total Time": 50.144, + "Actual Rows": 55, + "Actual Loops": 6, + "Output": ["cn.name", "ml.link_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 46.097, + "Actual Total Time": 51.194, + "Actual Rows": 182, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.751, + "Actual Total Time": 49.741, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.117, + "Actual Total Time": 49.573, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.085, + "Actual Total Time": 48.091, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 47.156, + "Actual Total Time": 47.162, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.36, + "Total Cost": 1769.48, + "Plan Rows": 148, + "Plan Width": 25, + "Actual Startup Time": 45.367, + "Actual Total Time": 48.682, + "Actual Rows": 124, + "Actual Loops": 6, + "Output": ["mc.company_id", "ml.link_type_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 44.046, + "Actual Total Time": 48.256, + "Actual Rows": 335, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.655, + "Actual Total Time": 47.765, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 43.350, + "Actual Total Time": 47.161, + "Actual Rows": 163, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 45.063, + "Actual Total Time": 47.277, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.677, + "Actual Total Time": 47.012, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.32, + "Total Cost": 1767.53, + "Plan Rows": 169, + "Plan Width": 29, + "Actual Startup Time": 45.338, + "Actual Total Time": 48.553, + "Actual Rows": 141, + "Actual Loops": 6, + "Output": ["mc.company_type_id", "mc.company_id", "ml.link_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 44.036, + "Actual Total Time": 48.016, + "Actual Rows": 354, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.629, + "Actual Total Time": 47.616, + "Actual Rows": 140, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 43.337, + "Actual Total Time": 46.975, + "Actual Rows": 163, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 45.028, + "Actual Total Time": 47.199, + "Actual Rows": 85, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.647, + "Actual Total Time": 46.993, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1467.89, + "Total Cost": 1744.80, + "Plan Rows": 40, + "Plan Width": 33, + "Actual Startup Time": 45.258, + "Actual Total Time": 47.853, + "Actual Rows": 33, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 43.960, + "Actual Total Time": 46.848, + "Actual Rows": 73, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.543, + "Actual Total Time": 46.939, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 43.239, + "Actual Total Time": 46.143, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 44.939, + "Actual Total Time": 46.372, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.560, + "Actual Total Time": 46.783, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1467.46, + "Total Cost": 1721.03, + "Plan Rows": 50, + "Plan Width": 12, + "Actual Startup Time": 45.090, + "Actual Total Time": 47.262, + "Actual Rows": 42, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Hash Cond": "(ml.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 43.878, + "Actual Total Time": 45.944, + "Actual Rows": 91, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.438, + "Actual Total Time": 46.266, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 43.110, + "Actual Total Time": 45.569, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 44.842, + "Actual Total Time": 45.776, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.465, + "Actual Total Time": 46.568, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.00, + "Total Cost": 222.99, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.072, + "Actual Total Time": 1.201, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.081, + "Actual Total Time": 1.232, + "Actual Rows": 6105, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.081, + "Actual Total Time": 1.099, + "Actual Rows": 3515, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.083, + "Actual Total Time": 1.073, + "Actual Rows": 3515, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.081, + "Actual Total Time": 1.149, + "Actual Rows": 3700, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.088, + "Actual Total Time": 1.531, + "Actual Rows": 4837, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1448.63, + "Total Cost": 1448.63, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 44.230, + "Actual Total Time": 44.231, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 544, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.861, + "Actual Total Time": 42.862, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 43.501, + "Actual Total Time": 43.503, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 42.850, + "Actual Total Time": 42.851, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.880, + "Actual Total Time": 42.881, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 42.840, + "Actual Total Time": 42.842, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1448.63, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 8.506, + "Actual Total Time": 15.551, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.385, + "Actual Total Time": 9.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.023, + "Actual Total Time": 10.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.377, + "Actual Total Time": 9.378, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.446, + "Actual Total Time": 9.447, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.363, + "Actual Total Time": 9.364, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.490, + "Actual Total Time": 8.492, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 22362, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.384, + "Actual Total Time": 9.384, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.022, + "Actual Total Time": 10.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.376, + "Actual Total Time": 9.376, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.445, + "Actual Total Time": 9.445, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.361, + "Actual Total Time": 9.361, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 10544, + "Plan Width": 8, + "Actual Startup Time": 0.081, + "Actual Total Time": 40.254, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 251, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2000))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 91 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 41 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 28 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 31 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.018, + "Actual Rows": 4, + "Actual Loops": 199, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.014, + "Actual Rows": 5, + "Actual Loops": 73 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.026, + "Actual Rows": 6, + "Actual Loops": 22 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.027, + "Actual Rows": 6, + "Actual Loops": 26 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.024, + "Actual Rows": 3, + "Actual Loops": 31 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 742, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 335 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 136 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 163 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 46 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.13, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["lt.link", "lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.063, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["lt.link", "lt.id"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -8754961486292191806, + "Planning Time": 74.659, + "Triggers": [ + ], + "Execution Time": 65.863, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -8754961486292191806, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(lt.link) AS movie_link_type,
       MIN(t.title) AS sequel_movie
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follows%'
  AND mc.note IS NULL
  AND t.production_year = 1998
  AND t.title LIKE '%Money%'
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1078.16, + "Total Cost": 1078.17, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 21.832, + "Actual Total Time": 23.094, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1078.12, + "Total Cost": 1078.13, + "Plan Rows": 4, + "Plan Width": 96, + "Actual Startup Time": 20.643, + "Actual Total Time": 23.080, + "Actual Rows": 5, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 4, + "Workers Launched": 4, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1077.12, + "Total Cost": 1077.13, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 13.516, + "Actual Total Time": 13.521, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.826, + "Actual Total Time": 11.830, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.869, + "Actual Total Time": 11.874, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.018, + "Actual Total Time": 11.024, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.226, + "Actual Total Time": 13.230, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1077.09, + "Plan Rows": 4, + "Plan Width": 48, + "Actual Startup Time": 13.265, + "Actual Total Time": 13.509, + "Actual Rows": 3, + "Actual Loops": 5, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.822, + "Actual Total Time": 11.826, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.864, + "Actual Total Time": 11.868, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.013, + "Actual Total Time": 11.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.991, + "Actual Total Time": 13.195, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.57, + "Total Cost": 1076.62, + "Plan Rows": 4, + "Plan Width": 52, + "Actual Startup Time": 13.255, + "Actual Total Time": 13.494, + "Actual Rows": 3, + "Actual Loops": 5, + "Output": ["cn.name", "mc.company_type_id", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.822, + "Actual Total Time": 11.825, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.863, + "Actual Total Time": 11.867, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.012, + "Actual Total Time": 11.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.944, + "Actual Total Time": 13.124, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1074.38, + "Plan Rows": 5, + "Plan Width": 37, + "Actual Startup Time": 13.242, + "Actual Total Time": 13.439, + "Actual Rows": 4, + "Actual Loops": 5, + "Output": ["mc.company_type_id", "mc.company_id", "lt.link", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.821, + "Actual Total Time": 11.824, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.863, + "Actual Total Time": 11.866, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.012, + "Actual Total Time": 11.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.883, + "Actual Total Time": 12.853, + "Actual Rows": 21, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1073.29, + "Plan Rows": 2, + "Plan Width": 41, + "Actual Startup Time": 13.228, + "Actual Total Time": 13.405, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["mk.movie_id", "ml.movie_id", "lt.link", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.821, + "Actual Total Time": 11.823, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.862, + "Actual Total Time": 11.865, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.011, + "Actual Total Time": 11.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.815, + "Actual Total Time": 12.690, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1070.19, + "Plan Rows": 7, + "Plan Width": 45, + "Actual Startup Time": 13.193, + "Actual Total Time": 13.328, + "Actual Rows": 6, + "Actual Loops": 5, + "Output": ["lt.link", "ml.movie_id", "mk.movie_id", "mk.keyword_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.820, + "Actual Total Time": 11.822, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.862, + "Actual Total Time": 11.864, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.010, + "Actual Total Time": 11.013, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.641, + "Actual Total Time": 12.307, + "Actual Rows": 28, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1066.19, + "Plan Rows": 2, + "Plan Width": 37, + "Actual Startup Time": 13.120, + "Actual Total Time": 13.237, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["lt.link", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.820, + "Actual Total Time": 11.821, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.861, + "Actual Total Time": 11.862, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.010, + "Actual Total Time": 11.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.279, + "Actual Total Time": 11.859, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 635.96, + "Plan Rows": 290, + "Plan Width": 16, + "Actual Startup Time": 0.379, + "Actual Total Time": 9.826, + "Actual Rows": 232, + "Actual Loops": 5, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.921, + "Actual Total Time": 10.043, + "Actual Rows": 122, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.148, + "Actual Total Time": 10.519, + "Actual Rows": 97, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.277, + "Actual Total Time": 9.294, + "Actual Rows": 80, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.266, + "Actual Total Time": 7.100, + "Actual Rows": 337, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 445.81, + "Plan Rows": 7499, + "Plan Width": 8, + "Actual Startup Time": 0.085, + "Actual Total Time": 3.990, + "Actual Rows": 5999, + "Actual Loops": 5, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.060, + "Actual Total Time": 4.002, + "Actual Rows": 6503, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.063, + "Actual Total Time": 4.269, + "Actual Rows": 8347, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.138, + "Actual Total Time": 3.895, + "Actual Rows": 4206, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.098, + "Actual Total Time": 2.876, + "Actual Rows": 3122, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.link", "lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 7803, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 6503, + "Cache Hits": 6487, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 8347, + "Cache Hits": 8331, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4206, + "Cache Hits": 4190, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3122, + "Cache Hits": 3106, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 80, + "Output": ["lt.link", "lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follows%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1158, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.title ~~ '%Money%'::text) AND (t.production_year = 1998))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 122 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 97 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 80 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 337 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.96, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.061, + "Actual Rows": 4, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.061, + "Actual Rows": 4, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 28, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 28 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.021, + "Actual Rows": 3, + "Actual Loops": 7, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.021, + "Actual Rows": 3, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 21, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 21 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 14, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 14, + "Cache Hits": 13, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7102013096890644952, + "Planning Time": 73.609, + "Triggers": [ + ], + "Execution Time": 27.404, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 7102013096890644952, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_based_on_book
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '20th Century Fox%'
       OR cn.name LIKE 'Twentieth Century Fox%')
  AND ct.kind != 'production companies'
  AND ct.kind IS NOT NULL
  AND k.keyword IN ('sequel',
                    'revenge',
                    'based-on-novel')
  AND mc.note IS NOT NULL
  AND t.production_year > 1950
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3713.47, + "Total Cost": 3713.48, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 874.554, + "Actual Total Time": 877.299, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mc.note)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3713.40, + "Total Cost": 3713.41, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 195.566, + "Actual Total Time": 877.262, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mc.note))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3712.40, + "Total Cost": 3712.41, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 262.005, + "Actual Total Time": 262.012, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mc.note)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 178.469, + "Actual Total Time": 178.475, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 173.353, + "Actual Total Time": 173.359, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 173.973, + "Actual Total Time": 173.978, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 171.672, + "Actual Total Time": 171.682, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 864.658, + "Actual Total Time": 864.664, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 167.863, + "Actual Total Time": 167.869, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 171.701, + "Actual Total Time": 171.707, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1216.06, + "Total Cost": 3705.89, + "Plan Rows": 868, + "Plan Width": 60, + "Actual Startup Time": 133.966, + "Actual Total Time": 261.248, + "Actual Rows": 868, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "t.title"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 178.463, + "Actual Total Time": 178.469, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 72.032, + "Actual Total Time": 173.028, + "Actual Rows": 268, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 173.969, + "Actual Total Time": 173.973, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 171.666, + "Actual Total Time": 171.675, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 40.848, + "Actual Total Time": 858.959, + "Actual Rows": 6664, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 167.858, + "Actual Total Time": 167.863, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 72.546, + "Actual Total Time": 171.657, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1215.63, + "Total Cost": 3295.37, + "Plan Rows": 868, + "Plan Width": 55, + "Actual Startup Time": 133.925, + "Actual Total Time": 254.708, + "Actual Rows": 868, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "mc.movie_id", "mk.movie_id", "ml.movie_id"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 178.462, + "Actual Total Time": 178.467, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 71.910, + "Actual Total Time": 170.258, + "Actual Rows": 268, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 173.969, + "Actual Total Time": 173.972, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 171.665, + "Actual Total Time": 171.673, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 40.738, + "Actual Total Time": 809.658, + "Actual Rows": 6664, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 167.857, + "Actual Total Time": 167.862, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 72.458, + "Actual Total Time": 171.416, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1214.38, + "Total Cost": 3291.31, + "Plan Rows": 868, + "Plan Width": 59, + "Actual Startup Time": 133.802, + "Actual Total Time": 254.157, + "Actual Rows": 868, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "mc.movie_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mk.keyword_id = k.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 178.393, + "Actual Total Time": 178.397, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 71.831, + "Actual Total Time": 169.994, + "Actual Rows": 268, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 173.878, + "Actual Total Time": 173.881, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 171.592, + "Actual Total Time": 171.599, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 40.649, + "Actual Total Time": 806.357, + "Actual Rows": 6664, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 167.782, + "Actual Total Time": 167.786, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 72.379, + "Actual Total Time": 171.323, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.82, + "Total Cost": 1822.55, + "Plan Rows": 97597, + "Plan Width": 63, + "Actual Startup Time": 27.729, + "Actual Total Time": 227.358, + "Actual Rows": 97597, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "mc.movie_id", "mk.movie_id", "mk.keyword_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Merge Cond": "(mk.movie_id = ml.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.420, + "Actual Total Time": 168.858, + "Actual Rows": 171, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.739, + "Actual Total Time": 156.824, + "Actual Rows": 13943, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.728, + "Actual Total Time": 161.414, + "Actual Rows": 46085, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.805, + "Actual Total Time": 159.351, + "Actual Rows": 10369, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.590, + "Actual Total Time": 673.641, + "Actual Rows": 693056, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.589, + "Actual Total Time": 158.385, + "Actual Rows": 9668, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.767, + "Actual Total Time": 162.880, + "Actual Rows": 5970, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.42, + "Total Cost": 47503.77, + "Plan Rows": 1473, + "Plan Width": 55, + "Actual Startup Time": 23.137, + "Actual Total Time": 111.716, + "Actual Rows": 1473, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "mc.movie_id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.396, + "Actual Total Time": 142.124, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.239, + "Actual Total Time": 112.945, + "Actual Rows": 697, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.278, + "Actual Total Time": 85.338, + "Actual Rows": 402, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.794, + "Actual Total Time": 118.896, + "Actual Rows": 343, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.357, + "Actual Total Time": 38.636, + "Actual Rows": 3751, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 65.102, + "Actual Total Time": 119.112, + "Actual Rows": 405, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.338, + "Actual Total Time": 127.819, + "Actual Rows": 6037, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.99, + "Total Cost": 47377.92, + "Plan Rows": 70, + "Plan Width": 47, + "Actual Startup Time": 20.607, + "Actual Total Time": 102.884, + "Actual Rows": 70, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.332, + "Actual Total Time": 141.486, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.910, + "Actual Total Time": 110.299, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.768, + "Actual Total Time": 67.984, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.451, + "Actual Total Time": 108.055, + "Actual Rows": 69, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.141, + "Actual Total Time": 34.593, + "Actual Rows": 81, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 64.832, + "Actual Total Time": 117.629, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.845, + "Actual Total Time": 105.198, + "Actual Rows": 192, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.57, + "Total Cost": 44032.16, + "Plan Rows": 6435, + "Plan Width": 32, + "Actual Startup Time": 2.705, + "Actual Total Time": 36.766, + "Actual Rows": 6435, + "Actual Loops": 8, + "Output": ["mc.note", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.184, + "Actual Total Time": 46.523, + "Actual Rows": 10009, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.840, + "Actual Total Time": 55.206, + "Actual Rows": 5473, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.119, + "Actual Total Time": 20.286, + "Actual Rows": 4440, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.271, + "Actual Total Time": 48.872, + "Actual Rows": 5851, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.257, + "Actual Total Time": 10.326, + "Actual Rows": 3203, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.698, + "Actual Total Time": 38.242, + "Actual Rows": 8020, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.211, + "Actual Total Time": 32.853, + "Actual Rows": 7255, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 43867.17, + "Plan Rows": 7116, + "Plan Width": 36, + "Actual Startup Time": 2.653, + "Actual Total Time": 25.919, + "Actual Rows": 7116, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "(mc.note IS NOT NULL)", + "Rows Removed by Filter": 6958, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.118, + "Actual Total Time": 31.339, + "Actual Rows": 10945, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.785, + "Actual Total Time": 37.338, + "Actual Rows": 6155, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.071, + "Actual Total Time": 13.642, + "Actual Rows": 4900, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.209, + "Actual Total Time": 39.946, + "Actual Rows": 6619, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.209, + "Actual Total Time": 6.609, + "Actual Rows": 3488, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.641, + "Actual Total Time": 26.171, + "Actual Rows": 8561, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.163, + "Actual Total Time": 21.364, + "Actual Rows": 8056, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 56930, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 8204, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 10945, + "Cache Hits": 10943, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 6155, + "Cache Hits": 6153, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 4900, + "Cache Hits": 4898, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 6619, + "Cache Hits": 6617, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 1, + "Actual Loops": 3488, + "Cache Hits": 3486, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 8561, + "Cache Hits": 8559, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 8056, + "Cache Hits": 8054, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 16, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind IS NOT NULL) AND ((ct.kind)::text <> 'production companies'::text))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 51483, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '20th Century Fox%'::text) OR (cn.name ~~ 'Twentieth Century Fox%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 10009 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 5473 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 4440 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 5851 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 3203 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8020 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 7255 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.60, + "Plan Rows": 20, + "Plan Width": 8, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.119, + "Actual Rows": 21, + "Actual Loops": 562, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.068, + "Actual Rows": 2, + "Actual Loops": 9 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.025, + "Actual Rows": 7, + "Actual Loops": 93 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.376, + "Actual Total Time": 0.382, + "Actual Rows": 9, + "Actual Loops": 45 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.151, + "Actual Total Time": 0.154, + "Actual Rows": 5, + "Actual Loops": 69 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.037, + "Actual Rows": 46, + "Actual Loops": 81 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.073, + "Actual Rows": 22, + "Actual Loops": 18 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.107, + "Actual Rows": 31, + "Actual Loops": 192 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 670.78, + "Plan Rows": 58025, + "Plan Width": 8, + "Actual Startup Time": 0.069, + "Actual Total Time": 71.575, + "Actual Rows": 127442, + "Actual Loops": 8, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.061, + "Actual Total Time": 19.605, + "Actual Rows": 30127, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.082, + "Actual Total Time": 29.308, + "Actual Rows": 43872, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.084, + "Actual Total Time": 46.624, + "Actual Rows": 75478, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.077, + "Actual Total Time": 27.535, + "Actual Rows": 40275, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.058, + "Actual Total Time": 378.110, + "Actual Rows": 722857, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.068, + "Actual Total Time": 26.870, + "Actual Rows": 39607, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.067, + "Actual Total Time": 23.724, + "Actual Rows": 35879, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1212.55, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 7.944, + "Actual Total Time": 7.944, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.372, + "Actual Total Time": 9.372, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.701, + "Actual Total Time": 8.701, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.698, + "Actual Total Time": 8.699, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.676, + "Actual Total Time": 7.677, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.725, + "Actual Total Time": 6.726, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.655, + "Actual Total Time": 6.656, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 7.090, + "Actual Total Time": 8.997, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["k.id"], + "Filter": "(k.keyword = ANY ('{sequel,revenge,based-on-novel}'::text[]))", + "Rows Removed by Filter": 19167, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.314, + "Actual Total Time": 9.314, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.660, + "Actual Total Time": 8.660, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.637, + "Actual Total Time": 8.637, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.561, + "Actual Total Time": 7.561, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.587, + "Actual Total Time": 6.587, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.574, + "Actual Total Time": 6.574, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.11, + "Total Cost": 1.11, + "Plan Rows": 11, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.11, + "Plan Rows": 11, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.024, + "Actual Rows": 18, + "Actual Loops": 1, + "Output": ["lt.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 6946, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1950)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 268 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 6664 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 14 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2333270921735776355, + "Planning Time": 54.717, + "Triggers": [ + ], + "Execution Time": 884.263, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 2333270921735776355, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_based_on_book
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND ct.kind != 'production companies'
  AND ct.kind IS NOT NULL
  AND k.keyword IN ('sequel',
                    'revenge',
                    'based-on-novel')
  AND mc.note IS NOT NULL
  AND t.production_year > 1950
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2914.16, + "Total Cost": 2914.17, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 240.300, + "Actual Total Time": 254.320, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mc.note)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2914.10, + "Total Cost": 2914.11, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 200.170, + "Actual Total Time": 254.295, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mc.note))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2913.10, + "Total Cost": 2913.11, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 71.821, + "Actual Total Time": 71.828, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mc.note)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.291, + "Actual Total Time": 13.298, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.062, + "Actual Total Time": 13.068, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.180, + "Actual Total Time": 14.186, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.821, + "Actual Total Time": 13.828, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.857, + "Actual Total Time": 13.864, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 232.445, + "Actual Total Time": 232.450, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 74.488, + "Actual Total Time": 74.493, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.27, + "Total Cost": 2897.14, + "Plan Rows": 2128, + "Plan Width": 60, + "Actual Startup Time": 9.279, + "Actual Total Time": 70.372, + "Actual Rows": 1862, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.287, + "Actual Total Time": 13.293, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.058, + "Actual Total Time": 13.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.175, + "Actual Total Time": 14.181, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.816, + "Actual Total Time": 13.822, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.853, + "Actual Total Time": 13.859, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.797, + "Actual Total Time": 231.443, + "Actual Rows": 1235, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.724, + "Actual Total Time": 74.101, + "Actual Rows": 363, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.85, + "Total Cost": 1952.68, + "Plan Rows": 2131, + "Plan Width": 45, + "Actual Startup Time": 9.258, + "Actual Total Time": 57.708, + "Actual Rows": 1864, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.286, + "Actual Total Time": 13.292, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.058, + "Actual Total Time": 13.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.174, + "Actual Total Time": 14.180, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.815, + "Actual Total Time": 13.821, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.852, + "Actual Total Time": 13.858, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.728, + "Actual Total Time": 221.048, + "Actual Rows": 1245, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.663, + "Actual Total Time": 70.166, + "Actual Rows": 363, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.80, + "Total Cost": 1939.64, + "Plan Rows": 2216, + "Plan Width": 49, + "Actual Startup Time": 8.985, + "Actual Total Time": 56.449, + "Actual Rows": 1939, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "mc.company_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.025, + "Actual Total Time": 13.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.809, + "Actual Total Time": 12.813, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.890, + "Actual Total Time": 13.895, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.535, + "Actual Total Time": 13.540, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.618, + "Actual Total Time": 13.622, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.440, + "Actual Total Time": 219.915, + "Actual Rows": 1363, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.390, + "Actual Total Time": 69.571, + "Actual Rows": 409, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.37, + "Total Cost": 1803.85, + "Plan Rows": 209, + "Plan Width": 29, + "Actual Startup Time": 8.863, + "Actual Total Time": 52.604, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.024, + "Actual Total Time": 13.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.809, + "Actual Total Time": 12.812, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.889, + "Actual Total Time": 13.893, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.535, + "Actual Total Time": 13.538, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.618, + "Actual Total Time": 13.621, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.570, + "Actual Total Time": 211.044, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.334, + "Actual Total Time": 65.188, + "Actual Rows": 251, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.94, + "Total Cost": 1690.91, + "Plan Rows": 209, + "Plan Width": 8, + "Actual Startup Time": 8.841, + "Actual Total Time": 50.886, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.024, + "Actual Total Time": 13.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.808, + "Actual Total Time": 12.811, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.889, + "Actual Total Time": 13.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.534, + "Actual Total Time": 13.537, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.617, + "Actual Total Time": 13.620, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.494, + "Actual Total Time": 203.814, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.283, + "Actual Total Time": 62.289, + "Actual Rows": 251, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1689.01, + "Plan Rows": 209, + "Plan Width": 12, + "Actual Startup Time": 8.828, + "Actual Total Time": 50.741, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.017, + "Actual Total Time": 13.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.803, + "Actual Total Time": 12.805, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.882, + "Actual Total Time": 13.883, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.528, + "Actual Total Time": 13.529, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.611, + "Actual Total Time": 13.613, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.476, + "Actual Total Time": 203.241, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.270, + "Actual Total Time": 62.053, + "Actual Rows": 251, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1524.06, + "Plan Rows": 428, + "Plan Width": 4, + "Actual Startup Time": 8.806, + "Actual Total Time": 31.431, + "Actual Rows": 5925, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.016, + "Actual Total Time": 13.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.803, + "Actual Total Time": 12.803, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.881, + "Actual Total Time": 13.882, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.527, + "Actual Total Time": 13.527, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.611, + "Actual Total Time": 13.611, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.393, + "Actual Total Time": 108.786, + "Actual Rows": 29440, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.229, + "Actual Total Time": 27.014, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.667, + "Actual Total Time": 8.676, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{sequel,revenge,based-on-novel}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.015, + "Actual Total Time": 13.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.802, + "Actual Total Time": 12.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.880, + "Actual Total Time": 13.881, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.526, + "Actual Total Time": 13.526, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.610, + "Actual Total Time": 13.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.085, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.142, + "Actual Total Time": 0.156, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.50, + "Plan Rows": 15801, + "Plan Width": 8, + "Actual Startup Time": 0.362, + "Actual Total Time": 57.255, + "Actual Rows": 15801, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.326, + "Actual Total Time": 102.440, + "Actual Rows": 29440, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.082, + "Actual Total Time": 24.542, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 47403, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 29440 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 10544 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.11, + "Total Cost": 1.11, + "Plan Rows": 9, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.11, + "Plan Rows": 9, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.008, + "Actual Rows": 18, + "Actual Loops": 1, + "Output": ["lt.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1460, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1950)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 753 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 251 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 11, + "Plan Width": 36, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.018, + "Actual Rows": 11, + "Actual Loops": 1460, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NOT NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 753 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 251 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.029, + "Actual Rows": 3, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind IS NOT NULL) AND ((ct.kind)::text <> 'production companies'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 14916, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[pl]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1245 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 363 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5951735317690032369, + "Planning Time": 53.740, + "Triggers": [ + ], + "Execution Time": 258.211, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -5951735317690032369, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS drama_horror_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     title AS t
WHERE cn.country_code = '[us]'
  AND ct.kind = 'production companies'
  AND it1.info = 'genres'
  AND it2.info = 'rating'
  AND mi.info IN ('Drama',
                  'Horror')
  AND mi_idx.info > '8.0'
  AND t.production_year BETWEEN 2005 AND 2008
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND mi.info_type_id = it1.id
  AND mi_idx.info_type_id = it2.id
  AND t.id = mc.movie_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13301.40, + "Total Cost": 13301.41, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 210.295, + "Actual Total Time": 214.955, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13301.33, + "Total Cost": 13301.34, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 205.898, + "Actual Total Time": 214.926, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13300.33, + "Total Cost": 13300.34, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 199.668, + "Actual Total Time": 199.677, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 197.940, + "Actual Total Time": 197.949, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 198.502, + "Actual Total Time": 198.508, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 198.210, + "Actual Total Time": 198.217, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 202.645, + "Actual Total Time": 202.652, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 198.528, + "Actual Total Time": 198.538, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 198.267, + "Actual Total Time": 198.274, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 198.527, + "Actual Total Time": 198.536, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.44, + "Total Cost": 13299.95, + "Plan Rows": 50, + "Plan Width": 42, + "Actual Startup Time": 31.680, + "Actual Total Time": 199.539, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.364, + "Actual Total Time": 197.771, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.625, + "Actual Total Time": 198.385, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.250, + "Actual Total Time": 198.084, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 49.306, + "Actual Total Time": 202.498, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.979, + "Actual Total Time": 198.405, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 70.044, + "Actual Total Time": 198.154, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.668, + "Actual Total Time": 198.385, + "Actual Rows": 58, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.60, + "Total Cost": 13297.98, + "Plan Rows": 50, + "Plan Width": 46, + "Actual Startup Time": 31.384, + "Actual Total Time": 199.151, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.112, + "Actual Total Time": 197.400, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.394, + "Actual Total Time": 198.077, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.008, + "Actual Total Time": 197.752, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 49.019, + "Actual Total Time": 202.097, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.693, + "Actual Total Time": 198.027, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 69.802, + "Actual Total Time": 197.841, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.384, + "Actual Total Time": 198.000, + "Actual Rows": 58, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.18, + "Total Cost": 13259.11, + "Plan Rows": 88, + "Plan Width": 31, + "Actual Startup Time": 28.035, + "Actual Total Time": 194.499, + "Actual Rows": 88, + "Actual Loops": 8, + "Output": ["mc.company_id", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.906, + "Actual Total Time": 192.495, + "Actual Rows": 111, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.309, + "Actual Total Time": 193.565, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.937, + "Actual Total Time": 193.556, + "Actual Rows": 77, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.563, + "Actual Total Time": 195.091, + "Actual Rows": 91, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.989, + "Actual Total Time": 194.060, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 69.724, + "Actual Total Time": 193.866, + "Actual Rows": 87, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.311, + "Actual Total Time": 193.662, + "Actual Rows": 96, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 13256.77, + "Plan Rows": 242, + "Plan Width": 35, + "Actual Startup Time": 26.141, + "Actual Total Time": 194.267, + "Actual Rows": 242, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mc.company_type_id", "mc.company_id", "mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.858, + "Actual Total Time": 192.206, + "Actual Rows": 416, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.577, + "Actual Total Time": 193.313, + "Actual Rows": 309, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.870, + "Actual Total Time": 193.351, + "Actual Rows": 197, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.498, + "Actual Total Time": 194.841, + "Actual Rows": 245, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.972, + "Actual Total Time": 193.898, + "Actual Rows": 121, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 69.637, + "Actual Total Time": 193.654, + "Actual Rows": 189, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.254, + "Actual Total Time": 193.452, + "Actual Rows": 200, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 13215.26, + "Plan Rows": 70, + "Plan Width": 39, + "Actual Startup Time": 26.044, + "Actual Total Time": 191.318, + "Actual Rows": 70, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.763, + "Actual Total Time": 189.277, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.476, + "Actual Total Time": 190.356, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.790, + "Actual Total Time": 190.321, + "Actual Rows": 81, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.369, + "Actual Total Time": 191.743, + "Actual Rows": 70, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.902, + "Actual Total Time": 191.174, + "Actual Rows": 70, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 69.507, + "Actual Total Time": 191.117, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.140, + "Actual Total Time": 190.289, + "Actual Rows": 72, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 12538.65, + "Plan Rows": 506, + "Plan Width": 31, + "Actual Startup Time": 5.224, + "Actual Total Time": 130.816, + "Actual Rows": 506, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.700, + "Actual Total Time": 127.790, + "Actual Rows": 529, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.132, + "Actual Total Time": 128.941, + "Actual Rows": 540, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.092, + "Actual Total Time": 131.661, + "Actual Rows": 477, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.311, + "Actual Total Time": 129.415, + "Actual Rows": 479, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.633, + "Actual Total Time": 132.901, + "Actual Rows": 532, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.860, + "Actual Total Time": 127.418, + "Actual Rows": 577, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.286, + "Actual Total Time": 127.529, + "Actual Rows": 492, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10111.41, + "Plan Rows": 1981, + "Plan Width": 10, + "Actual Startup Time": 3.173, + "Actual Total Time": 99.715, + "Actual Rows": 1981, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.757, + "Actual Total Time": 98.748, + "Actual Rows": 1876, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.357, + "Actual Total Time": 101.339, + "Actual Rows": 1719, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.887, + "Actual Total Time": 101.058, + "Actual Rows": 1920, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.242, + "Actual Total Time": 96.024, + "Actual Rows": 1891, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.292, + "Actual Total Time": 100.325, + "Actual Rows": 2111, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.106, + "Actual Total Time": 95.894, + "Actual Rows": 1984, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.533, + "Actual Total Time": 96.040, + "Actual Rows": 2148, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 10091.30, + "Plan Rows": 6706, + "Plan Width": 14, + "Actual Startup Time": 1.887, + "Actual Total Time": 95.884, + "Actual Rows": 6706, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Filter": "(mi_idx.info > '8.0'::text)", + "Rows Removed by Filter": 165798, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.742, + "Actual Total Time": 95.189, + "Actual Rows": 6897, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.065, + "Actual Total Time": 97.929, + "Actual Rows": 6511, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.860, + "Actual Total Time": 97.521, + "Actual Rows": 6350, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.067, + "Actual Total Time": 90.879, + "Actual Rows": 6412, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.065, + "Actual Total Time": 96.454, + "Actual Rows": 7303, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.075, + "Actual Total Time": 92.275, + "Actual Rows": 6546, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.063, + "Actual Total Time": 92.412, + "Actual Rows": 6628, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 15849, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2008))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1876 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1719 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1920 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1891 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2111 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1984 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2148 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.33, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.115, + "Actual Total Time": 0.118, + "Actual Rows": 0, + "Actual Loops": 4047, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Drama,Horror}'::text[]))", + "Rows Removed by Filter": 21, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.111, + "Actual Total Time": 0.115, + "Actual Rows": 0, + "Actual Loops": 529 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.113, + "Actual Rows": 0, + "Actual Loops": 540 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.119, + "Actual Total Time": 0.122, + "Actual Rows": 0, + "Actual Loops": 477 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.124, + "Actual Total Time": 0.129, + "Actual Rows": 0, + "Actual Loops": 479 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.107, + "Actual Total Time": 0.108, + "Actual Rows": 0, + "Actual Loops": 532 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.109, + "Actual Rows": 0, + "Actual Loops": 577 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.122, + "Actual Total Time": 0.126, + "Actual Rows": 0, + "Actual Loops": 492 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.56, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.039, + "Actual Rows": 3, + "Actual Loops": 557, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.039, + "Actual Rows": 6, + "Actual Loops": 67 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.038, + "Actual Rows": 4, + "Actual Loops": 71 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.034, + "Actual Rows": 2, + "Actual Loops": 81 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.041, + "Actual Rows": 4, + "Actual Loops": 70 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.036, + "Actual Rows": 2, + "Actual Loops": 70 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.035, + "Actual Rows": 3, + "Actual Loops": 65 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.041, + "Actual Rows": 3, + "Actual Loops": 72 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 708, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 111 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 95 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 77 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.075, + "Actual Rows": 1, + "Actual Loops": 91 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 1, + "Actual Loops": 67 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 87 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 96 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -9026514954839072455, + "Planning Time": 59.236, + "Triggers": [ + ], + "Execution Time": 218.500, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -9026514954839072455, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi.info) AS budget,
       MIN(t.title) AS unsuccsessful_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind IS NOT NULL
  AND (ct.kind ='production companies'
       OR ct.kind = 'distributors')
  AND it1.info ='budget'
  AND it2.info ='bottom 10 rank'
  AND t.production_year >2000
  AND (t.title LIKE 'Birdemic%'
       OR t.title LIKE '%Movie%')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND mi.info_type_id = it1.id
  AND mi_idx.info_type_id = it2.id
  AND t.id = mc.movie_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10140.14, + "Total Cost": 10140.15, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 110.502, + "Actual Total Time": 115.316, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10140.09, + "Total Cost": 10140.10, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 98.157, + "Actual Total Time": 115.289, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10139.09, + "Total Cost": 10139.10, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 92.570, + "Actual Total Time": 92.577, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 89.683, + "Actual Total Time": 89.689, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.276, + "Actual Total Time": 90.281, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 89.802, + "Actual Total Time": 89.810, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.536, + "Actual Total Time": 90.544, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.523, + "Actual Total Time": 90.529, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 89.725, + "Actual Total Time": 89.732, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 102.752, + "Actual Total Time": 102.756, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.53, + "Total Cost": 10139.08, + "Plan Rows": 1, + "Plan Width": 59, + "Actual Startup Time": 92.431, + "Actual Total Time": 92.569, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 89.680, + "Actual Total Time": 89.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.273, + "Actual Total Time": 90.277, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 89.796, + "Actual Total Time": 89.803, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.531, + "Actual Total Time": 90.538, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.516, + "Actual Total Time": 90.522, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 89.720, + "Actual Total Time": 89.726, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 101.675, + "Actual Total Time": 102.732, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.40, + "Total Cost": 10138.91, + "Plan Rows": 1, + "Plan Width": 63, + "Actual Startup Time": 92.426, + "Actual Total Time": 92.559, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 89.679, + "Actual Total Time": 89.684, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.272, + "Actual Total Time": 90.276, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 89.795, + "Actual Total Time": 89.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.530, + "Actual Total Time": 90.537, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.516, + "Actual Total Time": 90.521, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 89.719, + "Actual Total Time": 89.725, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 101.643, + "Actual Total Time": 102.662, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.98, + "Total Cost": 10137.15, + "Plan Rows": 4, + "Plan Width": 67, + "Actual Startup Time": 92.420, + "Actual Total Time": 92.477, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mi.info", "mc.company_type_id", "mc.company_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 89.678, + "Actual Total Time": 89.683, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.271, + "Actual Total Time": 90.275, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 89.795, + "Actual Total Time": 89.801, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.530, + "Actual Total Time": 90.536, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.515, + "Actual Total Time": 90.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 89.718, + "Actual Total Time": 89.723, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 101.592, + "Actual Total Time": 102.008, + "Actual Rows": 33, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 10136.44, + "Plan Rows": 1, + "Plan Width": 71, + "Actual Startup Time": 92.405, + "Actual Total Time": 92.454, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 89.678, + "Actual Total Time": 89.682, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.271, + "Actual Total Time": 90.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 89.794, + "Actual Total Time": 89.800, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.529, + "Actual Total Time": 90.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.514, + "Actual Total Time": 90.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 89.718, + "Actual Total Time": 89.722, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 101.481, + "Actual Total Time": 101.836, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 10134.53, + "Plan Rows": 28, + "Plan Width": 75, + "Actual Startup Time": 92.095, + "Actual Total Time": 92.141, + "Actual Rows": 28, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 89.429, + "Actual Total Time": 89.431, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.013, + "Actual Total Time": 90.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 89.556, + "Actual Total Time": 89.559, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.208, + "Actual Total Time": 90.211, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.195, + "Actual Total Time": 90.198, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 89.465, + "Actual Total Time": 89.468, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 101.107, + "Actual Total Time": 101.451, + "Actual Rows": 221, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10132.19, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 90.788, + "Actual Total Time": 90.803, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 89.428, + "Actual Total Time": 89.429, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.012, + "Actual Total Time": 90.013, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 89.555, + "Actual Total Time": 89.558, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.207, + "Actual Total Time": 90.210, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.194, + "Actual Total Time": 90.196, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 89.464, + "Actual Total Time": 89.466, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 90.652, + "Actual Total Time": 90.752, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 90.736, + "Actual Total Time": 90.743, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 89.427, + "Actual Total Time": 89.428, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.011, + "Actual Total Time": 90.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 89.555, + "Actual Total Time": 89.557, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.207, + "Actual Total Time": 90.208, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.193, + "Actual Total Time": 90.195, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 89.463, + "Actual Total Time": 89.465, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 90.247, + "Actual Total Time": 90.287, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.016, + "Actual Total Time": 35.413, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 34.754, + "Actual Rows": 170988, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 34.980, + "Actual Rows": 171314, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 36.098, + "Actual Rows": 167312, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 35.245, + "Actual Rows": 170464, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 35.142, + "Actual Rows": 172182, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 34.693, + "Actual Rows": 170775, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 35.140, + "Actual Rows": 172113, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'bottom 10 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 10, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2000) AND ((t.title ~~ 'Birdemic%'::text) OR (t.title ~~ '%Movie%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 110, + "Plan Width": 50, + "Actual Startup Time": 5.238, + "Actual Total Time": 5.308, + "Actual Rows": 110, + "Actual Loops": 2, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 5.238, + "Actual Total Time": 5.308, + "Actual Rows": 110, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'budget'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 16, + "Plan Width": 12, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.075, + "Actual Rows": 16, + "Actual Loops": 2, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.075, + "Actual Rows": 16, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 33, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 33 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind IS NOT NULL) AND (((ct.kind)::text = 'production companies'::text) OR ((ct.kind)::text = 'distributors'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 10 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5632455736553151255, + "Planning Time": 54.982, + "Triggers": [ + ], + "Execution Time": 118.972, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 5632455736553151255, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS mainstream_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     title AS t
WHERE cn.country_code = '[us]'
  AND ct.kind = 'production companies'
  AND it1.info = 'genres'
  AND it2.info = 'rating'
  AND mi.info IN ('Drama',
                  'Horror',
                  'Western',
                  'Family')
  AND mi_idx.info > '7.0'
  AND t.production_year BETWEEN 2000 AND 2010
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND mi.info_type_id = it1.id
  AND mi_idx.info_type_id = it2.id
  AND t.id = mc.movie_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29623.60, + "Total Cost": 29623.61, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 775.332, + "Actual Total Time": 790.495, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29623.53, + "Total Cost": 29623.54, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 774.511, + "Actual Total Time": 790.461, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29622.53, + "Total Cost": 29622.54, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 766.724, + "Actual Total Time": 766.732, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 767.030, + "Actual Total Time": 767.037, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 763.643, + "Actual Total Time": 763.651, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 766.533, + "Actual Total Time": 766.541, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 762.830, + "Actual Total Time": 762.836, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 766.751, + "Actual Total Time": 766.758, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 766.751, + "Actual Total Time": 766.757, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 766.688, + "Actual Total Time": 766.693, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.44, + "Total Cost": 29618.12, + "Plan Rows": 589, + "Plan Width": 42, + "Actual Startup Time": 8.479, + "Actual Total Time": 765.650, + "Actual Rows": 589, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.880, + "Actual Total Time": 765.891, + "Actual Rows": 640, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.584, + "Actual Total Time": 762.610, + "Actual Rows": 567, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.822, + "Actual Total Time": 765.459, + "Actual Rows": 600, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.640, + "Actual Total Time": 761.617, + "Actual Rows": 703, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.530, + "Actual Total Time": 765.716, + "Actual Rows": 570, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.752, + "Actual Total Time": 765.737, + "Actual Rows": 534, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.007, + "Actual Total Time": 765.613, + "Actual Rows": 582, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.60, + "Total Cost": 29614.67, + "Plan Rows": 589, + "Plan Width": 46, + "Actual Startup Time": 8.177, + "Actual Total Time": 764.572, + "Actual Rows": 589, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.660, + "Actual Total Time": 764.856, + "Actual Rows": 640, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.279, + "Actual Total Time": 761.536, + "Actual Rows": 567, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.531, + "Actual Total Time": 764.384, + "Actual Rows": 600, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.332, + "Actual Total Time": 760.417, + "Actual Rows": 703, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.253, + "Actual Total Time": 764.686, + "Actual Rows": 570, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.466, + "Actual Total Time": 764.729, + "Actual Rows": 534, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.719, + "Actual Total Time": 764.559, + "Actual Rows": 582, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.18, + "Total Cost": 28757.02, + "Plan Rows": 1942, + "Plan Width": 31, + "Actual Startup Time": 4.781, + "Actual Total Time": 730.110, + "Actual Rows": 1942, + "Actual Loops": 8, + "Output": ["mc.company_id", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.581, + "Actual Total Time": 730.446, + "Actual Rows": 1909, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.124, + "Actual Total Time": 726.812, + "Actual Rows": 1982, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.146, + "Actual Total Time": 728.791, + "Actual Rows": 2082, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.682, + "Actual Total Time": 724.479, + "Actual Rows": 2058, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.748, + "Actual Total Time": 732.316, + "Actual Rows": 1815, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.001, + "Actual Total Time": 731.699, + "Actual Rows": 1792, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.823, + "Actual Total Time": 728.562, + "Actual Rows": 1969, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 28725.56, + "Plan Rows": 5626, + "Plan Width": 35, + "Actual Startup Time": 4.745, + "Actual Total Time": 726.575, + "Actual Rows": 5626, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mc.company_type_id", "mc.company_id", "mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.499, + "Actual Total Time": 727.059, + "Actual Rows": 5467, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.100, + "Actual Total Time": 723.126, + "Actual Rows": 5894, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.131, + "Actual Total Time": 725.066, + "Actual Rows": 6118, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.663, + "Actual Total Time": 720.606, + "Actual Rows": 6211, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.723, + "Actual Total Time": 729.065, + "Actual Rows": 4941, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.984, + "Actual Total Time": 728.420, + "Actual Rows": 5174, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.795, + "Actual Total Time": 724.965, + "Actual Rows": 5610, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 28141.15, + "Plan Rows": 996, + "Plan Width": 39, + "Actual Startup Time": 4.474, + "Actual Total Time": 695.177, + "Actual Rows": 996, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.434, + "Actual Total Time": 695.553, + "Actual Rows": 1017, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.018, + "Actual Total Time": 690.948, + "Actual Rows": 974, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.469, + "Actual Total Time": 690.900, + "Actual Rows": 1055, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.566, + "Actual Total Time": 689.110, + "Actual Rows": 1013, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.648, + "Actual Total Time": 699.812, + "Actual Rows": 934, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.918, + "Actual Total Time": 698.090, + "Actual Rows": 968, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.718, + "Actual Total Time": 694.100, + "Actual Rows": 984, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 20739.59, + "Plan Rows": 6538, + "Plan Width": 31, + "Actual Startup Time": 0.222, + "Actual Total Time": 291.193, + "Actual Rows": 6538, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.347, + "Actual Total Time": 299.573, + "Actual Rows": 6635, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.113, + "Actual Total Time": 294.662, + "Actual Rows": 6560, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.114, + "Actual Total Time": 285.714, + "Actual Rows": 6303, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.146, + "Actual Total Time": 288.424, + "Actual Rows": 6614, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.459, + "Actual Total Time": 286.320, + "Actual Rows": 6604, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.138, + "Actual Total Time": 286.618, + "Actual Rows": 6498, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.283, + "Actual Total Time": 289.829, + "Actual Rows": 6431, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10159.15, + "Plan Rows": 15196, + "Plan Width": 10, + "Actual Startup Time": 0.044, + "Actual Total Time": 104.350, + "Actual Rows": 15196, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 108.238, + "Actual Rows": 15615, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 106.580, + "Actual Rows": 15354, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 101.853, + "Actual Rows": 15146, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 102.363, + "Actual Rows": 15426, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 101.439, + "Actual Rows": 14826, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 102.500, + "Actual Rows": 14918, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 104.753, + "Actual Rows": 14654, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 10091.30, + "Plan Rows": 24237, + "Plan Width": 14, + "Actual Startup Time": 0.024, + "Actual Total Time": 86.625, + "Actual Rows": 24237, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Filter": "(mi_idx.info > '7.0'::text)", + "Rows Removed by Filter": 148268, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 90.183, + "Actual Rows": 24844, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 88.579, + "Actual Rows": 24330, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 84.364, + "Actual Rows": 24124, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 84.533, + "Actual Rows": 24516, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 83.950, + "Actual Rows": 23714, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 85.190, + "Actual Rows": 23438, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 87.319, + "Actual Rows": 23897, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.70, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 121572, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15615 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15354 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15146 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15426 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 14826 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 14918 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 14654 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.12, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 52304, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Drama,Horror,Western,Family}'::text[]))", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 6635 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 6560 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 6303 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 6614 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 6604 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 6498 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 6431 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 6, + "Plan Width": 12, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.028, + "Actual Rows": 6, + "Actual Loops": 7964, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.028, + "Actual Rows": 5, + "Actual Loops": 1017 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.029, + "Actual Rows": 6, + "Actual Loops": 974 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.029, + "Actual Rows": 6, + "Actual Loops": 1055 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.027, + "Actual Rows": 6, + "Actual Loops": 1013 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.027, + "Actual Rows": 5, + "Actual Loops": 934 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.028, + "Actual Rows": 5, + "Actual Loops": 968 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.028, + "Actual Rows": 6, + "Actual Loops": 984 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 15537, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1909 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1982 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2082 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2058 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1815 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1792 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1969 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6417179009749033666, + "Planning Time": 66.205, + "Triggers": [ + ], + "Execution Time": 794.382, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 6417179009749033666, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS german_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[de]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 16816.99, + "Total Cost": 16817.00, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 539.653, + "Actual Total Time": 563.738, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 16816.92, + "Total Cost": 16816.93, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 539.508, + "Actual Total Time": 563.708, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 16815.92, + "Total Cost": 16815.93, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 530.957, + "Actual Total Time": 530.966, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 528.386, + "Actual Total Time": 528.393, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 529.721, + "Actual Total Time": 529.730, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 532.253, + "Actual Total Time": 532.262, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 529.566, + "Actual Total Time": 529.573, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 529.453, + "Actual Total Time": 529.462, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 529.874, + "Actual Total Time": 529.881, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 529.874, + "Actual Total Time": 529.881, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.52, + "Total Cost": 16711.76, + "Plan Rows": 13888, + "Plan Width": 65, + "Actual Startup Time": 2.463, + "Actual Total Time": 516.756, + "Actual Rows": 13888, + "Actual Loops": 8, + "Output": ["mi.info", "miidx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.016, + "Actual Total Time": 517.155, + "Actual Rows": 11574, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.801, + "Actual Total Time": 515.433, + "Actual Rows": 15226, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.340, + "Actual Total Time": 520.704, + "Actual Rows": 12050, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.807, + "Actual Total Time": 513.790, + "Actual Rows": 16609, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.100, + "Actual Total Time": 515.466, + "Actual Rows": 14885, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.620, + "Actual Total Time": 508.673, + "Actual Rows": 14303, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.117, + "Actual Total Time": 518.087, + "Actual Rows": 11828, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.67, + "Total Cost": 16534.15, + "Plan Rows": 64541, + "Plan Width": 69, + "Actual Startup Time": 2.076, + "Actual Total Time": 487.457, + "Actual Rows": 64541, + "Actual Loops": 8, + "Output": ["mi.info", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.700, + "Actual Total Time": 493.595, + "Actual Rows": 52769, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.477, + "Actual Total Time": 484.874, + "Actual Rows": 69780, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.108, + "Actual Total Time": 495.793, + "Actual Rows": 57398, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.184, + "Actual Total Time": 479.580, + "Actual Rows": 78831, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.812, + "Actual Total Time": 486.124, + "Actual Rows": 66373, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.069, + "Actual Total Time": 470.536, + "Actual Rows": 69246, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.800, + "Actual Total Time": 493.259, + "Actual Rows": 56872, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.24, + "Total Cost": 14064.65, + "Plan Rows": 2059, + "Plan Width": 35, + "Actual Startup Time": 1.940, + "Actual Total Time": 333.037, + "Actual Rows": 2059, + "Actual Loops": 8, + "Output": ["mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.644, + "Actual Total Time": 366.123, + "Actual Rows": 1812, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.413, + "Actual Total Time": 330.292, + "Actual Rows": 2031, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.044, + "Actual Total Time": 342.283, + "Actual Rows": 1973, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.116, + "Actual Total Time": 304.450, + "Actual Rows": 2263, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.299, + "Actual Total Time": 326.907, + "Actual Rows": 2359, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.973, + "Actual Total Time": 310.583, + "Actual Rows": 1951, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.703, + "Actual Total Time": 358.274, + "Actual Rows": 1870, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.39, + "Total Cost": 14045.97, + "Plan Rows": 6181, + "Plan Width": 39, + "Actual Startup Time": 1.920, + "Actual Total Time": 329.484, + "Actual Rows": 6181, + "Actual Loops": 8, + "Output": ["mc.movie_id", "miidx.info", "miidx.movie_id", "miidx.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = miidx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.631, + "Actual Total Time": 362.953, + "Actual Rows": 5438, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.396, + "Actual Total Time": 326.297, + "Actual Rows": 6096, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.032, + "Actual Total Time": 338.894, + "Actual Rows": 5925, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.099, + "Actual Total Time": 300.609, + "Actual Rows": 6802, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.283, + "Actual Total Time": 323.058, + "Actual Rows": 7077, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.958, + "Actual Total Time": 307.257, + "Actual Rows": 5858, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.685, + "Actual Total Time": 355.135, + "Actual Rows": 5615, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.97, + "Total Cost": 12001.69, + "Plan Rows": 4107, + "Plan Width": 25, + "Actual Startup Time": 0.523, + "Actual Total Time": 263.111, + "Actual Rows": 4107, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.568, + "Actual Total Time": 301.120, + "Actual Rows": 3800, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.209, + "Actual Total Time": 255.094, + "Actual Rows": 4487, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.526, + "Actual Total Time": 269.939, + "Actual Rows": 4358, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.403, + "Actual Total Time": 236.225, + "Actual Rows": 3818, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.336, + "Actual Total Time": 256.450, + "Actual Rows": 4058, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.688, + "Actual Total Time": 239.614, + "Actual Rows": 4286, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.229, + "Actual Total Time": 293.114, + "Actual Rows": 3837, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.90, + "Total Cost": 11963.07, + "Plan Rows": 8912, + "Plan Width": 29, + "Actual Startup Time": 0.453, + "Actual Total Time": 257.428, + "Actual Rows": 8912, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.558, + "Actual Total Time": 295.093, + "Actual Rows": 10023, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.197, + "Actual Total Time": 249.591, + "Actual Rows": 7824, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.519, + "Actual Total Time": 264.262, + "Actual Rows": 8637, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.394, + "Actual Total Time": 230.929, + "Actual Rows": 8412, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.326, + "Actual Total Time": 250.533, + "Actual Rows": 10169, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.234, + "Actual Total Time": 234.274, + "Actual Rows": 7575, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.220, + "Actual Total Time": 287.637, + "Actual Rows": 8993, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 7813.51, + "Plan Rows": 8912, + "Plan Width": 4, + "Actual Startup Time": 0.382, + "Actual Total Time": 119.660, + "Actual Rows": 8912, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.486, + "Actual Total Time": 144.563, + "Actual Rows": 10023, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.114, + "Actual Total Time": 123.462, + "Actual Rows": 7824, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.457, + "Actual Total Time": 130.672, + "Actual Rows": 8637, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.304, + "Actual Total Time": 97.938, + "Actual Rows": 8412, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.247, + "Actual Total Time": 95.823, + "Actual Rows": 10169, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.164, + "Actual Total Time": 114.506, + "Actual Rows": 7575, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.154, + "Actual Total Time": 149.707, + "Actual Rows": 8993, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 7712.37, + "Plan Rows": 18516, + "Plan Width": 8, + "Actual Startup Time": 0.125, + "Actual Total Time": 108.510, + "Actual Rows": 18516, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.115, + "Actual Total Time": 130.978, + "Actual Rows": 23709, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.128, + "Actual Total Time": 113.177, + "Actual Rows": 17487, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.108, + "Actual Total Time": 119.264, + "Actual Rows": 19893, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.119, + "Actual Total Time": 88.302, + "Actual Rows": 14346, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.197, + "Actual Total Time": 84.716, + "Actual Rows": 16994, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.131, + "Actual Total Time": 104.456, + "Actual Rows": 16707, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.117, + "Actual Total Time": 136.606, + "Actual Rows": 24437, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1222, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 15.268, + "Actual Rows": 1222, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[de]'::text)", + "Rows Removed by Filter": 28153, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 21.040, + "Actual Rows": 1353, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 16.926, + "Actual Rows": 1383, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 15.430, + "Actual Rows": 1238, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 11.732, + "Actual Rows": 991, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.073, + "Actual Total Time": 11.223, + "Actual Rows": 948, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 13.395, + "Actual Rows": 1150, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 18.917, + "Actual Rows": 1571, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 3.41, + "Plan Rows": 15, + "Plan Width": 12, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.069, + "Actual Rows": 15, + "Actual Loops": 9775, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.073, + "Actual Rows": 18, + "Actual Loops": 1353 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.063, + "Actual Rows": 13, + "Actual Loops": 1383 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.077, + "Actual Rows": 16, + "Actual Loops": 1238 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.070, + "Actual Rows": 14, + "Actual Loops": 991 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.069, + "Actual Rows": 18, + "Actual Loops": 948 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.072, + "Actual Rows": 15, + "Actual Loops": 1150 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.068, + "Actual Rows": 16, + "Actual Loops": 1571 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 71294, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 10023 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 7824 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 8637 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 8412 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 10169 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 7575 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 8993 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 32853, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Index Cond": "(miidx.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 3800 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 4487 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 4358 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 3818 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 4058 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 4286 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 3837 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.90, + "Plan Rows": 30, + "Plan Width": 50, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.061, + "Actual Rows": 31, + "Actual Loops": 16470, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.057, + "Actual Rows": 29, + "Actual Loops": 1812 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.061, + "Actual Rows": 34, + "Actual Loops": 2031 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.063, + "Actual Rows": 29, + "Actual Loops": 1973 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.062, + "Actual Rows": 35, + "Actual Loops": 2263 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.055, + "Actual Rows": 28, + "Actual Loops": 2359 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.067, + "Actual Rows": 35, + "Actual Loops": 1951 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.059, + "Actual Rows": 30, + "Actual Loops": 1870 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1829334865866162189, + "Planning Time": 74.570, + "Triggers": [ + ], + "Execution Time": 568.327, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -1829334865866162189, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS movie_about_winning
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND t.title != ''
  AND (t.title LIKE '%Champion%'
       OR t.title LIKE '%Loser%')
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38276.92, + "Total Cost": 38276.93, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 829.836, + "Actual Total Time": 845.593, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38276.85, + "Total Cost": 38276.86, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 828.841, + "Actual Total Time": 845.559, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38275.85, + "Total Cost": 38275.86, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 820.702, + "Actual Total Time": 820.711, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 819.575, + "Actual Total Time": 819.582, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 819.410, + "Actual Total Time": 819.417, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 820.092, + "Actual Total Time": 820.104, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 820.066, + "Actual Total Time": 820.076, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 819.522, + "Actual Total Time": 819.529, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 819.453, + "Actual Total Time": 819.461, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 819.702, + "Actual Total Time": 819.711, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.61, + "Total Cost": 38275.71, + "Plan Rows": 19, + "Plan Width": 42, + "Actual Startup Time": 422.285, + "Actual Total Time": 820.637, + "Actual Rows": 46, + "Actual Loops": 8, + "Output": ["cn.name", "miidx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 577.834, + "Actual Total Time": 819.526, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 374.280, + "Actual Total Time": 819.370, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 365.353, + "Actual Total Time": 820.037, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 365.945, + "Actual Total Time": 819.931, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 525.950, + "Actual Total Time": 819.508, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 323.701, + "Actual Total Time": 819.423, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 354.376, + "Actual Total Time": 819.675, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.76, + "Total Cost": 38273.56, + "Plan Rows": 112, + "Plan Width": 46, + "Actual Startup Time": 422.133, + "Actual Total Time": 820.387, + "Actual Rows": 265, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 577.729, + "Actual Total Time": 819.378, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 374.175, + "Actual Total Time": 819.243, + "Actual Rows": 132, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 365.276, + "Actual Total Time": 819.866, + "Actual Rows": 180, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 365.838, + "Actual Total Time": 819.656, + "Actual Rows": 377, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 525.874, + "Actual Total Time": 819.416, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 323.617, + "Actual Total Time": 819.305, + "Actual Rows": 112, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 354.273, + "Actual Total Time": 819.551, + "Actual Rows": 67, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.33, + "Total Cost": 38268.65, + "Plan Rows": 4, + "Plan Width": 54, + "Actual Startup Time": 422.050, + "Actual Total Time": 819.517, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 577.625, + "Actual Total Time": 817.375, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 374.074, + "Actual Total Time": 818.761, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 365.196, + "Actual Total Time": 819.146, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 365.757, + "Actual Total Time": 818.564, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 525.787, + "Actual Total Time": 819.213, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 323.539, + "Actual Total Time": 818.880, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 354.189, + "Actual Total Time": 819.285, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.91, + "Total Cost": 38264.67, + "Plan Rows": 9, + "Plan Width": 39, + "Actual Startup Time": 411.570, + "Actual Total Time": 819.136, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 577.566, + "Actual Total Time": 816.902, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 333.477, + "Actual Total Time": 818.440, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 365.139, + "Actual Total Time": 818.921, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 322.834, + "Actual Total Time": 817.902, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 525.734, + "Actual Total Time": 819.059, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 323.481, + "Actual Total Time": 818.554, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 354.136, + "Actual Total Time": 818.948, + "Actual Rows": 13, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.77, + "Total Cost": 38263.61, + "Plan Rows": 25, + "Plan Width": 43, + "Actual Startup Time": 411.498, + "Actual Total Time": 819.004, + "Actual Rows": 39, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 577.469, + "Actual Total Time": 816.766, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 333.412, + "Actual Total Time": 818.305, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 365.068, + "Actual Total Time": 818.823, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 322.765, + "Actual Total Time": 817.709, + "Actual Rows": 75, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 525.647, + "Actual Total Time": 818.967, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 323.422, + "Actual Total Time": 818.443, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 354.061, + "Actual Total Time": 818.826, + "Actual Rows": 28, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.34, + "Total Cost": 38260.27, + "Plan Rows": 6, + "Plan Width": 31, + "Actual Startup Time": 410.736, + "Actual Total Time": 818.598, + "Actual Rows": 11, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 577.409, + "Actual Total Time": 816.428, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 333.344, + "Actual Total Time": 817.818, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 364.973, + "Actual Total Time": 818.621, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 322.656, + "Actual Total Time": 817.085, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 520.114, + "Actual Total Time": 818.660, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 323.350, + "Actual Total Time": 818.100, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 353.943, + "Actual Total Time": 818.449, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 38259.11, + "Plan Rows": 22, + "Plan Width": 35, + "Actual Startup Time": 26.778, + "Actual Total Time": 818.527, + "Actual Rows": 44, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 45.496, + "Actual Total Time": 816.363, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.572, + "Actual Total Time": 817.759, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.236, + "Actual Total Time": 818.557, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.468, + "Actual Total Time": 817.006, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 45.984, + "Actual Total Time": 818.613, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.517, + "Actual Total Time": 818.036, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.874, + "Actual Total Time": 818.396, + "Actual Rows": 31, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 57491, + "Plan Width": 10, + "Actual Startup Time": 0.045, + "Actual Total Time": 144.126, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 143.718, + "Actual Rows": 57960, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 150.645, + "Actual Rows": 55779, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 142.963, + "Actual Rows": 57744, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 141.943, + "Actual Rows": 56994, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 144.086, + "Actual Rows": 57865, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 142.474, + "Actual Rows": 57458, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.043, + "Actual Total Time": 142.660, + "Actual Rows": 57395, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 14, + "Actual Startup Time": 0.017, + "Actual Total Time": 42.507, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 41.036, + "Actual Rows": 173904, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 51.652, + "Actual Rows": 167321, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 41.259, + "Actual Rows": 173238, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 40.737, + "Actual Rows": 170993, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 41.602, + "Actual Rows": 173592, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 40.971, + "Actual Rows": 172535, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 41.088, + "Actual Rows": 172176, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 459925, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.title <> ''::text) AND ((t.title ~~ '%Champion%'::text) OR (t.title ~~ '%Loser%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 57960 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 55779 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 57744 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 56994 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 57865 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 57458 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 57395 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.032, + "Actual Rows": 3, + "Actual Loops": 90, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 15 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.039, + "Actual Rows": 4, + "Actual Loops": 11 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.058, + "Actual Rows": 7, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.023, + "Actual Rows": 3, + "Actual Loops": 23 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.047, + "Actual Rows": 2, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.038, + "Actual Rows": 3, + "Actual Loops": 8 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.048, + "Actual Rows": 4, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 313, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 63, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 48, + "Cache Hits": 46, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 41, + "Cache Hits": 39, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 22, + "Cache Hits": 20, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 75, + "Cache Hits": 73, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 10, + "Cache Hits": 8, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 24, + "Cache Hits": 22, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 28, + "Cache Hits": 26, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 16, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 117, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 19 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 12 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 27 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 13 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 21, + "Plan Width": 8, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.095, + "Actual Rows": 35, + "Actual Loops": 61, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.185, + "Actual Total Time": 0.194, + "Actual Rows": 9, + "Actual Loops": 10 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.079, + "Actual Rows": 26, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.156, + "Actual Total Time": 0.206, + "Actual Rows": 60, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.058, + "Actual Rows": 25, + "Actual Loops": 15 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.090, + "Actual Rows": 14, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.044, + "Actual Rows": 14, + "Actual Loops": 8 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.055, + "Actual Rows": 17, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4778871310081631647, + "Planning Time": 93.655, + "Triggers": [ + ], + "Execution Time": 850.377, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 4778871310081631647, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS movie_about_winning
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND t.title != ''
  AND (t.title LIKE 'Champion%'
       OR t.title LIKE 'Loser%')
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38278.28, + "Total Cost": 38278.29, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 783.706, + "Actual Total Time": 802.336, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38278.21, + "Total Cost": 38278.22, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 783.575, + "Actual Total Time": 802.304, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38277.21, + "Total Cost": 38277.22, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 773.885, + "Actual Total Time": 773.893, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 773.890, + "Actual Total Time": 773.898, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 774.790, + "Actual Total Time": 774.797, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 773.004, + "Actual Total Time": 773.011, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 770.026, + "Actual Total Time": 770.033, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 774.113, + "Actual Total Time": 774.119, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 772.966, + "Actual Total Time": 772.973, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 769.634, + "Actual Total Time": 769.641, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.61, + "Total Cost": 38277.05, + "Plan Rows": 21, + "Plan Width": 42, + "Actual Startup Time": 699.413, + "Actual Total Time": 773.875, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["cn.name", "miidx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 395.059, + "Actual Total Time": 773.825, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 557.871, + "Actual Total Time": 774.755, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 773.000, + "Actual Total Time": 773.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 770.020, + "Actual Total Time": 770.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 774.108, + "Actual Total Time": 774.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 772.960, + "Actual Total Time": 772.967, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 769.629, + "Actual Total Time": 769.635, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.76, + "Total Cost": 38274.88, + "Plan Rows": 122, + "Plan Width": 46, + "Actual Startup Time": 699.285, + "Actual Total Time": 773.734, + "Actual Rows": 27, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 394.990, + "Actual Total Time": 773.686, + "Actual Rows": 159, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 557.793, + "Actual Total Time": 774.655, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 772.954, + "Actual Total Time": 772.959, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 769.864, + "Actual Total Time": 769.870, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 774.045, + "Actual Total Time": 774.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 772.901, + "Actual Total Time": 772.907, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 769.472, + "Actual Total Time": 769.477, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.33, + "Total Cost": 38268.67, + "Plan Rows": 5, + "Plan Width": 54, + "Actual Startup Time": 699.268, + "Actual Total Time": 773.660, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 394.921, + "Actual Total Time": 773.305, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 557.733, + "Actual Total Time": 774.455, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 772.953, + "Actual Total Time": 772.957, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 769.863, + "Actual Total Time": 769.868, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 774.044, + "Actual Total Time": 774.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 772.901, + "Actual Total Time": 772.906, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 769.471, + "Actual Total Time": 769.476, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.91, + "Total Cost": 38264.70, + "Plan Rows": 9, + "Plan Width": 39, + "Actual Startup Time": 699.255, + "Actual Total Time": 773.564, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 394.872, + "Actual Total Time": 772.868, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 557.685, + "Actual Total Time": 774.125, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 772.952, + "Actual Total Time": 772.956, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 769.863, + "Actual Total Time": 769.867, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 774.044, + "Actual Total Time": 774.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 772.900, + "Actual Total Time": 772.905, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 769.471, + "Actual Total Time": 769.475, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.77, + "Total Cost": 38263.62, + "Plan Rows": 26, + "Plan Width": 43, + "Actual Startup Time": 699.232, + "Actual Total Time": 773.532, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 394.796, + "Actual Total Time": 772.739, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 557.583, + "Actual Total Time": 774.016, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 772.951, + "Actual Total Time": 772.954, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 769.862, + "Actual Total Time": 769.865, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 774.043, + "Actual Total Time": 774.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 772.899, + "Actual Total Time": 772.903, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 769.469, + "Actual Total Time": 769.472, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.34, + "Total Cost": 38260.27, + "Plan Rows": 6, + "Plan Width": 31, + "Actual Startup Time": 699.217, + "Actual Total Time": 773.461, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 394.736, + "Actual Total Time": 772.399, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 557.522, + "Actual Total Time": 773.793, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 772.951, + "Actual Total Time": 772.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 769.861, + "Actual Total Time": 769.864, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 774.042, + "Actual Total Time": 774.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 772.899, + "Actual Total Time": 772.902, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 769.469, + "Actual Total Time": 769.471, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 38259.11, + "Plan Rows": 23, + "Plan Width": 35, + "Actual Startup Time": 176.431, + "Actual Total Time": 773.440, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.226, + "Actual Total Time": 772.358, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.097, + "Actual Total Time": 773.759, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 295.671, + "Actual Total Time": 772.947, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 769.852, + "Actual Total Time": 769.854, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 41.177, + "Actual Total Time": 774.039, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.863, + "Actual Total Time": 772.893, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 97.209, + "Actual Total Time": 769.460, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 57491, + "Plan Width": 10, + "Actual Startup Time": 0.043, + "Actual Total Time": 138.943, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 138.022, + "Actual Rows": 55770, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 138.874, + "Actual Rows": 62152, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 138.672, + "Actual Rows": 56409, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.067, + "Actual Total Time": 139.921, + "Actual Rows": 55356, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 138.796, + "Actual Rows": 56237, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 138.755, + "Actual Rows": 55948, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.068, + "Actual Total Time": 138.284, + "Actual Rows": 55202, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 14, + "Actual Startup Time": 0.017, + "Actual Total Time": 40.056, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 39.738, + "Actual Rows": 167317, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 39.978, + "Actual Rows": 186623, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 39.871, + "Actual Rows": 169206, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 40.402, + "Actual Rows": 166081, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 39.922, + "Actual Rows": 168722, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 40.398, + "Actual Rows": 167930, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 39.648, + "Actual Rows": 165603, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 459925, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.title <> ''::text) AND ((t.title ~~ 'Champion%'::text) OR (t.title ~~ 'Loser%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 55770 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 62152 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 56409 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 55356 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 56237 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 55948 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 55202 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 29, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 17 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.016, + "Actual Rows": 4, + "Actual Loops": 12 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 95, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 52, + "Cache Hits": 50, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 43, + "Cache Hits": 41, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 4, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 32, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 17 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.032, + "Actual Rows": 16, + "Actual Loops": 14, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.040, + "Actual Rows": 23, + "Actual Loops": 7 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.023, + "Actual Rows": 8, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.074, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4778871310081631647, + "Planning Time": 103.421, + "Triggers": [ + ], + "Execution Time": 806.577, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 4778871310081631647, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 63883.90, + "Total Cost": 63883.91, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2304.290, + "Actual Total Time": 2338.269, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 63883.83, + "Total Cost": 63883.84, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 2304.242, + "Actual Total Time": 2338.233, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 63882.83, + "Total Cost": 63882.84, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2291.262, + "Actual Total Time": 2291.271, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2290.113, + "Actual Total Time": 2290.121, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2289.578, + "Actual Total Time": 2289.585, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2289.589, + "Actual Total Time": 2289.597, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2288.190, + "Actual Total Time": 2288.198, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2288.550, + "Actual Total Time": 2288.557, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2290.952, + "Actual Total Time": 2290.960, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2290.452, + "Actual Total Time": 2290.459, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10855.58, + "Total Cost": 63254.34, + "Plan Rows": 83799, + "Plan Width": 42, + "Actual Startup Time": 182.692, + "Actual Total Time": 2224.265, + "Actual Rows": 83799, + "Actual Loops": 8, + "Output": ["cn.name", "miidx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 183.930, + "Actual Total Time": 2225.736, + "Actual Rows": 82748, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 180.365, + "Actual Total Time": 2226.542, + "Actual Rows": 76578, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 179.292, + "Actual Total Time": 2219.384, + "Actual Rows": 89129, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 178.624, + "Actual Total Time": 2216.273, + "Actual Rows": 85112, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 177.661, + "Actual Total Time": 2220.389, + "Actual Rows": 85567, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 187.316, + "Actual Total Time": 2220.749, + "Actual Rows": 89674, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 187.382, + "Actual Total Time": 2224.716, + "Actual Rows": 82362, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10853.74, + "Total Cost": 61782.99, + "Plan Rows": 539573, + "Plan Width": 46, + "Actual Startup Time": 182.194, + "Actual Total Time": 2034.768, + "Actual Rows": 539573, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 183.667, + "Actual Total Time": 2045.594, + "Actual Rows": 509774, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 180.150, + "Actual Total Time": 2058.126, + "Actual Rows": 475494, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 179.031, + "Actual Total Time": 2014.715, + "Actual Rows": 582427, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 177.084, + "Actual Total Time": 2025.613, + "Actual Rows": 545144, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 177.437, + "Actual Total Time": 2030.337, + "Actual Rows": 535728, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 187.028, + "Actual Total Time": 2004.991, + "Actual Rows": 631888, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 186.857, + "Actual Total Time": 2039.532, + "Actual Rows": 529496, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10853.30, + "Total Cost": 48477.28, + "Plan Rows": 10912, + "Plan Width": 54, + "Actual Startup Time": 180.333, + "Actual Total Time": 1169.827, + "Actual Rows": 10912, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 183.583, + "Actual Total Time": 1282.367, + "Actual Rows": 9203, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 180.067, + "Actual Total Time": 1284.213, + "Actual Rows": 10810, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 178.964, + "Actual Total Time": 1127.744, + "Actual Rows": 10150, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 176.991, + "Actual Total Time": 1142.903, + "Actual Rows": 10763, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 177.339, + "Actual Total Time": 1115.767, + "Actual Rows": 11910, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 179.757, + "Actual Total Time": 1014.584, + "Actual Rows": 12019, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 179.724, + "Actual Total Time": 1173.716, + "Actual Rows": 10801, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10852.24, + "Total Cost": 48345.29, + "Plan Rows": 31069, + "Plan Width": 58, + "Actual Startup Time": 179.655, + "Actual Total Time": 1153.890, + "Actual Rows": 31069, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 181.061, + "Actual Total Time": 1267.923, + "Actual Rows": 30171, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 178.480, + "Actual Total Time": 1268.839, + "Actual Rows": 30999, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 178.953, + "Actual Total Time": 1113.076, + "Actual Rows": 30185, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 176.978, + "Actual Total Time": 1125.604, + "Actual Rows": 32840, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 177.328, + "Actual Total Time": 1099.877, + "Actual Rows": 31100, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 179.031, + "Actual Total Time": 998.730, + "Actual Rows": 30880, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 179.224, + "Actual Total Time": 1157.729, + "Actual Rows": 31415, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10851.81, + "Total Cost": 33879.09, + "Plan Rows": 31069, + "Plan Width": 33, + "Actual Startup Time": 179.520, + "Actual Total Time": 783.073, + "Actual Rows": 31069, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 180.987, + "Actual Total Time": 909.095, + "Actual Rows": 30171, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 178.400, + "Actual Total Time": 889.223, + "Actual Rows": 30999, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 178.881, + "Actual Total Time": 752.572, + "Actual Rows": 30185, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 176.903, + "Actual Total Time": 733.685, + "Actual Rows": 32840, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 177.257, + "Actual Total Time": 731.170, + "Actual Rows": 31100, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 178.961, + "Actual Total Time": 633.826, + "Actual Rows": 30880, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 178.633, + "Actual Total Time": 784.078, + "Actual Rows": 31415, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10850.77, + "Total Cost": 33486.02, + "Plan Rows": 72514, + "Plan Width": 37, + "Actual Startup Time": 179.226, + "Actual Total Time": 749.738, + "Actual Rows": 72514, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "miidx.info", "miidx.movie_id"], + "Inner Unique": false, + "Hash Cond": "(mc.movie_id = miidx.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 178.965, + "Actual Total Time": 869.749, + "Actual Rows": 92868, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 178.377, + "Actual Total Time": 853.416, + "Actual Rows": 81466, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 178.867, + "Actual Total Time": 720.944, + "Actual Rows": 69459, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 176.892, + "Actual Total Time": 701.765, + "Actual Rows": 63768, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 177.194, + "Actual Total Time": 700.800, + "Actual Rows": 61786, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 178.801, + "Actual Total Time": 605.524, + "Actual Rows": 55885, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 178.611, + "Actual Total Time": 750.017, + "Actual Rows": 72301, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 21953.67, + "Plan Rows": 144225, + "Plan Width": 27, + "Actual Startup Time": 0.137, + "Actual Total Time": 438.200, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.111, + "Actual Total Time": 511.751, + "Actual Rows": 214275, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.170, + "Actual Total Time": 527.500, + "Actual Rows": 164781, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.107, + "Actual Total Time": 420.091, + "Actual Rows": 129762, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.146, + "Actual Total Time": 408.621, + "Actual Rows": 123011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.114, + "Actual Total Time": 410.866, + "Actual Rows": 119480, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.132, + "Actual Total Time": 330.397, + "Actual Rows": 99163, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.160, + "Actual Total Time": 443.854, + "Actual Rows": 134893, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 23, + "Actual Startup Time": 0.020, + "Actual Total Time": 17.794, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 17.312, + "Actual Rows": 10297, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 21.269, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 17.945, + "Actual Rows": 10697, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 17.658, + "Actual Rows": 10490, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 19.051, + "Actual Rows": 11427, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 14.711, + "Actual Rows": 8751, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 18.257, + "Actual Rows": 10808, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.61, + "Plan Rows": 14, + "Plan Width": 12, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.034, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.040, + "Actual Rows": 21, + "Actual Loops": 10297 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.035, + "Actual Rows": 13, + "Actual Loops": 12628 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.032, + "Actual Rows": 12, + "Actual Loops": 10697 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.032, + "Actual Rows": 12, + "Actual Loops": 10490 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.030, + "Actual Rows": 10, + "Actual Loops": 11427 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.031, + "Actual Rows": 11, + "Actual Loops": 8751 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.034, + "Actual Rows": 12, + "Actual Loops": 10808 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 10131.70, + "Total Cost": 10131.70, + "Plan Rows": 57491, + "Plan Width": 10, + "Actual Startup Time": 177.897, + "Actual Total Time": 177.900, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Hash Buckets": 524288, + "Original Hash Buckets": 524288, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 22144, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 178.747, + "Actual Total Time": 178.750, + "Actual Rows": 57120, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 178.056, + "Actual Total Time": 178.058, + "Actual Rows": 57094, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 178.643, + "Actual Total Time": 178.645, + "Actual Rows": 57962, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 176.684, + "Actual Total Time": 176.686, + "Actual Rows": 57866, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 177.044, + "Actual Total Time": 177.047, + "Actual Rows": 57801, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 178.603, + "Actual Total Time": 178.606, + "Actual Rows": 56992, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 178.408, + "Actual Total Time": 178.411, + "Actual Rows": 57163, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 57491, + "Plan Width": 10, + "Actual Startup Time": 0.126, + "Actual Total Time": 131.685, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.138, + "Actual Total Time": 130.668, + "Actual Rows": 57120, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.140, + "Actual Total Time": 132.673, + "Actual Rows": 57094, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.130, + "Actual Total Time": 132.197, + "Actual Rows": 57962, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 132.210, + "Actual Rows": 57866, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.139, + "Actual Total Time": 132.354, + "Actual Rows": 57801, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.139, + "Actual Total Time": 130.617, + "Actual Rows": 56992, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.133, + "Actual Total Time": 130.573, + "Actual Rows": 57163, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 14, + "Actual Startup Time": 0.018, + "Actual Total Time": 40.798, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 40.311, + "Actual Rows": 171342, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 42.544, + "Actual Rows": 171283, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 40.767, + "Actual Rows": 173909, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 40.923, + "Actual Rows": 173694, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 40.612, + "Actual Rows": 173572, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 40.147, + "Actual Rows": 170976, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 40.456, + "Actual Rows": 171491, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 248554, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 30171 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 30999 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 30185 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 32840 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 31100 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 30880 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 31415 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.90, + "Plan Rows": 32, + "Plan Width": 8, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.062, + "Actual Rows": 49, + "Actual Loops": 87293, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.064, + "Actual Rows": 55, + "Actual Loops": 9203 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.056, + "Actual Rows": 44, + "Actual Loops": 10810 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.067, + "Actual Rows": 57, + "Actual Loops": 10150 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.063, + "Actual Rows": 51, + "Actual Loops": 10763 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.061, + "Actual Rows": 45, + "Actual Loops": 11910 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.064, + "Actual Rows": 53, + "Actual Loops": 12019 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.063, + "Actual Rows": 49, + "Actual Loops": 10801 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.060, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2434959201386717317, + "Planning Time": 85.055, + "Triggers": [ + ], + "Execution Time": 2342.074, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 2434959201386717317, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS northern_dark_movie
FROM info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind = 'movie'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2010
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4296.89, + "Total Cost": 4296.90, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 331.637, + "Actual Total Time": 364.717, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4296.84, + "Total Cost": 4296.85, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 187.717, + "Actual Total Time": 364.690, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4295.84, + "Total Cost": 4295.85, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 96.299, + "Actual Total Time": 96.308, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 179.937, + "Actual Total Time": 179.942, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 323.611, + "Actual Total Time": 323.617, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.943, + "Actual Total Time": 15.951, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.023, + "Actual Total Time": 16.033, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.054, + "Actual Total Time": 16.063, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.075, + "Actual Total Time": 16.084, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.078, + "Actual Total Time": 16.086, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.48, + "Total Cost": 4295.30, + "Plan Rows": 109, + "Plan Width": 23, + "Actual Startup Time": 21.187, + "Actual Total Time": 96.204, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.383, + "Actual Total Time": 179.698, + "Actual Rows": 235, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 52.013, + "Actual Total Time": 323.308, + "Actual Rows": 346, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.938, + "Actual Total Time": 15.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.018, + "Actual Total Time": 16.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.049, + "Actual Total Time": 16.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.069, + "Actual Total Time": 16.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.073, + "Actual Total Time": 16.081, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.63, + "Total Cost": 4293.12, + "Plan Rows": 125, + "Plan Width": 27, + "Actual Startup Time": 20.848, + "Actual Total Time": 95.776, + "Actual Rows": 110, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.059, + "Actual Total Time": 179.157, + "Actual Rows": 271, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 51.694, + "Actual Total Time": 322.699, + "Actual Rows": 398, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.654, + "Actual Total Time": 15.659, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.698, + "Actual Total Time": 15.705, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.728, + "Actual Total Time": 15.734, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.732, + "Actual Total Time": 15.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.734, + "Actual Total Time": 15.740, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.20, + "Total Cost": 4104.21, + "Plan Rows": 164, + "Plan Width": 35, + "Actual Startup Time": 20.735, + "Actual Total Time": 83.227, + "Actual Rows": 143, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.973, + "Actual Total Time": 147.974, + "Actual Rows": 346, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 51.588, + "Actual Total Time": 278.631, + "Actual Rows": 512, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.653, + "Actual Total Time": 15.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.697, + "Actual Total Time": 15.703, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.727, + "Actual Total Time": 15.733, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.731, + "Actual Total Time": 15.736, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.733, + "Actual Total Time": 15.738, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.35, + "Total Cost": 4101.05, + "Plan Rows": 486, + "Plan Width": 39, + "Actual Startup Time": 20.648, + "Actual Total Time": 83.023, + "Actual Rows": 425, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.960, + "Actual Total Time": 147.501, + "Actual Rows": 1028, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 51.576, + "Actual Total Time": 277.983, + "Actual Rows": 1515, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.646, + "Actual Total Time": 15.650, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.692, + "Actual Total Time": 15.697, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.722, + "Actual Total Time": 15.726, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.725, + "Actual Total Time": 15.729, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.728, + "Actual Total Time": 15.732, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 3956.18, + "Plan Rows": 281, + "Plan Width": 25, + "Actual Startup Time": 20.579, + "Actual Total Time": 79.416, + "Actual Rows": 246, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.568, + "Actual Total Time": 138.443, + "Actual Rows": 573, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 51.483, + "Actual Total Time": 265.661, + "Actual Rows": 903, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.645, + "Actual Total Time": 15.648, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.690, + "Actual Total Time": 15.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.721, + "Actual Total Time": 15.724, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.724, + "Actual Total Time": 15.728, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.727, + "Actual Total Time": 15.730, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3953.56, + "Plan Rows": 369, + "Plan Width": 29, + "Actual Startup Time": 10.611, + "Actual Total Time": 79.090, + "Actual Rows": 323, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.920, + "Actual Total Time": 137.714, + "Actual Rows": 710, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.302, + "Actual Total Time": 264.524, + "Actual Rows": 1236, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.637, + "Actual Total Time": 15.639, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.683, + "Actual Total Time": 15.685, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.712, + "Actual Total Time": 15.714, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.717, + "Actual Total Time": 15.718, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.720, + "Actual Total Time": 15.722, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1513.65, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 10.355, + "Actual Total Time": 32.866, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.270, + "Actual Total Time": 50.895, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.336, + "Actual Total Time": 76.698, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.637, + "Actual Total Time": 15.637, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.682, + "Actual Total Time": 15.683, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.711, + "Actual Total Time": 15.712, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.715, + "Actual Total Time": 15.716, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.719, + "Actual Total Time": 15.720, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 10.305, + "Actual Total Time": 10.311, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.126, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.207, + "Actual Total Time": 0.213, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.636, + "Actual Total Time": 15.636, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.681, + "Actual Total Time": 15.681, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.711, + "Actual Total Time": 15.711, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.714, + "Actual Total Time": 15.714, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.718, + "Actual Total Time": 15.719, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.50, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.123, + "Actual Total Time": 57.026, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.148, + "Actual Total Time": 48.613, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.124, + "Actual Total Time": 71.691, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 1966, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 573 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 903 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.086, + "Actual Rows": 1, + "Actual Loops": 1147, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 69, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.089, + "Actual Rows": 1, + "Actual Loops": 346 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.085, + "Actual Rows": 1, + "Actual Loops": 512 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.068, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.070, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 274192810335693858, + "Planning Time": 63.719, + "Triggers": [ + ], + "Execution Time": 369.568, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 274192810335693858, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_dark_production
FROM info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title')
  AND kt.kind = 'movie'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info > '6.0'
  AND t.production_year > 2010
  AND (t.title LIKE '%murder%'
       OR t.title LIKE '%Murder%'
       OR t.title LIKE '%Mord%')
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2847.45, + "Total Cost": 2847.46, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 264.527, + "Actual Total Time": 264.694, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2847.40, + "Total Cost": 2847.41, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 264.507, + "Actual Total Time": 264.684, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2846.40, + "Total Cost": 2846.41, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 40.827, + "Actual Total Time": 40.833, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.810, + "Actual Total Time": 10.816, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.822, + "Actual Total Time": 10.831, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.777, + "Actual Total Time": 10.782, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.751, + "Actual Total Time": 6.755, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.039, + "Actual Total Time": 10.045, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.194, + "Actual Total Time": 3.199, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.923, + "Actual Total Time": 10.928, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 2846.40, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 29.822, + "Actual Total Time": 40.826, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.806, + "Actual Total Time": 10.811, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.818, + "Actual Total Time": 10.826, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.772, + "Actual Total Time": 10.777, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.745, + "Actual Total Time": 6.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.035, + "Actual Total Time": 10.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.190, + "Actual Total Time": 3.195, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.918, + "Actual Total Time": 10.924, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.01, + "Total Cost": 2846.21, + "Plan Rows": 1, + "Plan Width": 27, + "Actual Startup Time": 29.818, + "Actual Total Time": 40.822, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.805, + "Actual Total Time": 10.809, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.818, + "Actual Total Time": 10.824, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.771, + "Actual Total Time": 10.776, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.744, + "Actual Total Time": 6.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.034, + "Actual Total Time": 10.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.189, + "Actual Total Time": 3.194, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.918, + "Actual Total Time": 10.922, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.58, + "Total Cost": 2845.71, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 14.516, + "Actual Total Time": 40.806, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.804, + "Actual Total Time": 10.808, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.817, + "Actual Total Time": 10.823, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.771, + "Actual Total Time": 10.774, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.744, + "Actual Total Time": 6.747, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.033, + "Actual Total Time": 10.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.189, + "Actual Total Time": 3.193, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.917, + "Actual Total Time": 10.921, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.43, + "Total Cost": 2845.53, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 14.511, + "Actual Total Time": 40.796, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.804, + "Actual Total Time": 10.806, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.816, + "Actual Total Time": 10.820, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.770, + "Actual Total Time": 10.773, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.743, + "Actual Total Time": 6.746, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.033, + "Actual Total Time": 10.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.188, + "Actual Total Time": 3.191, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.915, + "Actual Total Time": 10.918, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.00, + "Total Cost": 2844.38, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 14.502, + "Actual Total Time": 40.739, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.803, + "Actual Total Time": 10.805, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.816, + "Actual Total Time": 10.819, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.769, + "Actual Total Time": 10.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.743, + "Actual Total Time": 6.745, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.032, + "Actual Total Time": 10.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.188, + "Actual Total Time": 3.190, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.915, + "Actual Total Time": 10.917, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2844.05, + "Plan Rows": 2, + "Plan Width": 29, + "Actual Startup Time": 8.761, + "Actual Total Time": 40.721, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.802, + "Actual Total Time": 10.804, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.814, + "Actual Total Time": 10.817, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.768, + "Actual Total Time": 10.770, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.742, + "Actual Total Time": 6.744, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.031, + "Actual Total Time": 10.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.187, + "Actual Total Time": 3.189, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.914, + "Actual Total Time": 10.915, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1538.47, + "Plan Rows": 2790, + "Plan Width": 4, + "Actual Startup Time": 8.394, + "Actual Total Time": 15.880, + "Actual Rows": 2441, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.801, + "Actual Total Time": 10.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.813, + "Actual Total Time": 10.814, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.768, + "Actual Total Time": 10.768, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.741, + "Actual Total Time": 6.742, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.031, + "Actual Total Time": 10.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.186, + "Actual Total Time": 3.187, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.913, + "Actual Total Time": 10.914, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.382, + "Actual Total Time": 8.383, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.800, + "Actual Total Time": 10.801, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.813, + "Actual Total Time": 10.813, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.767, + "Actual Total Time": 10.767, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.740, + "Actual Total Time": 6.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.030, + "Actual Total Time": 10.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.186, + "Actual Total Time": 3.186, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.912, + "Actual Total Time": 10.913, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 19528, + "Plan Width": 8, + "Actual Startup Time": 0.082, + "Actual Total Time": 55.061, + "Actual Rows": 19528, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 19528, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2010) AND ((t.title ~~ '%murder%'::text) OR (t.title ~~ '%Murder%'::text) OR (t.title ~~ '%Mord%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 15, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 12, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 5, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '6.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4506995590541967356, + "Planning Time": 73.129, + "Triggers": [ + ], + "Execution Time": 269.534, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -4506995590541967356, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS north_european_dark_production
FROM info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IS NOT NULL
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5550.45, + "Total Cost": 5550.46, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 513.182, + "Actual Total Time": 546.676, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5550.40, + "Total Cost": 5550.41, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 347.027, + "Actual Total Time": 546.641, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5549.40, + "Total Cost": 5549.41, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 165.599, + "Actual Total Time": 165.608, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.451, + "Actual Total Time": 18.460, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.124, + "Actual Total Time": 18.134, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.682, + "Actual Total Time": 26.692, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.050, + "Actual Total Time": 19.060, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.146, + "Actual Total Time": 16.155, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 376.058, + "Actual Total Time": 376.063, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 504.447, + "Actual Total Time": 504.452, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.48, + "Total Cost": 5546.46, + "Plan Rows": 588, + "Plan Width": 23, + "Actual Startup Time": 13.189, + "Actual Total Time": 165.200, + "Actual Rows": 514, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.446, + "Actual Total Time": 18.455, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.120, + "Actual Total Time": 18.128, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.676, + "Actual Total Time": 26.685, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.044, + "Actual Total Time": 19.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.142, + "Actual Total Time": 16.151, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.956, + "Actual Total Time": 374.980, + "Actual Rows": 1382, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.175, + "Actual Total Time": 503.136, + "Actual Rows": 1772, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.63, + "Total Cost": 5542.78, + "Plan Rows": 673, + "Plan Width": 27, + "Actual Startup Time": 12.841, + "Actual Total Time": 164.442, + "Actual Rows": 589, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.130, + "Actual Total Time": 18.138, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.809, + "Actual Total Time": 17.816, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.348, + "Actual Total Time": 26.356, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.734, + "Actual Total Time": 18.742, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.816, + "Actual Total Time": 15.823, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.629, + "Actual Total Time": 373.541, + "Actual Rows": 1574, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.856, + "Actual Total Time": 501.503, + "Actual Rows": 2007, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.20, + "Total Cost": 4563.71, + "Plan Rows": 850, + "Plan Width": 35, + "Actual Startup Time": 12.808, + "Actual Total Time": 93.104, + "Actual Rows": 744, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.129, + "Actual Total Time": 18.135, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.808, + "Actual Total Time": 17.814, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.348, + "Actual Total Time": 26.354, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.733, + "Actual Total Time": 18.740, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.815, + "Actual Total Time": 15.821, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.540, + "Actual Total Time": 176.140, + "Actual Rows": 1969, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.773, + "Actual Total Time": 291.065, + "Actual Rows": 2608, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.35, + "Total Cost": 4554.90, + "Plan Rows": 2556, + "Plan Width": 39, + "Actual Startup Time": 12.790, + "Actual Total Time": 92.159, + "Actual Rows": 2236, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.123, + "Actual Total Time": 18.128, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.801, + "Actual Total Time": 17.806, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.343, + "Actual Total Time": 26.348, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.728, + "Actual Total Time": 18.733, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.809, + "Actual Total Time": 15.813, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.526, + "Actual Total Time": 173.634, + "Actual Rows": 5901, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.760, + "Actual Total Time": 287.950, + "Actual Rows": 7869, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 3960.49, + "Plan Rows": 1153, + "Plan Width": 25, + "Actual Startup Time": 12.762, + "Actual Total Time": 76.324, + "Actual Rows": 1009, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.122, + "Actual Total Time": 18.126, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.800, + "Actual Total Time": 17.805, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.342, + "Actual Total Time": 26.347, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.727, + "Actual Total Time": 18.731, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.808, + "Actual Total Time": 15.812, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.447, + "Actual Total Time": 129.293, + "Actual Rows": 2502, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.684, + "Actual Total Time": 239.492, + "Actual Rows": 3653, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3953.56, + "Plan Rows": 1391, + "Plan Width": 29, + "Actual Startup Time": 12.677, + "Actual Total Time": 75.298, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.115, + "Actual Total Time": 18.117, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.791, + "Actual Total Time": 17.793, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.333, + "Actual Total Time": 26.336, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.718, + "Actual Total Time": 18.720, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.800, + "Actual Total Time": 15.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.312, + "Actual Total Time": 126.835, + "Actual Rows": 3009, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.311, + "Actual Total Time": 235.926, + "Actual Rows": 4326, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1513.65, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 12.650, + "Actual Total Time": 27.364, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.114, + "Actual Total Time": 18.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.790, + "Actual Total Time": 17.792, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.333, + "Actual Total Time": 26.334, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.717, + "Actual Total Time": 18.718, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.800, + "Actual Total Time": 15.801, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.234, + "Actual Total Time": 31.453, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.235, + "Actual Total Time": 52.449, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 12.603, + "Actual Total Time": 12.611, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "((k.keyword IS NOT NULL) AND (k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[])))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.114, + "Actual Total Time": 18.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.789, + "Actual Total Time": 17.790, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.332, + "Actual Total Time": 26.333, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.716, + "Actual Total Time": 18.717, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.799, + "Actual Total Time": 15.799, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.107, + "Actual Total Time": 0.118, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.116, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.50, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.118, + "Actual Total Time": 36.082, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.123, + "Actual Total Time": 28.890, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.121, + "Actual Total Time": 47.575, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.019, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 8073, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 2502 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 3653 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.095, + "Actual Rows": 1, + "Actual Loops": 5949, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 71, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.099, + "Actual Rows": 1, + "Actual Loops": 1969 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.080, + "Actual Rows": 1, + "Actual Loops": 2608 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 299267792258938541, + "Planning Time": 67.168, + "Triggers": [ + ], + "Execution Time": 555.168, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 299267792258938541, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(t.title) AS internet_movie
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND mc.note LIKE '%(200%)%'
  AND mc.note LIKE '%(worldwide)%'
  AND mi.note LIKE '%internet%'
  AND mi.info LIKE 'USA:% 200%'
  AND t.production_year > 2000
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27658.90, + "Total Cost": 27658.91, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 561.303, + "Actual Total Time": 592.864, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27658.85, + "Total Cost": 27658.86, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 560.863, + "Actual Total Time": 592.820, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27657.85, + "Total Cost": 27657.86, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 553.355, + "Actual Total Time": 553.363, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 552.270, + "Actual Total Time": 552.277, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 551.605, + "Actual Total Time": 551.613, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 552.604, + "Actual Total Time": 552.611, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 552.617, + "Actual Total Time": 552.625, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 552.794, + "Actual Total Time": 552.803, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 552.314, + "Actual Total Time": 552.321, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 552.653, + "Actual Total Time": 552.660, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.85, + "Total Cost": 27657.65, + "Plan Rows": 41, + "Plan Width": 59, + "Actual Startup Time": 246.329, + "Actual Total Time": 553.308, + "Actual Rows": 41, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 552.266, + "Actual Total Time": 552.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.322, + "Actual Total Time": 551.577, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 552.599, + "Actual Total Time": 552.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 151.276, + "Actual Total Time": 552.523, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.604, + "Actual Total Time": 552.638, + "Actual Rows": 178, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 552.309, + "Actual Total Time": 552.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.582, + "Actual Total Time": 552.605, + "Actual Rows": 32, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.43, + "Total Cost": 27639.71, + "Plan Rows": 41, + "Plan Width": 63, + "Actual Startup Time": 246.287, + "Actual Total Time": 552.837, + "Actual Rows": 41, + "Actual Loops": 8, + "Output": ["mi.info", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 552.265, + "Actual Total Time": 552.271, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.249, + "Actual Total Time": 551.457, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 552.598, + "Actual Total Time": 552.604, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 151.203, + "Actual Total Time": 551.595, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.522, + "Actual Total Time": 550.764, + "Actual Rows": 178, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 552.309, + "Actual Total Time": 552.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.515, + "Actual Total Time": 552.221, + "Actual Rows": 32, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.00, + "Total Cost": 27632.40, + "Plan Rows": 7, + "Plan Width": 75, + "Actual Startup Time": 145.958, + "Actual Total Time": 552.004, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 552.264, + "Actual Total Time": 552.270, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.404, + "Actual Total Time": 550.686, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 190.699, + "Actual Total Time": 552.349, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 150.943, + "Actual Total Time": 549.905, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.163, + "Actual Total Time": 548.710, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 113.224, + "Actual Total Time": 551.439, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.430, + "Actual Total Time": 551.675, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.86, + "Total Cost": 27631.12, + "Plan Rows": 7, + "Plan Width": 79, + "Actual Startup Time": 145.932, + "Actual Total Time": 551.920, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 552.264, + "Actual Total Time": 552.269, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.380, + "Actual Total Time": 550.594, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 190.667, + "Actual Total Time": 552.299, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 150.919, + "Actual Total Time": 549.750, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.122, + "Actual Total Time": 548.587, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 113.200, + "Actual Total Time": 551.351, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.397, + "Actual Total Time": 551.585, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 27630.57, + "Plan Rows": 7, + "Plan Width": 83, + "Actual Startup Time": 145.863, + "Actual Total Time": 551.815, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 552.263, + "Actual Total Time": 552.266, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.295, + "Actual Total Time": 550.468, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 190.559, + "Actual Total Time": 552.179, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 150.824, + "Actual Total Time": 549.581, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.046, + "Actual Total Time": 548.461, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 113.110, + "Actual Total Time": 551.221, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.335, + "Actual Total Time": 551.488, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.28, + "Total Cost": 26933.99, + "Plan Rows": 642, + "Plan Width": 33, + "Actual Startup Time": 4.470, + "Actual Total Time": 499.766, + "Actual Rows": 642, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.645, + "Actual Total Time": 502.521, + "Actual Rows": 421, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.926, + "Actual Total Time": 506.549, + "Actual Rows": 627, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.603, + "Actual Total Time": 504.980, + "Actual Rows": 774, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.280, + "Actual Total Time": 443.685, + "Actual Rows": 968, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.444, + "Actual Total Time": 516.694, + "Actual Rows": 588, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.995, + "Actual Total Time": 521.308, + "Actual Rows": 629, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.233, + "Actual Total Time": 486.627, + "Actual Rows": 567, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 25939.74, + "Plan Rows": 1712, + "Plan Width": 12, + "Actual Startup Time": 4.092, + "Actual Total Time": 477.090, + "Actual Rows": 1712, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.579, + "Actual Total Time": 493.848, + "Actual Rows": 564, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.838, + "Actual Total Time": 489.470, + "Actual Rows": 1135, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.532, + "Actual Total Time": 488.328, + "Actual Rows": 1105, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.217, + "Actual Total Time": 422.917, + "Actual Rows": 1431, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.365, + "Actual Total Time": 495.939, + "Actual Rows": 1421, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.465, + "Actual Total Time": 504.837, + "Actual Rows": 1121, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.157, + "Actual Total Time": 468.945, + "Actual Rows": 1310, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 23279.30, + "Plan Rows": 5480, + "Plan Width": 8, + "Actual Startup Time": 0.428, + "Actual Total Time": 411.283, + "Actual Rows": 5480, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.310, + "Actual Total Time": 440.070, + "Actual Rows": 4421, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.172, + "Actual Total Time": 420.118, + "Actual Rows": 6128, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.356, + "Actual Total Time": 409.826, + "Actual Rows": 6932, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.140, + "Actual Total Time": 354.251, + "Actual Rows": 5318, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.484, + "Actual Total Time": 437.580, + "Actual Rows": 5023, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.096, + "Actual Total Time": 430.196, + "Actual Rows": 5518, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.468, + "Actual Total Time": 426.815, + "Actual Rows": 3766, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 16.217, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.040, + "Actual Total Time": 15.995, + "Actual Rows": 10827, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 16.844, + "Actual Rows": 11356, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 16.386, + "Actual Rows": 10774, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 13.241, + "Actual Rows": 8805, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 18.913, + "Actual Rows": 11137, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 17.352, + "Actual Rows": 11539, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.060, + "Actual Total Time": 15.216, + "Actual Rows": 10146, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.87, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND (mc.note ~~ '%(worldwide)%'::text))", + "Rows Removed by Filter": 13, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 10827 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 11356 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 10774 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 8805 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 11137 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 11539 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 10146 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_aka_title", + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.42, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 43837, + "Output": ["at.movie_id"], + "Index Cond": "(at.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 4421 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 6128 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 6932 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 5318 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 5023 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 5518 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 3766 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 13699, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 564 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1135 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1105 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1431 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1421 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1121 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1310 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.08, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.080, + "Actual Rows": 0, + "Actual Loops": 5134, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note ~~ '%internet%'::text) AND (mi.info ~~ 'USA:% 200%'::text))", + "Rows Removed by Filter": 72, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.117, + "Actual Rows": 0, + "Actual Loops": 421 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.069, + "Actual Rows": 0, + "Actual Loops": 627 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 774 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.109, + "Actual Rows": 0, + "Actual Loops": 968 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 588 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 629 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.113, + "Actual Total Time": 0.113, + "Actual Rows": 0, + "Actual Loops": 567 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 57, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 6, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 8, + "Cache Hits": 7, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 15, + "Cache Hits": 14, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 10, + "Cache Hits": 9, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 7, + "Cache Hits": 6, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 7, + "Cache Hits": 6, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.085, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.082, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.076, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 57, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 6, + "Plan Width": 8, + "Actual Startup Time": 0.107, + "Actual Total Time": 0.113, + "Actual Rows": 6, + "Actual Loops": 57, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.094, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.083, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.105, + "Actual Total Time": 0.109, + "Actual Rows": 5, + "Actual Loops": 15 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.179, + "Actual Total Time": 0.198, + "Actual Rows": 18, + "Actual Loops": 10 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.123, + "Actual Total Time": 0.123, + "Actual Rows": 0, + "Actual Loops": 7 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.074, + "Actual Rows": 5, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 328, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 72 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 178 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 32 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -460740518707800565, + "Planning Time": 137.724, + "Triggers": [ + ], + "Execution Time": 597.174, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -460740518707800565, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(t.title) AS youtube_movie
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND cn.name = 'YouTube'
  AND it1.info = 'release dates'
  AND mc.note LIKE '%(200%)%'
  AND mc.note LIKE '%(worldwide)%'
  AND mi.note LIKE '%internet%'
  AND mi.info LIKE 'USA:% 200%'
  AND t.production_year BETWEEN 2005 AND 2010
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3506.46, + "Total Cost": 3506.47, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 27.200, + "Actual Total Time": 33.831, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3506.41, + "Total Cost": 3506.42, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 25.489, + "Actual Total Time": 33.800, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3505.41, + "Total Cost": 3505.42, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 17.532, + "Actual Total Time": 17.540, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.124, + "Actual Total Time": 16.130, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.397, + "Actual Total Time": 16.404, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.367, + "Actual Total Time": 16.374, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.384, + "Actual Total Time": 16.391, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.416, + "Actual Total Time": 16.424, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.362, + "Actual Total Time": 16.369, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.662, + "Actual Total Time": 17.671, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.85, + "Total Cost": 3505.39, + "Plan Rows": 5, + "Plan Width": 59, + "Actual Startup Time": 17.055, + "Actual Total Time": 17.526, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.120, + "Actual Total Time": 16.126, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.393, + "Actual Total Time": 16.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.357, + "Actual Total Time": 16.364, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.379, + "Actual Total Time": 16.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.407, + "Actual Total Time": 16.413, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.356, + "Actual Total Time": 16.363, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.891, + "Actual Total Time": 17.605, + "Actual Rows": 37, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.43, + "Total Cost": 3503.20, + "Plan Rows": 5, + "Plan Width": 63, + "Actual Startup Time": 17.041, + "Actual Total Time": 17.448, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mi.info", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.119, + "Actual Total Time": 16.124, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.392, + "Actual Total Time": 16.397, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.356, + "Actual Total Time": 16.362, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.378, + "Actual Total Time": 16.384, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.406, + "Actual Total Time": 16.412, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.356, + "Actual Total Time": 16.362, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.780, + "Actual Total Time": 16.998, + "Actual Rows": 37, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.00, + "Total Cost": 3502.07, + "Plan Rows": 1, + "Plan Width": 75, + "Actual Startup Time": 16.315, + "Actual Total Time": 17.423, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.118, + "Actual Total Time": 16.122, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.391, + "Actual Total Time": 16.396, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.356, + "Actual Total Time": 16.361, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.378, + "Actual Total Time": 16.383, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.405, + "Actual Total Time": 16.411, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.355, + "Actual Total Time": 16.360, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.974, + "Actual Total Time": 16.804, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.57, + "Total Cost": 3501.49, + "Plan Rows": 1, + "Plan Width": 54, + "Actual Startup Time": 16.306, + "Actual Total Time": 17.403, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.117, + "Actual Total Time": 16.121, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.390, + "Actual Total Time": 16.394, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.355, + "Actual Total Time": 16.359, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.377, + "Actual Total Time": 16.382, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.405, + "Actual Total Time": 16.409, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.355, + "Actual Total Time": 16.359, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.909, + "Actual Total Time": 16.656, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.44, + "Total Cost": 3501.33, + "Plan Rows": 1, + "Plan Width": 58, + "Actual Startup Time": 16.296, + "Actual Total Time": 17.390, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.117, + "Actual Total Time": 16.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.390, + "Actual Total Time": 16.393, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.354, + "Actual Total Time": 16.358, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.376, + "Actual Total Time": 16.380, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.404, + "Actual Total Time": 16.408, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.354, + "Actual Total Time": 16.358, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.835, + "Actual Total Time": 16.558, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 3501.14, + "Plan Rows": 1, + "Plan Width": 62, + "Actual Startup Time": 16.287, + "Actual Total Time": 17.376, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.116, + "Actual Total Time": 16.118, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.389, + "Actual Total Time": 16.391, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.354, + "Actual Total Time": 16.356, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.375, + "Actual Total Time": 16.378, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.404, + "Actual Total Time": 16.407, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.353, + "Actual Total Time": 16.356, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.763, + "Actual Total Time": 16.463, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 3496.65, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 15.670, + "Actual Total Time": 17.213, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.115, + "Actual Total Time": 16.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.388, + "Actual Total Time": 16.390, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.353, + "Actual Total Time": 16.354, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.374, + "Actual Total Time": 16.376, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.403, + "Actual Total Time": 16.405, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.353, + "Actual Total Time": 16.355, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.837, + "Actual Total Time": 15.164, + "Actual Rows": 27, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3477.91, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 15.488, + "Actual Total Time": 16.718, + "Actual Rows": 35, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.114, + "Actual Total Time": 16.115, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.388, + "Actual Total Time": 16.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.352, + "Actual Total Time": 16.353, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.373, + "Actual Total Time": 16.374, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.402, + "Actual Total Time": 16.404, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.352, + "Actual Total Time": 16.353, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.383, + "Actual Total Time": 11.215, + "Actual Rows": 278, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3435.62, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 15.467, + "Actual Total Time": 15.473, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "(((cn.country_code)::text = '[us]'::text) AND (cn.name = 'YouTube'::text))", + "Rows Removed by Filter": 29374, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.113, + "Actual Total Time": 16.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.387, + "Actual Total Time": 16.387, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.351, + "Actual Total Time": 16.352, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.372, + "Actual Total Time": 16.373, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.402, + "Actual Total Time": 16.402, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.351, + "Actual Total Time": 16.352, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.225, + "Actual Total Time": 1.267, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 39.52, + "Plan Rows": 278, + "Plan Width": 12, + "Actual Startup Time": 0.152, + "Actual Total Time": 9.847, + "Actual Rows": 278, + "Actual Loops": 1, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND (mc.note ~~ '%(worldwide)%'::text))", + "Rows Removed by Filter": 1180, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.152, + "Actual Total Time": 9.847, + "Actual Rows": 278, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_aka_title", + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.42, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 278, + "Output": ["at.movie_id"], + "Index Cond": "(at.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 278 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.49, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 27, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note ~~ '%internet%'::text) AND (mi.info ~~ 'USA:% 200%'::text))", + "Rows Removed by Filter": 19, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 27 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.19, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.057, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.057, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.01, + "Plan Rows": 12, + "Plan Width": 8, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.056, + "Actual Rows": 12, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.056, + "Actual Rows": 12, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 37, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 37 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4209927756710409746, + "Planning Time": 133.130, + "Triggers": [ + ], + "Execution Time": 39.643, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -4209927756710409746, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(t.title) AS modern_american_internet_movie
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND mi.note LIKE '%internet%'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'USA:% 199%'
       OR mi.info LIKE 'USA:% 200%')
  AND t.production_year > 1990
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 55997.71, + "Total Cost": 55997.72, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1411.722, + "Actual Total Time": 1426.487, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 55997.66, + "Total Cost": 55997.67, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 1411.670, + "Actual Total Time": 1426.458, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 55996.66, + "Total Cost": 55996.67, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1392.215, + "Actual Total Time": 1392.224, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1395.516, + "Actual Total Time": 1395.528, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1388.814, + "Actual Total Time": 1388.823, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1387.543, + "Actual Total Time": 1387.551, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1394.410, + "Actual Total Time": 1394.419, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1387.540, + "Actual Total Time": 1387.548, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1383.199, + "Actual Total Time": 1383.207, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1389.946, + "Actual Total Time": 1389.956, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.97, + "Total Cost": 55995.04, + "Plan Rows": 324, + "Plan Width": 59, + "Actual Startup Time": 64.696, + "Actual Total Time": 1391.919, + "Actual Rows": 284, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 145.937, + "Actual Total Time": 1395.349, + "Actual Rows": 131, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.403, + "Actual Total Time": 1388.364, + "Actual Rows": 432, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.058, + "Actual Total Time": 1387.201, + "Actual Rows": 358, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.571, + "Actual Total Time": 1393.678, + "Actual Rows": 764, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.572, + "Actual Total Time": 1387.279, + "Actual Rows": 236, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 110.956, + "Actual Total Time": 1383.134, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 38.257, + "Actual Total Time": 1389.725, + "Actual Rows": 193, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 55853.25, + "Plan Rows": 324, + "Plan Width": 63, + "Actual Startup Time": 64.627, + "Actual Total Time": 1389.177, + "Actual Rows": 284, + "Actual Loops": 8, + "Output": ["mi.info", "mk.keyword_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 145.851, + "Actual Total Time": 1393.953, + "Actual Rows": 131, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.335, + "Actual Total Time": 1384.191, + "Actual Rows": 432, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.985, + "Actual Total Time": 1383.377, + "Actual Rows": 358, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.498, + "Actual Total Time": 1386.917, + "Actual Rows": 764, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.493, + "Actual Total Time": 1384.944, + "Actual Rows": 236, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 110.880, + "Actual Total Time": 1382.494, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 38.198, + "Actual Total Time": 1387.872, + "Actual Rows": 193, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 55850.52, + "Plan Rows": 324, + "Plan Width": 67, + "Actual Startup Time": 64.431, + "Actual Total Time": 1388.707, + "Actual Rows": 284, + "Actual Loops": 8, + "Output": ["mi.info", "mi.info_type_id", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 145.729, + "Actual Total Time": 1393.694, + "Actual Rows": 131, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.116, + "Actual Total Time": 1383.564, + "Actual Rows": 432, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.772, + "Actual Total Time": 1382.835, + "Actual Rows": 358, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.392, + "Actual Total Time": 1386.136, + "Actual Rows": 764, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.398, + "Actual Total Time": 1384.607, + "Actual Rows": 236, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 110.656, + "Actual Total Time": 1382.212, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.978, + "Actual Total Time": 1387.463, + "Actual Rows": 193, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 55807.13, + "Plan Rows": 41, + "Plan Width": 79, + "Actual Startup Time": 58.586, + "Actual Total Time": 1386.851, + "Actual Rows": 36, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.981, + "Actual Total Time": 1392.115, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 57.744, + "Actual Total Time": 1380.417, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.695, + "Actual Total Time": 1380.806, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.331, + "Actual Total Time": 1383.379, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.310, + "Actual Total Time": 1382.618, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 110.350, + "Actual Total Time": 1381.036, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.922, + "Actual Total Time": 1386.346, + "Actual Rows": 29, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.14, + "Total Cost": 55805.77, + "Plan Rows": 41, + "Plan Width": 83, + "Actual Startup Time": 58.520, + "Actual Total Time": 1386.664, + "Actual Rows": 36, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.912, + "Actual Total Time": 1391.936, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 57.669, + "Actual Total Time": 1380.222, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.621, + "Actual Total Time": 1380.563, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.260, + "Actual Total Time": 1383.153, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.238, + "Actual Total Time": 1382.384, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 110.280, + "Actual Total Time": 1380.911, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.850, + "Actual Total Time": 1386.185, + "Actual Rows": 29, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 55780.60, + "Plan Rows": 57, + "Plan Width": 87, + "Actual Startup Time": 58.441, + "Actual Total Time": 1385.665, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.814, + "Actual Total Time": 1391.173, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 57.578, + "Actual Total Time": 1379.096, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.547, + "Actual Total Time": 1379.171, + "Actual Rows": 70, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.171, + "Actual Total Time": 1381.759, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.166, + "Actual Total Time": 1381.105, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 110.197, + "Actual Total Time": 1380.491, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.778, + "Actual Total Time": 1385.528, + "Actual Rows": 31, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 55771.32, + "Plan Rows": 17, + "Plan Width": 75, + "Actual Startup Time": 48.177, + "Actual Total Time": 1385.086, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["at.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 36.417, + "Actual Total Time": 1390.611, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 57.453, + "Actual Total Time": 1378.441, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.432, + "Actual Total Time": 1378.329, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.067, + "Actual Total Time": 1381.095, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.074, + "Actual Total Time": 1380.419, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 110.084, + "Actual Total Time": 1380.127, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.665, + "Actual Total Time": 1385.091, + "Actual Rows": 13, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 33422.65, + "Plan Rows": 20139, + "Plan Width": 25, + "Actual Startup Time": 0.340, + "Actual Total Time": 500.815, + "Actual Rows": 17622, + "Actual Loops": 8, + "Output": ["at.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.223, + "Actual Total Time": 489.928, + "Actual Rows": 17211, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.447, + "Actual Total Time": 506.238, + "Actual Rows": 17900, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.400, + "Actual Total Time": 499.412, + "Actual Rows": 17028, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.220, + "Actual Total Time": 502.696, + "Actual Rows": 17562, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.133, + "Actual Total Time": 485.193, + "Actual Rows": 17234, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.334, + "Actual Total Time": 504.545, + "Actual Rows": 17965, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.317, + "Actual Total Time": 510.086, + "Actual Rows": 17876, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_aka_title", + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.42, + "Total Cost": 3432.97, + "Plan Rows": 51639, + "Plan Width": 4, + "Actual Startup Time": 0.115, + "Actual Total Time": 28.419, + "Actual Rows": 45184, + "Actual Loops": 8, + "Output": ["at.movie_id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.070, + "Actual Total Time": 26.580, + "Actual Rows": 43705, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.131, + "Actual Total Time": 28.232, + "Actual Rows": 46080, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.197, + "Actual Total Time": 33.738, + "Actual Rows": 44368, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.064, + "Actual Total Time": 27.563, + "Actual Rows": 45575, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.071, + "Actual Total Time": 27.156, + "Actual Rows": 44191, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.190, + "Actual Total Time": 27.344, + "Actual Rows": 45138, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.148, + "Actual Total Time": 28.389, + "Actual Rows": 46295, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 361472, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 43705 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 46080 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 44368 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 45575 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 44191 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 45138 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 46295 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.10, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 140974, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND (mi.note ~~ '%internet%'::text) AND ((mi.info ~~ 'USA:% 199%'::text) OR (mi.info ~~ 'USA:% 200%'::text)))", + "Rows Removed by Filter": 38, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 17211 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 17900 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 17028 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 17562 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 17234 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 17965 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 17876 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.034, + "Actual Rows": 3, + "Actual Loops": 120, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.039, + "Actual Rows": 2, + "Actual Loops": 13 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.036, + "Actual Rows": 4, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.034, + "Actual Rows": 3, + "Actual Loops": 22 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.034, + "Actual Rows": 4, + "Actual Loops": 17 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.034, + "Actual Rows": 4, + "Actual Loops": 18 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.037, + "Actual Rows": 2, + "Actual Loops": 9 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.030, + "Actual Rows": 2, + "Actual Loops": 13 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 400, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 26 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 62 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 70 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 74 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 66 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 31 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 284, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 33, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 24, + "Cache Hits": 22, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 31, + "Cache Hits": 29, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 49, + "Cache Hits": 47, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 50, + "Cache Hits": 48, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 52, + "Cache Hits": 50, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 14, + "Cache Hits": 12, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 29, + "Cache Hits": 27, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 8, + "Plan Width": 8, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.048, + "Actual Rows": 8, + "Actual Loops": 284, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.062, + "Actual Rows": 5, + "Actual Loops": 24 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.095, + "Actual Rows": 14, + "Actual Loops": 31 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.037, + "Actual Rows": 7, + "Actual Loops": 49 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.048, + "Actual Rows": 15, + "Actual Loops": 50 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.035, + "Actual Rows": 5, + "Actual Loops": 52 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.081, + "Actual Rows": 4, + "Actual Loops": 14 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.035, + "Actual Rows": 7, + "Actual Loops": 29 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.084, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.076, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 2271, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 131 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 432 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 358 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 764 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 236 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 50 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 193 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4486446217020337985, + "Planning Time": 125.929, + "Triggers": [ + ], + "Execution Time": 1430.609, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 4486446217020337985, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(at.title) AS aka_title,
       MIN(t.title) AS internet_movie_title
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND mi.note LIKE '%internet%'
  AND t.production_year > 1990
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51411.32, + "Total Cost": 51411.33, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1424.522, + "Actual Total Time": 1458.989, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(at.title)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51411.27, + "Total Cost": 51411.28, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 1423.791, + "Actual Total Time": 1458.962, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(at.title))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51410.27, + "Total Cost": 51410.28, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1416.309, + "Actual Total Time": 1416.317, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(at.title)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1415.257, + "Actual Total Time": 1415.265, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1414.636, + "Actual Total Time": 1414.643, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1415.017, + "Actual Total Time": 1415.025, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1416.005, + "Actual Total Time": 1416.013, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1415.268, + "Actual Total Time": 1415.274, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1415.374, + "Actual Total Time": 1415.380, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1416.162, + "Actual Total Time": 1416.169, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.46, + "Total Cost": 51403.18, + "Plan Rows": 1418, + "Plan Width": 38, + "Actual Startup Time": 43.054, + "Actual Total Time": 1415.181, + "Actual Rows": 1418, + "Actual Loops": 8, + "Output": ["at.title", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.065, + "Actual Total Time": 1413.876, + "Actual Rows": 1783, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 41.225, + "Actual Total Time": 1412.935, + "Actual Rows": 2109, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 82.201, + "Actual Total Time": 1413.718, + "Actual Rows": 1675, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.189, + "Actual Total Time": 1415.465, + "Actual Rows": 601, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.514, + "Actual Total Time": 1414.113, + "Actual Rows": 1503, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.296, + "Actual Total Time": 1414.669, + "Actual Rows": 828, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 74.421, + "Actual Total Time": 1415.219, + "Actual Rows": 1193, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.04, + "Total Cost": 50782.63, + "Plan Rows": 1418, + "Plan Width": 42, + "Actual Startup Time": 42.981, + "Actual Total Time": 1402.579, + "Actual Rows": 1418, + "Actual Loops": 8, + "Output": ["at.title", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.000, + "Actual Total Time": 1398.539, + "Actual Rows": 1783, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 41.127, + "Actual Total Time": 1394.397, + "Actual Rows": 2109, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 82.098, + "Actual Total Time": 1399.284, + "Actual Rows": 1675, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.122, + "Actual Total Time": 1409.657, + "Actual Rows": 601, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.442, + "Actual Total Time": 1401.134, + "Actual Rows": 1503, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.220, + "Actual Total Time": 1406.008, + "Actual Rows": 828, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 74.359, + "Actual Total Time": 1405.016, + "Actual Rows": 1193, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.61, + "Total Cost": 50661.82, + "Plan Rows": 109, + "Plan Width": 54, + "Actual Startup Time": 18.732, + "Actual Total Time": 1395.987, + "Actual Rows": 109, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mc.movie_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.793, + "Actual Total Time": 1390.199, + "Actual Rows": 113, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.202, + "Actual Total Time": 1384.347, + "Actual Rows": 148, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.870, + "Actual Total Time": 1392.775, + "Actual Rows": 102, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.643, + "Actual Total Time": 1403.225, + "Actual Rows": 100, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.928, + "Actual Total Time": 1396.063, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.147, + "Actual Total Time": 1402.290, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.049, + "Actual Total Time": 1398.699, + "Actual Rows": 158, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.56, + "Total Cost": 50660.18, + "Plan Rows": 109, + "Plan Width": 58, + "Actual Startup Time": 18.418, + "Actual Total Time": 1395.449, + "Actual Rows": 109, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.553, + "Actual Total Time": 1389.717, + "Actual Rows": 113, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 37.917, + "Actual Total Time": 1383.769, + "Actual Rows": 148, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.581, + "Actual Total Time": 1392.276, + "Actual Rows": 102, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.335, + "Actual Total Time": 1402.708, + "Actual Rows": 100, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.591, + "Actual Total Time": 1395.568, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.836, + "Actual Total Time": 1401.810, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.707, + "Actual Total Time": 1398.062, + "Actual Rows": 158, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 50544.48, + "Plan Rows": 262, + "Plan Width": 62, + "Actual Startup Time": 13.779, + "Actual Total Time": 1391.051, + "Actual Rows": 262, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.491, + "Actual Total Time": 1384.676, + "Actual Rows": 298, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.355, + "Actual Total Time": 1377.455, + "Actual Rows": 381, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.507, + "Actual Total Time": 1387.895, + "Actual Rows": 282, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.284, + "Actual Total Time": 1398.998, + "Actual Rows": 207, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.533, + "Actual Total Time": 1392.813, + "Actual Rows": 157, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.762, + "Actual Total Time": 1398.362, + "Actual Rows": 201, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.644, + "Actual Total Time": 1393.787, + "Actual Rows": 264, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 50503.89, + "Plan Rows": 73, + "Plan Width": 50, + "Actual Startup Time": 13.654, + "Actual Total Time": 1388.663, + "Actual Rows": 73, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.405, + "Actual Total Time": 1381.995, + "Actual Rows": 84, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.262, + "Actual Total Time": 1374.377, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.122, + "Actual Total Time": 1385.363, + "Actual Rows": 70, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.194, + "Actual Total Time": 1396.629, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.461, + "Actual Total Time": 1391.137, + "Actual Rows": 53, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.655, + "Actual Total Time": 1396.347, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.539, + "Actual Total Time": 1391.363, + "Actual Rows": 72, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 50501.82, + "Plan Rows": 83, + "Plan Width": 54, + "Actual Startup Time": 13.629, + "Actual Total Time": 1388.283, + "Actual Rows": 83, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.390, + "Actual Total Time": 1381.569, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.246, + "Actual Total Time": 1373.914, + "Actual Rows": 105, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.102, + "Actual Total Time": 1385.013, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.174, + "Actual Total Time": 1396.264, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.438, + "Actual Total Time": 1390.822, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.634, + "Actual Total Time": 1396.016, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.519, + "Actual Total Time": 1390.982, + "Actual Rows": 79, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 32884.74, + "Plan Rows": 17622, + "Plan Width": 46, + "Actual Startup Time": 1.967, + "Actual Total Time": 599.306, + "Actual Rows": 17622, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.553, + "Actual Total Time": 598.213, + "Actual Rows": 17947, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.412, + "Actual Total Time": 592.022, + "Actual Rows": 17463, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.421, + "Actual Total Time": 601.550, + "Actual Rows": 17368, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.934, + "Actual Total Time": 599.738, + "Actual Rows": 17428, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.139, + "Actual Total Time": 598.274, + "Actual Rows": 17773, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.782, + "Actual Total Time": 609.377, + "Actual Rows": 17625, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.811, + "Actual Total Time": 593.461, + "Actual Rows": 17739, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.00, + "Total Cost": 6643.84, + "Plan Rows": 45184, + "Plan Width": 25, + "Actual Startup Time": 1.797, + "Actual Total Time": 41.453, + "Actual Rows": 45184, + "Actual Loops": 8, + "Output": ["at.id", "at.movie_id", "at.title", "at.imdb_index", "at.kind_id", "at.production_year", "at.phonetic_code", "at.episode_of_id", "at.season_nr", "at.episode_nr", "at.note", "at.md5sum"],+ "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.402, + "Actual Total Time": 37.626, + "Actual Rows": 45827, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.324, + "Actual Total Time": 43.439, + "Actual Rows": 44650, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.332, + "Actual Total Time": 45.267, + "Actual Rows": 44733, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.741, + "Actual Total Time": 44.440, + "Actual Rows": 44465, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.657, + "Actual Total Time": 38.868, + "Actual Rows": 45606, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.609, + "Actual Total Time": 40.331, + "Actual Rows": 45690, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.726, + "Actual Total Time": 36.125, + "Actual Rows": 45371, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 361472, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"], + "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 45827 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 44650 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 44733 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 44465 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 45606 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 45690 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 45371 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.99, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 140974, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.note ~~ '%internet%'::text)", + "Rows Removed by Filter": 38, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 17947 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 17463 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 17368 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 17428 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 17773 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 17625 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 17739 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.028, + "Actual Rows": 4, + "Actual Loops": 584, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.027, + "Actual Rows": 4, + "Actual Loops": 84 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.027, + "Actual Rows": 4, + "Actual Loops": 95 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.031, + "Actual Rows": 4, + "Actual Loops": 70 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.028, + "Actual Rows": 3, + "Actual Loops": 72 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.027, + "Actual Rows": 3, + "Actual Loops": 53 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.026, + "Actual Rows": 3, + "Actual Loops": 65 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.029, + "Actual Rows": 4, + "Actual Loops": 72 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2099, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 298 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 381 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 282 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 207 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 157 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 201 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 264 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.02, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.039, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["ct.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 13, + "Plan Width": 8, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.054, + "Actual Rows": 13, + "Actual Loops": 875, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.067, + "Actual Rows": 16, + "Actual Loops": 113 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.062, + "Actual Rows": 14, + "Actual Loops": 148 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.057, + "Actual Rows": 16, + "Actual Loops": 102 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.061, + "Actual Rows": 6, + "Actual Loops": 100 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.062, + "Actual Rows": 21, + "Actual Loops": 72 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.042, + "Actual Rows": 10, + "Actual Loops": 79 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.036, + "Actual Rows": 8, + "Actual Loops": 158 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 11347, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1783 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 2109 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1675 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 601 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1503 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 828 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1193 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -321921298358758659, + "Planning Time": 135.578, + "Triggers": [ + ], + "Execution Time": 1462.686, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -321921298358758659, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND t.episode_nr >= 50
  AND t.episode_nr < 100
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4592.13, + "Total Cost": 4592.14, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 478.646, + "Actual Total Time": 478.804, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4592.09, + "Total Cost": 4592.10, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 478.626, + "Actual Total Time": 478.794, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4591.09, + "Total Cost": 4591.10, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 65.395, + "Actual Total Time": 65.401, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.918, + "Actual Total Time": 4.925, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.317, + "Actual Total Time": 6.323, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.124, + "Actual Total Time": 7.131, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.443, + "Actual Total Time": 4.450, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.836, + "Actual Total Time": 7.841, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.845, + "Actual Total Time": 7.852, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.095, + "Actual Total Time": 7.100, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 4590.81, + "Plan Rows": 55, + "Plan Width": 33, + "Actual Startup Time": 8.248, + "Actual Total Time": 65.361, + "Actual Rows": 48, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.912, + "Actual Total Time": 4.918, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.312, + "Actual Total Time": 6.317, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.119, + "Actual Total Time": 7.126, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.439, + "Actual Total Time": 4.446, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.830, + "Actual Total Time": 7.835, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.841, + "Actual Total Time": 7.848, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.090, + "Actual Total Time": 7.095, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 4569.06, + "Plan Rows": 46, + "Plan Width": 25, + "Actual Startup Time": 8.237, + "Actual Total Time": 63.868, + "Actual Rows": 40, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.912, + "Actual Total Time": 4.917, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.312, + "Actual Total Time": 6.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.118, + "Actual Total Time": 7.124, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.438, + "Actual Total Time": 4.444, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.830, + "Actual Total Time": 7.834, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.841, + "Actual Total Time": 7.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.089, + "Actual Total Time": 7.094, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 4548.46, + "Plan Rows": 46, + "Plan Width": 21, + "Actual Startup Time": 8.230, + "Actual Total Time": 63.357, + "Actual Rows": 40, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.911, + "Actual Total Time": 4.916, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.311, + "Actual Total Time": 6.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.118, + "Actual Total Time": 7.122, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.438, + "Actual Total Time": 4.443, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.829, + "Actual Total Time": 7.833, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.840, + "Actual Total Time": 7.845, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.089, + "Actual Total Time": 7.092, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 4543.06, + "Plan Rows": 4, + "Plan Width": 29, + "Actual Startup Time": 8.030, + "Actual Total Time": 62.569, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.911, + "Actual Total Time": 4.914, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.310, + "Actual Total Time": 6.314, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.117, + "Actual Total Time": 7.121, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.437, + "Actual Total Time": 4.441, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.828, + "Actual Total Time": 7.831, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.839, + "Actual Total Time": 7.843, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.088, + "Actual Total Time": 7.091, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 4539.52, + "Plan Rows": 8, + "Plan Width": 33, + "Actual Startup Time": 7.991, + "Actual Total Time": 62.463, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.910, + "Actual Total Time": 4.913, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.310, + "Actual Total Time": 6.312, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.116, + "Actual Total Time": 7.119, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.436, + "Actual Total Time": 4.440, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.828, + "Actual Total Time": 7.830, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.838, + "Actual Total Time": 7.841, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.087, + "Actual Total Time": 7.090, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4528.63, + "Plan Rows": 21, + "Plan Width": 25, + "Actual Startup Time": 7.385, + "Actual Total Time": 62.234, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.909, + "Actual Total Time": 4.911, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.309, + "Actual Total Time": 6.311, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.116, + "Actual Total Time": 7.117, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.436, + "Actual Total Time": 4.438, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.827, + "Actual Total Time": 7.829, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.837, + "Actual Total Time": 7.840, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.086, + "Actual Total Time": 7.088, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1761.59, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 5.966, + "Actual Total Time": 18.460, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.909, + "Actual Total Time": 4.910, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.309, + "Actual Total Time": 6.310, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.115, + "Actual Total Time": 7.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.435, + "Actual Total Time": 4.436, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.826, + "Actual Total Time": 7.827, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.836, + "Actual Total Time": 7.837, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.085, + "Actual Total Time": 7.086, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.946, + "Actual Total Time": 5.948, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.908, + "Actual Total Time": 4.908, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.307, + "Actual Total Time": 6.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.114, + "Actual Total Time": 7.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.434, + "Actual Total Time": 4.435, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.825, + "Actual Total Time": 7.826, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.836, + "Actual Total Time": 7.836, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.085, + "Actual Total Time": 7.085, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.136, + "Actual Total Time": 90.936, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.episode_nr >= 50) AND (t.episode_nr < 100))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 146, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 54, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 18, + "Plan Width": 8, + "Actual Startup Time": 0.136, + "Actual Total Time": 0.245, + "Actual Rows": 13, + "Actual Loops": 25, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 323, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 323, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 816913887554954199, + "Planning Time": 56.669, + "Triggers": [ + ], + "Execution Time": 481.858, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 816913887554954199, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 93520.15, + "Total Cost": 93520.16, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 12586.448, + "Actual Total Time": 12649.049, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 93520.10, + "Total Cost": 93520.11, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 12539.741, + "Actual Total Time": 12649.014, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 93519.10, + "Total Cost": 93519.11, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 12531.537, + "Actual Total Time": 12532.931, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12524.263, + "Actual Total Time": 12524.273, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12526.215, + "Actual Total Time": 12526.226, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12526.362, + "Actual Total Time": 12526.372, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12524.266, + "Actual Total Time": 12524.276, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12561.539, + "Actual Total Time": 12561.548, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12524.612, + "Actual Total Time": 12524.622, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12526.373, + "Actual Total Time": 12526.384, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 78145.39, + "Total Cost": 91199.98, + "Plan Rows": 463824, + "Plan Width": 33, + "Actual Startup Time": 11860.725, + "Actual Total Time": 12269.105, + "Actual Rows": 463824, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(an.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11858.200, + "Actual Total Time": 12260.656, + "Actual Rows": 466913, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11860.097, + "Actual Total Time": 12254.637, + "Actual Rows": 440198, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11860.226, + "Actual Total Time": 12263.690, + "Actual Rows": 472851, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11858.224, + "Actual Total Time": 12263.122, + "Actual Rows": 471184, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11858.062, + "Actual Total Time": 12301.075, + "Actual Rows": 469982, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11858.494, + "Actual Total Time": 12263.526, + "Actual Rows": 465731, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11860.197, + "Actual Total Time": 12265.703, + "Actual Rows": 441455, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.00, + "Total Cost": 12522.68, + "Plan Rows": 112668, + "Plan Width": 20, + "Actual Startup Time": 0.077, + "Actual Total Time": 42.734, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.069, + "Actual Total Time": 44.060, + "Actual Rows": 111700, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.083, + "Actual Total Time": 38.774, + "Actual Rows": 96637, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.071, + "Actual Total Time": 42.710, + "Actual Rows": 116438, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.086, + "Actual Total Time": 43.398, + "Actual Rows": 117753, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.105, + "Actual Total Time": 42.598, + "Actual Rows": 114955, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.086, + "Actual Total Time": 48.292, + "Actual Rows": 112337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.083, + "Actual Total Time": 43.356, + "Actual Rows": 109736, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 73087.26, + "Total Cost": 73087.26, + "Plan Rows": 404651, + "Plan Width": 25, + "Actual Startup Time": 11852.435, + "Actual Total Time": 11853.828, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 209760, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11857.680, + "Actual Total Time": 11857.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11859.562, + "Actual Total Time": 11859.571, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11859.754, + "Actual Total Time": 11859.762, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11857.679, + "Actual Total Time": 11857.687, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11857.669, + "Actual Total Time": 11857.676, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11858.062, + "Actual Total Time": 11858.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11859.776, + "Actual Total Time": 11859.785, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 48627.33, + "Total Cost": 73087.26, + "Plan Rows": 404651, + "Plan Width": 25, + "Actual Startup Time": 748.422, + "Actual Total Time": 1950.723, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 749.144, + "Actual Total Time": 749.152, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 749.140, + "Actual Total Time": 749.148, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 749.150, + "Actual Total Time": 749.158, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 749.143, + "Actual Total Time": 749.151, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 749.128, + "Actual Total Time": 749.135, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 749.134, + "Actual Total Time": 749.142, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 749.148, + "Actual Total Time": 749.156, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3496.48, + "Total Cost": 26894.20, + "Plan Rows": 404651, + "Plan Width": 21, + "Actual Startup Time": 31.244, + "Actual Total Time": 1013.831, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.987, + "Actual Total Time": 31.993, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.974, + "Actual Total Time": 31.980, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.977, + "Actual Total Time": 31.983, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.979, + "Actual Total Time": 31.985, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.969, + "Actual Total Time": 31.975, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.975, + "Actual Total Time": 31.981, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.985, + "Actual Total Time": 31.991, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3496.04, + "Total Cost": 11342.87, + "Plan Rows": 9759, + "Plan Width": 29, + "Actual Startup Time": 31.170, + "Actual Total Time": 169.127, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.985, + "Actual Total Time": 31.991, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.972, + "Actual Total Time": 31.978, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.975, + "Actual Total Time": 31.981, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.977, + "Actual Total Time": 31.983, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.968, + "Actual Total Time": 31.974, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.973, + "Actual Total Time": 31.979, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.984, + "Actual Total Time": 31.989, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 7792.41, + "Plan Rows": 21222, + "Plan Width": 33, + "Actual Startup Time": 6.230, + "Actual Total Time": 131.314, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.054, + "Actual Total Time": 7.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.051, + "Actual Total Time": 7.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.044, + "Actual Total Time": 7.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.040, + "Actual Total Time": 7.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.038, + "Actual Total Time": 7.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.041, + "Actual Total Time": 7.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.053, + "Actual Total Time": 7.056, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4498.74, + "Plan Rows": 5977, + "Plan Width": 25, + "Actual Startup Time": 6.215, + "Actual Total Time": 64.280, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.053, + "Actual Total Time": 7.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.050, + "Actual Total Time": 7.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.043, + "Actual Total Time": 7.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.039, + "Actual Total Time": 7.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.038, + "Actual Total Time": 7.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.040, + "Actual Total Time": 7.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.052, + "Actual Total Time": 7.054, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1761.59, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.210, + "Actual Total Time": 17.963, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.051, + "Actual Total Time": 7.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.049, + "Actual Total Time": 7.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.042, + "Actual Total Time": 7.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.037, + "Actual Total Time": 7.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.037, + "Actual Total Time": 7.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.039, + "Actual Total Time": 7.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.051, + "Actual Total Time": 7.052, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.198, + "Actual Total Time": 6.199, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.050, + "Actual Total Time": 7.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.048, + "Actual Total Time": 7.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.041, + "Actual Total Time": 7.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.037, + "Actual Total Time": 7.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.036, + "Actual Total Time": 7.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.038, + "Actual Total Time": 7.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.050, + "Actual Total Time": 7.050, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.086, + "Actual Total Time": 83.929, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.011, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 24.665, + "Actual Total Time": 24.666, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4416, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.883, + "Actual Total Time": 24.885, + "Actual Rows": 10503, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.840, + "Actual Total Time": 24.841, + "Actual Rows": 10676, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.856, + "Actual Total Time": 24.857, + "Actual Rows": 10629, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.877, + "Actual Total Time": 24.878, + "Actual Rows": 10554, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.879, + "Actual Total Time": 24.880, + "Actual Rows": 10633, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.259, + "Actual Total Time": 23.260, + "Actual Rows": 10683, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.861, + "Actual Total Time": 24.862, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 16.739, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.066, + "Actual Total Time": 16.821, + "Actual Rows": 10503, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.056, + "Actual Total Time": 16.605, + "Actual Rows": 10676, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 16.743, + "Actual Rows": 10629, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 16.755, + "Actual Rows": 10554, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 16.760, + "Actual Rows": 10633, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 16.714, + "Actual Rows": 10683, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 16.777, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.18, + "Plan Rows": 41, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.089, + "Actual Rows": 41, + "Actual Loops": 68316, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 38619.15, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 709.761, + "Actual Total Time": 709.762, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 195904, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 717.125, + "Actual Total Time": 717.126, + "Actual Rows": 512400, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 717.132, + "Actual Total Time": 717.132, + "Actual Rows": 507276, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 717.138, + "Actual Total Time": 717.139, + "Actual Rows": 557784, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 717.127, + "Actual Total Time": 717.127, + "Actual Rows": 505812, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 717.121, + "Actual Total Time": 717.122, + "Actual Rows": 512766, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 717.123, + "Actual Total Time": 717.124, + "Actual Rows": 505446, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 717.127, + "Actual Total Time": 717.128, + "Actual Rows": 511517, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 0.298, + "Actual Total Time": 233.075, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.128, + "Actual Total Time": 232.337, + "Actual Rows": 512400, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.336, + "Actual Total Time": 232.480, + "Actual Rows": 507276, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.438, + "Actual Total Time": 231.923, + "Actual Rows": 557784, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.192, + "Actual Total Time": 237.973, + "Actual Rows": 505812, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.435, + "Actual Total Time": 231.033, + "Actual Rows": 512766, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.227, + "Actual Total Time": 233.428, + "Actual Rows": 505446, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.551, + "Actual Total Time": 233.406, + "Actual Rows": 511517, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3350265702090035455, + "Planning Time": 48.619, + "Triggers": [ + ], + "Execution Time": 12651.617, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 3350265702090035455, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND t.episode_nr < 100
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 35269.12, + "Total Cost": 35269.13, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3118.099, + "Actual Total Time": 3121.668, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 35269.07, + "Total Cost": 35269.08, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 3113.788, + "Actual Total Time": 3121.630, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 35268.07, + "Total Cost": 35268.08, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3103.262, + "Actual Total Time": 3103.272, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3104.842, + "Actual Total Time": 3104.850, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3091.458, + "Actual Total Time": 3091.468, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3104.928, + "Actual Total Time": 3104.936, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3104.927, + "Actual Total Time": 3104.935, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3097.332, + "Actual Total Time": 3097.345, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3104.988, + "Actual Total Time": 3104.996, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3105.052, + "Actual Total Time": 3105.060, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 22114.37, + "Total Cost": 35068.11, + "Plan Rows": 39992, + "Plan Width": 33, + "Actual Startup Time": 2937.091, + "Actual Total Time": 3074.826, + "Actual Rows": 39992, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(an.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2940.163, + "Actual Total Time": 3076.873, + "Actual Rows": 45032, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2925.412, + "Actual Total Time": 3066.611, + "Actual Rows": 42673, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2938.874, + "Actual Total Time": 3077.379, + "Actual Rows": 45367, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2939.342, + "Actual Total Time": 3077.158, + "Actual Rows": 32985, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2928.354, + "Actual Total Time": 3068.429, + "Actual Rows": 34836, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2939.310, + "Actual Total Time": 3077.420, + "Actual Rows": 33159, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2938.933, + "Actual Total Time": 3071.465, + "Actual Rows": 38293, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.00, + "Total Cost": 12522.68, + "Plan Rows": 112668, + "Plan Width": 20, + "Actual Startup Time": 0.086, + "Actual Total Time": 44.351, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.052, + "Actual Total Time": 43.845, + "Actual Rows": 126866, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.089, + "Actual Total Time": 46.328, + "Actual Rows": 137826, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.089, + "Actual Total Time": 43.946, + "Actual Rows": 130424, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.108, + "Actual Total Time": 45.717, + "Actual Rows": 98050, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.110, + "Actual Total Time": 47.586, + "Actual Rows": 89636, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.108, + "Actual Total Time": 46.000, + "Actual Rows": 98034, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.095, + "Actual Total Time": 41.212, + "Actual Rows": 87678, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 21718.65, + "Total Cost": 21718.65, + "Plan Rows": 31658, + "Plan Width": 25, + "Actual Startup Time": 2935.598, + "Actual Total Time": 2935.605, + "Actual Rows": 27701, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Hash Buckets": 262144, + "Original Hash Buckets": 262144, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 16512, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2938.200, + "Actual Total Time": 2938.206, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2924.818, + "Actual Total Time": 2924.825, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2938.298, + "Actual Total Time": 2938.304, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2938.251, + "Actual Total Time": 2938.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2927.741, + "Actual Total Time": 2927.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2938.374, + "Actual Total Time": 2938.379, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2938.395, + "Actual Total Time": 2938.401, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 21718.65, + "Plan Rows": 31658, + "Plan Width": 25, + "Actual Startup Time": 6.655, + "Actual Total Time": 356.171, + "Actual Rows": 27701, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.839, + "Actual Total Time": 9.844, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.950, + "Actual Total Time": 9.956, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.866, + "Actual Total Time": 9.872, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.963, + "Actual Total Time": 9.968, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.955, + "Actual Total Time": 9.961, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 7540.70, + "Plan Rows": 31658, + "Plan Width": 21, + "Actual Startup Time": 6.648, + "Actual Total Time": 165.490, + "Actual Rows": 27701, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.839, + "Actual Total Time": 9.843, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.949, + "Actual Total Time": 9.954, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.865, + "Actual Total Time": 9.870, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.962, + "Actual Total Time": 9.966, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.954, + "Actual Total Time": 9.959, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 5770.81, + "Plan Rows": 1220, + "Plan Width": 29, + "Actual Startup Time": 6.640, + "Actual Total Time": 90.487, + "Actual Rows": 1067, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.838, + "Actual Total Time": 9.841, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.948, + "Actual Total Time": 9.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.864, + "Actual Total Time": 9.868, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.962, + "Actual Total Time": 9.965, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.953, + "Actual Total Time": 9.957, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 5051.39, + "Plan Rows": 1629, + "Plan Width": 33, + "Actual Startup Time": 6.520, + "Actual Total Time": 78.937, + "Actual Rows": 1426, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.837, + "Actual Total Time": 9.840, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.948, + "Actual Total Time": 9.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.863, + "Actual Total Time": 9.867, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.961, + "Actual Total Time": 9.963, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.953, + "Actual Total Time": 9.956, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4513.69, + "Plan Rows": 989, + "Plan Width": 25, + "Actual Startup Time": 6.499, + "Actual Total Time": 70.292, + "Actual Rows": 866, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.836, + "Actual Total Time": 9.838, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.947, + "Actual Total Time": 9.949, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.862, + "Actual Total Time": 9.865, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.960, + "Actual Total Time": 9.962, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.952, + "Actual Total Time": 9.954, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1761.59, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.492, + "Actual Total Time": 19.462, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.835, + "Actual Total Time": 9.837, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.946, + "Actual Total Time": 9.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.861, + "Actual Total Time": 9.863, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.959, + "Actual Total Time": 9.960, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.951, + "Actual Total Time": 9.953, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.478, + "Actual Total Time": 6.480, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.835, + "Actual Total Time": 9.835, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.945, + "Actual Total Time": 9.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.860, + "Actual Total Time": 9.861, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.958, + "Actual Total Time": 9.959, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.950, + "Actual Total Time": 9.951, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.094, + "Actual Total Time": 93.270, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.episode_nr < 100)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 2, + "Actual Loops": 6926, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 11406, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 26, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.062, + "Actual Rows": 26, + "Actual Loops": 8538, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 221609, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 607840843579539521, + "Planning Time": 65.838, + "Triggers": [ + ], + "Execution Time": 3125.501, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 607840843579539521, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND t.episode_nr >= 5
  AND t.episode_nr < 100
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29100.30, + "Total Cost": 29100.31, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3505.256, + "Actual Total Time": 3505.412, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29100.25, + "Total Cost": 29100.26, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 3505.237, + "Actual Total Time": 3505.403, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29099.25, + "Total Cost": 29099.26, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 445.298, + "Actual Total Time": 445.305, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.712, + "Actual Total Time": 8.717, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.619, + "Actual Total Time": 7.626, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.359, + "Actual Total Time": 8.367, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.305, + "Actual Total Time": 8.313, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.408, + "Actual Total Time": 8.416, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.325, + "Actual Total Time": 8.333, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.287, + "Actual Total Time": 8.295, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 28921.93, + "Plan Rows": 35465, + "Plan Width": 33, + "Actual Startup Time": 7.642, + "Actual Total Time": 431.560, + "Actual Rows": 31182, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.707, + "Actual Total Time": 8.711, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.614, + "Actual Total Time": 7.621, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.352, + "Actual Total Time": 8.359, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.299, + "Actual Total Time": 8.307, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.400, + "Actual Total Time": 8.408, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.317, + "Actual Total Time": 8.324, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.280, + "Actual Total Time": 8.287, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 17538.94, + "Plan Rows": 24069, + "Plan Width": 25, + "Actual Startup Time": 7.635, + "Actual Total Time": 252.713, + "Actual Rows": 21159, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.706, + "Actual Total Time": 8.710, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.613, + "Actual Total Time": 7.620, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.351, + "Actual Total Time": 8.358, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.299, + "Actual Total Time": 8.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.399, + "Actual Total Time": 8.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.316, + "Actual Total Time": 8.322, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.279, + "Actual Total Time": 8.285, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 6759.71, + "Plan Rows": 24069, + "Plan Width": 21, + "Actual Startup Time": 7.628, + "Actual Total Time": 110.617, + "Actual Rows": 21159, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.705, + "Actual Total Time": 8.708, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.613, + "Actual Total Time": 7.618, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.350, + "Actual Total Time": 8.356, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.297, + "Actual Total Time": 8.303, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.398, + "Actual Total Time": 8.404, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.315, + "Actual Total Time": 8.320, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.278, + "Actual Total Time": 8.283, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 5470.99, + "Plan Rows": 963, + "Plan Width": 29, + "Actual Startup Time": 7.620, + "Actual Total Time": 65.809, + "Actual Rows": 846, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.705, + "Actual Total Time": 8.708, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.612, + "Actual Total Time": 7.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.350, + "Actual Total Time": 8.354, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.296, + "Actual Total Time": 8.301, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.397, + "Actual Total Time": 8.401, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.315, + "Actual Total Time": 8.319, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.277, + "Actual Total Time": 8.281, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 4926.46, + "Plan Rows": 1233, + "Plan Width": 33, + "Actual Startup Time": 7.515, + "Actual Total Time": 57.864, + "Actual Rows": 1083, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.704, + "Actual Total Time": 8.706, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.611, + "Actual Total Time": 7.615, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.349, + "Actual Total Time": 8.352, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.295, + "Actual Total Time": 8.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.396, + "Actual Total Time": 8.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.314, + "Actual Total Time": 8.317, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.276, + "Actual Total Time": 8.279, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4528.63, + "Plan Rows": 767, + "Plan Width": 25, + "Actual Startup Time": 7.493, + "Actual Total Time": 51.962, + "Actual Rows": 673, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.704, + "Actual Total Time": 8.705, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.610, + "Actual Total Time": 7.613, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.347, + "Actual Total Time": 8.350, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.295, + "Actual Total Time": 8.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.395, + "Actual Total Time": 8.397, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.313, + "Actual Total Time": 8.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.275, + "Actual Total Time": 8.277, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1761.59, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 7.486, + "Actual Total Time": 14.120, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.703, + "Actual Total Time": 8.704, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.610, + "Actual Total Time": 7.611, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.347, + "Actual Total Time": 8.348, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.293, + "Actual Total Time": 8.294, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.394, + "Actual Total Time": 8.395, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.312, + "Actual Total Time": 8.314, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.274, + "Actual Total Time": 8.275, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 7.471, + "Actual Total Time": 7.472, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.702, + "Actual Total Time": 8.703, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.608, + "Actual Total Time": 7.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.345, + "Actual Total Time": 8.346, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.292, + "Actual Total Time": 8.292, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.392, + "Actual Total Time": 8.393, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.311, + "Actual Total Time": 8.312, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.272, + "Actual Total Time": 8.273, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.102, + "Actual Total Time": 44.711, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.episode_nr >= 5) AND (t.episode_nr < 100))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 2, + "Actual Loops": 5385, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 8661, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 17, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.045, + "Actual Rows": 25, + "Actual Loops": 6766, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 169273, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 169273, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 816913887554954199, + "Planning Time": 65.506, + "Triggers": [ + ], + "Execution Time": 3508.495, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 816913887554954199, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_american_movie,
       MIN(n.name) AS a1
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND n.name LIKE 'B%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 88027.11, + "Total Cost": 88027.12, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 7068.603, + "Actual Total Time": 7122.569, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 88027.08, + "Total Cost": 88027.09, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 354.286, + "Actual Total Time": 7122.540, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 88026.08, + "Total Cost": 88026.09, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1183.195, + "Actual Total Time": 1183.203, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 334.272, + "Actual Total Time": 334.278, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 345.359, + "Actual Total Time": 345.367, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 345.722, + "Actual Total Time": 345.730, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7057.882, + "Actual Total Time": 7057.892, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 345.681, + "Actual Total Time": 345.688, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 337.294, + "Actual Total Time": 337.302, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 345.843, + "Actual Total Time": 345.851, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 66208.74, + "Total Cost": 87933.84, + "Plan Rows": 36898, + "Plan Width": 15, + "Actual Startup Time": 344.187, + "Actual Total Time": 1172.349, + "Actual Rows": 32286, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 334.268, + "Actual Total Time": 334.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 345.355, + "Actual Total Time": 345.362, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 345.717, + "Actual Total Time": 345.724, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 345.848, + "Actual Total Time": 6971.092, + "Actual Rows": 258289, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 345.676, + "Actual Total Time": 345.682, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 337.290, + "Actual Total Time": 337.298, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 345.838, + "Actual Total Time": 345.845, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62714.00, + "Total Cost": 84175.52, + "Plan Rows": 100407, + "Plan Width": 19, + "Actual Startup Time": 315.993, + "Actual Total Time": 1115.601, + "Actual Rows": 87856, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 316.213, + "Actual Total Time": 316.218, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 316.180, + "Actual Total Time": 316.186, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 316.189, + "Actual Total Time": 316.195, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 315.184, + "Actual Total Time": 6712.006, + "Actual Rows": 702849, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 316.169, + "Actual Total Time": 316.173, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 315.647, + "Actual Total Time": 315.652, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 316.148, + "Actual Total Time": 316.153, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62713.57, + "Total Cost": 76594.45, + "Plan Rows": 13331, + "Plan Width": 27, + "Actual Startup Time": 315.536, + "Actual Total Time": 958.707, + "Actual Rows": 11664, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 316.212, + "Actual Total Time": 316.216, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 316.179, + "Actual Total Time": 316.184, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 316.188, + "Actual Total Time": 316.193, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 311.533, + "Actual Total Time": 5456.865, + "Actual Rows": 93315, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 316.168, + "Actual Total Time": 316.172, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 315.646, + "Actual Total Time": 315.651, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 316.147, + "Actual Total Time": 316.152, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 13492.79, + "Plan Rows": 148342, + "Plan Width": 16, + "Actual Startup Time": 6.236, + "Actual Total Time": 587.401, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.830, + "Actual Total Time": 6.832, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.817, + "Actual Total Time": 6.820, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.816, + "Actual Total Time": 6.819, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.186, + "Actual Total Time": 4651.488, + "Actual Rows": 1038393, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.796, + "Actual Total Time": 6.798, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.813, + "Actual Total Time": 6.816, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.793, + "Actual Total Time": 6.795, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4446.38, + "Plan Rows": 5977, + "Plan Width": 8, + "Actual Startup Time": 6.025, + "Actual Total Time": 53.061, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.828, + "Actual Total Time": 6.830, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.816, + "Actual Total Time": 6.818, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.815, + "Actual Total Time": 6.817, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.507, + "Actual Total Time": 376.779, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.795, + "Actual Total Time": 6.797, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.812, + "Actual Total Time": 6.814, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.792, + "Actual Total Time": 6.794, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1761.59, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.013, + "Actual Total Time": 15.998, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.828, + "Actual Total Time": 6.828, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.815, + "Actual Total Time": 6.816, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.814, + "Actual Total Time": 6.815, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.423, + "Actual Total Time": 80.294, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.794, + "Actual Total Time": 6.795, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.811, + "Actual Total Time": 6.812, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.791, + "Actual Total Time": 6.793, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.997, + "Actual Total Time": 5.998, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.827, + "Actual Total Time": 6.827, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.814, + "Actual Total Time": 6.815, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.813, + "Actual Total Time": 6.814, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.297, + "Actual Total Time": 0.304, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.792, + "Actual Total Time": 6.793, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.810, + "Actual Total Time": 6.810, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.790, + "Actual Total Time": 6.791, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.119, + "Actual Total Time": 70.134, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.119, + "Actual Total Time": 70.134, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id"], + "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.18, + "Plan Rows": 33, + "Plan Width": 8, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.096, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.096, + "Actual Rows": 25, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 62175.70, + "Total Cost": 62175.70, + "Plan Rows": 42925, + "Plan Width": 19, + "Actual Startup Time": 308.005, + "Actual Total Time": 308.006, + "Actual Rows": 42925, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 524288, + "Original Hash Buckets": 524288, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 22880, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 299.286, + "Actual Total Time": 299.287, + "Actual Rows": 44464, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 309.325, + "Actual Total Time": 309.326, + "Actual Rows": 39933, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 309.335, + "Actual Total Time": 309.336, + "Actual Rows": 42030, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 309.308, + "Actual Total Time": 309.309, + "Actual Rows": 44008, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 309.339, + "Actual Total Time": 309.340, + "Actual Rows": 37418, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 308.795, + "Actual Total Time": 308.796, + "Actual Rows": 42087, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 309.319, + "Actual Total Time": 309.320, + "Actual Rows": 47932, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 62175.70, + "Plan Rows": 42925, + "Plan Width": 19, + "Actual Startup Time": 27.178, + "Actual Total Time": 260.050, + "Actual Rows": 42925, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Filter": "(n.name ~~ 'B%'::text)", + "Rows Removed by Filter": 478012, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.953, + "Actual Total Time": 259.073, + "Actual Rows": 44464, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.536, + "Actual Total Time": 261.707, + "Actual Rows": 39933, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.869, + "Actual Total Time": 261.422, + "Actual Rows": 42030, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.842, + "Actual Total Time": 258.189, + "Actual Rows": 44008, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.845, + "Actual Total Time": 263.729, + "Actual Rows": 37418, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.168, + "Actual Total Time": 261.963, + "Actual Rows": 42087, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.783, + "Actual Total Time": 255.786, + "Actual Rows": 47932, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.011, + "Actual Rows": 8, + "Actual Loops": 93315, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.011, + "Actual Rows": 8, + "Actual Loops": 93315 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 27.278, + "Actual Total Time": 27.279, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4448, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.691, + "Actual Total Time": 17.691, + "Actual Rows": 3610, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.877, + "Actual Total Time": 28.878, + "Actual Rows": 13767, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.236, + "Actual Total Time": 29.237, + "Actual Rows": 12798, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.347, + "Actual Total Time": 29.347, + "Actual Rows": 11868, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.166, + "Actual Total Time": 29.167, + "Actual Rows": 12622, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.720, + "Actual Total Time": 20.721, + "Actual Rows": 8151, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.369, + "Actual Total Time": 29.370, + "Actual Rows": 7208, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 20.084, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 15.246, + "Actual Rows": 3610, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 20.506, + "Actual Rows": 13767, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 20.305, + "Actual Rows": 12798, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 19.391, + "Actual Rows": 11868, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 20.698, + "Actual Rows": 12622, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.045, + "Actual Total Time": 15.422, + "Actual Rows": 8151, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 24.892, + "Actual Rows": 7208, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -917204397272063480, + "Planning Time": 33.426, + "Triggers": [ + ], + "Execution Time": 7125.295, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -917204397272063480, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie,
       MIN(n.name) AS a1
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE 'Z%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76573.15, + "Total Cost": 76573.16, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3988.794, + "Actual Total Time": 4035.564, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76573.12, + "Total Cost": 76573.13, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 290.247, + "Actual Total Time": 4035.537, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76572.12, + "Total Cost": 76572.13, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 743.359, + "Actual Total Time": 743.369, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 278.802, + "Actual Total Time": 278.810, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 279.652, + "Actual Total Time": 279.660, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3977.950, + "Actual Total Time": 3977.960, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 280.610, + "Actual Total Time": 280.618, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 280.070, + "Actual Total Time": 280.079, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 280.576, + "Actual Total Time": 280.585, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 280.087, + "Actual Total Time": 280.095, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 65135.98, + "Total Cost": 76553.47, + "Plan Rows": 7462, + "Plan Width": 15, + "Actual Startup Time": 280.891, + "Actual Total Time": 741.290, + "Actual Rows": 6538, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 278.798, + "Actual Total Time": 278.806, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 279.647, + "Actual Total Time": 279.655, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 278.242, + "Actual Total Time": 3961.371, + "Actual Rows": 52306, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 280.605, + "Actual Total Time": 280.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 280.065, + "Actual Total Time": 280.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 280.570, + "Actual Total Time": 280.580, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 280.080, + "Actual Total Time": 280.088, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62233.92, + "Total Cost": 73631.80, + "Plan Rows": 7472, + "Plan Width": 19, + "Actual Startup Time": 230.545, + "Actual Total Time": 686.104, + "Actual Rows": 6538, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 230.310, + "Actual Total Time": 230.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 230.306, + "Actual Total Time": 230.312, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 227.916, + "Actual Total Time": 3872.345, + "Actual Rows": 52306, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 230.303, + "Actual Total Time": 230.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 230.321, + "Actual Total Time": 230.328, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 230.328, + "Actual Total Time": 230.335, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 234.528, + "Actual Total Time": 234.534, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62233.49, + "Total Cost": 73090.14, + "Plan Rows": 949, + "Plan Width": 27, + "Actual Startup Time": 230.533, + "Actual Total Time": 672.773, + "Actual Rows": 830, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 230.309, + "Actual Total Time": 230.314, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 230.305, + "Actual Total Time": 230.310, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 227.834, + "Actual Total Time": 3765.712, + "Actual Rows": 6642, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 230.301, + "Actual Total Time": 230.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 230.320, + "Actual Total Time": 230.326, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 230.327, + "Actual Total Time": 230.333, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 234.527, + "Actual Total Time": 234.532, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62233.06, + "Total Cost": 72665.71, + "Plan Rows": 948, + "Plan Width": 23, + "Actual Startup Time": 230.515, + "Actual Total Time": 666.196, + "Actual Rows": 830, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 230.308, + "Actual Total Time": 230.312, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 230.304, + "Actual Total Time": 230.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 227.694, + "Actual Total Time": 3713.104, + "Actual Rows": 6642, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 230.301, + "Actual Total Time": 230.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 230.319, + "Actual Total Time": 230.324, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 230.326, + "Actual Total Time": 230.331, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 234.526, + "Actual Total Time": 234.530, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 10044.12, + "Plan Rows": 148342, + "Plan Width": 12, + "Actual Startup Time": 6.649, + "Actual Total Time": 396.825, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.520, + "Actual Total Time": 7.522, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.501, + "Actual Total Time": 7.504, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.582, + "Actual Total Time": 3121.972, + "Actual Rows": 1038393, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.496, + "Actual Total Time": 7.498, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.513, + "Actual Total Time": 7.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.523, + "Actual Total Time": 7.526, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.529, + "Actual Total Time": 7.531, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1761.59, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.637, + "Actual Total Time": 16.168, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.519, + "Actual Total Time": 7.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.500, + "Actual Total Time": 7.502, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.489, + "Actual Total Time": 76.730, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.495, + "Actual Total Time": 7.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.512, + "Actual Total Time": 7.515, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.522, + "Actual Total Time": 7.524, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.527, + "Actual Total Time": 7.529, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.617, + "Actual Total Time": 6.618, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.518, + "Actual Total Time": 7.518, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.499, + "Actual Total Time": 7.500, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.335, + "Actual Total Time": 0.341, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.494, + "Actual Total Time": 7.495, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.511, + "Actual Total Time": 7.512, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.521, + "Actual Total Time": 7.522, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.526, + "Actual Total Time": 7.527, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.146, + "Actual Total Time": 67.582, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.146, + "Actual Total Time": 67.582, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 26, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.067, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.067, + "Actual Rows": 25, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 62175.70, + "Total Cost": 62175.70, + "Plan Rows": 4519, + "Plan Width": 19, + "Actual Startup Time": 223.163, + "Actual Total Time": 223.164, + "Actual Rows": 4522, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2624, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 222.755, + "Actual Total Time": 222.756, + "Actual Rows": 5409, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 222.767, + "Actual Total Time": 222.768, + "Actual Rows": 8075, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 222.771, + "Actual Total Time": 222.772, + "Actual Rows": 3627, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 222.766, + "Actual Total Time": 222.767, + "Actual Rows": 4531, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 222.771, + "Actual Total Time": 222.772, + "Actual Rows": 3703, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 222.770, + "Actual Total Time": 222.772, + "Actual Rows": 3117, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 225.946, + "Actual Total Time": 225.946, + "Actual Rows": 5315, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 62175.70, + "Plan Rows": 4519, + "Plan Width": 19, + "Actual Startup Time": 27.674, + "Actual Total Time": 218.525, + "Actual Rows": 4522, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Filter": "(n.name ~~ 'Z%'::text)", + "Rows Removed by Filter": 516415, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.971, + "Actual Total Time": 214.719, + "Actual Rows": 5409, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.852, + "Actual Total Time": 214.139, + "Actual Rows": 8075, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.287, + "Actual Total Time": 220.072, + "Actual Rows": 3627, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.604, + "Actual Total Time": 219.381, + "Actual Rows": 4531, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.844, + "Actual Total Time": 220.088, + "Actual Rows": 3703, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.067, + "Actual Total Time": 220.443, + "Actual Rows": 3117, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.808, + "Actual Total Time": 222.096, + "Actual Rows": 5315, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 6642, + "Output": ["t.id"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 6642 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 7, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.014, + "Actual Rows": 8, + "Actual Loops": 6642, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.014, + "Actual Rows": 8, + "Actual Loops": 6642 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 2482.42, + "Total Cost": 2482.42, + "Plan Rows": 33571, + "Plan Width": 4, + "Actual Startup Time": 45.694, + "Actual Total Time": 45.695, + "Actual Rows": 29375, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 262144, + "Original Hash Buckets": 262144, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 11360, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 44.015, + "Actual Total Time": 44.016, + "Actual Rows": 28169, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.867, + "Actual Total Time": 44.868, + "Actual Rows": 34773, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 45.836, + "Actual Total Time": 45.836, + "Actual Rows": 31148, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 45.841, + "Actual Total Time": 45.842, + "Actual Rows": 34889, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 45.269, + "Actual Total Time": 45.270, + "Actual Rows": 24490, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 45.789, + "Actual Total Time": 45.790, + "Actual Rows": 27544, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 45.264, + "Actual Total Time": 45.265, + "Actual Rows": 32000, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 2482.42, + "Plan Rows": 33571, + "Plan Width": 4, + "Actual Startup Time": 0.081, + "Actual Total Time": 16.552, + "Actual Rows": 29375, + "Actual Loops": 8, + "Output": ["cn.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.078, + "Actual Total Time": 14.068, + "Actual Rows": 28169, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.062, + "Actual Total Time": 14.465, + "Actual Rows": 34773, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.079, + "Actual Total Time": 14.026, + "Actual Rows": 31148, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.143, + "Actual Total Time": 16.869, + "Actual Rows": 34889, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.103, + "Actual Total Time": 19.727, + "Actual Rows": 24490, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.068, + "Actual Total Time": 19.458, + "Actual Rows": 27544, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.071, + "Actual Total Time": 16.348, + "Actual Rows": 32000, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5459870143170781696, + "Planning Time": 34.054, + "Triggers": [ + ], + "Execution Time": 4039.508, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -5459870143170781696, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie,
       MIN(n.name) AS a1
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE 'X%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 72878.66, + "Total Cost": 72878.67, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3750.560, + "Actual Total Time": 3796.915, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 72878.63, + "Total Cost": 72878.64, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 251.017, + "Actual Total Time": 3796.887, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 72877.63, + "Total Cost": 72877.64, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 678.128, + "Actual Total Time": 678.136, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 231.728, + "Actual Total Time": 231.738, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 237.678, + "Actual Total Time": 237.686, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 242.625, + "Actual Total Time": 242.631, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 237.687, + "Actual Total Time": 237.694, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 240.823, + "Actual Total Time": 240.830, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 242.850, + "Actual Total Time": 242.856, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3742.095, + "Actual Total Time": 3742.100, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62182.02, + "Total Cost": 72876.94, + "Plan Rows": 274, + "Plan Width": 15, + "Actual Startup Time": 246.991, + "Actual Total Time": 677.948, + "Actual Rows": 240, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 231.721, + "Actual Total Time": 231.729, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 237.673, + "Actual Total Time": 237.679, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 242.621, + "Actual Total Time": 242.627, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 237.683, + "Actual Total Time": 237.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 240.817, + "Actual Total Time": 240.824, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 242.845, + "Actual Total Time": 242.851, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 293.037, + "Actual Total Time": 3740.641, + "Actual Rows": 1918, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62181.59, + "Total Cost": 72754.27, + "Plan Rows": 274, + "Plan Width": 27, + "Actual Startup Time": 246.982, + "Actual Total Time": 676.442, + "Actual Rows": 240, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 231.719, + "Actual Total Time": 231.727, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 237.672, + "Actual Total Time": 237.678, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 242.620, + "Actual Total Time": 242.625, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 237.682, + "Actual Total Time": 237.688, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 240.815, + "Actual Total Time": 240.821, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 242.844, + "Actual Total Time": 242.849, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 292.975, + "Actual Total Time": 3728.605, + "Actual Rows": 1918, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62181.17, + "Total Cost": 72634.29, + "Plan Rows": 274, + "Plan Width": 31, + "Actual Startup Time": 246.974, + "Actual Total Time": 674.668, + "Actual Rows": 240, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mc.company_id", "mk.movie_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 231.718, + "Actual Total Time": 231.725, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 237.671, + "Actual Total Time": 237.676, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 242.620, + "Actual Total Time": 242.624, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 237.682, + "Actual Total Time": 237.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 240.815, + "Actual Total Time": 240.820, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 242.843, + "Actual Total Time": 242.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 292.911, + "Actual Total Time": 3714.425, + "Actual Rows": 1918, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62180.74, + "Total Cost": 72613.39, + "Plan Rows": 36, + "Plan Width": 23, + "Actual Startup Time": 246.960, + "Actual Total Time": 673.845, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 231.717, + "Actual Total Time": 231.723, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 237.671, + "Actual Total Time": 237.675, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 242.619, + "Actual Total Time": 242.622, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 237.681, + "Actual Total Time": 237.685, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 240.813, + "Actual Total Time": 240.818, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 242.843, + "Actual Total Time": 242.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 292.808, + "Actual Total Time": 3707.858, + "Actual Rows": 250, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 10044.12, + "Plan Rows": 148342, + "Plan Width": 12, + "Actual Startup Time": 6.623, + "Actual Total Time": 405.326, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.111, + "Actual Total Time": 7.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.867, + "Actual Total Time": 7.869, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.917, + "Actual Total Time": 7.918, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.889, + "Actual Total Time": 7.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.877, + "Actual Total Time": 7.879, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.830, + "Actual Total Time": 5.832, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.619, + "Actual Total Time": 3190.227, + "Actual Rows": 1038393, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1761.59, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.611, + "Actual Total Time": 16.417, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.110, + "Actual Total Time": 7.112, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.865, + "Actual Total Time": 7.867, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.916, + "Actual Total Time": 7.916, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.888, + "Actual Total Time": 7.889, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.875, + "Actual Total Time": 7.877, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.829, + "Actual Total Time": 5.829, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.534, + "Actual Total Time": 78.973, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.594, + "Actual Total Time": 6.595, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.109, + "Actual Total Time": 7.109, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.864, + "Actual Total Time": 7.865, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.915, + "Actual Total Time": 7.915, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.887, + "Actual Total Time": 7.887, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.874, + "Actual Total Time": 7.874, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.827, + "Actual Total Time": 5.827, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.403, + "Actual Total Time": 0.410, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.125, + "Actual Total Time": 69.209, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.125, + "Actual Total Time": 69.209, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 26, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.068, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.068, + "Actual Rows": 25, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 62175.70, + "Total Cost": 62175.70, + "Plan Rows": 333, + "Plan Width": 19, + "Actual Startup Time": 231.010, + "Actual Total Time": 231.011, + "Actual Rows": 333, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 4096, + "Original Hash Buckets": 4096, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 320, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 221.751, + "Actual Total Time": 221.753, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 227.777, + "Actual Total Time": 227.778, + "Actual Rows": 1816, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 234.414, + "Actual Total Time": 234.415, + "Actual Rows": 246, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 227.750, + "Actual Total Time": 227.751, + "Actual Rows": 191, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 230.907, + "Actual Total Time": 230.908, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 232.940, + "Actual Total Time": 232.941, + "Actual Rows": 196, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 233.123, + "Actual Total Time": 233.124, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 62175.70, + "Plan Rows": 333, + "Plan Width": 19, + "Actual Startup Time": 122.072, + "Actual Total Time": 230.295, + "Actual Rows": 333, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Filter": "(n.name ~~ 'X%'::text)", + "Rows Removed by Filter": 520603, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 112.645, + "Actual Total Time": 221.368, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.683, + "Actual Total Time": 226.280, + "Actual Rows": 1816, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 121.356, + "Actual Total Time": 232.249, + "Actual Rows": 246, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.010, + "Actual Total Time": 227.339, + "Actual Rows": 191, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 117.335, + "Actual Total Time": 230.539, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 109.180, + "Actual Total Time": 232.513, + "Actual Rows": 196, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 232.710, + "Actual Total Time": 232.710, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 8, + "Plan Width": 8, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.022, + "Actual Rows": 8, + "Actual Loops": 250, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.022, + "Actual Rows": 8, + "Actual Loops": 250 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1918, + "Output": ["cn.id"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1918 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1918, + "Output": ["t.id"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1918 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5459870143170781696, + "Planning Time": 35.836, + "Triggers": [ + ], + "Execution Time": 3800.994, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -5459870143170781696, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE '%Bert%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73629.42, + "Total Cost": 73629.43, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 3829.431, + "Actual Total Time": 3829.695, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73629.39, + "Total Cost": 73629.40, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 3829.410, + "Actual Total Time": 3829.687, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73628.39, + "Total Cost": 73628.40, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 720.668, + "Actual Total Time": 720.675, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 276.925, + "Actual Total Time": 276.932, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 279.443, + "Actual Total Time": 279.450, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 276.942, + "Actual Total Time": 276.950, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 279.465, + "Actual Total Time": 279.471, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 279.395, + "Actual Total Time": 279.404, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 270.588, + "Actual Total Time": 270.594, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 275.516, + "Actual Total Time": 275.522, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62186.02, + "Total Cost": 73624.27, + "Plan Rows": 1650, + "Plan Width": 15, + "Actual Startup Time": 280.625, + "Actual Total Time": 719.943, + "Actual Rows": 1442, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 276.920, + "Actual Total Time": 276.926, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 279.439, + "Actual Total Time": 279.446, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 276.938, + "Actual Total Time": 276.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 279.459, + "Actual Total Time": 279.464, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 279.390, + "Actual Total Time": 279.397, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 270.583, + "Actual Total Time": 270.589, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 275.512, + "Actual Total Time": 275.517, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62185.60, + "Total Cost": 72901.78, + "Plan Rows": 1650, + "Plan Width": 19, + "Actual Startup Time": 280.621, + "Actual Total Time": 710.497, + "Actual Rows": 1442, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 276.919, + "Actual Total Time": 276.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 279.438, + "Actual Total Time": 279.443, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 276.937, + "Actual Total Time": 276.944, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 279.458, + "Actual Total Time": 279.463, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 279.389, + "Actual Total Time": 279.396, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 270.582, + "Actual Total Time": 270.587, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 275.510, + "Actual Total Time": 275.515, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62185.17, + "Total Cost": 72743.64, + "Plan Rows": 282, + "Plan Width": 27, + "Actual Startup Time": 280.616, + "Actual Total Time": 705.922, + "Actual Rows": 246, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 276.918, + "Actual Total Time": 276.923, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 279.437, + "Actual Total Time": 279.442, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 276.936, + "Actual Total Time": 276.942, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 279.457, + "Actual Total Time": 279.461, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 279.388, + "Actual Total Time": 279.394, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 270.581, + "Actual Total Time": 270.585, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 275.510, + "Actual Total Time": 275.514, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62184.74, + "Total Cost": 72617.39, + "Plan Rows": 282, + "Plan Width": 23, + "Actual Startup Time": 280.611, + "Actual Total Time": 703.492, + "Actual Rows": 246, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 276.918, + "Actual Total Time": 276.922, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 279.437, + "Actual Total Time": 279.441, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 276.936, + "Actual Total Time": 276.941, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 279.456, + "Actual Total Time": 279.460, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 279.387, + "Actual Total Time": 279.393, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 270.580, + "Actual Total Time": 270.583, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 275.509, + "Actual Total Time": 275.513, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 10044.12, + "Plan Rows": 148342, + "Plan Width": 12, + "Actual Startup Time": 6.683, + "Actual Total Time": 395.449, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.863, + "Actual Total Time": 7.865, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.873, + "Actual Total Time": 7.875, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.878, + "Actual Total Time": 7.881, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.748, + "Actual Total Time": 5.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.836, + "Actual Total Time": 7.839, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.858, + "Actual Total Time": 7.860, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.842, + "Actual Total Time": 7.844, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1761.59, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.675, + "Actual Total Time": 16.188, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.861, + "Actual Total Time": 7.863, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.872, + "Actual Total Time": 7.873, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.877, + "Actual Total Time": 7.878, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.746, + "Actual Total Time": 5.747, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.835, + "Actual Total Time": 7.837, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.857, + "Actual Total Time": 7.858, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.841, + "Actual Total Time": 7.842, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.660, + "Actual Total Time": 6.661, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.859, + "Actual Total Time": 7.860, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.871, + "Actual Total Time": 7.872, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.876, + "Actual Total Time": 7.876, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.745, + "Actual Total Time": 5.745, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.834, + "Actual Total Time": 7.835, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.856, + "Actual Total Time": 7.856, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.839, + "Actual Total Time": 7.839, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.107, + "Actual Total Time": 67.163, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 26, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.067, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 62175.70, + "Total Cost": 62175.70, + "Plan Rows": 653, + "Plan Width": 19, + "Actual Startup Time": 269.658, + "Actual Total Time": 269.659, + "Actual Rows": 652, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 8192, + "Original Hash Buckets": 8192, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 448, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 268.798, + "Actual Total Time": 268.799, + "Actual Rows": 307, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 271.310, + "Actual Total Time": 271.310, + "Actual Rows": 553, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 268.803, + "Actual Total Time": 268.804, + "Actual Rows": 1443, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 271.391, + "Actual Total Time": 271.392, + "Actual Rows": 1112, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 271.298, + "Actual Total Time": 271.300, + "Actual Rows": 580, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 262.437, + "Actual Total Time": 262.438, + "Actual Rows": 242, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 267.388, + "Actual Total Time": 267.388, + "Actual Rows": 585, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 62175.70, + "Plan Rows": 653, + "Plan Width": 19, + "Actual Startup Time": 0.545, + "Actual Total Time": 266.621, + "Actual Rows": 652, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Filter": "(n.name ~~ '%Bert%'::text)", + "Rows Removed by Filter": 520284, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.100, + "Actual Total Time": 267.991, + "Actual Rows": 307, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.109, + "Actual Total Time": 270.308, + "Actual Rows": 553, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.395, + "Actual Total Time": 267.147, + "Actual Rows": 1443, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.571, + "Actual Total Time": 270.166, + "Actual Rows": 1112, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.093, + "Actual Total Time": 270.304, + "Actual Rows": 580, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.278, + "Actual Total Time": 245.698, + "Actual Rows": 242, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.754, + "Actual Total Time": 266.447, + "Actual Rows": 585, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1972, + "Output": ["t.id"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 6, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.016, + "Actual Rows": 6, + "Actual Loops": 1972, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 11538, + "Output": ["cn.id"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3199076743843001296, + "Planning Time": 30.420, + "Triggers": [ + ], + "Execution Time": 3831.605, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 3199076743843001296, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 96301.76, + "Total Cost": 96301.77, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 8832.436, + "Actual Total Time": 8887.484, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 96301.73, + "Total Cost": 96301.74, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 769.720, + "Actual Total Time": 8887.452, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 96300.73, + "Total Cost": 96300.74, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1760.154, + "Actual Total Time": 1760.163, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 752.405, + "Actual Total Time": 752.413, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 751.908, + "Actual Total Time": 751.917, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 752.036, + "Actual Total Time": 752.044, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8800.837, + "Actual Total Time": 8800.846, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 751.909, + "Actual Total Time": 751.918, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 752.392, + "Actual Total Time": 752.399, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 750.995, + "Actual Total Time": 751.003, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 70881.54, + "Total Cost": 95289.10, + "Plan Rows": 404651, + "Plan Width": 15, + "Actual Startup Time": 753.334, + "Actual Total Time": 1671.036, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 752.401, + "Actual Total Time": 752.409, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 751.904, + "Actual Total Time": 751.912, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 752.031, + "Actual Total Time": 752.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 746.310, + "Actual Total Time": 8087.863, + "Actual Rows": 2832555, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 751.904, + "Actual Total Time": 751.913, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 752.386, + "Actual Total Time": 752.393, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 750.991, + "Actual Total Time": 750.999, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3496.48, + "Total Cost": 26841.83, + "Plan Rows": 404651, + "Plan Width": 4, + "Actual Startup Time": 31.195, + "Actual Total Time": 747.466, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.967, + "Actual Total Time": 31.973, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.954, + "Actual Total Time": 31.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.941, + "Actual Total Time": 31.946, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.859, + "Actual Total Time": 5755.979, + "Actual Rows": 2832555, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.952, + "Actual Total Time": 31.959, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.957, + "Actual Total Time": 31.962, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.956, + "Actual Total Time": 31.962, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3496.04, + "Total Cost": 11290.50, + "Plan Rows": 9759, + "Plan Width": 12, + "Actual Startup Time": 31.121, + "Actual Total Time": 140.458, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.966, + "Actual Total Time": 31.971, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.952, + "Actual Total Time": 31.958, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.940, + "Actual Total Time": 31.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.277, + "Actual Total Time": 899.932, + "Actual Rows": 68316, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.951, + "Actual Total Time": 31.957, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.956, + "Actual Total Time": 31.960, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.955, + "Actual Total Time": 31.960, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 7740.05, + "Plan Rows": 21222, + "Plan Width": 16, + "Actual Startup Time": 6.645, + "Actual Total Time": 105.446, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.495, + "Actual Total Time": 7.498, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.476, + "Actual Total Time": 7.479, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.470, + "Actual Total Time": 7.473, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.751, + "Actual Total Time": 791.141, + "Actual Rows": 148552, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.489, + "Actual Total Time": 7.492, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.488, + "Actual Total Time": 7.490, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.497, + "Actual Total Time": 7.500, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4446.38, + "Plan Rows": 5977, + "Plan Width": 8, + "Actual Startup Time": 6.623, + "Actual Total Time": 51.130, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.494, + "Actual Total Time": 7.496, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.475, + "Actual Total Time": 7.477, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.469, + "Actual Total Time": 7.471, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.583, + "Actual Total Time": 356.625, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.488, + "Actual Total Time": 7.490, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.486, + "Actual Total Time": 7.488, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.496, + "Actual Total Time": 7.498, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1761.59, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.611, + "Actual Total Time": 17.189, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.493, + "Actual Total Time": 7.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.474, + "Actual Total Time": 7.475, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.468, + "Actual Total Time": 7.470, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.492, + "Actual Total Time": 85.109, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.487, + "Actual Total Time": 7.488, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.486, + "Actual Total Time": 7.486, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.495, + "Actual Total Time": 7.496, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.591, + "Actual Total Time": 6.592, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.492, + "Actual Total Time": 7.492, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.473, + "Actual Total Time": 7.473, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.467, + "Actual Total Time": 7.468, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.343, + "Actual Total Time": 0.350, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.486, + "Actual Total Time": 7.487, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.484, + "Actual Total Time": 7.485, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.494, + "Actual Total Time": 7.494, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.141, + "Actual Total Time": 75.953, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.141, + "Actual Total Time": 75.953, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id"], + "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 4, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 24.265, + "Actual Total Time": 24.266, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4480, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.424, + "Actual Total Time": 24.426, + "Actual Rows": 10701, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.425, + "Actual Total Time": 24.427, + "Actual Rows": 10459, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.142, + "Actual Total Time": 23.144, + "Actual Rows": 10806, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.435, + "Actual Total Time": 24.436, + "Actual Rows": 10595, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.419, + "Actual Total Time": 24.421, + "Actual Rows": 10187, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 24.434, + "Actual Total Time": 24.435, + "Actual Rows": 10701, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.419, + "Actual Total Time": 24.421, + "Actual Rows": 10770, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 16.663, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.065, + "Actual Total Time": 16.685, + "Actual Rows": 10701, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.056, + "Actual Total Time": 16.732, + "Actual Rows": 10459, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.056, + "Actual Total Time": 16.636, + "Actual Rows": 10806, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.063, + "Actual Total Time": 16.716, + "Actual Rows": 10595, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 16.627, + "Actual Rows": 10187, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.062, + "Actual Total Time": 16.667, + "Actual Rows": 10701, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 16.600, + "Actual Rows": 10770, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.18, + "Plan Rows": 41, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.063, + "Actual Rows": 41, + "Actual Loops": 68316, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.063, + "Actual Rows": 41, + "Actual Loops": 68316 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 60873.36, + "Total Cost": 60873.36, + "Plan Rows": 520936, + "Plan Width": 19, + "Actual Startup Time": 711.991, + "Actual Total Time": 711.991, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 259008, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 720.136, + "Actual Total Time": 720.137, + "Actual Rows": 538840, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 719.670, + "Actual Total Time": 719.671, + "Actual Rows": 517686, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 719.870, + "Actual Total Time": 719.870, + "Actual Rows": 536919, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 720.132, + "Actual Total Time": 720.132, + "Actual Rows": 501838, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 719.672, + "Actual Total Time": 719.673, + "Actual Rows": 525689, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 720.144, + "Actual Total Time": 720.144, + "Actual Rows": 500683, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 718.747, + "Actual Total Time": 718.748, + "Actual Rows": 522707, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 60873.36, + "Plan Rows": 520936, + "Plan Width": 19, + "Actual Startup Time": 0.053, + "Actual Total Time": 223.347, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.052, + "Actual Total Time": 222.753, + "Actual Rows": 538840, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.058, + "Actual Total Time": 222.934, + "Actual Rows": 517686, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 222.821, + "Actual Rows": 536919, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.042, + "Actual Total Time": 223.570, + "Actual Rows": 501838, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 223.598, + "Actual Rows": 525689, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.051, + "Actual Total Time": 223.443, + "Actual Rows": 500683, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.051, + "Actual Total Time": 221.973, + "Actual Rows": 522707, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1944885556475480423, + "Planning Time": 34.653, + "Triggers": [ + ], + "Execution Time": 8892.859, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -1944885556475480423, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE '%B%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 92200.89, + "Total Cost": 92200.90, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 6980.118, + "Actual Total Time": 7026.705, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 92200.86, + "Total Cost": 92200.87, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 405.734, + "Actual Total Time": 7026.677, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 92199.86, + "Total Cost": 92199.87, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1219.127, + "Actual Total Time": 1219.137, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 396.689, + "Actual Total Time": 396.697, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 396.398, + "Actual Total Time": 396.405, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6967.790, + "Actual Total Time": 6967.800, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 396.594, + "Actual Total Time": 396.601, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 397.320, + "Actual Total Time": 397.327, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 397.370, + "Actual Total Time": 397.380, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 396.025, + "Actual Total Time": 396.032, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 65917.19, + "Total Cost": 91802.75, + "Plan Rows": 158845, + "Plan Width": 15, + "Actual Startup Time": 397.049, + "Actual Total Time": 1185.329, + "Actual Rows": 139140, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 396.683, + "Actual Total Time": 396.690, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 396.393, + "Actual Total Time": 396.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 391.201, + "Actual Total Time": 6697.374, + "Actual Rows": 1113120, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 396.589, + "Actual Total Time": 396.595, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 397.317, + "Actual Total Time": 397.324, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 397.364, + "Actual Total Time": 397.373, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 396.020, + "Actual Total Time": 396.027, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 63015.14, + "Total Cost": 88483.72, + "Plan Rows": 158845, + "Plan Width": 19, + "Actual Startup Time": 358.493, + "Actual Total Time": 1083.989, + "Actual Rows": 139140, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 359.166, + "Actual Total Time": 359.172, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 359.163, + "Actual Total Time": 359.168, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 353.672, + "Actual Total Time": 6157.581, + "Actual Rows": 1113120, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 359.173, + "Actual Total Time": 359.178, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 359.171, + "Actual Total Time": 359.176, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 359.234, + "Actual Total Time": 359.240, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 359.183, + "Actual Total Time": 359.188, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 63014.71, + "Total Cost": 76520.21, + "Plan Rows": 21334, + "Plan Width": 27, + "Actual Startup Time": 358.353, + "Actual Total Time": 860.259, + "Actual Rows": 18687, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 359.165, + "Actual Total Time": 359.170, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 359.162, + "Actual Total Time": 359.166, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 352.561, + "Actual Total Time": 4367.759, + "Actual Rows": 149494, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 359.171, + "Actual Total Time": 359.175, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 359.170, + "Actual Total Time": 359.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 359.233, + "Actual Total Time": 359.238, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 359.182, + "Actual Total Time": 359.186, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 13117.41, + "Plan Rows": 148342, + "Plan Width": 16, + "Actual Startup Time": 6.456, + "Actual Total Time": 446.339, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.268, + "Actual Total Time": 7.271, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.269, + "Actual Total Time": 7.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.654, + "Actual Total Time": 3519.705, + "Actual Rows": 1038393, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.264, + "Actual Total Time": 7.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.277, + "Actual Total Time": 7.279, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.334, + "Actual Total Time": 7.337, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.283, + "Actual Total Time": 7.286, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4446.38, + "Plan Rows": 5977, + "Plan Width": 8, + "Actual Startup Time": 6.443, + "Actual Total Time": 50.041, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.267, + "Actual Total Time": 7.269, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.269, + "Actual Total Time": 7.270, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.562, + "Actual Total Time": 349.329, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.263, + "Actual Total Time": 7.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.275, + "Actual Total Time": 7.278, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.332, + "Actual Total Time": 7.335, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.282, + "Actual Total Time": 7.283, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1761.59, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.432, + "Actual Total Time": 16.279, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.266, + "Actual Total Time": 7.268, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.267, + "Actual Total Time": 7.268, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.479, + "Actual Total Time": 79.247, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.263, + "Actual Total Time": 7.264, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.274, + "Actual Total Time": 7.276, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.332, + "Actual Total Time": 7.333, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.281, + "Actual Total Time": 7.282, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.414, + "Actual Total Time": 6.415, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.265, + "Actual Total Time": 7.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.266, + "Actual Total Time": 7.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.341, + "Actual Total Time": 0.347, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.261, + "Actual Total Time": 7.262, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.273, + "Actual Total Time": 7.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.331, + "Actual Total Time": 7.331, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.279, + "Actual Total Time": 7.280, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.133, + "Actual Total Time": 69.622, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.133, + "Actual Total Time": 69.622, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id"], + "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 26, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.068, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.068, + "Actual Rows": 25, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 62175.70, + "Total Cost": 62175.70, + "Plan Rows": 67016, + "Plan Width": 19, + "Actual Startup Time": 349.892, + "Actual Total Time": 349.893, + "Actual Rows": 67090, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 1048576, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 37568, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 336.114, + "Actual Total Time": 336.115, + "Actual Rows": 70516, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 351.857, + "Actual Total Time": 351.858, + "Actual Rows": 77106, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 351.871, + "Actual Total Time": 351.872, + "Actual Rows": 58230, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 351.866, + "Actual Total Time": 351.867, + "Actual Rows": 62083, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 351.857, + "Actual Total Time": 351.858, + "Actual Rows": 65246, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 351.864, + "Actual Total Time": 351.866, + "Actual Rows": 64713, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 351.862, + "Actual Total Time": 351.863, + "Actual Rows": 67259, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 62175.70, + "Plan Rows": 67016, + "Plan Width": 19, + "Actual Startup Time": 1.833, + "Actual Total Time": 271.091, + "Actual Rows": 67090, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Filter": "(n.name ~~ '%B%'::text)", + "Rows Removed by Filter": 453847, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.116, + "Actual Total Time": 271.378, + "Actual Rows": 70516, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.054, + "Actual Total Time": 272.959, + "Actual Rows": 77106, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.069, + "Actual Total Time": 279.160, + "Actual Rows": 58230, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.944, + "Actual Total Time": 272.680, + "Actual Rows": 62083, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.088, + "Actual Total Time": 257.755, + "Actual Rows": 65246, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.167, + "Actual Total Time": 272.937, + "Actual Rows": 64713, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.099, + "Actual Total Time": 269.757, + "Actual Rows": 67259, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 6, + "Plan Width": 8, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.010, + "Actual Rows": 7, + "Actual Loops": 149494, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.010, + "Actual Rows": 7, + "Actual Loops": 149494 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 2482.42, + "Total Cost": 2482.42, + "Plan Rows": 33571, + "Plan Width": 4, + "Actual Startup Time": 37.707, + "Actual Total Time": 37.707, + "Actual Rows": 29375, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 262144, + "Original Hash Buckets": 262144, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 11360, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 37.223, + "Actual Total Time": 37.224, + "Actual Rows": 24693, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 36.971, + "Actual Total Time": 36.972, + "Actual Rows": 38405, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 37.230, + "Actual Total Time": 37.230, + "Actual Rows": 29225, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.131, + "Actual Total Time": 37.132, + "Actual Rows": 29653, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 37.853, + "Actual Total Time": 37.854, + "Actual Rows": 27616, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 37.849, + "Actual Total Time": 37.850, + "Actual Rows": 21528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 36.583, + "Actual Total Time": 36.584, + "Actual Rows": 27542, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 2482.42, + "Plan Rows": 33571, + "Plan Width": 4, + "Actual Startup Time": 0.088, + "Actual Total Time": 16.564, + "Actual Rows": 29375, + "Actual Loops": 8, + "Output": ["cn.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.082, + "Actual Total Time": 21.124, + "Actual Rows": 24693, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.060, + "Actual Total Time": 16.225, + "Actual Rows": 38405, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.193, + "Actual Total Time": 16.120, + "Actual Rows": 29225, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.063, + "Actual Total Time": 15.921, + "Actual Rows": 29653, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.078, + "Actual Total Time": 13.274, + "Actual Rows": 27616, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.120, + "Actual Total Time": 20.521, + "Actual Rows": 21528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.064, + "Actual Total Time": 13.798, + "Actual Rows": 27542, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3199076743843001296, + "Planning Time": 34.044, + "Triggers": [ + ], + "Execution Time": 7030.956, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 3199076743843001296, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(t.title) AS movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     name AS n,
     title AS t
WHERE ci.note IN ('(producer)',
                  '(executive producer)')
  AND it1.info = 'budget'
  AND it2.info = 'votes'
  AND n.gender = 'm'
  AND n.name LIKE '%Tim%'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 87675.67, + "Total Cost": 87675.68, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 499.628, + "Actual Total Time": 506.419, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 87675.60, + "Total Cost": 87675.61, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 499.168, + "Actual Total Time": 506.387, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 87674.60, + "Total Cost": 87674.61, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 491.574, + "Actual Total Time": 491.583, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 491.293, + "Actual Total Time": 491.301, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 487.809, + "Actual Total Time": 487.814, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 491.328, + "Actual Total Time": 491.335, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 491.540, + "Actual Total Time": 491.549, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 491.446, + "Actual Total Time": 491.455, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 489.611, + "Actual Total Time": 489.618, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 491.430, + "Actual Total Time": 491.439, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.42, + "Total Cost": 87674.22, + "Plan Rows": 51, + "Plan Width": 65, + "Actual Startup Time": 13.258, + "Actual Total Time": 491.270, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.602, + "Actual Total Time": 491.034, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.927, + "Actual Total Time": 487.559, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.259, + "Actual Total Time": 491.153, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 71.259, + "Actual Total Time": 491.409, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.287, + "Actual Total Time": 490.370, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.021, + "Actual Total Time": 489.485, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.257, + "Actual Total Time": 491.291, + "Actual Rows": 27, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.99, + "Total Cost": 87651.23, + "Plan Rows": 51, + "Plan Width": 60, + "Actual Startup Time": 13.181, + "Actual Total Time": 489.540, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.529, + "Actual Total Time": 488.568, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.859, + "Actual Total Time": 485.142, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.178, + "Actual Total Time": 489.502, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 71.158, + "Actual Total Time": 490.424, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.202, + "Actual Total Time": 488.647, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.948, + "Actual Total Time": 488.242, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.180, + "Actual Total Time": 490.232, + "Actual Rows": 27, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 87621.34, + "Plan Rows": 10301, + "Plan Width": 64, + "Actual Startup Time": 7.729, + "Actual Total Time": 486.077, + "Actual Rows": 10301, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.264, + "Actual Total Time": 484.989, + "Actual Rows": 10548, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.595, + "Actual Total Time": 478.728, + "Actual Rows": 23831, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.873, + "Actual Total Time": 486.925, + "Actual Rows": 7775, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.972, + "Actual Total Time": 488.528, + "Actual Rows": 5636, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.870, + "Actual Total Time": 486.301, + "Actual Rows": 7179, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.412, + "Actual Total Time": 483.955, + "Actual Rows": 5963, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.910, + "Actual Total Time": 489.166, + "Actual Rows": 2597, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 87125.67, + "Plan Rows": 429, + "Plan Width": 14, + "Actual Startup Time": 7.644, + "Actual Total Time": 463.066, + "Actual Rows": 429, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.182, + "Actual Total Time": 457.455, + "Actual Rows": 415, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.513, + "Actual Total Time": 440.747, + "Actual Rows": 577, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.783, + "Actual Total Time": 466.468, + "Actual Rows": 439, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.871, + "Actual Total Time": 474.641, + "Actual Rows": 297, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.782, + "Actual Total Time": 470.990, + "Actual Rows": 238, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.316, + "Actual Total Time": 471.533, + "Actual Rows": 264, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.827, + "Actual Total Time": 481.357, + "Actual Rows": 130, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 87120.32, + "Plan Rows": 1289, + "Plan Width": 18, + "Actual Startup Time": 7.616, + "Actual Total Time": 462.194, + "Actual Rows": 1289, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.164, + "Actual Total Time": 456.539, + "Actual Rows": 1246, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.491, + "Actual Total Time": 439.725, + "Actual Rows": 1733, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.762, + "Actual Total Time": 465.624, + "Actual Rows": 1317, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.846, + "Actual Total Time": 474.002, + "Actual Rows": 891, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.759, + "Actual Total Time": 470.400, + "Actual Rows": 715, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.296, + "Actual Total Time": 470.957, + "Actual Rows": 792, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.804, + "Actual Total Time": 480.943, + "Actual Rows": 390, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 86695.47, + "Plan Rows": 840, + "Plan Width": 4, + "Actual Startup Time": 3.610, + "Actual Total Time": 447.666, + "Actual Rows": 840, + "Actual Loops": 8, + "Output": ["ci.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.089, + "Actual Total Time": 439.558, + "Actual Rows": 1000, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.268, + "Actual Total Time": 425.130, + "Actual Rows": 817, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.672, + "Actual Total Time": 451.803, + "Actual Rows": 805, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.541, + "Actual Total Time": 462.515, + "Actual Rows": 517, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.664, + "Actual Total Time": 458.541, + "Actual Rows": 715, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.197, + "Actual Total Time": 461.308, + "Actual Rows": 460, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.707, + "Actual Total Time": 467.742, + "Actual Rows": 740, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 1133, + "Plan Width": 4, + "Actual Startup Time": 0.181, + "Actual Total Time": 268.825, + "Actual Rows": 1133, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%Tim%'::text) AND ((n.gender)::text = 'm'::text))", + "Rows Removed by Filter": 519804, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.205, + "Actual Total Time": 266.376, + "Actual Rows": 1143, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.209, + "Actual Total Time": 262.822, + "Actual Rows": 869, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 272.943, + "Actual Rows": 1053, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.478, + "Actual Total Time": 280.033, + "Actual Rows": 1084, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.260, + "Actual Total Time": 274.202, + "Actual Rows": 1147, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.170, + "Actual Total Time": 272.987, + "Actual Rows": 1018, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 268.314, + "Actual Rows": 1154, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 20.48, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.151, + "Actual Total Time": 0.156, + "Actual Rows": 1, + "Actual Loops": 9062, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(producer),\"(executive producer)\"}'::text[]))", + "Rows Removed by Filter": 10, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.145, + "Actual Total Time": 0.150, + "Actual Rows": 1, + "Actual Loops": 1143 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.179, + "Actual Total Time": 0.185, + "Actual Rows": 1, + "Actual Loops": 869 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.163, + "Actual Total Time": 0.168, + "Actual Rows": 1, + "Actual Loops": 1053 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.163, + "Actual Total Time": 0.167, + "Actual Rows": 0, + "Actual Loops": 1084 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.154, + "Actual Total Time": 0.159, + "Actual Rows": 1, + "Actual Loops": 1147 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.178, + "Actual Total Time": 0.183, + "Actual Rows": 0, + "Actual Loops": 1018 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.166, + "Actual Total Time": 0.171, + "Actual Rows": 1, + "Actual Loops": 1154 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 6719, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1000 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 817 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 805 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 2, + "Actual Loops": 517 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 715 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 2, + "Actual Loops": 460 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 740 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 19, + "Plan Width": 50, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.045, + "Actual Rows": 24, + "Actual Loops": 3435, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.056, + "Actual Rows": 25, + "Actual Loops": 415 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.052, + "Actual Rows": 41, + "Actual Loops": 577 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.039, + "Actual Rows": 18, + "Actual Loops": 439 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.039, + "Actual Rows": 19, + "Actual Loops": 297 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.053, + "Actual Rows": 30, + "Actual Loops": 238 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.038, + "Actual Rows": 23, + "Actual Loops": 264 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.051, + "Actual Rows": 20, + "Actual Loops": 130 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'budget'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 410, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 71 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 78 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 50 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 28 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 45 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 36 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 27 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3485514449383768787, + "Planning Time": 34.725, + "Triggers": [ + ], + "Execution Time": 509.564, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -3485514449383768787, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(t.title) AS movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'rating'
  AND mi.info IN ('Horror',
                  'Thriller')
  AND mi.note IS NULL
  AND mi_idx.info > '8.0'
  AND n.gender IS NOT NULL
  AND n.gender = 'f'
  AND t.production_year BETWEEN 2008 AND 2014
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13510.61, + "Total Cost": 13510.62, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 186.308, + "Actual Total Time": 195.187, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13510.54, + "Total Cost": 13510.55, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 185.770, + "Actual Total Time": 195.147, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13509.54, + "Total Cost": 13509.55, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 173.970, + "Actual Total Time": 173.977, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 178.639, + "Actual Total Time": 178.646, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 172.007, + "Actual Total Time": 172.014, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 172.194, + "Actual Total Time": 172.200, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 172.654, + "Actual Total Time": 172.662, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 172.364, + "Actual Total Time": 172.371, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 172.453, + "Actual Total Time": 172.459, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 172.376, + "Actual Total Time": 172.382, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.73, + "Total Cost": 13509.53, + "Plan Rows": 1, + "Plan Width": 65, + "Actual Startup Time": 124.721, + "Actual Total Time": 173.959, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 178.633, + "Actual Total Time": 178.639, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 132.000, + "Actual Total Time": 171.993, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 160.321, + "Actual Total Time": 172.179, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.549, + "Actual Total Time": 172.642, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 83.208, + "Actual Total Time": 172.350, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.770, + "Actual Total Time": 172.439, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 83.221, + "Actual Total Time": 172.354, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 13509.35, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 124.671, + "Actual Total Time": 173.903, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 178.631, + "Actual Total Time": 178.636, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 131.938, + "Actual Total Time": 171.930, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 160.247, + "Actual Total Time": 172.097, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.480, + "Actual Total Time": 172.571, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 83.144, + "Actual Total Time": 172.284, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.697, + "Actual Total Time": 172.361, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 83.166, + "Actual Total Time": 172.277, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 13492.09, + "Plan Rows": 34, + "Plan Width": 73, + "Actual Startup Time": 64.041, + "Actual Total Time": 172.740, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 85.344, + "Actual Total Time": 177.527, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 79.634, + "Actual Total Time": 171.010, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.977, + "Actual Total Time": 171.222, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 80.705, + "Actual Total Time": 171.549, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 82.987, + "Actual Total Time": 170.910, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 25.501, + "Actual Total Time": 170.909, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 79.097, + "Actual Total Time": 170.701, + "Actual Rows": 50, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 13415.47, + "Plan Rows": 45, + "Plan Width": 81, + "Actual Startup Time": 33.540, + "Actual Total Time": 155.237, + "Actual Rows": 45, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 63.051, + "Actual Total Time": 162.263, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.581, + "Actual Total Time": 150.331, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 36.520, + "Actual Total Time": 157.918, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.468, + "Actual Total Time": 158.141, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.625, + "Actual Total Time": 155.359, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.082, + "Actual Total Time": 149.139, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 78.667, + "Actual Total Time": 151.128, + "Actual Rows": 47, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 12538.65, + "Plan Rows": 769, + "Plan Width": 31, + "Actual Startup Time": 1.505, + "Actual Total Time": 121.648, + "Actual Rows": 769, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.021, + "Actual Total Time": 121.197, + "Actual Rows": 854, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.395, + "Actual Total Time": 118.738, + "Actual Rows": 759, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.338, + "Actual Total Time": 125.609, + "Actual Rows": 758, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.849, + "Actual Total Time": 123.868, + "Actual Rows": 860, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.189, + "Actual Total Time": 122.829, + "Actual Rows": 666, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.842, + "Actual Total Time": 114.702, + "Actual Rows": 804, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.538, + "Actual Total Time": 117.295, + "Actual Rows": 746, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10111.41, + "Plan Rows": 1981, + "Plan Width": 10, + "Actual Startup Time": 0.488, + "Actual Total Time": 90.319, + "Actual Rows": 1981, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.611, + "Actual Total Time": 85.044, + "Actual Rows": 2269, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.347, + "Actual Total Time": 92.289, + "Actual Rows": 1786, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.264, + "Actual Total Time": 97.267, + "Actual Rows": 1856, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.153, + "Actual Total Time": 89.024, + "Actual Rows": 2418, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.141, + "Actual Total Time": 91.025, + "Actual Rows": 1816, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.193, + "Actual Total Time": 85.546, + "Actual Rows": 1979, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.119, + "Actual Total Time": 81.913, + "Actual Rows": 1859, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 10091.30, + "Plan Rows": 6706, + "Plan Width": 14, + "Actual Startup Time": 0.059, + "Actual Total Time": 86.365, + "Actual Rows": 6706, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Filter": "(mi_idx.info > '8.0'::text)", + "Rows Removed by Filter": 165798, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.083, + "Actual Total Time": 79.610, + "Actual Rows": 6534, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.070, + "Actual Total Time": 88.957, + "Actual Rows": 6717, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 93.847, + "Actual Rows": 6345, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 84.689, + "Actual Rows": 7465, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 87.431, + "Actual Rows": 6916, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.071, + "Actual Total Time": 81.974, + "Actual Rows": 6721, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 78.505, + "Actual Rows": 6247, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.104, + "Actual Total Time": 0.104, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.465, + "Actual Total Time": 0.465, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 56, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 15849, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2008) AND (t.production_year <= 2014))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2269 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1786 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1856 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2418 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1816 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1979 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1859 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 6152, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note IS NULL) AND (mi.info = ANY ('{Horror,Thriller}'::text[])))", + "Rows Removed by Filter": 18, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 854 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 759 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 758 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 860 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 666 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 804 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 746 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.69, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.314, + "Actual Total Time": 0.388, + "Actual Rows": 1, + "Actual Loops": 358, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 34, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.336, + "Actual Total Time": 0.369, + "Actual Rows": 1, + "Actual Loops": 41 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.304, + "Actual Total Time": 0.490, + "Actual Rows": 1, + "Actual Loops": 42 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.259, + "Actual Total Time": 0.307, + "Actual Rows": 1, + "Actual Loops": 43 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.233, + "Actual Total Time": 0.283, + "Actual Rows": 1, + "Actual Loops": 47 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.273, + "Actual Total Time": 0.343, + "Actual Rows": 1, + "Actual Loops": 45 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.359, + "Actual Total Time": 0.460, + "Actual Rows": 1, + "Actual Loops": 47 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.353, + "Actual Total Time": 0.414, + "Actual Rows": 1, + "Actual Loops": 47 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 268, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender IS NOT NULL) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 32 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 28 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 27 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 26 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 40 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 38 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 50 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 11, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.065, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 4, + "Cache Hits": 3, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2924466581088026648, + "Planning Time": 36.350, + "Triggers": [ + ], + "Execution Time": 198.981, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -2924466581088026648, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(t.title) AS movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 100455.95, + "Total Cost": 100455.96, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4456.506, + "Actual Total Time": 4495.456, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 100455.88, + "Total Cost": 100455.89, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 4452.325, + "Actual Total Time": 4495.415, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 100454.88, + "Total Cost": 100454.89, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4445.683, + "Actual Total Time": 4445.689, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4436.526, + "Actual Total Time": 4436.530, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4444.452, + "Actual Total Time": 4444.460, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4444.577, + "Actual Total Time": 4444.585, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4446.792, + "Actual Total Time": 4446.798, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4447.598, + "Actual Total Time": 4447.604, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4445.379, + "Actual Total Time": 4445.384, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4448.855, + "Actual Total Time": 4448.861, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.42, + "Total Cost": 100428.57, + "Plan Rows": 3509, + "Plan Width": 65, + "Actual Startup Time": 30.081, + "Actual Total Time": 4437.271, + "Actual Rows": 3509, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.111, + "Actual Total Time": 4428.417, + "Actual Rows": 3311, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.466, + "Actual Total Time": 4436.304, + "Actual Rows": 3424, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.269, + "Actual Total Time": 4435.942, + "Actual Rows": 3554, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.905, + "Actual Total Time": 4438.253, + "Actual Rows": 3652, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 38.458, + "Actual Total Time": 4439.169, + "Actual Rows": 3641, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 38.185, + "Actual Total Time": 4437.053, + "Actual Rows": 3606, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.274, + "Actual Total Time": 4440.505, + "Actual Rows": 3588, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.99, + "Total Cost": 98694.25, + "Plan Rows": 3509, + "Plan Width": 60, + "Actual Startup Time": 29.994, + "Actual Total Time": 4382.015, + "Actual Rows": 3509, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.017, + "Actual Total Time": 4374.445, + "Actual Rows": 3311, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.374, + "Actual Total Time": 4381.171, + "Actual Rows": 3424, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.209, + "Actual Total Time": 4379.942, + "Actual Rows": 3554, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.811, + "Actual Total Time": 4381.330, + "Actual Rows": 3652, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 38.382, + "Actual Total Time": 4382.673, + "Actual Rows": 3641, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 38.065, + "Actual Total Time": 4381.952, + "Actual Rows": 3606, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.162, + "Actual Total Time": 4384.143, + "Actual Rows": 3588, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.56, + "Total Cost": 95258.32, + "Plan Rows": 6769, + "Plan Width": 64, + "Actual Startup Time": 14.907, + "Actual Total Time": 4249.348, + "Actual Rows": 6769, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.857, + "Actual Total Time": 4247.258, + "Actual Rows": 6550, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 23.745, + "Actual Total Time": 4244.242, + "Actual Rows": 6733, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.109, + "Actual Total Time": 4239.874, + "Actual Rows": 6927, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.680, + "Actual Total Time": 4246.090, + "Actual Rows": 6939, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.316, + "Actual Total Time": 4247.021, + "Actual Rows": 7056, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.458, + "Actual Total Time": 4251.204, + "Actual Rows": 6779, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.372, + "Actual Total Time": 4254.069, + "Actual Rows": 6700, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.12, + "Total Cost": 75732.10, + "Plan Rows": 12814, + "Plan Width": 56, + "Actual Startup Time": 3.220, + "Actual Total Time": 2137.860, + "Actual Rows": 12814, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.712, + "Actual Total Time": 2158.417, + "Actual Rows": 12423, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.587, + "Actual Total Time": 2072.920, + "Actual Rows": 13552, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.303, + "Actual Total Time": 2149.769, + "Actual Rows": 12578, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.262, + "Actual Total Time": 2158.896, + "Actual Rows": 12671, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.736, + "Actual Total Time": 2135.722, + "Actual Rows": 13125, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.231, + "Actual Total Time": 2168.484, + "Actual Rows": 12683, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.318, + "Actual Total Time": 2102.055, + "Actual Rows": 12791, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 75694.55, + "Plan Rows": 13112, + "Plan Width": 60, + "Actual Startup Time": 2.944, + "Actual Total Time": 2119.932, + "Actual Rows": 13112, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.408, + "Actual Total Time": 2141.086, + "Actual Rows": 12680, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.341, + "Actual Total Time": 2053.976, + "Actual Rows": 13832, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.034, + "Actual Total Time": 2132.185, + "Actual Rows": 12989, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.026, + "Actual Total Time": 2140.343, + "Actual Rows": 13003, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.487, + "Actual Total Time": 2117.391, + "Actual Rows": 13417, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.994, + "Actual Total Time": 2150.487, + "Actual Rows": 12966, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.066, + "Actual Total Time": 2084.752, + "Actual Rows": 13079, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 57491, + "Plan Width": 10, + "Actual Startup Time": 0.044, + "Actual Total Time": 156.089, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.054, + "Actual Total Time": 155.010, + "Actual Rows": 56999, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 155.664, + "Actual Rows": 57688, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 153.025, + "Actual Rows": 56296, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 159.011, + "Actual Rows": 57809, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 158.447, + "Actual Rows": 57969, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 154.672, + "Actual Rows": 57735, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 154.925, + "Actual Rows": 56735, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 14, + "Actual Startup Time": 0.019, + "Actual Total Time": 46.773, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 46.292, + "Actual Rows": 170983, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 46.677, + "Actual Rows": 173158, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 45.934, + "Actual Rows": 168885, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 48.013, + "Actual Rows": 173427, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 46.813, + "Actual Rows": 173924, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 46.429, + "Actual Rows": 173214, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 46.584, + "Actual Rows": 170225, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 459925, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 15, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 56999 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 57688 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 56296 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 57809 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 57969 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 57735 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 56735 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.51, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.141, + "Actual Total Time": 0.163, + "Actual Rows": 1, + "Actual Loops": 102516, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 39, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.143, + "Actual Total Time": 0.166, + "Actual Rows": 1, + "Actual Loops": 12423 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.138, + "Actual Total Time": 0.159, + "Actual Rows": 0, + "Actual Loops": 13552 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.142, + "Actual Total Time": 0.165, + "Actual Rows": 1, + "Actual Loops": 12578 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.140, + "Actual Total Time": 0.163, + "Actual Rows": 1, + "Actual Loops": 12671 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.137, + "Actual Total Time": 0.159, + "Actual Rows": 1, + "Actual Loops": 13125 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.140, + "Actual Total Time": 0.163, + "Actual Rows": 1, + "Actual Loops": 12683 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.144, + "Actual Total Time": 0.167, + "Actual Rows": 1, + "Actual Loops": 12791 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 54155, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 6550 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 6733 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 6927 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 6939 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 7056 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 6779 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 6700 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 28073, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 3311 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3424 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3554 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3652 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3641 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3606 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3588 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1168076528610430802, + "Planning Time": 35.018, + "Triggers": [ + ], + "Execution Time": 4498.846, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 1168076528610430802, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND mc.note IS NOT NULL
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%Ang%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2005 AND 2009
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 65093.21, + "Total Cost": 65093.22, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 309.868, + "Actual Total Time": 314.182, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 65093.16, + "Total Cost": 65093.17, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 309.384, + "Actual Total Time": 314.151, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 65092.16, + "Total Cost": 65092.17, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 299.584, + "Actual Total Time": 299.596, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 295.038, + "Actual Total Time": 295.046, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 301.189, + "Actual Total Time": 301.202, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 301.119, + "Actual Total Time": 301.128, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 296.888, + "Actual Total Time": 296.897, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 295.963, + "Actual Total Time": 295.974, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 301.134, + "Actual Total Time": 301.145, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 296.889, + "Actual Total Time": 296.899, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.95, + "Total Cost": 65092.04, + "Plan Rows": 23, + "Plan Width": 32, + "Actual Startup Time": 88.580, + "Actual Total Time": 299.552, + "Actual Rows": 23, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 70.689, + "Actual Total Time": 294.982, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 88.508, + "Actual Total Time": 301.178, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 52.745, + "Actual Total Time": 301.041, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.099, + "Actual Total Time": 296.840, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.406, + "Actual Total Time": 295.934, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 55.870, + "Actual Total Time": 301.121, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 296.884, + "Actual Total Time": 296.893, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.53, + "Total Cost": 65081.31, + "Plan Rows": 24, + "Plan Width": 36, + "Actual Startup Time": 88.509, + "Actual Total Time": 299.167, + "Actual Rows": 24, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 70.597, + "Actual Total Time": 294.322, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 88.431, + "Actual Total Time": 300.993, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 52.663, + "Actual Total Time": 300.218, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.017, + "Actual Total Time": 296.357, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.291, + "Actual Total Time": 295.472, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 55.802, + "Actual Total Time": 300.997, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 296.883, + "Actual Total Time": 296.892, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.10, + "Total Cost": 65080.74, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 85.230, + "Actual Total Time": 297.531, + "Actual Rows": 11, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 70.266, + "Actual Total Time": 292.852, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 62.967, + "Actual Total Time": 300.667, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 52.571, + "Actual Total Time": 290.837, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.927, + "Actual Total Time": 295.497, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.199, + "Actual Total Time": 295.145, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 55.714, + "Actual Total Time": 300.815, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 296.883, + "Actual Total Time": 296.891, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.67, + "Total Cost": 65080.29, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 82.388, + "Actual Total Time": 297.287, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_role_id", "mi.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 48.092, + "Actual Total Time": 292.505, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 62.825, + "Actual Total Time": 300.332, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 52.475, + "Actual Total Time": 290.452, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.839, + "Actual Total Time": 295.202, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.107, + "Actual Total Time": 294.929, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 55.621, + "Actual Total Time": 300.645, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 296.883, + "Actual Total Time": 296.890, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.57, + "Total Cost": 65079.14, + "Plan Rows": 12, + "Plan Width": 52, + "Actual Startup Time": 82.026, + "Actual Total Time": 296.905, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "mi.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 47.538, + "Actual Total Time": 291.925, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 62.539, + "Actual Total Time": 300.010, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 52.190, + "Actual Total Time": 290.140, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.515, + "Actual Total Time": 294.860, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.563, + "Actual Total Time": 294.373, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 55.335, + "Actual Total Time": 300.338, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 296.556, + "Actual Total Time": 296.562, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 65077.27, + "Plan Rows": 12, + "Plan Width": 56, + "Actual Startup Time": 81.999, + "Actual Total Time": 296.847, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "mi.movie_id", "mi.info_type_id", "n.name", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 47.509, + "Actual Total Time": 291.856, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 62.514, + "Actual Total Time": 299.926, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 52.167, + "Actual Total Time": 290.053, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.493, + "Actual Total Time": 294.806, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.533, + "Actual Total Time": 294.327, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 55.316, + "Actual Total Time": 300.304, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 296.548, + "Actual Total Time": 296.552, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 65060.51, + "Plan Rows": 14, + "Plan Width": 48, + "Actual Startup Time": 46.352, + "Actual Total Time": 294.726, + "Actual Rows": 14, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 47.404, + "Actual Total Time": 289.320, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.913, + "Actual Total Time": 291.127, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 52.006, + "Actual Total Time": 288.126, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.398, + "Actual Total Time": 294.013, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.424, + "Actual Total Time": 294.087, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 48.461, + "Actual Total Time": 299.599, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.376, + "Actual Total Time": 296.425, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 65033.51, + "Plan Rows": 53, + "Plan Width": 27, + "Actual Startup Time": 41.604, + "Actual Total Time": 293.558, + "Actual Rows": 53, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = ci.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.805, + "Actual Total Time": 288.496, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.778, + "Actual Total Time": 289.867, + "Actual Rows": 73, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 43.659, + "Actual Total Time": 287.055, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.302, + "Actual Total Time": 293.360, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.291, + "Actual Total Time": 291.975, + "Actual Rows": 112, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 42.108, + "Actual Total Time": 297.930, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.184, + "Actual Total Time": 295.971, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 64262.73, + "Plan Rows": 195, + "Plan Width": 23, + "Actual Startup Time": 31.652, + "Actual Total Time": 280.074, + "Actual Rows": 195, + "Actual Loops": 8, + "Output": ["an.person_id", "n.name", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.331, + "Actual Total Time": 276.395, + "Actual Rows": 187, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.098, + "Actual Total Time": 279.282, + "Actual Rows": 137, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.082, + "Actual Total Time": 272.709, + "Actual Rows": 124, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.078, + "Actual Total Time": 283.600, + "Actual Rows": 167, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.001, + "Actual Total Time": 281.182, + "Actual Rows": 159, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.004, + "Actual Total Time": 271.497, + "Actual Rows": 450, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.202, + "Actual Total Time": 283.560, + "Actual Rows": 184, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 846, + "Plan Width": 19, + "Actual Startup Time": 30.611, + "Actual Total Time": 270.855, + "Actual Rows": 846, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%Ang%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 520090, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.627, + "Actual Total Time": 267.453, + "Actual Rows": 800, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.003, + "Actual Total Time": 271.412, + "Actual Rows": 704, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.926, + "Actual Total Time": 264.980, + "Actual Rows": 669, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.604, + "Actual Total Time": 275.189, + "Actual Rows": 692, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.871, + "Actual Total Time": 271.995, + "Actual Rows": 810, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.866, + "Actual Total Time": 257.475, + "Actual Rows": 1511, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.651, + "Actual Total Time": 274.570, + "Actual Rows": 810, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 6768, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 800 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 704 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 669 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 692 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 810 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 1511 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 810 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.94, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.068, + "Actual Rows": 0, + "Actual Loops": 1558, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 187 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.076, + "Actual Rows": 1, + "Actual Loops": 137 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.114, + "Actual Rows": 0, + "Actual Loops": 124 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 167 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.066, + "Actual Rows": 1, + "Actual Loops": 159 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 450 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 184 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 425, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2009))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 43 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 73 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 42 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 20 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 112 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 79 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 12 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.17, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.145, + "Actual Rows": 1, + "Actual Loops": 115, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 42, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.278, + "Actual Rows": 2, + "Actual Loops": 9 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.227, + "Actual Total Time": 0.230, + "Actual Rows": 0, + "Actual Loops": 38 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.118, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.069, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.112, + "Actual Rows": 5, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 25 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.123, + "Actual Total Time": 0.124, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 99, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 19 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 23 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 9 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.145, + "Actual Rows": 2, + "Actual Loops": 89, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note IS NOT NULL) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 11, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.084, + "Actual Rows": 3, + "Actual Loops": 17 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.466, + "Actual Rows": 3, + "Actual Loops": 20 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.055, + "Actual Rows": 2, + "Actual Loops": 15 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.030, + "Actual Rows": 3, + "Actual Loops": 10 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 194, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 47 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 55 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 27 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 30 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 8 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2080431693778951356, + "Planning Time": 218.573, + "Triggers": [ + ], + "Execution Time": 321.785, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -2080431693778951356, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS kung_fu_panda
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note = '(voice)'
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND mc.note LIKE '%(200%)%'
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%2007%'
       OR mi.info LIKE 'USA:%2008%')
  AND n.gender ='f'
  AND n.name LIKE '%Angel%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2007 AND 2008
  AND t.title LIKE '%Kung%Fu%Panda%'
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 40087.02, + "Total Cost": 40087.03, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 867.519, + "Actual Total Time": 897.405, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 40086.97, + "Total Cost": 40086.98, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 867.013, + "Actual Total Time": 897.382, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 40085.97, + "Total Cost": 40085.98, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 854.449, + "Actual Total Time": 854.458, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 856.275, + "Actual Total Time": 856.286, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 849.828, + "Actual Total Time": 849.834, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 849.468, + "Actual Total Time": 849.478, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 854.969, + "Actual Total Time": 854.977, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 857.895, + "Actual Total Time": 857.903, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 849.710, + "Actual Total Time": 849.719, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 851.508, + "Actual Total Time": 851.516, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.27, + "Total Cost": 40085.96, + "Plan Rows": 2, + "Plan Width": 32, + "Actual Startup Time": 798.224, + "Actual Total Time": 854.448, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 856.270, + "Actual Total Time": 856.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 849.823, + "Actual Total Time": 849.829, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 849.463, + "Actual Total Time": 849.472, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 854.964, + "Actual Total Time": 854.971, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 857.890, + "Actual Total Time": 857.897, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 399.943, + "Actual Total Time": 849.678, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 851.502, + "Actual Total Time": 851.510, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.85, + "Total Cost": 40085.44, + "Plan Rows": 1, + "Plan Width": 40, + "Actual Startup Time": 798.216, + "Actual Total Time": 854.433, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 856.269, + "Actual Total Time": 856.279, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 849.822, + "Actual Total Time": 849.828, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 849.462, + "Actual Total Time": 849.470, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 854.964, + "Actual Total Time": 854.970, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 857.889, + "Actual Total Time": 857.896, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 399.882, + "Actual Total Time": 849.567, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 851.501, + "Actual Total Time": 851.508, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.70, + "Total Cost": 40085.26, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 798.210, + "Actual Total Time": 854.424, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info_type_id", "n.name", "n.id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 856.268, + "Actual Total Time": 856.276, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 849.821, + "Actual Total Time": 849.826, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 849.461, + "Actual Total Time": 849.468, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 854.963, + "Actual Total Time": 854.969, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 857.889, + "Actual Total Time": 857.894, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 399.839, + "Actual Total Time": 849.508, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 851.501, + "Actual Total Time": 851.507, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 40084.02, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 798.193, + "Actual Total Time": 854.237, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "n.name", "n.id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 856.267, + "Actual Total Time": 856.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 849.820, + "Actual Total Time": 849.825, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 849.460, + "Actual Total Time": 849.467, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 854.963, + "Actual Total Time": 854.968, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 857.888, + "Actual Total Time": 857.893, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 399.712, + "Actual Total Time": 848.018, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 851.500, + "Actual Total Time": 851.506, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 40083.56, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 798.184, + "Actual Total Time": 854.222, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id", "mc.movie_id", "n.name", "n.id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 856.266, + "Actual Total Time": 856.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 849.820, + "Actual Total Time": 849.823, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 849.459, + "Actual Total Time": 849.465, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 854.962, + "Actual Total Time": 854.966, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 857.887, + "Actual Total Time": 857.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 399.643, + "Actual Total Time": 847.909, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 851.499, + "Actual Total Time": 851.504, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 40081.87, + "Plan Rows": 3, + "Plan Width": 37, + "Actual Startup Time": 798.159, + "Actual Total Time": 854.149, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 856.265, + "Actual Total Time": 856.270, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 849.819, + "Actual Total Time": 849.822, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 849.459, + "Actual Total Time": 849.463, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 854.961, + "Actual Total Time": 854.965, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 857.887, + "Actual Total Time": 857.890, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 399.453, + "Actual Total Time": 847.337, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 851.498, + "Actual Total Time": 851.503, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 40080.73, + "Plan Rows": 12, + "Plan Width": 41, + "Actual Startup Time": 797.984, + "Actual Total Time": 853.985, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 856.176, + "Actual Total Time": 856.179, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 849.658, + "Actual Total Time": 849.660, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 849.299, + "Actual Total Time": 849.302, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 854.873, + "Actual Total Time": 854.875, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 857.813, + "Actual Total Time": 857.815, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 399.108, + "Actual Total Time": 847.096, + "Actual Rows": 100, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 851.343, + "Actual Total Time": 851.345, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 40077.60, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 797.970, + "Actual Total Time": 853.639, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 856.175, + "Actual Total Time": 856.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 849.658, + "Actual Total Time": 849.659, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 849.298, + "Actual Total Time": 849.300, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 854.872, + "Actual Total Time": 854.874, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 857.813, + "Actual Total Time": 857.814, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 398.999, + "Actual Total Time": 844.339, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 851.341, + "Actual Total Time": 851.343, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 24737.49, + "Plan Rows": 22133, + "Plan Width": 4, + "Actual Startup Time": 1.128, + "Actual Total Time": 515.966, + "Actual Rows": 22133, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.704, + "Actual Total Time": 526.082, + "Actual Rows": 21990, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.474, + "Actual Total Time": 545.921, + "Actual Rows": 20349, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.272, + "Actual Total Time": 491.571, + "Actual Rows": 23216, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.184, + "Actual Total Time": 528.458, + "Actual Rows": 21830, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.272, + "Actual Total Time": 441.665, + "Actual Rows": 28241, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.732, + "Actual Total Time": 538.587, + "Actual Rows": 19764, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.291, + "Actual Total Time": 516.417, + "Actual Rows": 21819, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 18.648, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 18.089, + "Actual Rows": 11365, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.073, + "Actual Total Time": 16.137, + "Actual Rows": 10120, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.080, + "Actual Total Time": 18.613, + "Actual Rows": 11241, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.042, + "Actual Total Time": 18.542, + "Actual Rows": 11470, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 12.404, + "Actual Rows": 7602, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 30.096, + "Actual Rows": 11101, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.081, + "Actual Total Time": 20.082, + "Actual Rows": 12231, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 2.00, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.045, + "Actual Rows": 2, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 12, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.043, + "Actual Rows": 2, + "Actual Loops": 11365 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.051, + "Actual Rows": 2, + "Actual Loops": 10120 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.041, + "Actual Rows": 2, + "Actual Loops": 11241 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.043, + "Actual Rows": 2, + "Actual Loops": 11470 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.054, + "Actual Rows": 4, + "Actual Loops": 7602 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.044, + "Actual Rows": 2, + "Actual Loops": 11101 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.039, + "Actual Rows": 2, + "Actual Loops": 12231 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.69, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 177065, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2007) AND (t.production_year <= 2008) AND (t.title ~~ '%Kung%Fu%Panda%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 21990 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 20349 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 23216 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 21830 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 28241 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 19764 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 21819 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 2.81, + "Plan Rows": 25, + "Plan Width": 16, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.671, + "Actual Rows": 25, + "Actual Loops": 4, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice)'::text)", + "Rows Removed by Filter": 127, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.671, + "Actual Rows": 25, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.082, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.56, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 24, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Angel%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 24 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.493, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%2007%'::text) OR (mi.info ~~ 'USA:%2008%'::text)))", + "Rows Removed by Filter": 372, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.493, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.032, + "Actual Rows": 5, + "Actual Loops": 3, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.032, + "Actual Rows": 5, + "Actual Loops": 3 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2216088972165640435, + "Planning Time": 227.875, + "Triggers": [ + ], + "Execution Time": 903.389, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -2216088972165640435, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS jap_engl_voiced_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year > 2000
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73540.44, + "Total Cost": 73540.45, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 759.121, + "Actual Total Time": 768.372, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73540.39, + "Total Cost": 73540.40, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 758.671, + "Actual Total Time": 768.333, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73539.39, + "Total Cost": 73539.40, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 746.500, + "Actual Total Time": 746.518, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 748.976, + "Actual Total Time": 748.990, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 748.031, + "Actual Total Time": 748.046, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 742.399, + "Actual Total Time": 742.412, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 742.280, + "Actual Total Time": 742.292, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 748.054, + "Actual Total Time": 748.094, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 742.353, + "Actual Total Time": 742.366, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 742.263, + "Actual Total Time": 742.276, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.95, + "Total Cost": 73537.16, + "Plan Rows": 447, + "Plan Width": 32, + "Actual Startup Time": 65.023, + "Actual Total Time": 745.917, + "Actual Rows": 447, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 62.106, + "Actual Total Time": 748.390, + "Actual Rows": 375, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 68.018, + "Actual Total Time": 747.494, + "Actual Rows": 388, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 63.915, + "Actual Total Time": 741.989, + "Actual Rows": 338, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.953, + "Actual Total Time": 741.945, + "Actual Rows": 270, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 49.274, + "Actual Total Time": 747.338, + "Actual Rows": 545, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 71.074, + "Actual Total Time": 741.889, + "Actual Rows": 347, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 73.362, + "Actual Total Time": 741.288, + "Actual Rows": 835, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.52, + "Total Cost": 73290.12, + "Plan Rows": 514, + "Plan Width": 27, + "Actual Startup Time": 62.544, + "Actual Total Time": 738.870, + "Actual Rows": 514, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 62.036, + "Actual Total Time": 740.969, + "Actual Rows": 559, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 48.649, + "Actual Total Time": 741.799, + "Actual Rows": 408, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 63.838, + "Actual Total Time": 736.226, + "Actual Rows": 425, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.887, + "Actual Total Time": 737.897, + "Actual Rows": 300, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 49.201, + "Actual Total Time": 738.794, + "Actual Rows": 585, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 71.001, + "Actual Total Time": 736.715, + "Actual Rows": 379, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 73.301, + "Actual Total Time": 728.629, + "Actual Rows": 959, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.10, + "Total Cost": 73289.24, + "Plan Rows": 2, + "Plan Width": 31, + "Actual Startup Time": 61.408, + "Actual Total Time": 715.929, + "Actual Rows": 1678, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mc.company_id", "mi.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 61.931, + "Actual Total Time": 719.556, + "Actual Rows": 1609, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 48.584, + "Actual Total Time": 717.413, + "Actual Rows": 1724, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 63.414, + "Actual Total Time": 719.825, + "Actual Rows": 1146, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.826, + "Actual Total Time": 727.409, + "Actual Rows": 722, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 46.269, + "Actual Total Time": 699.506, + "Actual Rows": 2913, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 65.878, + "Actual Total Time": 717.993, + "Actual Rows": 1328, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 73.234, + "Actual Total Time": 702.714, + "Actual Rows": 1990, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 73286.83, + "Plan Rows": 207, + "Plan Width": 35, + "Actual Startup Time": 60.827, + "Actual Total Time": 713.330, + "Actual Rows": 1678, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mc.company_id", "mi.movie_id", "mi.info_type_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 61.593, + "Actual Total Time": 717.277, + "Actual Rows": 1609, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 48.241, + "Actual Total Time": 715.018, + "Actual Rows": 1724, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 62.617, + "Actual Total Time": 717.585, + "Actual Rows": 1146, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.065, + "Actual Total Time": 725.782, + "Actual Rows": 722, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 45.924, + "Actual Total Time": 695.713, + "Actual Rows": 2913, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 65.075, + "Actual Total Time": 715.560, + "Actual Rows": 1328, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 72.480, + "Actual Total Time": 699.640, + "Actual Rows": 1990, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 73015.32, + "Plan Rows": 267, + "Plan Width": 27, + "Actual Startup Time": 41.861, + "Actual Total Time": 468.984, + "Actual Rows": 2293, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 44.921, + "Actual Total Time": 416.932, + "Actual Rows": 4314, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.954, + "Actual Total Time": 503.421, + "Actual Rows": 1038, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 44.558, + "Actual Total Time": 440.804, + "Actual Rows": 1560, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.248, + "Actual Total Time": 586.329, + "Actual Rows": 1766, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 45.563, + "Actual Total Time": 488.464, + "Actual Rows": 2589, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.292, + "Actual Total Time": 408.420, + "Actual Rows": 1591, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 43.296, + "Actual Total Time": 512.547, + "Actual Rows": 3458, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 72480.45, + "Plan Rows": 966, + "Plan Width": 19, + "Actual Startup Time": 41.782, + "Actual Total Time": 452.310, + "Actual Rows": 966, + "Actual Loops": 8, + "Output": ["ci.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 44.840, + "Actual Total Time": 384.496, + "Actual Rows": 2226, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.872, + "Actual Total Time": 494.252, + "Actual Rows": 446, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 44.476, + "Actual Total Time": 431.390, + "Actual Rows": 403, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.161, + "Actual Total Time": 573.250, + "Actual Rows": 649, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 45.477, + "Actual Total Time": 466.066, + "Actual Rows": 1393, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.203, + "Actual Total Time": 399.599, + "Actual Rows": 339, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 43.218, + "Actual Total Time": 487.556, + "Actual Rows": 1527, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.97, + "Total Cost": 72009.61, + "Plan Rows": 1026, + "Plan Width": 23, + "Actual Startup Time": 41.629, + "Actual Total Time": 435.981, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_role_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 44.253, + "Actual Total Time": 345.459, + "Actual Rows": 2314, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.783, + "Actual Total Time": 486.064, + "Actual Rows": 473, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 44.383, + "Actual Total Time": 424.898, + "Actual Rows": 451, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.076, + "Actual Total Time": 563.247, + "Actual Rows": 701, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 45.380, + "Actual Total Time": 447.031, + "Actual Rows": 1431, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.092, + "Actual Total Time": 393.752, + "Actual Rows": 366, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 43.108, + "Actual Total Time": 455.409, + "Actual Rows": 1634, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 72004.86, + "Plan Rows": 1026, + "Plan Width": 27, + "Actual Startup Time": 41.602, + "Actual Total Time": 434.668, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = ci.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 44.233, + "Actual Total Time": 342.643, + "Actual Rows": 2314, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.762, + "Actual Total Time": 485.357, + "Actual Rows": 473, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 44.357, + "Actual Total Time": 424.176, + "Actual Rows": 451, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.054, + "Actual Total Time": 562.234, + "Actual Rows": 701, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 45.360, + "Actual Total Time": 445.390, + "Actual Rows": 1431, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.070, + "Actual Total Time": 393.145, + "Actual Rows": 366, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 43.082, + "Actual Total Time": 453.507, + "Actual Rows": 1634, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 66803.05, + "Plan Rows": 1316, + "Plan Width": 23, + "Actual Startup Time": 36.711, + "Actual Total Time": 344.522, + "Actual Rows": 1316, + "Actual Loops": 8, + "Output": ["an.person_id", "n.name", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 39.750, + "Actual Total Time": 266.266, + "Actual Rows": 1107, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.641, + "Actual Total Time": 392.319, + "Actual Rows": 1424, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.337, + "Actual Total Time": 344.258, + "Actual Rows": 1034, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.346, + "Actual Total Time": 434.774, + "Actual Rows": 1832, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 37.929, + "Actual Total Time": 325.878, + "Actual Rows": 1670, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.250, + "Actual Total Time": 310.364, + "Actual Rows": 1406, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.058, + "Actual Total Time": 359.490, + "Actual Rows": 1302, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 6251, + "Plan Width": 19, + "Actual Startup Time": 36.394, + "Actual Total Time": 284.159, + "Actual Rows": 6251, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 514685, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 39.413, + "Actual Total Time": 208.566, + "Actual Rows": 5347, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.525, + "Actual Total Time": 324.642, + "Actual Rows": 7061, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.144, + "Actual Total Time": 296.089, + "Actual Rows": 5075, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.029, + "Actual Total Time": 348.872, + "Actual Rows": 9046, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 37.808, + "Actual Total Time": 251.712, + "Actual Rows": 7710, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.052, + "Actual Total Time": 252.345, + "Actual Rows": 6195, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.372, + "Actual Total Time": 301.322, + "Actual Rows": 6096, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 50011, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 5347 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 7061 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 5075 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 9046 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 7710 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6195 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6096 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.94, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 10525, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.067, + "Actual Rows": 2, + "Actual Loops": 1107 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1424 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.076, + "Actual Rows": 0, + "Actual Loops": 1034 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.068, + "Actual Rows": 0, + "Actual Loops": 1832 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.070, + "Actual Rows": 1, + "Actual Loops": 1670 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1406 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 1302 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 8204, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 2314 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 473 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 451 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 701 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1431 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 366 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1634 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 7726, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 2226 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 446 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.021, + "Actual Rows": 4, + "Actual Loops": 403 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 649 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 1393 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.023, + "Actual Rows": 5, + "Actual Loops": 339 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 1527 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.01, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.105, + "Actual Rows": 1, + "Actual Loops": 18345, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 77, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.069, + "Actual Rows": 0, + "Actual Loops": 4314 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.115, + "Actual Total Time": 0.202, + "Actual Rows": 2, + "Actual Loops": 1038 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.176, + "Actual Rows": 1, + "Actual Loops": 1560 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.078, + "Actual Rows": 0, + "Actual Loops": 1766 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.079, + "Actual Rows": 1, + "Actual Loops": 2589 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.192, + "Actual Rows": 1, + "Actual Loops": 1591 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 3458 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.080, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.065, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.083, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 13425, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1609 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1724 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1146 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 722 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 2913 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1328 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1990 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 4113, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 559 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 408 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 425 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 300 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 585 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 379 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 959 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5068614643165729469, + "Planning Time": 211.824, + "Triggers": [ + ], + "Execution Time": 774.134, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 5068614643165729469, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS jap_engl_voiced_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND n.gender ='f'
  AND rt.role ='actress'
  AND t.production_year > 2000
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 184478.50, + "Total Cost": 184478.51, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 10095.276, + "Actual Total Time": 10143.849, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 184478.45, + "Total Cost": 184478.46, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 10074.974, + "Actual Total Time": 10143.811, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 184477.45, + "Total Cost": 184477.46, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 10064.898, + "Actual Total Time": 10064.913, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10060.529, + "Actual Total Time": 10060.545, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10066.375, + "Actual Total Time": 10066.388, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10073.567, + "Actual Total Time": 10073.584, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10060.951, + "Actual Total Time": 10060.964, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10061.253, + "Actual Total Time": 10061.267, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10061.410, + "Actual Total Time": 10061.424, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10061.016, + "Actual Total Time": 10061.029, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 174321.97, + "Total Cost": 183377.05, + "Plan Rows": 220081, + "Plan Width": 32, + "Actual Startup Time": 9776.889, + "Actual Total Time": 9953.909, + "Actual Rows": 220081, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(an.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9773.956, + "Actual Total Time": 9921.899, + "Actual Rows": 281954, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9779.935, + "Actual Total Time": 9966.221, + "Actual Rows": 227948, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9774.819, + "Actual Total Time": 9957.478, + "Actual Rows": 221468, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9774.562, + "Actual Total Time": 9956.829, + "Actual Rows": 190696, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9774.742, + "Actual Total Time": 9956.430, + "Actual Rows": 192390, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9774.855, + "Actual Total Time": 9961.050, + "Actual Rows": 184466, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9774.591, + "Actual Total Time": 9952.834, + "Actual Rows": 198251, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 8730.32, + "Plan Rows": 81581, + "Plan Width": 4, + "Actual Startup Time": 0.220, + "Actual Total Time": 92.727, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["an.person_id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.214, + "Actual Total Time": 54.895, + "Actual Rows": 69095, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.122, + "Actual Total Time": 105.514, + "Actual Rows": 141325, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.341, + "Actual Total Time": 86.585, + "Actual Rows": 100344, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.243, + "Actual Total Time": 102.323, + "Actual Rows": 125286, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.158, + "Actual Total Time": 101.415, + "Actual Rows": 121279, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.315, + "Actual Total Time": 106.046, + "Actual Rows": 133544, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.289, + "Actual Total Time": 98.276, + "Actual Rows": 107114, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 173091.79, + "Total Cost": 173091.79, + "Plan Rows": 98380, + "Plan Width": 40, + "Actual Startup Time": 9710.981, + "Actual Total Time": 9710.994, + "Actual Rows": 98380, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Hash Buckets": 1048576, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 69376, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9710.218, + "Actual Total Time": 9710.232, + "Actual Rows": 141309, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9715.896, + "Actual Total Time": 9715.907, + "Actual Rows": 92373, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9710.834, + "Actual Total Time": 9710.848, + "Actual Rows": 73093, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9710.537, + "Actual Total Time": 9710.548, + "Actual Rows": 106920, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9710.879, + "Actual Total Time": 9710.892, + "Actual Rows": 111742, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9710.889, + "Actual Total Time": 9710.902, + "Actual Rows": 84692, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9710.530, + "Actual Total Time": 9710.542, + "Actual Rows": 122297, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42148.12, + "Total Cost": 173091.79, + "Plan Rows": 98380, + "Plan Width": 40, + "Actual Startup Time": 382.643, + "Actual Total Time": 9591.157, + "Actual Rows": 98380, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 382.950, + "Actual Total Time": 9553.217, + "Actual Rows": 141309, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 378.942, + "Actual Total Time": 9605.949, + "Actual Rows": 92373, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 387.255, + "Actual Total Time": 9580.272, + "Actual Rows": 73093, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 377.634, + "Actual Total Time": 9572.694, + "Actual Rows": 106920, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 387.591, + "Actual Total Time": 9596.896, + "Actual Rows": 111742, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 380.455, + "Actual Total Time": 9586.275, + "Actual Rows": 84692, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 390.690, + "Actual Total Time": 9587.383, + "Actual Rows": 122297, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42146.28, + "Total Cost": 171582.91, + "Plan Rows": 553355, + "Plan Width": 44, + "Actual Startup Time": 382.589, + "Actual Total Time": 9382.006, + "Actual Rows": 553355, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info_type_id", "n.name", "n.id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 382.931, + "Actual Total Time": 9269.524, + "Actual Rows": 737631, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 378.894, + "Actual Total Time": 9441.117, + "Actual Rows": 420458, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 387.193, + "Actual Total Time": 9380.077, + "Actual Rows": 554327, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 377.583, + "Actual Total Time": 9350.048, + "Actual Rows": 583312, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 387.573, + "Actual Total Time": 9361.338, + "Actual Rows": 619926, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 380.436, + "Actual Total Time": 9396.386, + "Actual Rows": 513701, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 390.645, + "Actual Total Time": 9323.223, + "Actual Rows": 703621, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42145.84, + "Total Cost": 157285.96, + "Plan Rows": 12165, + "Plan Width": 52, + "Actual Startup Time": 382.508, + "Actual Total Time": 8624.231, + "Actual Rows": 12165, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "n.name", "n.id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 382.839, + "Actual Total Time": 8264.749, + "Actual Rows": 16646, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 378.811, + "Actual Total Time": 8823.359, + "Actual Rows": 12779, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 387.108, + "Actual Total Time": 8645.652, + "Actual Rows": 11865, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 377.495, + "Actual Total Time": 8561.352, + "Actual Rows": 11039, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 387.472, + "Actual Total Time": 8517.997, + "Actual Rows": 13278, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 380.372, + "Actual Total Time": 8686.534, + "Actual Rows": 11199, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 390.562, + "Actual Total Time": 8378.048, + "Actual Rows": 13393, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42145.41, + "Total Cost": 150725.59, + "Plan Rows": 12173, + "Plan Width": 33, + "Actual Startup Time": 382.411, + "Actual Total Time": 8433.716, + "Actual Rows": 12173, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 382.730, + "Actual Total Time": 8017.602, + "Actual Rows": 16651, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 378.712, + "Actual Total Time": 8637.514, + "Actual Rows": 12784, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 387.005, + "Actual Total Time": 8462.513, + "Actual Rows": 11866, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 377.388, + "Actual Total Time": 8383.234, + "Actual Rows": 11050, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 387.380, + "Actual Total Time": 8304.614, + "Actual Rows": 13289, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 380.282, + "Actual Total Time": 8499.333, + "Actual Rows": 11213, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 390.452, + "Actual Total Time": 8169.196, + "Actual Rows": 13401, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42144.98, + "Total Cost": 144737.19, + "Plan Rows": 13049, + "Plan Width": 37, + "Actual Startup Time": 381.769, + "Actual Total Time": 8238.024, + "Actual Rows": 13049, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 382.606, + "Actual Total Time": 7770.064, + "Actual Rows": 17528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 378.598, + "Actual Total Time": 8445.591, + "Actual Rows": 13529, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 382.634, + "Actual Total Time": 8283.821, + "Actual Rows": 12781, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 377.250, + "Actual Total Time": 8168.187, + "Actual Rows": 11891, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 387.283, + "Actual Total Time": 8079.817, + "Actual Rows": 14129, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 380.166, + "Actual Total Time": 8316.331, + "Actual Rows": 12313, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 390.334, + "Actual Total Time": 7957.079, + "Actual Rows": 14529, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42143.88, + "Total Cost": 144577.49, + "Plan Rows": 44650, + "Plan Width": 41, + "Actual Startup Time": 379.910, + "Actual Total Time": 8210.605, + "Actual Rows": 44650, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 380.376, + "Actual Total Time": 7736.636, + "Actual Rows": 58313, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 378.404, + "Actual Total Time": 8419.127, + "Actual Rows": 46744, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 378.405, + "Actual Total Time": 8258.391, + "Actual Rows": 43969, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 377.105, + "Actual Total Time": 8140.584, + "Actual Rows": 41839, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 387.073, + "Actual Total Time": 8050.710, + "Actual Rows": 49997, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 379.973, + "Actual Total Time": 8283.559, + "Actual Rows": 42823, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 383.140, + "Actual Total Time": 7929.589, + "Actual Rows": 46009, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42143.44, + "Total Cost": 64475.28, + "Plan Rows": 58598, + "Plan Width": 25, + "Actual Startup Time": 374.186, + "Actual Total Time": 1087.611, + "Actual Rows": 58598, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 374.182, + "Actual Total Time": 986.977, + "Actual Rows": 50282, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 374.192, + "Actual Total Time": 1107.421, + "Actual Rows": 62610, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 374.197, + "Actual Total Time": 1065.569, + "Actual Rows": 62309, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 374.186, + "Actual Total Time": 1122.731, + "Actual Rows": 52231, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 374.179, + "Actual Total Time": 1078.691, + "Actual Rows": 55335, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 374.174, + "Actual Total Time": 1054.725, + "Actual Rows": 66442, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 374.218, + "Actual Total Time": 1095.217, + "Actual Rows": 55627, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 21953.67, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 0.104, + "Actual Total Time": 556.044, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.113, + "Actual Total Time": 477.981, + "Actual Rows": 119948, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.103, + "Actual Total Time": 569.481, + "Actual Rows": 135956, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.112, + "Actual Total Time": 542.201, + "Actual Rows": 129413, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.113, + "Actual Total Time": 569.541, + "Actual Rows": 190756, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.100, + "Actual Total Time": 562.381, + "Actual Rows": 124988, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.106, + "Actual Total Time": 530.351, + "Actual Rows": 125204, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.109, + "Actual Total Time": 570.349, + "Actual Rows": 140198, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 23.983, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 19.717, + "Actual Rows": 9133, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 25.091, + "Actual Rows": 11396, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 23.578, + "Actual Rows": 10870, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 19.957, + "Actual Rows": 8977, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 30.462, + "Actual Rows": 11298, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 24.623, + "Actual Rows": 11396, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 24.012, + "Actual Rows": 10732, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.61, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.044, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.044, + "Actual Rows": 13, + "Actual Loops": 9133 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.042, + "Actual Rows": 12, + "Actual Loops": 11396 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.042, + "Actual Rows": 12, + "Actual Loops": 10870 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.053, + "Actual Rows": 21, + "Actual Loops": 8977 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.042, + "Actual Rows": 11, + "Actual Loops": 11298 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.039, + "Actual Rows": 11, + "Actual Loops": 11396 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.045, + "Actual Rows": 13, + "Actual Loops": 10732 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 39984.49, + "Total Cost": 39984.49, + "Plan Rows": 172682, + "Plan Width": 21, + "Actual Startup Time": 370.296, + "Actual Total Time": 370.297, + "Actual Rows": 172682, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 2097152, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 93952, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 374.018, + "Actual Total Time": 374.020, + "Actual Rows": 151629, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 344.204, + "Actual Total Time": 344.205, + "Actual Rows": 185163, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 374.028, + "Actual Total Time": 374.029, + "Actual Rows": 164947, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 374.018, + "Actual Total Time": 374.019, + "Actual Rows": 178557, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 374.015, + "Actual Total Time": 374.016, + "Actual Rows": 151059, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 374.016, + "Actual Total Time": 374.018, + "Actual Rows": 178546, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 374.027, + "Actual Total Time": 374.028, + "Actual Rows": 175058, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.00, + "Total Cost": 39984.49, + "Plan Rows": 172682, + "Plan Width": 21, + "Actual Startup Time": 0.089, + "Actual Total Time": 189.412, + "Actual Rows": 172682, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 143357, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.073, + "Actual Total Time": 195.588, + "Actual Rows": 151629, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.125, + "Actual Total Time": 188.314, + "Actual Rows": 185163, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.100, + "Actual Total Time": 188.999, + "Actual Rows": 164947, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.080, + "Actual Total Time": 183.094, + "Actual Rows": 178557, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.104, + "Actual Total Time": 198.045, + "Actual Rows": 151059, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.090, + "Actual Total Time": 194.084, + "Actual Rows": 178546, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.105, + "Actual Total Time": 189.722, + "Actual Rows": 175058, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.35, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.105, + "Actual Total Time": 0.120, + "Actual Rows": 1, + "Actual Loops": 468787, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))",+ "Rows Removed by Filter": 34, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.112, + "Actual Total Time": 0.132, + "Actual Rows": 1, + "Actual Loops": 50282 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.115, + "Actual Rows": 1, + "Actual Loops": 62610 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.114, + "Actual Rows": 1, + "Actual Loops": 62309 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.116, + "Actual Total Time": 0.133, + "Actual Rows": 1, + "Actual Loops": 52231 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.107, + "Actual Total Time": 0.124, + "Actual Rows": 1, + "Actual Loops": 55335 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.107, + "Actual Rows": 1, + "Actual Loops": 66442 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.105, + "Actual Total Time": 0.121, + "Actual Rows": 1, + "Actual Loops": 55627 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 104391, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 17528 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 13529 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 12781 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 11891 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 14129 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 12313 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 14529 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 97386, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'f'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 16651 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 12784 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 11866 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 11050 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 13289 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 11213 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 13401 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 21, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.045, + "Actual Rows": 45, + "Actual Loops": 97320, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.044, + "Actual Rows": 44, + "Actual Loops": 16646 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.036, + "Actual Rows": 33, + "Actual Loops": 12779 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.044, + "Actual Rows": 47, + "Actual Loops": 11865 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.051, + "Actual Rows": 53, + "Actual Loops": 11039 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.045, + "Actual Rows": 47, + "Actual Loops": 13278 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.046, + "Actual Rows": 46, + "Actual Loops": 11199 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.051, + "Actual Rows": 53, + "Actual Loops": 13393 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 56, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7915967579038312663, + "Planning Time": 181.361, + "Triggers": [ + ], + "Execution Time": 10149.675, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 7915967579038312663, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'top 250 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND (mc.note LIKE '%(co-production)%'
       OR mc.note LIKE '%(presents)%')
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10160.05, + "Total Cost": 10160.06, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 133.191, + "Actual Total Time": 133.529, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10159.98, + "Total Cost": 10159.99, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 133.164, + "Actual Total Time": 133.516, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10158.98, + "Total Cost": 10158.99, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 102.333, + "Actual Total Time": 102.338, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 109.369, + "Actual Total Time": 109.375, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 107.652, + "Actual Total Time": 107.656, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 83.287, + "Actual Total Time": 83.291, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.346, + "Actual Total Time": 97.352, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 87.481, + "Actual Total Time": 87.487, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 102.556, + "Actual Total Time": 102.560, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 102.552, + "Actual Total Time": 102.557, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10158.84, + "Plan Rows": 18, + "Plan Width": 45, + "Actual Startup Time": 99.079, + "Actual Total Time": 102.300, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Join Filter": "(mc.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 109.360, + "Actual Total Time": 109.365, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.983, + "Actual Total Time": 107.564, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 83.280, + "Actual Total Time": 83.284, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.339, + "Actual Total Time": 97.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 87.475, + "Actual Total Time": 87.480, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 102.551, + "Actual Total Time": 102.555, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 102.545, + "Actual Total Time": 102.550, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.41, + "Total Cost": 10149.95, + "Plan Rows": 18, + "Plan Width": 32, + "Actual Startup Time": 99.036, + "Actual Total Time": 101.860, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mc.note", "mc.movie_id", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 109.359, + "Actual Total Time": 109.363, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.711, + "Actual Total Time": 106.250, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 83.279, + "Actual Total Time": 83.282, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.338, + "Actual Total Time": 97.343, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 87.474, + "Actual Total Time": 87.478, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 102.551, + "Actual Total Time": 102.554, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 102.544, + "Actual Total Time": 102.548, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10149.07, + "Plan Rows": 18, + "Plan Width": 36, + "Actual Startup Time": 99.022, + "Actual Total Time": 101.807, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "mc.note", "mc.company_type_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 109.358, + "Actual Total Time": 109.361, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.655, + "Actual Total Time": 106.087, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 83.278, + "Actual Total Time": 83.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.337, + "Actual Total Time": 97.340, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 87.473, + "Actual Total Time": 87.476, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 102.550, + "Actual Total Time": 102.552, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 102.544, + "Actual Total Time": 102.546, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 31, + "Plan Width": 4, + "Actual Startup Time": 98.963, + "Actual Total Time": 99.022, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 109.357, + "Actual Total Time": 109.359, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.425, + "Actual Total Time": 99.572, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 83.277, + "Actual Total Time": 83.280, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.336, + "Actual Total Time": 97.339, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 87.472, + "Actual Total Time": 87.474, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 102.549, + "Actual Total Time": 102.550, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 102.543, + "Actual Total Time": 102.545, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.035, + "Actual Total Time": 42.490, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 51.325, + "Actual Rows": 171833, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 43.061, + "Actual Rows": 193129, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 22.097, + "Actual Rows": 103637, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 40.959, + "Actual Rows": 198637, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 39.859, + "Actual Rows": 166104, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 43.206, + "Actual Rows": 204900, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 45.662, + "Actual Rows": 142426, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.080, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'top 250 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.088, + "Actual Rows": 1, + "Actual Loops": 250, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text) AND ((mc.note ~~ '%(co-production)%'::text) OR (mc.note ~~ '%(presents)%'::text)))", + "Rows Removed by Filter": 33, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.073, + "Actual Rows": 1, + "Actual Loops": 88 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 147, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 94, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 52, + "Cache Hits": 50, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 142, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 47 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1116224040252844741, + "Planning Time": 13.771, + "Triggers": [ + ], + "Execution Time": 136.081, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -1116224040252844741, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'bottom 10 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND t.production_year BETWEEN 2005 AND 2010
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10134.58, + "Total Cost": 10134.59, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 103.061, + "Actual Total Time": 108.145, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10134.51, + "Total Cost": 10134.52, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 98.253, + "Actual Total Time": 108.113, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10133.51, + "Total Cost": 10133.52, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 92.458, + "Actual Total Time": 92.464, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.909, + "Actual Total Time": 90.913, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.813, + "Actual Total Time": 90.817, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 90.287, + "Actual Total Time": 90.291, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 91.108, + "Actual Total Time": 91.113, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.168, + "Actual Total Time": 91.173, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 95.691, + "Actual Total Time": 95.698, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.314, + "Actual Total Time": 92.321, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10133.50, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 92.448, + "Actual Total Time": 92.455, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.905, + "Actual Total Time": 90.908, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.808, + "Actual Total Time": 90.812, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 90.281, + "Actual Total Time": 90.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 91.101, + "Actual Total Time": 91.106, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.164, + "Actual Total Time": 91.169, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 95.682, + "Actual Total Time": 95.688, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.271, + "Actual Total Time": 92.291, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 10132.89, + "Plan Rows": 8, + "Plan Width": 49, + "Actual Startup Time": 92.370, + "Actual Total Time": 92.433, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "t.title", "t.production_year"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.904, + "Actual Total Time": 90.907, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.808, + "Actual Total Time": 90.811, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 90.281, + "Actual Total Time": 90.283, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 91.101, + "Actual Total Time": 91.104, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.164, + "Actual Total Time": 91.167, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 95.681, + "Actual Total Time": 95.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.652, + "Actual Total Time": 92.125, + "Actual Rows": 66, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10132.18, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 92.355, + "Actual Total Time": 92.376, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.production_year", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.904, + "Actual Total Time": 90.906, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.807, + "Actual Total Time": 90.810, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 90.280, + "Actual Total Time": 90.282, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 91.100, + "Actual Total Time": 91.103, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.163, + "Actual Total Time": 91.165, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 95.681, + "Actual Total Time": 95.684, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.530, + "Actual Total Time": 91.675, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 92.306, + "Actual Total Time": 92.312, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.903, + "Actual Total Time": 90.905, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.806, + "Actual Total Time": 90.808, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 90.280, + "Actual Total Time": 90.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 91.099, + "Actual Total Time": 91.102, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.162, + "Actual Total Time": 91.164, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 95.680, + "Actual Total Time": 95.683, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.147, + "Actual Total Time": 91.173, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.018, + "Actual Total Time": 35.555, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 35.803, + "Actual Rows": 190435, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 35.110, + "Actual Rows": 191851, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 50.658, + "Actual Rows": 118105, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 35.093, + "Actual Rows": 192866, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 35.753, + "Actual Rows": 180729, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 24.471, + "Actual Rows": 137056, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 30.178, + "Actual Rows": 164779, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.341, + "Actual Total Time": 0.342, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.458, + "Actual Total Time": 2.459, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'bottom 10 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 10, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 16, + "Plan Width": 32, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.103, + "Actual Rows": 16, + "Actual Loops": 4, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.103, + "Actual Rows": 16, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 66, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 66, + "Cache Hits": 64, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4074774145614403639, + "Planning Time": 13.819, + "Triggers": [ + ], + "Execution Time": 111.253, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -4074774145614403639, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'top 250 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND (mc.note LIKE '%(co-production)%')
  AND t.production_year >2010
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10149.06, + "Total Cost": 10149.07, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 113.166, + "Actual Total Time": 118.330, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10148.99, + "Total Cost": 10149.00, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 113.096, + "Actual Total Time": 118.309, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10147.99, + "Total Cost": 10148.00, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 102.868, + "Actual Total Time": 102.874, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 100.872, + "Actual Total Time": 100.876, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 100.202, + "Actual Total Time": 100.207, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 101.082, + "Actual Total Time": 101.088, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.614, + "Actual Total Time": 105.623, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 101.119, + "Actual Total Time": 101.125, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 100.791, + "Actual Total Time": 100.797, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.829, + "Actual Total Time": 100.834, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10147.99, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 102.448, + "Actual Total Time": 102.865, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 100.867, + "Actual Total Time": 100.871, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 100.197, + "Actual Total Time": 100.202, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 101.076, + "Actual Total Time": 101.082, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.605, + "Actual Total Time": 105.613, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 101.111, + "Actual Total Time": 101.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 100.783, + "Actual Total Time": 100.789, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.823, + "Actual Total Time": 100.828, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 10147.82, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 102.443, + "Actual Total Time": 102.858, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "t.title", "t.production_year"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 100.867, + "Actual Total Time": 100.869, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 100.196, + "Actual Total Time": 100.200, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 101.075, + "Actual Total Time": 101.080, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.605, + "Actual Total Time": 105.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 101.109, + "Actual Total Time": 101.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 100.782, + "Actual Total Time": 100.786, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.822, + "Actual Total Time": 100.826, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10146.71, + "Plan Rows": 2, + "Plan Width": 29, + "Actual Startup Time": 101.931, + "Actual Total Time": 102.665, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.production_year", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 100.866, + "Actual Total Time": 100.868, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 100.195, + "Actual Total Time": 100.198, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 101.075, + "Actual Total Time": 101.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 102.122, + "Actual Total Time": 104.673, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 101.109, + "Actual Total Time": 101.113, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 100.782, + "Actual Total Time": 100.785, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.821, + "Actual Total Time": 100.824, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 31, + "Plan Width": 4, + "Actual Startup Time": 101.626, + "Actual Total Time": 101.689, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 100.866, + "Actual Total Time": 100.867, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 100.195, + "Actual Total Time": 100.197, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 101.074, + "Actual Total Time": 101.077, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 100.823, + "Actual Total Time": 101.051, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 101.108, + "Actual Total Time": 101.111, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 100.780, + "Actual Total Time": 100.783, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.821, + "Actual Total Time": 100.822, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.018, + "Actual Total Time": 40.789, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 41.666, + "Actual Rows": 167128, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 43.208, + "Actual Rows": 155668, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 35.421, + "Actual Rows": 187319, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 42.097, + "Actual Rows": 148468, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 38.917, + "Actual Rows": 178085, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 39.848, + "Actual Rows": 166288, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 43.206, + "Actual Rows": 157576, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'top 250 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 250, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 88 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 0.125, + "Actual Total Time": 0.125, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text) AND (mc.note ~~ '%(co-production)%'::text))", + "Rows Removed by Filter": 31, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.154, + "Actual Total Time": 0.154, + "Actual Rows": 0, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 946838174961328458, + "Planning Time": 11.859, + "Triggers": [ + ], + "Execution Time": 121.751, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 946838174961328458, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'bottom 10 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND t.production_year >2000
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10134.59, + "Total Cost": 10134.60, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 108.757, + "Actual Total Time": 115.060, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10134.51, + "Total Cost": 10134.53, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 108.735, + "Actual Total Time": 115.051, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10133.51, + "Total Cost": 10133.52, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 101.742, + "Actual Total Time": 101.747, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 101.406, + "Actual Total Time": 101.412, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 100.820, + "Actual Total Time": 100.825, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 100.920, + "Actual Total Time": 100.925, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 100.752, + "Actual Total Time": 100.757, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 100.767, + "Actual Total Time": 100.772, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 100.713, + "Actual Total Time": 100.717, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.694, + "Actual Total Time": 100.699, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10133.51, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 101.717, + "Actual Total Time": 101.739, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 101.400, + "Actual Total Time": 101.405, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 100.814, + "Actual Total Time": 100.819, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 100.914, + "Actual Total Time": 100.918, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 100.749, + "Actual Total Time": 100.753, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 100.762, + "Actual Total Time": 100.766, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 100.706, + "Actual Total Time": 100.710, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.688, + "Actual Total Time": 100.693, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 10132.84, + "Plan Rows": 10, + "Plan Width": 49, + "Actual Startup Time": 101.651, + "Actual Total Time": 101.722, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "t.title", "t.production_year"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 101.399, + "Actual Total Time": 101.403, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 100.813, + "Actual Total Time": 100.816, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 100.914, + "Actual Total Time": 100.917, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 100.748, + "Actual Total Time": 100.751, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 100.761, + "Actual Total Time": 100.764, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 100.705, + "Actual Total Time": 100.709, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.688, + "Actual Total Time": 100.691, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10132.18, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 101.637, + "Actual Total Time": 101.668, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.production_year", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 101.399, + "Actual Total Time": 101.402, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 100.813, + "Actual Total Time": 100.815, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 100.913, + "Actual Total Time": 100.916, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 100.747, + "Actual Total Time": 100.750, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 100.760, + "Actual Total Time": 100.763, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 100.705, + "Actual Total Time": 100.708, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.687, + "Actual Total Time": 100.690, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 101.619, + "Actual Total Time": 101.627, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 101.398, + "Actual Total Time": 101.401, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 100.812, + "Actual Total Time": 100.813, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 100.912, + "Actual Total Time": 100.914, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 100.746, + "Actual Total Time": 100.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 100.759, + "Actual Total Time": 100.761, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 100.704, + "Actual Total Time": 100.706, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.686, + "Actual Total Time": 100.688, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 38.161, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 38.044, + "Actual Rows": 159329, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 38.706, + "Actual Rows": 188165, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 39.278, + "Actual Rows": 220013, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 42.070, + "Actual Rows": 133403, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 38.651, + "Actual Rows": 168558, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 38.693, + "Actual Rows": 197237, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 38.827, + "Actual Rows": 174278, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.066, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'bottom 10 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 13, + "Plan Width": 32, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.066, + "Actual Rows": 13, + "Actual Loops": 6, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 78, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 76, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6885312641126422993, + "Planning Time": 12.932, + "Triggers": [ + ], + "Execution Time": 117.004, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -6885312641126422993, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS complete_downey_ironman_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     keyword AS k,
     kind_type AS kt,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name NOT LIKE '%Sherlock%'
  AND (chn.name LIKE '%Tony%Stark%'
       OR chn.name LIKE '%Iron%Man%')
  AND k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND kt.kind = 'movie'
  AND t.production_year > 1950
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND ci.movie_id = cc.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 31059.14, + "Total Cost": 31059.15, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 3703.258, + "Actual Total Time": 3742.678, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 31059.12, + "Total Cost": 31059.13, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 3668.830, + "Actual Total Time": 3742.641, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 31058.12, + "Total Cost": 31058.13, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 3665.049, + "Actual Total Time": 3665.058, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3658.454, + "Actual Total Time": 3658.461, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3692.962, + "Actual Total Time": 3692.970, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3670.044, + "Actual Total Time": 3670.052, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3655.731, + "Actual Total Time": 3655.739, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3670.211, + "Actual Total Time": 3670.220, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3651.845, + "Actual Total Time": 3651.854, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3653.200, + "Actual Total Time": 3653.209, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.83, + "Total Cost": 31058.10, + "Plan Rows": 5, + "Plan Width": 17, + "Actual Startup Time": 3120.750, + "Actual Total Time": 3665.037, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2215.389, + "Actual Total Time": 3658.430, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 781.675, + "Actual Total Time": 3692.874, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3670.038, + "Actual Total Time": 3670.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3655.724, + "Actual Total Time": 3655.732, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3670.205, + "Actual Total Time": 3670.213, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3651.839, + "Actual Total Time": 3651.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3653.193, + "Actual Total Time": 3653.201, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.40, + "Total Cost": 31055.86, + "Plan Rows": 5, + "Plan Width": 21, + "Actual Startup Time": 3120.723, + "Actual Total Time": 3664.948, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2215.281, + "Actual Total Time": 3658.282, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 781.568, + "Actual Total Time": 3692.321, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3670.037, + "Actual Total Time": 3670.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3655.724, + "Actual Total Time": 3655.731, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3670.204, + "Actual Total Time": 3670.212, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3651.838, + "Actual Total Time": 3651.845, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3653.191, + "Actual Total Time": 3653.199, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.98, + "Total Cost": 31045.56, + "Plan Rows": 23, + "Plan Width": 25, + "Actual Startup Time": 2882.437, + "Actual Total Time": 3661.873, + "Actual Rows": 164, + "Actual Loops": 8, + "Output": ["ci.person_id", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2212.746, + "Actual Total Time": 3654.475, + "Actual Rows": 171, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 779.477, + "Actual Total Time": 3672.069, + "Actual Rows": 1109, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3670.036, + "Actual Total Time": 3670.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3655.723, + "Actual Total Time": 3655.729, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3670.204, + "Actual Total Time": 3670.210, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1750.182, + "Actual Total Time": 3651.309, + "Actual Rows": 34, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3653.191, + "Actual Total Time": 3653.198, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.55, + "Total Cost": 31044.22, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 2882.266, + "Actual Total Time": 3661.387, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "ci.movie_id", "ci.person_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2212.450, + "Actual Total Time": 3653.931, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 778.723, + "Actual Total Time": 3669.093, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3670.036, + "Actual Total Time": 3670.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3655.722, + "Actual Total Time": 3655.728, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3670.203, + "Actual Total Time": 3670.209, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1749.864, + "Actual Total Time": 3650.947, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3653.190, + "Actual Total Time": 3653.196, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.41, + "Total Cost": 31043.75, + "Plan Rows": 4, + "Plan Width": 37, + "Actual Startup Time": 2882.228, + "Actual Total Time": 3661.340, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "ci.movie_id", "ci.person_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2212.359, + "Actual Total Time": 3653.839, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 778.608, + "Actual Total Time": 3668.935, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3670.035, + "Actual Total Time": 3670.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3655.722, + "Actual Total Time": 3655.727, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3670.203, + "Actual Total Time": 3670.208, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1749.774, + "Actual Total Time": 3650.832, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3653.189, + "Actual Total Time": 3653.195, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.98, + "Total Cost": 11298.98, + "Plan Rows": 43265, + "Plan Width": 41, + "Actual Startup Time": 0.683, + "Actual Total Time": 1547.744, + "Actual Rows": 268787, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "ci.movie_id", "ci.person_role_id", "ci.person_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.414, + "Actual Total Time": 1532.833, + "Actual Rows": 266217, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.740, + "Actual Total Time": 1574.638, + "Actual Rows": 263562, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.783, + "Actual Total Time": 1559.818, + "Actual Rows": 272662, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.749, + "Actual Total Time": 1550.489, + "Actual Rows": 263436, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.380, + "Actual Total Time": 1530.603, + "Actual Rows": 268085, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.119, + "Actual Total Time": 1549.369, + "Actual Rows": 269105, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.760, + "Actual Total Time": 1538.064, + "Actual Rows": 272595, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.54, + "Total Cost": 8785.28, + "Plan Rows": 1246, + "Plan Width": 29, + "Actual Startup Time": 0.546, + "Actual Total Time": 268.846, + "Actual Rows": 5146, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.309, + "Actual Total Time": 267.304, + "Actual Rows": 5045, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.634, + "Actual Total Time": 265.675, + "Actual Rows": 5052, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.661, + "Actual Total Time": 282.309, + "Actual Rows": 5171, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.542, + "Actual Total Time": 284.242, + "Actual Rows": 5088, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.270, + "Actual Total Time": 251.761, + "Actual Rows": 5304, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.929, + "Actual Total Time": 273.559, + "Actual Rows": 5201, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.551, + "Actual Total Time": 258.577, + "Actual Rows": 5069, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 8747.45, + "Plan Rows": 8725, + "Plan Width": 33, + "Actual Startup Time": 0.288, + "Actual Total Time": 256.141, + "Actual Rows": 14328, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.143, + "Actual Total Time": 254.690, + "Actual Rows": 13584, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.445, + "Actual Total Time": 253.317, + "Actual Rows": 13821, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.326, + "Actual Total Time": 268.787, + "Actual Rows": 15885, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.327, + "Actual Total Time": 271.705, + "Actual Rows": 14469, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.189, + "Actual Total Time": 238.889, + "Actual Rows": 13191, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.370, + "Actual Total Time": 260.893, + "Actual Rows": 15387, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.371, + "Actual Total Time": 245.962, + "Actual Rows": 13668, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 9649, + "Plan Width": 8, + "Actual Startup Time": 0.129, + "Actual Total Time": 35.317, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.053, + "Actual Total Time": 35.375, + "Actual Rows": 16095, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.345, + "Actual Total Time": 39.773, + "Actual Rows": 16280, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.104, + "Actual Total Time": 35.203, + "Actual Rows": 18500, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.115, + "Actual Total Time": 37.359, + "Actual Rows": 17056, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.083, + "Actual Total Time": 32.202, + "Actual Rows": 15725, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.135, + "Actual Total Time": 34.110, + "Actual Rows": 17945, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.134, + "Actual Total Time": 33.929, + "Actual Rows": 16280, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.095, + "Actual Total Time": 11.156, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 12.232, + "Actual Rows": 16095, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.325, + "Actual Total Time": 16.403, + "Actual Rows": 16280, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.069, + "Actual Total Time": 9.639, + "Actual Rows": 18500, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.080, + "Actual Total Time": 12.965, + "Actual Rows": 17056, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 8.690, + "Actual Rows": 15725, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.098, + "Actual Total Time": 8.830, + "Actual Rows": 17945, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.096, + "Actual Total Time": 9.690, + "Actual Rows": 16280, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 135086, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1950)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 16095 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 16280 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 18500 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 17056 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 15725 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 17945 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 16280 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.075, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.077, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.20, + "Plan Rows": 82, + "Plan Width": 12, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.224, + "Actual Rows": 52, + "Actual Loops": 41167, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.226, + "Actual Rows": 53, + "Actual Loops": 5045 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.234, + "Actual Rows": 52, + "Actual Loops": 5052 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.222, + "Actual Rows": 53, + "Actual Loops": 5171 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.224, + "Actual Rows": 52, + "Actual Loops": 5088 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.217, + "Actual Rows": 51, + "Actual Loops": 5304 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.221, + "Actual Rows": 52, + "Actual Loops": 5201 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.227, + "Actual Rows": 54, + "Actual Loops": 5069 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 2150293, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name !~~ '%Sherlock%'::text) AND ((chn.name ~~ '%Tony%Stark%'::text) OR (chn.name ~~ '%Iron%Man%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 266217 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 263562 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 272662 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 263436 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 268085 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 269105 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 272595 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.087, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 7, + "Cache Hits": 6, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 2, + "Cache Hits": 0, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.069, + "Actual Rows": 1, + "Actual Loops": 4, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.081, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.103, + "Actual Total Time": 0.104, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.96, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.209, + "Actual Total Time": 0.343, + "Actual Rows": 146, + "Actual Loops": 9, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.290, + "Actual Total Time": 0.435, + "Actual Rows": 171, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.183, + "Actual Total Time": 0.331, + "Actual Rows": 158, + "Actual Loops": 7 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.312, + "Actual Total Time": 0.337, + "Actual Rows": 34, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1314, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 171 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1109 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 34 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 33, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 29 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2202723705874175045, + "Planning Time": 128.620, + "Triggers": [ + ], + "Execution Time": 3747.739, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -2202723705874175045, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(t.title) AS complete_downey_ironman_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     keyword AS k,
     kind_type AS kt,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name NOT LIKE '%Sherlock%'
  AND (chn.name LIKE '%Tony%Stark%'
       OR chn.name LIKE '%Iron%Man%')
  AND k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND kt.kind = 'movie'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND ci.movie_id = cc.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7302.73, + "Total Cost": 7302.74, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 2587.215, + "Actual Total Time": 2629.876, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7302.71, + "Total Cost": 7302.72, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 2572.976, + "Actual Total Time": 2629.846, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7301.71, + "Total Cost": 7301.72, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 2556.512, + "Actual Total Time": 2556.522, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2551.085, + "Actual Total Time": 2551.095, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2557.633, + "Actual Total Time": 2557.642, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2546.693, + "Actual Total Time": 2546.702, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2550.318, + "Actual Total Time": 2550.329, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2549.225, + "Actual Total Time": 2549.235, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2578.068, + "Actual Total Time": 2578.078, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2547.015, + "Actual Total Time": 2547.024, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1594.59, + "Total Cost": 7301.70, + "Plan Rows": 2, + "Plan Width": 17, + "Actual Startup Time": 2365.022, + "Actual Total Time": 2556.505, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1019.212, + "Actual Total Time": 2551.010, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2557.628, + "Actual Total Time": 2557.636, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2546.687, + "Actual Total Time": 2546.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2550.311, + "Actual Total Time": 2550.321, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2549.219, + "Actual Total Time": 2549.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2578.061, + "Actual Total Time": 2578.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2547.008, + "Actual Total Time": 2547.016, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1594.46, + "Total Cost": 7301.38, + "Plan Rows": 2, + "Plan Width": 21, + "Actual Startup Time": 2365.014, + "Actual Total Time": 2556.475, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1019.152, + "Actual Total Time": 2550.775, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2557.627, + "Actual Total Time": 2557.635, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2546.687, + "Actual Total Time": 2546.694, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2550.310, + "Actual Total Time": 2550.319, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2549.218, + "Actual Total Time": 2549.227, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2578.060, + "Actual Total Time": 2578.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2547.007, + "Actual Total Time": 2547.014, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1594.33, + "Total Cost": 7301.06, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 2365.008, + "Actual Total Time": 2556.448, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["cc.subject_id", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1019.106, + "Actual Total Time": 2550.569, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2557.627, + "Actual Total Time": 2557.634, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2546.686, + "Actual Total Time": 2546.693, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2550.309, + "Actual Total Time": 2550.318, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2549.218, + "Actual Total Time": 2549.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2578.060, + "Actual Total Time": 2578.068, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2547.007, + "Actual Total Time": 2547.014, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1593.90, + "Total Cost": 7300.59, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 2364.998, + "Actual Total Time": 2556.399, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1019.035, + "Actual Total Time": 2550.191, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2557.626, + "Actual Total Time": 2557.633, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2546.686, + "Actual Total Time": 2546.692, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2550.309, + "Actual Total Time": 2550.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2549.217, + "Actual Total Time": 2549.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2578.059, + "Actual Total Time": 2578.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2547.006, + "Actual Total Time": 2547.012, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1593.47, + "Total Cost": 7300.14, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 1096.691, + "Actual Total Time": 2556.194, + "Actual Rows": 6, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "ci.movie_id", "ci.person_role_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1018.913, + "Actual Total Time": 2549.523, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1056.574, + "Actual Total Time": 2557.529, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 257.948, + "Actual Total Time": 2546.495, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 181.120, + "Actual Total Time": 2550.176, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 482.518, + "Actual Total Time": 2549.118, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1931.223, + "Actual Total Time": 2577.797, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1965.341, + "Actual Total Time": 2546.900, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1593.04, + "Total Cost": 7260.81, + "Plan Rows": 87, + "Plan Width": 24, + "Actual Startup Time": 185.416, + "Actual Total Time": 876.721, + "Actual Rows": 114198, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "ci.movie_id", "ci.person_role_id", "ci.person_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 186.345, + "Actual Total Time": 874.017, + "Actual Rows": 113192, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 185.798, + "Actual Total Time": 883.223, + "Actual Rows": 112072, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 185.091, + "Actual Total Time": 891.367, + "Actual Rows": 114695, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 180.756, + "Actual Total Time": 865.126, + "Actual Rows": 115578, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 185.859, + "Actual Total Time": 877.615, + "Actual Rows": 112942, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 185.426, + "Actual Total Time": 873.749, + "Actual Rows": 118219, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 180.816, + "Actual Total Time": 869.594, + "Actual Rows": 112963, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1592.00, + "Total Cost": 7258.82, + "Plan Rows": 174, + "Plan Width": 28, + "Actual Startup Time": 185.009, + "Actual Total Time": 766.583, + "Actual Rows": 114198, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "ci.movie_id", "ci.person_role_id", "ci.person_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 186.031, + "Actual Total Time": 764.057, + "Actual Rows": 113192, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 185.458, + "Actual Total Time": 774.005, + "Actual Rows": 112072, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 184.844, + "Actual Total Time": 782.450, + "Actual Rows": 114695, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 180.063, + "Actual Total Time": 751.195, + "Actual Rows": 115578, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 185.514, + "Actual Total Time": 769.737, + "Actual Rows": 112942, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 185.167, + "Actual Total Time": 761.187, + "Actual Rows": 118219, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 180.121, + "Actual Total Time": 759.921, + "Actual Rows": 112963, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1591.56, + "Total Cost": 2618.43, + "Plan Rows": 1830, + "Plan Width": 16, + "Actual Startup Time": 184.876, + "Actual Total Time": 203.921, + "Actual Rows": 1601, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 185.939, + "Actual Total Time": 205.123, + "Actual Rows": 1531, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 185.334, + "Actual Total Time": 204.596, + "Actual Rows": 1548, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 184.716, + "Actual Total Time": 203.598, + "Actual Rows": 1585, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 179.919, + "Actual Total Time": 198.296, + "Actual Rows": 1630, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 185.349, + "Actual Total Time": 204.936, + "Actual Rows": 1608, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 185.039, + "Actual Total Time": 203.256, + "Actual Rows": 1649, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 180.004, + "Actual Total Time": 199.856, + "Actual Rows": 1673, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.068, + "Actual Total Time": 5.420, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.068, + "Actual Total Time": 5.822, + "Actual Rows": 16835, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.066, + "Actual Total Time": 5.435, + "Actual Rows": 17020, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.061, + "Actual Total Time": 5.332, + "Actual Rows": 17205, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.074, + "Actual Total Time": 5.228, + "Actual Rows": 16465, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.092, + "Actual Total Time": 5.559, + "Actual Rows": 17390, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.048, + "Actual Total Time": 5.057, + "Actual Rows": 15725, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.069, + "Actual Total Time": 5.633, + "Actual Rows": 17981, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1528.09, + "Total Cost": 1528.09, + "Plan Rows": 5078, + "Plan Width": 4, + "Actual Startup Time": 184.639, + "Actual Total Time": 184.641, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2016, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 185.753, + "Actual Total Time": 185.755, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 185.160, + "Actual Total Time": 185.162, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 184.570, + "Actual Total Time": 184.572, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 179.772, + "Actual Total Time": 179.774, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 185.172, + "Actual Total Time": 185.174, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 184.906, + "Actual Total Time": 184.908, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 179.771, + "Actual Total Time": 179.774, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1528.09, + "Plan Rows": 5078, + "Plan Width": 4, + "Actual Startup Time": 6.948, + "Actual Total Time": 97.608, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.778, + "Actual Total Time": 67.892, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.352, + "Actual Total Time": 47.143, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.716, + "Actual Total Time": 176.329, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.425, + "Actual Total Time": 42.628, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.528, + "Actual Total Time": 172.220, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.426, + "Actual Total Time": 168.370, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.938, + "Actual Total Time": 42.939, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.274, + "Actual Total Time": 12.487, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.209, + "Actual Total Time": 2.222, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.234, + "Actual Total Time": 16.552, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.613, + "Actual Total Time": 0.671, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.216, + "Actual Total Time": 35.417, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.408, + "Actual Total Time": 0.483, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.322, + "Actual Total Time": 1.345, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.937, + "Actual Total Time": 42.937, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.30, + "Plan Rows": 4444, + "Plan Width": 8, + "Actual Startup Time": 0.725, + "Actual Total Time": 83.762, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.564, + "Actual Total Time": 64.494, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.113, + "Actual Total Time": 30.069, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.273, + "Actual Total Time": 86.214, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.199, + "Actual Total Time": 7.088, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.117, + "Actual Total Time": 169.878, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.099, + "Actual Total Time": 163.835, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 141, + "Plan Width": 12, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.314, + "Actual Rows": 71, + "Actual Loops": 12810, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.326, + "Actual Rows": 74, + "Actual Loops": 1531 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.330, + "Actual Rows": 72, + "Actual Loops": 1548 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.328, + "Actual Rows": 72, + "Actual Loops": 1585 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.302, + "Actual Rows": 71, + "Actual Loops": 1630 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.315, + "Actual Rows": 70, + "Actual Loops": 1608 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.301, + "Actual Rows": 72, + "Actual Loops": 1649 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.299, + "Actual Rows": 68, + "Actual Loops": 1673 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.077, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.081, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 913582, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 113192 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 112072 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 114695 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 115578 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 112942 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 118219 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 112963 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 51, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name !~~ '%Sherlock%'::text) AND ((chn.name ~~ '%Tony%Stark%'::text) OR (chn.name ~~ '%Iron%Man%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 27 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 7 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 17, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 17 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 17, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 17 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 17, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 17 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -310926232940389306, + "Planning Time": 138.030, + "Triggers": [ + ], + "Execution Time": 2635.421, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -310926232940389306, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS cast_member,
       MIN(t.title) AS complete_dynamic_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     keyword AS k,
     kind_type AS kt,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence',
                    'magnet',
                    'web',
                    'claw',
                    'laser')
  AND kt.kind = 'movie'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND ci.movie_id = cc.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7061.40, + "Total Cost": 7061.41, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 2638.278, + "Actual Total Time": 2671.463, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7061.36, + "Total Cost": 7061.37, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 2586.606, + "Actual Total Time": 2671.421, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7060.36, + "Total Cost": 7060.37, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 2594.425, + "Actual Total Time": 2594.434, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2628.729, + "Actual Total Time": 2628.735, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2581.445, + "Actual Total Time": 2581.453, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2573.578, + "Actual Total Time": 2573.588, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2627.534, + "Actual Total Time": 2627.540, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2583.739, + "Actual Total Time": 2583.748, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2574.373, + "Actual Total Time": 2574.384, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2600.297, + "Actual Total Time": 2600.306, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.76, + "Total Cost": 7056.50, + "Plan Rows": 772, + "Plan Width": 32, + "Actual Startup Time": 47.946, + "Actual Total Time": 2592.573, + "Actual Rows": 676, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.453, + "Actual Total Time": 2626.401, + "Actual Rows": 899, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 84.646, + "Actual Total Time": 2579.415, + "Actual Rows": 732, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.564, + "Actual Total Time": 2571.537, + "Actual Rows": 714, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.239, + "Actual Total Time": 2625.539, + "Actual Rows": 751, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.196, + "Actual Total Time": 2582.424, + "Actual Rows": 507, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 152.755, + "Actual Total Time": 2572.802, + "Actual Rows": 563, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 80.412, + "Actual Total Time": 2598.690, + "Actual Rows": 590, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.31, + "Total Cost": 6737.42, + "Plan Rows": 682, + "Plan Width": 36, + "Actual Startup Time": 5.264, + "Actual Total Time": 1091.669, + "Actual Rows": 143283, + "Actual Loops": 8, + "Output": ["mk.keyword_id", "n.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.876, + "Actual Total Time": 1062.830, + "Actual Rows": 150256, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.350, + "Actual Total Time": 1079.716, + "Actual Rows": 144606, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.864, + "Actual Total Time": 1007.995, + "Actual Rows": 147830, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.349, + "Actual Total Time": 1071.106, + "Actual Rows": 150429, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.838, + "Actual Total Time": 1148.166, + "Actual Rows": 137626, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.310, + "Actual Total Time": 1081.580, + "Actual Rows": 141492, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.812, + "Actual Total Time": 1128.289, + "Actual Rows": 139979, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.88, + "Total Cost": 6537.14, + "Plan Rows": 156, + "Plan Width": 44, + "Actual Startup Time": 4.354, + "Actual Total Time": 866.030, + "Actual Rows": 1346, + "Actual Loops": 8, + "Output": ["cc.movie_id", "ci.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.421, + "Actual Total Time": 825.305, + "Actual Rows": 1316, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.060, + "Actual Total Time": 853.314, + "Actual Rows": 1270, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.759, + "Actual Total Time": 785.688, + "Actual Rows": 1302, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.873, + "Actual Total Time": 844.328, + "Actual Rows": 1343, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.553, + "Actual Total Time": 921.477, + "Actual Rows": 1448, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.029, + "Actual Total Time": 857.640, + "Actual Rows": 1356, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.473, + "Actual Total Time": 904.360, + "Actual Rows": 1336, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.45, + "Total Cost": 6467.01, + "Plan Rows": 156, + "Plan Width": 33, + "Actual Startup Time": 4.271, + "Actual Total Time": 832.976, + "Actual Rows": 1346, + "Actual Loops": 8, + "Output": ["cc.movie_id", "ci.movie_id", "ci.person_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.325, + "Actual Total Time": 793.624, + "Actual Rows": 1316, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.982, + "Actual Total Time": 822.738, + "Actual Rows": 1270, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.688, + "Actual Total Time": 746.852, + "Actual Rows": 1302, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.760, + "Actual Total Time": 812.447, + "Actual Rows": 1343, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.479, + "Actual Total Time": 888.183, + "Actual Rows": 1448, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.946, + "Actual Total Time": 824.636, + "Actual Rows": 1356, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.386, + "Actual Total Time": 872.475, + "Actual Rows": 1336, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.02, + "Total Cost": 3495.53, + "Plan Rows": 6547, + "Plan Width": 37, + "Actual Startup Time": 0.893, + "Actual Total Time": 467.112, + "Actual Rows": 49417, + "Actual Loops": 8, + "Output": ["cc.movie_id", "ci.movie_id", "ci.person_role_id", "ci.person_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.767, + "Actual Total Time": 435.338, + "Actual Rows": 47831, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.671, + "Actual Total Time": 459.409, + "Actual Rows": 47913, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.147, + "Actual Total Time": 421.944, + "Actual Rows": 45265, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.793, + "Actual Total Time": 452.181, + "Actual Rows": 48441, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.916, + "Actual Total Time": 483.292, + "Actual Rows": 56071, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.817, + "Actual Total Time": 476.695, + "Actual Rows": 46860, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.366, + "Actual Total Time": 487.999, + "Actual Rows": 52107, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 2992.43, + "Plan Rows": 189, + "Plan Width": 25, + "Actual Startup Time": 0.801, + "Actual Total Time": 159.454, + "Actual Rows": 587, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.661, + "Actual Total Time": 138.960, + "Actual Rows": 547, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.586, + "Actual Total Time": 142.649, + "Actual Rows": 598, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.047, + "Actual Total Time": 144.025, + "Actual Rows": 506, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.703, + "Actual Total Time": 154.967, + "Actual Rows": 540, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.821, + "Actual Total Time": 149.708, + "Actual Rows": 655, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.729, + "Actual Total Time": 185.402, + "Actual Rows": 564, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.267, + "Actual Total Time": 173.414, + "Actual Rows": 650, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.51, + "Total Cost": 2985.80, + "Plan Rows": 1320, + "Plan Width": 29, + "Actual Startup Time": 0.343, + "Actual Total Time": 156.927, + "Actual Rows": 2945, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.331, + "Actual Total Time": 136.893, + "Actual Rows": 2130, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.186, + "Actual Total Time": 139.610, + "Actual Rows": 2473, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.209, + "Actual Total Time": 141.677, + "Actual Rows": 2624, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.164, + "Actual Total Time": 152.446, + "Actual Rows": 3467, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.234, + "Actual Total Time": 147.344, + "Actual Rows": 2660, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.399, + "Actual Total Time": 183.040, + "Actual Rows": 3025, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.971, + "Actual Total Time": 170.759, + "Actual Rows": 3455, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.08, + "Total Cost": 1056.47, + "Plan Rows": 2412, + "Plan Width": 4, + "Actual Startup Time": 0.076, + "Actual Total Time": 27.416, + "Actual Rows": 10743, + "Actual Loops": 8, + "Output": ["cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.078, + "Actual Total Time": 21.942, + "Actual Rows": 9435, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.064, + "Actual Total Time": 22.175, + "Actual Rows": 9620, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.061, + "Actual Total Time": 27.551, + "Actual Rows": 9435, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.071, + "Actual Total Time": 24.191, + "Actual Rows": 10730, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.072, + "Actual Total Time": 23.623, + "Actual Rows": 10175, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.084, + "Actual Total Time": 44.178, + "Actual Rows": 11840, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.075, + "Actual Total Time": 27.362, + "Actual Rows": 12126, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 4825, + "Plan Width": 8, + "Actual Startup Time": 0.063, + "Actual Total Time": 19.202, + "Actual Rows": 10743, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.066, + "Actual Total Time": 14.653, + "Actual Rows": 9435, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.054, + "Actual Total Time": 14.788, + "Actual Rows": 9620, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.054, + "Actual Total Time": 20.337, + "Actual Rows": 9435, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.062, + "Actual Total Time": 15.945, + "Actual Rows": 10730, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.066, + "Actual Total Time": 15.719, + "Actual Rows": 10175, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.076, + "Actual Total Time": 35.349, + "Actual Rows": 11840, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.067, + "Actual Total Time": 18.103, + "Actual Rows": 12126, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.042, + "Actual Total Time": 5.333, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 3.627, + "Actual Rows": 9435, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 3.724, + "Actual Rows": 9620, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 6.252, + "Actual Rows": 21681, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 4.055, + "Actual Rows": 10730, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 3.990, + "Actual Rows": 10175, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.057, + "Actual Total Time": 11.634, + "Actual Rows": 48655, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 4.594, + "Actual Rows": 12210, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 85941, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 9435 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 9620 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 9435 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 10730 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 10175 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 11840 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 12126 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.29, + "Plan Rows": 137, + "Plan Width": 12, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.485, + "Actual Rows": 84, + "Actual Loops": 4696, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.501, + "Actual Rows": 87, + "Actual Loops": 547 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.493, + "Actual Rows": 80, + "Actual Loops": 598 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.507, + "Actual Rows": 89, + "Actual Loops": 506 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.510, + "Actual Rows": 90, + "Actual Loops": 540 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.471, + "Actual Rows": 86, + "Actual Loops": 655 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.479, + "Actual Rows": 83, + "Actual Loops": 564 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.447, + "Actual Rows": 80, + "Actual Loops": 650 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 395336, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 47831 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 47913 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 45265 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 48441 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 56071 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 46860 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 52107 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 10764, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1316 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1270 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 1302 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1343 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 1448 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1356 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1336 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.127, + "Actual Rows": 106, + "Actual Loops": 10764, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.137, + "Actual Rows": 114, + "Actual Loops": 1316 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.135, + "Actual Rows": 114, + "Actual Loops": 1270 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.127, + "Actual Rows": 114, + "Actual Loops": 1302 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.127, + "Actual Rows": 112, + "Actual Loops": 1343 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.121, + "Actual Rows": 95, + "Actual Loops": 1448 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.125, + "Actual Rows": 104, + "Actual Loops": 1356 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.128, + "Actual Rows": 105, + "Actual Loops": 1336 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.45, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1146265, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,tv-special,fight,violence,magnet,web,claw,laser}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 150256 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 144606 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 147830 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 150429 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 137626 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 141492 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 139979 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6387362809141986757, + "Planning Time": 126.911, + "Triggers": [ + ], + "Execution Time": 2676.859, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -6387362809141986757, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(cn.name) AS company_name,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS western_follow_up
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German')
  AND t.production_year BETWEEN 1950 AND 2000
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1864.32, + "Total Cost": 1864.33, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 89.569, + "Actual Total Time": 91.667, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1864.27, + "Total Cost": 1864.28, + "Plan Rows": 5, + "Plan Width": 96, + "Actual Startup Time": 65.745, + "Actual Total Time": 91.637, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1863.27, + "Total Cost": 1863.28, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 60.968, + "Actual Total Time": 60.978, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 49.768, + "Actual Total Time": 49.776, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 65.839, + "Actual Total Time": 65.850, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 60.294, + "Actual Total Time": 60.300, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 73.972, + "Actual Total Time": 73.978, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 51.144, + "Actual Total Time": 51.157, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1471.36, + "Total Cost": 1861.16, + "Plan Rows": 282, + "Plan Width": 48, + "Actual Startup Time": 51.865, + "Actual Total Time": 60.647, + "Actual Rows": 235, + "Actual Loops": 6, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 49.764, + "Actual Total Time": 49.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.657, + "Actual Total Time": 65.026, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 54.605, + "Actual Total Time": 60.033, + "Actual Rows": 285, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 43.240, + "Actual Total Time": 73.104, + "Actual Rows": 824, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 51.135, + "Actual Total Time": 51.147, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.21, + "Total Cost": 1859.10, + "Plan Rows": 282, + "Plan Width": 40, + "Actual Startup Time": 51.277, + "Actual Total Time": 59.848, + "Actual Rows": 235, + "Actual Loops": 6, + "Output": ["cn.name", "ml.link_type_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 49.079, + "Actual Total Time": 49.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.021, + "Actual Total Time": 63.876, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 54.113, + "Actual Total Time": 59.370, + "Actual Rows": 285, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.589, + "Actual Total Time": 71.876, + "Actual Rows": 824, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 50.434, + "Actual Total Time": 50.444, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.17, + "Total Cost": 1856.43, + "Plan Rows": 301, + "Plan Width": 44, + "Actual Startup Time": 51.256, + "Actual Total Time": 59.597, + "Actual Rows": 251, + "Actual Loops": 6, + "Output": ["cn.name", "mc.company_type_id", "ml.link_type_id", "t.title"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 49.068, + "Actual Total Time": 49.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.997, + "Actual Total Time": 63.304, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 54.097, + "Actual Total Time": 59.166, + "Actual Rows": 285, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.572, + "Actual Total Time": 71.220, + "Actual Rows": 919, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 50.422, + "Actual Total Time": 50.430, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.74, + "Total Cost": 1855.95, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 50.431, + "Actual Total Time": 56.142, + "Actual Rows": 318, + "Actual Loops": 6, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 49.067, + "Actual Total Time": 49.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.864, + "Actual Total Time": 56.388, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.385, + "Actual Total Time": 55.373, + "Actual Rows": 475, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.473, + "Actual Total Time": 61.203, + "Actual Rows": 1135, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 50.421, + "Actual Total Time": 50.428, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.31, + "Total Cost": 1854.82, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 49.209, + "Actual Total Time": 52.847, + "Actual Rows": 75, + "Actual Loops": 6, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 49.067, + "Actual Total Time": 49.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.686, + "Actual Total Time": 51.627, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.287, + "Actual Total Time": 52.179, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.363, + "Actual Total Time": 52.330, + "Actual Rows": 257, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 50.420, + "Actual Total Time": 50.426, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1467.89, + "Total Cost": 1749.46, + "Plan Rows": 235, + "Plan Width": 24, + "Actual Startup Time": 45.192, + "Actual Total Time": 50.443, + "Actual Rows": 196, + "Actual Loops": 6, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 43.819, + "Actual Total Time": 48.438, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 43.068, + "Actual Total Time": 47.641, + "Actual Rows": 166, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 44.785, + "Actual Total Time": 49.759, + "Actual Rows": 269, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 41.188, + "Actual Total Time": 47.787, + "Actual Rows": 502, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 42.380, + "Actual Total Time": 49.049, + "Actual Rows": 39, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1467.46, + "Total Cost": 1721.03, + "Plan Rows": 50, + "Plan Width": 12, + "Actual Startup Time": 44.873, + "Actual Total Time": 49.363, + "Actual Rows": 42, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Hash Cond": "(ml.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.623, + "Actual Total Time": 47.693, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 42.942, + "Actual Total Time": 46.358, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 44.621, + "Actual Total Time": 48.776, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 41.055, + "Actual Total Time": 46.050, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 42.139, + "Actual Total Time": 48.017, + "Actual Rows": 19, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.00, + "Total Cost": 222.99, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.260, + "Actual Total Time": 3.162, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.277, + "Actual Total Time": 4.061, + "Actual Rows": 7955, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.426, + "Actual Total Time": 3.082, + "Actual Rows": 2960, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.086, + "Actual Total Time": 2.900, + "Actual Rows": 4995, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.086, + "Actual Total Time": 2.880, + "Actual Rows": 4995, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.426, + "Actual Total Time": 3.482, + "Actual Rows": 4255, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1448.63, + "Total Cost": 1448.63, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 43.485, + "Actual Total Time": 43.487, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 544, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 40.150, + "Actual Total Time": 40.152, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 40.603, + "Actual Total Time": 40.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 43.344, + "Actual Total Time": 43.346, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 40.777, + "Actual Total Time": 40.779, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 40.741, + "Actual Total Time": 40.743, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1448.63, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 15.528, + "Actual Total Time": 23.498, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.282, + "Actual Total Time": 17.283, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.748, + "Actual Total Time": 17.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.493, + "Actual Total Time": 20.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.924, + "Actual Total Time": 17.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.859, + "Actual Total Time": 17.860, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 15.511, + "Actual Total Time": 15.513, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 22362, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.281, + "Actual Total Time": 17.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.746, + "Actual Total Time": 17.747, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.492, + "Actual Total Time": 20.492, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.923, + "Actual Total Time": 17.923, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.857, + "Actual Total Time": 17.857, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 10544, + "Plan Width": 8, + "Actual Startup Time": 0.085, + "Actual Total Time": 45.380, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 5, + "Plan Width": 12, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.022, + "Actual Rows": 5, + "Actual Loops": 251, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 36 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.042, + "Actual Rows": 7, + "Actual Loops": 25 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.021, + "Actual Rows": 7, + "Actual Loops": 41 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.016, + "Actual Rows": 5, + "Actual Loops": 94 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.047, + "Actual Rows": 2, + "Actual Loops": 19 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1173, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 46 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 166 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 269 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 502 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 39 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.08, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.041, + "Actual Rows": 4, + "Actual Loops": 452, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German}'::text[]))", + "Rows Removed by Filter": 21, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.066, + "Actual Rows": 5, + "Actual Loops": 65 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.031, + "Actual Rows": 5, + "Actual Loops": 95 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.032, + "Actual Rows": 4, + "Actual Loops": 257 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1911, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2000))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 301 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 475 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1135 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.13, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.065, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["lt.link", "lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.077, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.077, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.048, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["lt.link", "lt.id"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1038524182031953798, + "Planning Time": 113.655, + "Triggers": [ + ], + "Execution Time": 97.142, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 1038524182031953798, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS company_name,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS german_follow_up
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Germany',
                  'German')
  AND t.production_year BETWEEN 2000 AND 2010
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1736.30, + "Total Cost": 1736.31, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 43.639, + "Actual Total Time": 43.858, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1736.29, + "Total Cost": 1736.30, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 43.625, + "Actual Total Time": 43.848, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 1, + "Workers Launched": 1, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1735.29, + "Total Cost": 1735.30, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 35.558, + "Actual Total Time": 35.564, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.279, + "Actual Total Time": 28.285, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.60, + "Total Cost": 1735.12, + "Plan Rows": 22, + "Plan Width": 48, + "Actual Startup Time": 32.497, + "Actual Total Time": 35.531, + "Actual Rows": 19, + "Actual Loops": 2, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.272, + "Actual Total Time": 28.278, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.46, + "Total Cost": 1734.14, + "Plan Rows": 22, + "Plan Width": 52, + "Actual Startup Time": 32.486, + "Actual Total Time": 35.493, + "Actual Rows": 19, + "Actual Loops": 2, + "Output": ["cn.name", "mc.company_type_id", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.272, + "Actual Total Time": 28.277, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.04, + "Total Cost": 1699.17, + "Plan Rows": 78, + "Plan Width": 37, + "Actual Startup Time": 32.456, + "Actual Total Time": 34.949, + "Actual Rows": 66, + "Actual Loops": 2, + "Output": ["mc.company_type_id", "mc.company_id", "lt.link", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.271, + "Actual Total Time": 28.276, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.61, + "Total Cost": 1692.78, + "Plan Rows": 11, + "Plan Width": 45, + "Actual Startup Time": 32.432, + "Actual Total Time": 34.753, + "Actual Rows": 10, + "Actual Loops": 2, + "Output": ["mk.movie_id", "mi.movie_id", "ml.movie_id", "lt.link", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.271, + "Actual Total Time": 28.275, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.17, + "Total Cost": 1666.68, + "Plan Rows": 28, + "Plan Width": 41, + "Actual Startup Time": 31.608, + "Actual Total Time": 33.995, + "Actual Rows": 24, + "Actual Loops": 2, + "Output": ["mk.movie_id", "ml.movie_id", "lt.link", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.270, + "Actual Total Time": 28.274, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1467.74, + "Total Cost": 1611.06, + "Plan Rows": 117, + "Plan Width": 20, + "Actual Startup Time": 31.588, + "Actual Total Time": 33.078, + "Actual Rows": 100, + "Actual Loops": 2, + "Output": ["mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": false, + "Hash Cond": "(ml.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.270, + "Actual Total Time": 28.273, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.29, + "Total Cost": 136.66, + "Plan Rows": 1362, + "Plan Width": 16, + "Actual Startup Time": 0.052, + "Actual Total Time": 1.176, + "Actual Rows": 1158, + "Actual Loops": 2, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["lt.id", "lt.link"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 8, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 123.95, + "Plan Rows": 1158, + "Plan Width": 8, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.893, + "Actual Rows": 1158, + "Actual Loops": 2, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.link_type_id = lt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1448.63, + "Total Cost": 1448.63, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 31.237, + "Actual Total Time": 31.239, + "Actual Rows": 5272, + "Actual Loops": 2, + "Output": ["mk.movie_id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 544, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.202, + "Actual Total Time": 28.204, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1448.63, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 15.011, + "Actual Total Time": 28.791, + "Actual Rows": 5272, + "Actual Loops": 2, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.149, + "Actual Total Time": 28.150, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 14.976, + "Actual Total Time": 15.809, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 67084, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.148, + "Actual Total Time": 28.148, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 10544, + "Plan Width": 8, + "Actual Startup Time": 0.060, + "Actual Total Time": 23.580, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 199, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 48, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Germany,German}'::text[]))", + "Rows Removed by Filter": 29, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 6, + "Plan Width": 12, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.017, + "Actual Rows": 7, + "Actual Loops": 19, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 133, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 38, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 37, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4184495773567888797, + "Planning Time": 141.559, + "Triggers": [ + ], + "Execution Time": 48.684, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 4184495773567888797, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS company_name,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS western_follow_up
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'English')
  AND t.production_year BETWEEN 1950 AND 2010
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1959.73, + "Total Cost": 1959.74, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 54.557, + "Actual Total Time": 56.262, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1959.68, + "Total Cost": 1959.69, + "Plan Rows": 5, + "Plan Width": 96, + "Actual Startup Time": 38.098, + "Actual Total Time": 56.233, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1958.68, + "Total Cost": 1958.69, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 31.022, + "Actual Total Time": 31.030, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.719, + "Actual Total Time": 26.724, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.348, + "Actual Total Time": 30.355, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.429, + "Actual Total Time": 30.434, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.893, + "Actual Total Time": 22.899, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 38.572, + "Actual Total Time": 38.578, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1471.38, + "Total Cost": 1955.87, + "Plan Rows": 375, + "Plan Width": 48, + "Actual Startup Time": 24.803, + "Actual Total Time": 30.706, + "Actual Rows": 312, + "Actual Loops": 6, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.492, + "Actual Total Time": 26.379, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.569, + "Actual Total Time": 29.837, + "Actual Rows": 475, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.973, + "Actual Total Time": 30.420, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.888, + "Actual Total Time": 22.894, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.657, + "Actual Total Time": 37.544, + "Actual Rows": 1092, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.92, + "Total Cost": 1871.12, + "Plan Rows": 80, + "Plan Width": 64, + "Actual Startup Time": 24.730, + "Actual Total Time": 28.321, + "Actual Rows": 67, + "Actual Loops": 6, + "Output": ["cn.name", "mc.movie_id", "mk.movie_id", "ml.movie_id", "lt.link", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.416, + "Actual Total Time": 24.361, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.483, + "Actual Total Time": 26.159, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.820, + "Actual Total Time": 30.139, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.887, + "Actual Total Time": 22.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.572, + "Actual Total Time": 29.267, + "Actual Rows": 238, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.78, + "Total Cost": 1869.70, + "Plan Rows": 84, + "Plan Width": 56, + "Actual Startup Time": 24.124, + "Actual Total Time": 27.654, + "Actual Rows": 70, + "Actual Loops": 6, + "Output": ["cn.name", "mc.movie_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.725, + "Actual Total Time": 23.600, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.751, + "Actual Total Time": 25.327, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.515, + "Actual Total Time": 29.894, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.204, + "Actual Total Time": 22.209, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.836, + "Actual Total Time": 28.279, + "Actual Rows": 238, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.36, + "Total Cost": 1775.55, + "Plan Rows": 210, + "Plan Width": 41, + "Actual Startup Time": 22.502, + "Actual Total Time": 25.769, + "Actual Rows": 175, + "Actual Loops": 6, + "Output": ["mc.movie_id", "mc.company_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.594, + "Actual Total Time": 21.533, + "Actual Rows": 174, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.553, + "Actual Total Time": 22.200, + "Actual Rows": 273, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.761, + "Actual Total Time": 29.227, + "Actual Rows": 75, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.199, + "Actual Total Time": 21.856, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.787, + "Actual Total Time": 23.576, + "Actual Rows": 463, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.32, + "Total Cost": 1773.23, + "Plan Rows": 235, + "Plan Width": 45, + "Actual Startup Time": 22.474, + "Actual Total Time": 25.581, + "Actual Rows": 196, + "Actual Loops": 6, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.581, + "Actual Total Time": 21.350, + "Actual Rows": 174, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.528, + "Actual Total Time": 21.925, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.740, + "Actual Total Time": 29.149, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.183, + "Actual Total Time": 21.808, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.762, + "Actual Total Time": 23.136, + "Actual Rows": 504, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1467.89, + "Total Cost": 1744.80, + "Plan Rows": 50, + "Plan Width": 33, + "Actual Startup Time": 22.419, + "Actual Total Time": 24.772, + "Actual Rows": 42, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.510, + "Actual Total Time": 20.591, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.471, + "Actual Total Time": 20.821, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.699, + "Actual Total Time": 28.612, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.117, + "Actual Total Time": 21.418, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.705, + "Actual Total Time": 21.395, + "Actual Rows": 93, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1467.46, + "Total Cost": 1721.03, + "Plan Rows": 50, + "Plan Width": 12, + "Actual Startup Time": 22.344, + "Actual Total Time": 24.246, + "Actual Rows": 42, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Hash Cond": "(ml.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.440, + "Actual Total Time": 20.078, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.348, + "Actual Total Time": 20.192, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.646, + "Actual Total Time": 28.237, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.031, + "Actual Total Time": 21.075, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.633, + "Actual Total Time": 20.390, + "Actual Rows": 93, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.00, + "Total Cost": 222.99, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.915, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.786, + "Actual Rows": 3515, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.860, + "Actual Rows": 3885, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.821, + "Actual Rows": 6105, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 1.178, + "Actual Rows": 5365, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.897, + "Actual Rows": 4070, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1448.63, + "Total Cost": 1448.63, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 21.666, + "Actual Total Time": 21.667, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 544, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.876, + "Actual Total Time": 17.877, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.825, + "Actual Total Time": 17.826, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.924, + "Actual Total Time": 25.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.876, + "Actual Total Time": 17.877, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.825, + "Actual Total Time": 17.826, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1448.63, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 10.281, + "Actual Total Time": 14.567, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.392, + "Actual Total Time": 10.393, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.275, + "Actual Total Time": 10.276, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.388, + "Actual Total Time": 18.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.358, + "Actual Total Time": 10.359, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.287, + "Actual Total Time": 10.287, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 10.269, + "Actual Total Time": 10.270, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 22362, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.391, + "Actual Total Time": 10.391, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.274, + "Actual Total Time": 10.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.387, + "Actual Total Time": 18.387, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.356, + "Actual Total Time": 10.357, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.286, + "Actual Total Time": 10.286, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 10544, + "Plan Width": 8, + "Actual Startup Time": 0.060, + "Actual Total Time": 23.419, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 251, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 31 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 43 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 38 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 20 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 93 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 5, + "Plan Width": 12, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.016, + "Actual Rows": 5, + "Actual Loops": 251, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.020, + "Actual Rows": 6, + "Actual Loops": 31 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.022, + "Actual Rows": 6, + "Actual Loops": 43 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.012, + "Actual Rows": 4, + "Actual Loops": 38 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 2, + "Actual Loops": 20 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.015, + "Actual Rows": 5, + "Actual Loops": 93 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1052, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 174 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 273 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 75 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 22 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 463 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.13, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["lt.link", "lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.077, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.031, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["lt.link", "lt.id"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.00, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.033, + "Actual Rows": 5, + "Actual Loops": 402, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,English}'::text[]))", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.029, + "Actual Rows": 5, + "Actual Loops": 65 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.036, + "Actual Rows": 5, + "Actual Loops": 95 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.124, + "Actual Total Time": 0.137, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.033, + "Actual Rows": 5, + "Actual Loops": 238 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7971004576533452411, + "Planning Time": 137.591, + "Triggers": [ + ], + "Execution Time": 61.209, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -7971004576533452411, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Germany',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '7.0'
  AND t.production_year > 2008
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4760.19, + "Total Cost": 4760.20, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 557.054, + "Actual Total Time": 589.425, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4760.13, + "Total Cost": 4760.14, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 330.092, + "Actual Total Time": 589.398, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4759.13, + "Total Cost": 4759.14, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 174.967, + "Actual Total Time": 174.977, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.444, + "Actual Total Time": 32.456, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 362.614, + "Actual Total Time": 362.619, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.790, + "Actual Total Time": 32.802, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 542.280, + "Actual Total Time": 542.286, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.556, + "Actual Total Time": 33.568, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.546, + "Actual Total Time": 33.559, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.315, + "Actual Total Time": 33.326, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.75, + "Total Cost": 4756.13, + "Plan Rows": 399, + "Plan Width": 42, + "Actual Startup Time": 38.400, + "Actual Total Time": 174.680, + "Actual Rows": 356, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.435, + "Actual Total Time": 32.446, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.983, + "Actual Total Time": 361.672, + "Actual Rows": 1173, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.783, + "Actual Total Time": 32.795, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 102.544, + "Actual Total Time": 541.470, + "Actual Rows": 1040, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.550, + "Actual Total Time": 33.561, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.537, + "Actual Total Time": 33.550, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.308, + "Actual Total Time": 33.318, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.69, + "Total Cost": 4753.28, + "Plan Rows": 424, + "Plan Width": 46, + "Actual Startup Time": 27.384, + "Actual Total Time": 173.850, + "Actual Rows": 378, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.890, + "Actual Total Time": 31.899, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.679, + "Actual Total Time": 360.369, + "Actual Rows": 1247, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.230, + "Actual Total Time": 32.239, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.760, + "Actual Total Time": 539.987, + "Actual Rows": 1095, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.946, + "Actual Total Time": 32.956, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.936, + "Actual Total Time": 32.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.695, + "Actual Total Time": 32.704, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.27, + "Total Cost": 4750.46, + "Plan Rows": 6, + "Plan Width": 31, + "Actual Startup Time": 27.351, + "Actual Total Time": 169.326, + "Actual Rows": 431, + "Actual Loops": 8, + "Output": ["mc.company_id", "mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.889, + "Actual Total Time": 31.898, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.585, + "Actual Total Time": 345.779, + "Actual Rows": 1396, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.229, + "Actual Total Time": 32.237, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.639, + "Actual Total Time": 527.798, + "Actual Rows": 1265, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.945, + "Actual Total Time": 32.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.935, + "Actual Total Time": 32.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.694, + "Actual Total Time": 32.702, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.14, + "Total Cost": 4750.30, + "Plan Rows": 1, + "Plan Width": 35, + "Actual Startup Time": 27.331, + "Actual Total Time": 168.138, + "Actual Rows": 431, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mc.company_id", "mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.888, + "Actual Total Time": 31.896, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.540, + "Actual Total Time": 341.915, + "Actual Rows": 1396, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.228, + "Actual Total Time": 32.236, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.554, + "Actual Total Time": 524.402, + "Actual Rows": 1265, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.944, + "Actual Total Time": 32.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.934, + "Actual Total Time": 32.943, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.693, + "Actual Total Time": 32.700, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.00, + "Total Cost": 4750.12, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 26.376, + "Actual Total Time": 162.241, + "Actual Rows": 1564, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mc.company_id", "mi_idx.info", "mi_idx.info_type_id", "t.title", "t.kind_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.887, + "Actual Total Time": 31.894, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.474, + "Actual Total Time": 323.342, + "Actual Rows": 4841, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.227, + "Actual Total Time": 32.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.410, + "Actual Total Time": 507.903, + "Actual Rows": 4532, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.943, + "Actual Total Time": 32.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.933, + "Actual Total Time": 32.942, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.692, + "Actual Total Time": 32.698, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.57, + "Total Cost": 4749.59, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 23.724, + "Actual Total Time": 153.841, + "Actual Rows": 590, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.886, + "Actual Total Time": 31.893, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.370, + "Actual Total Time": 300.913, + "Actual Rows": 1800, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.226, + "Actual Total Time": 32.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.112, + "Actual Total Time": 484.773, + "Actual Rows": 1741, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.942, + "Actual Total Time": 32.948, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.932, + "Actual Total Time": 32.940, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.691, + "Actual Total Time": 32.697, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 4749.05, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 20.982, + "Actual Total Time": 140.418, + "Actual Rows": 436, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.885, + "Actual Total Time": 31.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.499, + "Actual Total Time": 266.397, + "Actual Rows": 1079, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.224, + "Actual Total Time": 32.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.669, + "Actual Total Time": 441.789, + "Actual Rows": 1588, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.940, + "Actual Total Time": 32.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.931, + "Actual Total Time": 32.938, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.690, + "Actual Total Time": 32.695, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 4743.05, + "Plan Rows": 1527, + "Plan Width": 37, + "Actual Startup Time": 20.961, + "Actual Total Time": 139.846, + "Actual Rows": 473, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.873, + "Actual Total Time": 31.876, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.481, + "Actual Total Time": 265.011, + "Actual Rows": 1173, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.213, + "Actual Total Time": 32.216, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.641, + "Actual Total Time": 439.834, + "Actual Rows": 1711, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.929, + "Actual Total Time": 32.932, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.920, + "Actual Total Time": 32.924, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.678, + "Actual Total Time": 32.681, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3953.56, + "Plan Rows": 800, + "Plan Width": 29, + "Actual Startup Time": 20.919, + "Actual Total Time": 101.046, + "Actual Rows": 701, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.872, + "Actual Total Time": 31.875, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.399, + "Actual Total Time": 164.814, + "Actual Rows": 1659, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.212, + "Actual Total Time": 32.214, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.467, + "Actual Total Time": 316.705, + "Actual Rows": 2577, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.928, + "Actual Total Time": 32.930, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.919, + "Actual Total Time": 32.922, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.678, + "Actual Total Time": 32.680, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1513.65, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 20.782, + "Actual Total Time": 51.319, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.871, + "Actual Total Time": 31.873, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.225, + "Actual Total Time": 69.608, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.211, + "Actual Total Time": 32.212, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.682, + "Actual Total Time": 125.981, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.927, + "Actual Total Time": 32.928, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.918, + "Actual Total Time": 32.919, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.677, + "Actual Total Time": 32.678, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 20.716, + "Actual Total Time": 20.723, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.870, + "Actual Total Time": 31.871, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.103, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.210, + "Actual Total Time": 32.210, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.405, + "Actual Total Time": 0.411, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.926, + "Actual Total Time": 32.926, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.916, + "Actual Total Time": 32.917, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.676, + "Actual Total Time": 32.677, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.50, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.167, + "Actual Total Time": 78.429, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.129, + "Actual Total Time": 67.293, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.269, + "Actual Total Time": 120.771, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2008)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 5606, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Germany,German,USA,American}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.060, + "Actual Rows": 1, + "Actual Loops": 1659 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 2577 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 3486, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 9, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.031, + "Actual Rows": 2, + "Actual Loops": 1079 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1588 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 4717, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '7.0'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 1800 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 1741 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 12512, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 4841 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 4532 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 3451, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 1396 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 1265 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 3451, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1396 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1265 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.079, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.065, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.037, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7110568913434103698, + "Planning Time": 292.761, + "Triggers": [ + ], + "Execution Time": 605.834, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -7110568913434103698, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Germany',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '7.0'
  AND t.production_year > 2009
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4290.50, + "Total Cost": 4290.51, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 281.108, + "Actual Total Time": 312.546, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4290.44, + "Total Cost": 4290.45, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 164.762, + "Actual Total Time": 312.517, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4289.44, + "Total Cost": 4289.45, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 91.374, + "Actual Total Time": 91.385, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.636, + "Actual Total Time": 28.646, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 155.153, + "Actual Total Time": 155.160, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.490, + "Actual Total Time": 29.503, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.436, + "Actual Total Time": 29.444, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.758, + "Actual Total Time": 29.771, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.142, + "Actual Total Time": 29.154, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 265.523, + "Actual Total Time": 265.530, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 4289.40, + "Plan Rows": 5, + "Plan Width": 42, + "Actual Startup Time": 32.851, + "Actual Total Time": 91.366, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.629, + "Actual Total Time": 28.638, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.277, + "Actual Total Time": 155.129, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.483, + "Actual Total Time": 29.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.429, + "Actual Total Time": 29.435, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.750, + "Actual Total Time": 29.763, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.134, + "Actual Total Time": 29.146, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 67.308, + "Actual Total Time": 265.492, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 4288.64, + "Plan Rows": 5, + "Plan Width": 46, + "Actual Startup Time": 32.842, + "Actual Total Time": 91.335, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.628, + "Actual Total Time": 28.636, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.247, + "Actual Total Time": 155.064, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.482, + "Actual Total Time": 29.492, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.428, + "Actual Total Time": 29.434, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.749, + "Actual Total Time": 29.761, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.133, + "Actual Total Time": 29.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 67.286, + "Actual Total Time": 265.411, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.87, + "Total Cost": 4288.15, + "Plan Rows": 5, + "Plan Width": 50, + "Actual Startup Time": 32.822, + "Actual Total Time": 91.307, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.627, + "Actual Total Time": 28.635, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.171, + "Actual Total Time": 154.975, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.481, + "Actual Total Time": 29.490, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.428, + "Actual Total Time": 29.433, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.748, + "Actual Total Time": 29.758, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.133, + "Actual Total Time": 29.142, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 67.232, + "Actual Total Time": 265.336, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.72, + "Total Cost": 4286.88, + "Plan Rows": 14, + "Plan Width": 54, + "Actual Startup Time": 32.809, + "Actual Total Time": 91.273, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi_idx.info", "mi_idx.info_type_id", "t.title", "t.kind_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.626, + "Actual Total Time": 28.633, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.136, + "Actual Total Time": 154.903, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.480, + "Actual Total Time": 29.487, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.427, + "Actual Total Time": 29.431, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.747, + "Actual Total Time": 29.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.132, + "Actual Total Time": 29.140, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 67.205, + "Actual Total Time": 265.252, + "Actual Rows": 35, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.29, + "Total Cost": 4284.24, + "Plan Rows": 5, + "Plan Width": 60, + "Actual Startup Time": 32.792, + "Actual Total Time": 91.192, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.626, + "Actual Total Time": 28.631, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.083, + "Actual Total Time": 154.743, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.479, + "Actual Total Time": 29.485, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.426, + "Actual Total Time": 29.430, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.746, + "Actual Total Time": 29.754, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.131, + "Actual Total Time": 29.138, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 67.169, + "Actual Total Time": 265.034, + "Actual Rows": 13, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 4283.25, + "Plan Rows": 6, + "Plan Width": 64, + "Actual Startup Time": 32.777, + "Actual Total Time": 91.149, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.625, + "Actual Total Time": 28.630, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.032, + "Actual Total Time": 154.643, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.478, + "Actual Total Time": 29.484, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.425, + "Actual Total Time": 29.428, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.745, + "Actual Total Time": 29.751, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.130, + "Actual Total Time": 29.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 67.126, + "Actual Total Time": 264.911, + "Actual Rows": 15, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 4273.38, + "Plan Rows": 10, + "Plan Width": 56, + "Actual Startup Time": 27.988, + "Actual Total Time": 90.673, + "Actual Rows": 9, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.624, + "Actual Total Time": 28.628, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.461, + "Actual Total Time": 153.797, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.478, + "Actual Total Time": 29.482, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.425, + "Actual Total Time": 29.427, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.744, + "Actual Total Time": 29.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.130, + "Actual Total Time": 29.134, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 38.432, + "Actual Total Time": 263.377, + "Actual Rows": 30, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 4264.92, + "Plan Rows": 18, + "Plan Width": 41, + "Actual Startup Time": 22.055, + "Actual Total Time": 90.396, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.623, + "Actual Total Time": 28.627, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.399, + "Actual Total Time": 153.209, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.477, + "Actual Total Time": 29.480, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.424, + "Actual Total Time": 29.426, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.743, + "Actual Total Time": 29.747, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.129, + "Actual Total Time": 29.133, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.686, + "Actual Total Time": 262.428, + "Actual Rows": 56, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3953.56, + "Plan Rows": 578, + "Plan Width": 29, + "Actual Startup Time": 18.833, + "Actual Total Time": 78.190, + "Actual Rows": 505, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.622, + "Actual Total Time": 28.625, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.358, + "Actual Total Time": 123.358, + "Actual Rows": 1167, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.476, + "Actual Total Time": 29.479, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.423, + "Actual Total Time": 29.425, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.742, + "Actual Total Time": 29.745, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.128, + "Actual Total Time": 29.131, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.225, + "Actual Total Time": 220.460, + "Actual Rows": 1858, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1513.65, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 18.724, + "Actual Total Time": 33.157, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.621, + "Actual Total Time": 28.623, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.224, + "Actual Total Time": 32.191, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.475, + "Actual Total Time": 29.477, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.423, + "Actual Total Time": 29.423, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.741, + "Actual Total Time": 29.743, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.127, + "Actual Total Time": 29.129, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.581, + "Actual Total Time": 50.856, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 18.677, + "Actual Total Time": 18.684, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.620, + "Actual Total Time": 28.621, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.118, + "Actual Total Time": 0.128, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.474, + "Actual Total Time": 29.475, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.422, + "Actual Total Time": 29.422, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.740, + "Actual Total Time": 29.740, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.126, + "Actual Total Time": 29.126, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.395, + "Actual Total Time": 0.403, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.50, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.118, + "Actual Total Time": 35.634, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.103, + "Actual Total Time": 29.877, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.179, + "Actual Total Time": 46.174, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2009)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 4040, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 8, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1167 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1858 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 123, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 32 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 56 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 71, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Germany,German,USA,American}'::text[]))", + "Rows Removed by Filter": 46, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 30 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 38, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 35, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '7.0'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 9 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 13 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 95, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 33, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 24, + "Cache Hits": 21, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 35, + "Cache Hits": 32, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 9, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 32, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 11, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 8, + "Cache Hits": 7, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 12, + "Cache Hits": 11, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 32, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 12 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7110568913434103698, + "Planning Time": 266.362, + "Triggers": [ + ], + "Execution Time": 329.967, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -7110568913434103698, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5763.31, + "Total Cost": 5763.32, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 794.828, + "Actual Total Time": 828.590, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5763.25, + "Total Cost": 5763.26, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 571.240, + "Actual Total Time": 828.556, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5762.25, + "Total Cost": 5762.26, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 271.173, + "Actual Total Time": 271.186, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.074, + "Actual Total Time": 32.088, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 650.374, + "Actual Total Time": 650.380, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.543, + "Actual Total Time": 33.558, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.617, + "Actual Total Time": 33.632, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.458, + "Actual Total Time": 33.472, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 781.623, + "Actual Total Time": 781.629, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.368, + "Actual Total Time": 34.382, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.37, + "Total Cost": 5739.22, + "Plan Rows": 3070, + "Plan Width": 42, + "Actual Startup Time": 24.685, + "Actual Total Time": 269.533, + "Actual Rows": 2686, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.066, + "Actual Total Time": 32.079, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.380, + "Actual Total Time": 645.521, + "Actual Rows": 7787, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.536, + "Actual Total Time": 33.549, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.609, + "Actual Total Time": 33.623, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.450, + "Actual Total Time": 33.463, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.283, + "Actual Total Time": 777.159, + "Actual Rows": 7733, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.361, + "Actual Total Time": 34.375, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.33, + "Total Cost": 5721.57, + "Plan Rows": 3070, + "Plan Width": 46, + "Actual Startup Time": 24.187, + "Actual Total Time": 267.839, + "Actual Rows": 2686, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.479, + "Actual Total Time": 31.490, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.073, + "Actual Total Time": 641.687, + "Actual Rows": 7787, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.990, + "Actual Total Time": 33.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.009, + "Actual Total Time": 33.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.933, + "Actual Total Time": 32.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.683, + "Actual Total Time": 773.300, + "Actual Rows": 7733, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.846, + "Actual Total Time": 33.858, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.48, + "Total Cost": 5694.58, + "Plan Rows": 9233, + "Plan Width": 50, + "Actual Startup Time": 24.033, + "Actual Total Time": 264.978, + "Actual Rows": 8078, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.465, + "Actual Total Time": 31.474, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.021, + "Actual Total Time": 633.375, + "Actual Rows": 23391, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.976, + "Actual Total Time": 32.986, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 32.994, + "Actual Total Time": 33.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.921, + "Actual Total Time": 32.931, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.481, + "Actual Total Time": 765.491, + "Actual Rows": 23180, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.831, + "Actual Total Time": 33.840, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.06, + "Total Cost": 5694.11, + "Plan Rows": 1, + "Plan Width": 35, + "Actual Startup Time": 24.000, + "Actual Total Time": 205.121, + "Actual Rows": 8725, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mc.company_id", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.464, + "Actual Total Time": 31.473, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.966, + "Actual Total Time": 458.708, + "Actual Rows": 25199, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.975, + "Actual Total Time": 32.984, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 32.993, + "Actual Total Time": 33.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.920, + "Actual Total Time": 32.929, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.330, + "Actual Total Time": 600.926, + "Actual Rows": 25176, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.829, + "Actual Total Time": 33.839, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.63, + "Total Cost": 5693.55, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 21.250, + "Actual Total Time": 164.560, + "Actual Rows": 1550, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.463, + "Actual Total Time": 31.471, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.522, + "Actual Total Time": 345.246, + "Actual Rows": 4159, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.974, + "Actual Total Time": 32.982, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 32.992, + "Actual Total Time": 33.000, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.919, + "Actual Total Time": 32.927, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.191, + "Actual Total Time": 475.621, + "Actual Rows": 5340, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.828, + "Actual Total Time": 33.837, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.20, + "Total Cost": 5292.77, + "Plan Rows": 759, + "Plan Width": 29, + "Actual Startup Time": 21.216, + "Actual Total Time": 149.910, + "Actual Rows": 664, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.462, + "Actual Total Time": 31.469, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.452, + "Actual Total Time": 307.511, + "Actual Rows": 1687, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.973, + "Actual Total Time": 32.981, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 32.992, + "Actual Total Time": 32.999, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.918, + "Actual Total Time": 32.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.069, + "Actual Total Time": 436.219, + "Actual Rows": 2378, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.827, + "Actual Total Time": 33.835, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.36, + "Total Cost": 5288.58, + "Plan Rows": 860, + "Plan Width": 33, + "Actual Startup Time": 21.202, + "Actual Total Time": 149.395, + "Actual Rows": 752, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.452, + "Actual Total Time": 31.457, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.443, + "Actual Total Time": 306.223, + "Actual Rows": 1908, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.963, + "Actual Total Time": 32.969, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 32.982, + "Actual Total Time": 32.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.908, + "Actual Total Time": 32.913, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.054, + "Actual Total Time": 434.519, + "Actual Rows": 2658, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.816, + "Actual Total Time": 33.822, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 3960.49, + "Plan Rows": 1153, + "Plan Width": 25, + "Actual Startup Time": 21.164, + "Actual Total Time": 78.489, + "Actual Rows": 1009, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.451, + "Actual Total Time": 31.456, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.358, + "Actual Total Time": 113.928, + "Actual Rows": 2502, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.963, + "Actual Total Time": 32.967, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 32.982, + "Actual Total Time": 32.986, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.907, + "Actual Total Time": 32.912, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.901, + "Actual Total Time": 219.815, + "Actual Rows": 3653, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.816, + "Actual Total Time": 33.820, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3953.56, + "Plan Rows": 1391, + "Plan Width": 29, + "Actual Startup Time": 21.057, + "Actual Total Time": 77.549, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.428, + "Actual Total Time": 31.430, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.257, + "Actual Total Time": 111.643, + "Actual Rows": 3009, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.941, + "Actual Total Time": 32.944, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 32.962, + "Actual Total Time": 32.964, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.885, + "Actual Total Time": 32.887, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.340, + "Actual Total Time": 216.602, + "Actual Rows": 4326, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.795, + "Actual Total Time": 33.797, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1513.65, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 21.028, + "Actual Total Time": 34.658, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.427, + "Actual Total Time": 31.429, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.191, + "Actual Total Time": 28.787, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.941, + "Actual Total Time": 32.942, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 32.961, + "Actual Total Time": 32.963, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.884, + "Actual Total Time": 32.885, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.210, + "Actual Total Time": 49.916, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.793, + "Actual Total Time": 33.795, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 20.976, + "Actual Total Time": 20.982, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.426, + "Actual Total Time": 31.427, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.091, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.940, + "Actual Total Time": 32.940, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 32.960, + "Actual Total Time": 32.960, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.883, + "Actual Total Time": 32.883, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.002, + "Actual Total Time": 1.007, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.792, + "Actual Total Time": 33.793, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.50, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.130, + "Actual Total Time": 33.527, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.107, + "Actual Total Time": 26.635, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.201, + "Actual Total Time": 44.459, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.009, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.069, + "Actual Rows": 1, + "Actual Loops": 8073, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 57, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.076, + "Actual Rows": 1, + "Actual Loops": 2502 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 3653 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 2, + "Actual Loops": 5316, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 2, + "Actual Loops": 1687 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 2378 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.024, + "Actual Rows": 6, + "Actual Loops": 12401, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 10, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.025, + "Actual Rows": 6, + "Actual Loops": 4159 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.022, + "Actual Rows": 5, + "Actual Loops": 5340 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 69797, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 25199 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 25176 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.02, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["ct.id"], + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5949668645089970217, + "Planning Time": 277.606, + "Triggers": [ + ], + "Execution Time": 845.319, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -5949668645089970217, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5909.78, + "Total Cost": 5909.79, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1286.865, + "Actual Total Time": 1320.895, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5909.72, + "Total Cost": 5909.73, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 834.666, + "Actual Total Time": 1320.861, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5908.72, + "Total Cost": 5908.73, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 407.073, + "Actual Total Time": 407.085, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.885, + "Actual Total Time": 21.894, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1032.155, + "Actual Total Time": 1032.161, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.626, + "Actual Total Time": 23.639, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.183, + "Actual Total Time": 24.196, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.887, + "Actual Total Time": 23.897, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 24.129, + "Actual Total Time": 24.143, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1272.972, + "Actual Total Time": 1272.979, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.37, + "Total Cost": 5859.13, + "Plan Rows": 6612, + "Plan Width": 42, + "Actual Startup Time": 16.530, + "Actual Total Time": 403.541, + "Actual Rows": 5785, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.880, + "Actual Total Time": 21.889, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.678, + "Actual Total Time": 1022.409, + "Actual Rows": 16022, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.619, + "Actual Total Time": 23.631, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.177, + "Actual Total Time": 24.189, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.882, + "Actual Total Time": 23.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 24.121, + "Actual Total Time": 24.134, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.457, + "Actual Total Time": 1261.887, + "Actual Rows": 18079, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.53, + "Total Cost": 5803.03, + "Plan Rows": 19926, + "Plan Width": 46, + "Actual Startup Time": 15.849, + "Actual Total Time": 396.581, + "Actual Rows": 17435, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.314, + "Actual Total Time": 21.321, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.363, + "Actual Total Time": 1004.454, + "Actual Rows": 48221, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.061, + "Actual Total Time": 23.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.540, + "Actual Total Time": 23.551, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.350, + "Actual Total Time": 23.358, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.485, + "Actual Total Time": 23.496, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.788, + "Actual Total Time": 1241.513, + "Actual Rows": 54089, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.11, + "Total Cost": 5802.58, + "Plan Rows": 1, + "Plan Width": 31, + "Actual Startup Time": 15.049, + "Actual Total Time": 234.753, + "Actual Rows": 24455, + "Actual Loops": 8, + "Output": ["mc.company_id", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.313, + "Actual Total Time": 21.320, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.571, + "Actual Total Time": 556.956, + "Actual Rows": 68095, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.060, + "Actual Total Time": 23.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.539, + "Actual Total Time": 23.549, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.349, + "Actual Total Time": 23.356, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.484, + "Actual Total Time": 23.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.917, + "Actual Total Time": 735.009, + "Actual Rows": 76948, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.68, + "Total Cost": 5802.07, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 15.017, + "Actual Total Time": 154.829, + "Actual Rows": 8506, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.312, + "Actual Total Time": 21.318, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.500, + "Actual Total Time": 336.884, + "Actual Rows": 23470, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.059, + "Actual Total Time": 23.068, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.539, + "Actual Total Time": 23.548, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.348, + "Actual Total Time": 23.355, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.483, + "Actual Total Time": 23.492, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.785, + "Actual Total Time": 482.347, + "Actual Rows": 27084, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.63, + "Total Cost": 5784.28, + "Plan Rows": 3096, + "Plan Width": 41, + "Actual Startup Time": 15.003, + "Actual Total Time": 150.342, + "Actual Rows": 8506, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.304, + "Actual Total Time": 21.309, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.492, + "Actual Total Time": 324.571, + "Actual Rows": 23470, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.049, + "Actual Total Time": 23.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.529, + "Actual Total Time": 23.536, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.339, + "Actual Total Time": 23.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.473, + "Actual Total Time": 23.481, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.766, + "Actual Total Time": 468.123, + "Actual Rows": 27084, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.20, + "Total Cost": 5292.77, + "Plan Rows": 759, + "Plan Width": 29, + "Actual Startup Time": 14.981, + "Actual Total Time": 134.919, + "Actual Rows": 664, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.303, + "Actual Total Time": 21.307, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.446, + "Actual Total Time": 282.736, + "Actual Rows": 1687, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.048, + "Actual Total Time": 23.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.528, + "Actual Total Time": 23.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.338, + "Actual Total Time": 23.343, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.472, + "Actual Total Time": 23.479, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.683, + "Actual Total Time": 418.912, + "Actual Rows": 2378, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.36, + "Total Cost": 5288.58, + "Plan Rows": 860, + "Plan Width": 33, + "Actual Startup Time": 14.965, + "Actual Total Time": 134.466, + "Actual Rows": 752, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.292, + "Actual Total Time": 21.295, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.437, + "Actual Total Time": 281.617, + "Actual Rows": 1908, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.036, + "Actual Total Time": 23.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.516, + "Actual Total Time": 23.521, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.326, + "Actual Total Time": 23.330, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.460, + "Actual Total Time": 23.465, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.667, + "Actual Total Time": 417.399, + "Actual Rows": 2658, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 3960.49, + "Plan Rows": 1153, + "Plan Width": 25, + "Actual Startup Time": 14.927, + "Actual Total Time": 69.529, + "Actual Rows": 1009, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.291, + "Actual Total Time": 21.294, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.363, + "Actual Total Time": 107.640, + "Actual Rows": 2502, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.036, + "Actual Total Time": 23.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.516, + "Actual Total Time": 23.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.326, + "Actual Total Time": 23.329, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.459, + "Actual Total Time": 23.464, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.515, + "Actual Total Time": 212.529, + "Actual Rows": 3653, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3953.56, + "Plan Rows": 1391, + "Plan Width": 29, + "Actual Startup Time": 14.821, + "Actual Total Time": 68.662, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.272, + "Actual Total Time": 21.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.273, + "Actual Total Time": 105.534, + "Actual Rows": 3009, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.014, + "Actual Total Time": 23.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.497, + "Actual Total Time": 23.499, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.304, + "Actual Total Time": 23.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.440, + "Actual Total Time": 23.442, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.951, + "Actual Total Time": 209.515, + "Actual Rows": 4326, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1513.65, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 14.791, + "Actual Total Time": 27.733, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.271, + "Actual Total Time": 21.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.207, + "Actual Total Time": 27.140, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.014, + "Actual Total Time": 23.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.496, + "Actual Total Time": 23.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.304, + "Actual Total Time": 23.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.439, + "Actual Total Time": 23.440, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.811, + "Actual Total Time": 48.069, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 14.737, + "Actual Total Time": 14.743, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.271, + "Actual Total Time": 21.271, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.101, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.013, + "Actual Total Time": 23.013, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.495, + "Actual Total Time": 23.495, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.303, + "Actual Total Time": 23.303, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.437, + "Actual Total Time": 23.438, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.597, + "Actual Total Time": 0.602, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.50, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.133, + "Actual Total Time": 31.826, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.113, + "Actual Total Time": 25.098, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.206, + "Actual Total Time": 43.148, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.009, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 8073, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 57, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.069, + "Actual Rows": 1, + "Actual Loops": 2502 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 3653 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 12, + "Plan Width": 12, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.019, + "Actual Rows": 13, + "Actual Loops": 5316, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.021, + "Actual Rows": 14, + "Actual Loops": 1687 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.017, + "Actual Rows": 11, + "Actual Loops": 2378 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.02, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["ct.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 68049, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 23470 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 27084 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 195643, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 68095 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 76948 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1524343667767028728, + "Planning Time": 290.712, + "Triggers": [ + ], + "Execution Time": 1335.619, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 1524343667767028728, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(kt.kind) AS movie_kind,
       MIN(t.title) AS complete_us_internet_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'complete+verified'
  AND cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND kt.kind IN ('movie')
  AND mi.note LIKE '%internet%'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'USA:% 199%'
       OR mi.info LIKE 'USA:% 200%')
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND cct1.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4053.83, + "Total Cost": 4053.84, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 114.309, + "Actual Total Time": 123.252, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((kt.kind)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4053.78, + "Total Cost": 4053.79, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 113.393, + "Actual Total Time": 123.231, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((kt.kind)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4052.78, + "Total Cost": 4052.79, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 101.237, + "Actual Total Time": 101.247, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((kt.kind)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.711, + "Actual Total Time": 97.719, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 104.736, + "Actual Total Time": 104.745, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.436, + "Actual Total Time": 98.444, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.425, + "Actual Total Time": 99.434, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 98.861, + "Actual Total Time": 98.868, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.911, + "Actual Total Time": 98.919, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 99.314, + "Actual Total Time": 99.325, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.96, + "Total Cost": 4052.34, + "Plan Rows": 88, + "Plan Width": 27, + "Actual Startup Time": 91.072, + "Actual Total Time": 101.172, + "Actual Rows": 77, + "Actual Loops": 8, + "Output": ["kt.kind", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.705, + "Actual Total Time": 97.713, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 104.732, + "Actual Total Time": 104.740, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 93.146, + "Actual Total Time": 98.142, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.420, + "Actual Total Time": 99.429, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 98.857, + "Actual Total Time": 98.864, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.905, + "Actual Total Time": 98.913, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 61.088, + "Actual Total Time": 99.073, + "Actual Rows": 306, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.54, + "Total Cost": 4013.83, + "Plan Rows": 88, + "Plan Width": 31, + "Actual Startup Time": 91.052, + "Actual Total Time": 100.277, + "Actual Rows": 77, + "Actual Loops": 8, + "Output": ["mk.keyword_id", "t.title", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.705, + "Actual Total Time": 97.712, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 104.731, + "Actual Total Time": 104.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 93.082, + "Actual Total Time": 94.366, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.419, + "Actual Total Time": 99.427, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 98.856, + "Actual Total Time": 98.863, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.904, + "Actual Total Time": 98.912, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 61.029, + "Actual Total Time": 95.779, + "Actual Rows": 306, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.10, + "Total Cost": 4011.72, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 91.008, + "Actual Total Time": 100.124, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mi.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.704, + "Actual Total Time": 97.711, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 104.731, + "Actual Total Time": 104.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 93.026, + "Actual Total Time": 93.853, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.419, + "Actual Total Time": 99.426, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 98.856, + "Actual Total Time": 98.861, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.904, + "Actual Total Time": 98.911, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.978, + "Actual Total Time": 95.338, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.95, + "Total Cost": 4011.52, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 90.992, + "Actual Total Time": 100.104, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.704, + "Actual Total Time": 97.710, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 104.730, + "Actual Total Time": 104.736, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 92.975, + "Actual Total Time": 93.792, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.418, + "Actual Total Time": 99.424, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 98.855, + "Actual Total Time": 98.860, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.903, + "Actual Total Time": 98.909, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.936, + "Actual Total Time": 95.284, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.82, + "Total Cost": 4011.37, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 90.969, + "Actual Total Time": 100.078, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.703, + "Actual Total Time": 97.708, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 104.730, + "Actual Total Time": 104.735, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 92.893, + "Actual Total Time": 93.701, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.417, + "Actual Total Time": 99.423, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 98.854, + "Actual Total Time": 98.859, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.903, + "Actual Total Time": 98.908, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.858, + "Actual Total Time": 95.196, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.40, + "Total Cost": 4010.92, + "Plan Rows": 1, + "Plan Width": 55, + "Actual Startup Time": 90.949, + "Actual Total Time": 100.049, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.702, + "Actual Total Time": 97.707, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 104.729, + "Actual Total Time": 104.734, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 92.839, + "Actual Total Time": 93.625, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.416, + "Actual Total Time": 99.421, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 98.854, + "Actual Total Time": 98.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.902, + "Actual Total Time": 98.907, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.808, + "Actual Total Time": 95.126, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.97, + "Total Cost": 4010.39, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 90.925, + "Actual Total Time": 100.017, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.701, + "Actual Total Time": 97.705, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 104.729, + "Actual Total Time": 104.732, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 92.772, + "Actual Total Time": 93.535, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.416, + "Actual Total Time": 99.419, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 98.853, + "Actual Total Time": 98.856, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.901, + "Actual Total Time": 98.906, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.738, + "Actual Total Time": 95.034, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.54, + "Total Cost": 3841.67, + "Plan Rows": 148, + "Plan Width": 35, + "Actual Startup Time": 1.195, + "Actual Total Time": 66.267, + "Actual Rows": 129, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.862, + "Actual Total Time": 62.826, + "Actual Rows": 119, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.205, + "Actual Total Time": 67.386, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.958, + "Actual Total Time": 64.621, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.377, + "Actual Total Time": 66.875, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.832, + "Actual Total Time": 62.653, + "Actual Rows": 120, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.434, + "Actual Total Time": 68.628, + "Actual Rows": 114, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.426, + "Actual Total Time": 65.486, + "Actual Rows": 113, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 3839.35, + "Plan Rows": 298, + "Plan Width": 29, + "Actual Startup Time": 0.743, + "Actual Total Time": 65.860, + "Actual Rows": 260, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.564, + "Actual Total Time": 62.416, + "Actual Rows": 264, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.919, + "Actual Total Time": 67.061, + "Actual Rows": 320, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.818, + "Actual Total Time": 64.244, + "Actual Rows": 212, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.257, + "Actual Total Time": 66.499, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.700, + "Actual Total Time": 62.266, + "Actual Rows": 284, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.267, + "Actual Total Time": 68.225, + "Actual Rows": 218, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.258, + "Actual Total Time": 65.086, + "Actual Rows": 144, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 3513, + "Plan Width": 4, + "Actual Startup Time": 0.097, + "Actual Total Time": 13.550, + "Actual Rows": 3074, + "Actual Loops": 8, + "Output": ["cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.092, + "Actual Total Time": 12.559, + "Actual Rows": 2760, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.047, + "Actual Total Time": 13.841, + "Actual Rows": 3872, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.089, + "Actual Total Time": 13.133, + "Actual Rows": 2748, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.124, + "Actual Total Time": 13.488, + "Actual Rows": 2857, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.111, + "Actual Total Time": 13.005, + "Actual Rows": 2720, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.122, + "Actual Total Time": 13.941, + "Actual Rows": 3008, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.129, + "Actual Total Time": 13.869, + "Actual Rows": 2621, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 8, + "Actual Startup Time": 0.064, + "Actual Total Time": 4.730, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.062, + "Actual Total Time": 4.330, + "Actual Rows": 14615, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 4.831, + "Actual Rows": 21830, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.064, + "Actual Total Time": 4.598, + "Actual Rows": 14430, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.098, + "Actual Total Time": 4.733, + "Actual Rows": 14800, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.069, + "Actual Total Time": 4.525, + "Actual Rows": 14985, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.089, + "Actual Total Time": 4.887, + "Actual Rows": 16280, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.088, + "Actual Total Time": 4.858, + "Actual Rows": 15540, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 24592, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2760 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 3872 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2748 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2857 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2720 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 3008 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2621 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.kind", "kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.074, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.kind", "kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.260, + "Actual Total Time": 0.260, + "Actual Rows": 0, + "Actual Loops": 1033, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND (mi.note ~~ '%internet%'::text) AND ((mi.info ~~ 'USA:% 199%'::text) OR (mi.info ~~ 'USA:% 200%'::text)))", + "Rows Removed by Filter": 211, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.292, + "Actual Total Time": 0.292, + "Actual Rows": 0, + "Actual Loops": 119 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.225, + "Actual Total Time": 0.225, + "Actual Rows": 0, + "Actual Loops": 165 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.285, + "Actual Total Time": 0.285, + "Actual Rows": 0, + "Actual Loops": 101 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.312, + "Actual Total Time": 0.312, + "Actual Rows": 0, + "Actual Loops": 104 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.300, + "Actual Total Time": 0.300, + "Actual Rows": 0, + "Actual Loops": 120 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.264, + "Actual Total Time": 0.264, + "Actual Rows": 0, + "Actual Loops": 114 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.260, + "Actual Total Time": 0.260, + "Actual Rows": 0, + "Actual Loops": 113 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.19, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 113, + "Plan Width": 8, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.159, + "Actual Rows": 103, + "Actual Loops": 6, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.186, + "Actual Rows": 153, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.165, + "Actual Rows": 153, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 618, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 306 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 306 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4445581228366823766, + "Planning Time": 240.452, + "Triggers": [ + ], + "Execution Time": 129.222, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 4445581228366823766, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(kt.kind) AS movie_kind,
       MIN(t.title) AS complete_nerdy_internet_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'complete+verified'
  AND cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND k.keyword IN ('nerd',
                    'loner',
                    'alienation',
                    'dignity')
  AND kt.kind IN ('movie')
  AND mi.note LIKE '%internet%'
  AND mi.info LIKE 'USA:% 200%'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND cct1.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1499.97, + "Total Cost": 1499.98, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 36.389, + "Actual Total Time": 38.300, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((kt.kind)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1499.93, + "Total Cost": 1499.94, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 36.367, + "Actual Total Time": 38.288, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((kt.kind)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1498.93, + "Total Cost": 1498.94, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 21.768, + "Actual Total Time": 21.777, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((kt.kind)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.119, + "Actual Total Time": 21.128, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.447, + "Actual Total Time": 25.454, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.239, + "Actual Total Time": 20.247, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.156, + "Actual Total Time": 15.168, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.504, + "Actual Total Time": 20.513, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.556, + "Actual Total Time": 20.565, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.687, + "Actual Total Time": 15.698, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 1498.92, + "Plan Rows": 2, + "Plan Width": 27, + "Actual Startup Time": 19.722, + "Actual Total Time": 21.764, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["kt.kind", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.115, + "Actual Total Time": 21.123, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.217, + "Actual Total Time": 25.432, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.236, + "Actual Total Time": 20.243, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.148, + "Actual Total Time": 15.159, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.487, + "Actual Total Time": 20.493, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.862, + "Actual Total Time": 20.545, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.681, + "Actual Total Time": 15.691, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.88, + "Total Cost": 1498.59, + "Plan Rows": 2, + "Plan Width": 21, + "Actual Startup Time": 19.711, + "Actual Total Time": 21.745, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.114, + "Actual Total Time": 21.121, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.191, + "Actual Total Time": 25.389, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.235, + "Actual Total Time": 20.242, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.147, + "Actual Total Time": 15.157, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.463, + "Actual Total Time": 20.454, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.842, + "Actual Total Time": 20.511, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.680, + "Actual Total Time": 15.689, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.74, + "Total Cost": 1498.20, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 19.694, + "Actual Total Time": 21.717, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.114, + "Actual Total Time": 21.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.145, + "Actual Total Time": 25.325, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.234, + "Actual Total Time": 20.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.146, + "Actual Total Time": 15.155, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.419, + "Actual Total Time": 20.394, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.815, + "Actual Total Time": 20.467, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.679, + "Actual Total Time": 15.688, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.61, + "Total Cost": 1497.90, + "Plan Rows": 2, + "Plan Width": 29, + "Actual Startup Time": 19.669, + "Actual Total Time": 21.687, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mi.info_type_id", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.113, + "Actual Total Time": 21.119, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.081, + "Actual Total Time": 25.249, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.234, + "Actual Total Time": 20.240, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.145, + "Actual Total Time": 15.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.344, + "Actual Total Time": 20.305, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.779, + "Actual Total Time": 20.420, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.679, + "Actual Total Time": 15.686, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.19, + "Total Cost": 1497.02, + "Plan Rows": 2, + "Plan Width": 33, + "Actual Startup Time": 19.645, + "Actual Total Time": 21.648, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mc.company_id", "mc.company_type_id", "mi.info_type_id", "t.title", "t.kind_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.113, + "Actual Total Time": 21.118, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.020, + "Actual Total Time": 25.154, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.233, + "Actual Total Time": 20.239, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.144, + "Actual Total Time": 15.152, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.284, + "Actual Total Time": 20.215, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.744, + "Actual Total Time": 20.356, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.677, + "Actual Total Time": 15.684, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.76, + "Total Cost": 1495.96, + "Plan Rows": 2, + "Plan Width": 41, + "Actual Startup Time": 19.618, + "Actual Total Time": 21.604, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.112, + "Actual Total Time": 21.117, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.955, + "Actual Total Time": 25.050, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.233, + "Actual Total Time": 20.237, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.142, + "Actual Total Time": 15.149, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.214, + "Actual Total Time": 20.113, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.696, + "Actual Total Time": 20.277, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.677, + "Actual Total Time": 15.682, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.32, + "Total Cost": 1487.07, + "Plan Rows": 9, + "Plan Width": 33, + "Actual Startup Time": 13.864, + "Actual Total Time": 20.081, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.111, + "Actual Total Time": 21.115, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.244, + "Actual Total Time": 20.512, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.232, + "Actual Total Time": 20.236, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.142, + "Actual Total Time": 15.148, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.459, + "Actual Total Time": 18.979, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.055, + "Actual Total Time": 17.750, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.676, + "Actual Total Time": 15.680, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.89, + "Total Cost": 1466.35, + "Plan Rows": 45, + "Plan Width": 8, + "Actual Startup Time": 13.560, + "Actual Total Time": 19.249, + "Actual Rows": 40, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.110, + "Actual Total Time": 21.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.460, + "Actual Total Time": 18.360, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.232, + "Actual Total Time": 20.235, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.141, + "Actual Total Time": 15.146, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.978, + "Actual Total Time": 18.165, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.972, + "Actual Total Time": 16.217, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.675, + "Actual Total Time": 15.678, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 1464.83, + "Plan Rows": 90, + "Plan Width": 12, + "Actual Startup Time": 11.547, + "Actual Total Time": 18.831, + "Actual Rows": 79, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.867, + "Actual Total Time": 20.868, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.638, + "Actual Total Time": 17.866, + "Actual Rows": 181, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.990, + "Actual Total Time": 19.992, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.560, + "Actual Total Time": 14.562, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.233, + "Actual Total Time": 17.874, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.140, + "Actual Total Time": 15.853, + "Actual Rows": 123, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.119, + "Actual Total Time": 15.120, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1392.29, + "Plan Rows": 162, + "Plan Width": 4, + "Actual Startup Time": 10.711, + "Actual Total Time": 13.574, + "Actual Rows": 142, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.866, + "Actual Total Time": 20.867, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.783, + "Actual Total Time": 10.721, + "Actual Rows": 302, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.989, + "Actual Total Time": 19.990, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.559, + "Actual Total Time": 14.560, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.194, + "Actual Total Time": 9.014, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.961, + "Actual Total Time": 5.098, + "Actual Rows": 195, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.118, + "Actual Total Time": 15.119, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 10.316, + "Actual Total Time": 10.702, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{nerd,loner,alienation,dignity}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.865, + "Actual Total Time": 20.866, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.271, + "Actual Total Time": 5.294, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.989, + "Actual Total Time": 19.989, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.557, + "Actual Total Time": 14.558, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.802, + "Actual Total Time": 6.667, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.488, + "Actual Total Time": 1.656, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.117, + "Actual Total Time": 15.117, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.95, + "Plan Rows": 283, + "Plan Width": 8, + "Actual Startup Time": 0.783, + "Actual Total Time": 5.623, + "Actual Rows": 283, + "Actual Loops": 4, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.506, + "Actual Total Time": 5.307, + "Actual Rows": 302, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.388, + "Actual Total Time": 2.301, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.469, + "Actual Total Time": 3.363, + "Actual Rows": 195, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 1133, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 302 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.080, + "Actual Rows": 1, + "Actual Loops": 109 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 195 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 318, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 104 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 37 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 74 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.197, + "Actual Total Time": 0.198, + "Actual Rows": 0, + "Actual Loops": 61, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note ~~ '%internet%'::text) AND (mi.info ~~ 'USA:% 200%'::text))", + "Rows Removed by Filter": 212, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.249, + "Actual Total Time": 0.251, + "Actual Rows": 0, + "Actual Loops": 18 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.137, + "Actual Total Time": 0.140, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.177, + "Actual Total Time": 0.179, + "Actual Rows": 0, + "Actual Loops": 14 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7994933085961275538, + "Planning Time": 244.375, + "Triggers": [ + ], + "Execution Time": 43.461, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -7994933085961275538, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(kt.kind) AS movie_kind,
       MIN(t.title) AS complete_us_internet_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'complete+verified'
  AND cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND kt.kind IN ('movie',
                  'tv movie',
                  'video movie',
                  'video game')
  AND mi.note LIKE '%internet%'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'USA:% 199%'
       OR mi.info LIKE 'USA:% 200%')
  AND t.production_year > 1990
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND cct1.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4689.61, + "Total Cost": 4689.62, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 170.709, + "Actual Total Time": 183.310, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((kt.kind)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4689.56, + "Total Cost": 4689.57, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 169.293, + "Actual Total Time": 183.279, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((kt.kind)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4688.56, + "Total Cost": 4688.57, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 156.905, + "Actual Total Time": 156.915, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((kt.kind)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 153.804, + "Actual Total Time": 153.815, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 160.321, + "Actual Total Time": 160.329, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 154.436, + "Actual Total Time": 154.444, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.685, + "Actual Total Time": 153.693, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 154.674, + "Actual Total Time": 154.683, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 155.658, + "Actual Total Time": 155.667, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 154.260, + "Actual Total Time": 154.269, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.98, + "Total Cost": 4688.11, + "Plan Rows": 90, + "Plan Width": 27, + "Actual Startup Time": 125.386, + "Actual Total Time": 156.830, + "Actual Rows": 78, + "Actual Loops": 8, + "Output": ["kt.kind", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 153.799, + "Actual Total Time": 153.809, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.815, + "Actual Total Time": 160.309, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 154.431, + "Actual Total Time": 154.438, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.679, + "Actual Total Time": 153.687, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.414, + "Actual Total Time": 154.386, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 155.653, + "Actual Total Time": 155.661, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.898, + "Actual Total Time": 153.933, + "Actual Rows": 316, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.56, + "Total Cost": 4648.73, + "Plan Rows": 90, + "Plan Width": 31, + "Actual Startup Time": 125.364, + "Actual Total Time": 155.849, + "Actual Rows": 78, + "Actual Loops": 8, + "Output": ["mk.keyword_id", "t.title", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 153.798, + "Actual Total Time": 153.807, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.757, + "Actual Total Time": 160.209, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 154.430, + "Actual Total Time": 154.437, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.679, + "Actual Total Time": 153.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.355, + "Actual Total Time": 150.548, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 155.652, + "Actual Total Time": 155.659, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.843, + "Actual Total Time": 150.033, + "Actual Rows": 316, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.13, + "Total Cost": 4646.84, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 125.342, + "Actual Total Time": 155.712, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mi.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 153.798, + "Actual Total Time": 153.805, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.707, + "Actual Total Time": 160.140, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 154.429, + "Actual Total Time": 154.436, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.678, + "Actual Total Time": 153.685, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.293, + "Actual Total Time": 150.062, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 155.652, + "Actual Total Time": 155.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.782, + "Actual Total Time": 149.496, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.97, + "Total Cost": 4646.64, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 125.324, + "Actual Total Time": 155.689, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 153.797, + "Actual Total Time": 153.803, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.660, + "Actual Total Time": 160.088, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 154.429, + "Actual Total Time": 154.434, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.678, + "Actual Total Time": 153.683, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.246, + "Actual Total Time": 150.004, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 155.651, + "Actual Total Time": 155.657, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.735, + "Actual Total Time": 149.432, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.84, + "Total Cost": 4646.49, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 125.300, + "Actual Total Time": 155.661, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 153.796, + "Actual Total Time": 153.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.588, + "Actual Total Time": 160.011, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 154.428, + "Actual Total Time": 154.432, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.677, + "Actual Total Time": 153.682, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.182, + "Actual Total Time": 149.931, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 155.650, + "Actual Total Time": 155.656, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.685, + "Actual Total Time": 149.362, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.42, + "Total Cost": 4646.05, + "Plan Rows": 1, + "Plan Width": 55, + "Actual Startup Time": 125.277, + "Actual Total Time": 155.624, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 153.795, + "Actual Total Time": 153.800, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.533, + "Actual Total Time": 159.932, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 154.427, + "Actual Total Time": 154.431, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.676, + "Actual Total Time": 153.681, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.122, + "Actual Total Time": 149.847, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 155.650, + "Actual Total Time": 155.654, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.615, + "Actual Total Time": 149.235, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.99, + "Total Cost": 4645.52, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 125.247, + "Actual Total Time": 155.582, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 153.794, + "Actual Total Time": 153.798, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.459, + "Actual Total Time": 159.847, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 154.426, + "Actual Total Time": 154.430, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 153.676, + "Actual Total Time": 153.680, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.057, + "Actual Total Time": 149.758, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 155.649, + "Actual Total Time": 155.653, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.518, + "Actual Total Time": 149.084, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.56, + "Total Cost": 3844.30, + "Plan Rows": 722, + "Plan Width": 35, + "Actual Startup Time": 0.494, + "Actual Total Time": 62.197, + "Actual Rows": 632, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.380, + "Actual Total Time": 60.027, + "Actual Rows": 542, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.500, + "Actual Total Time": 63.686, + "Actual Rows": 773, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.243, + "Actual Total Time": 60.802, + "Actual Rows": 556, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.198, + "Actual Total Time": 63.940, + "Actual Rows": 697, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.516, + "Actual Total Time": 59.007, + "Actual Rows": 531, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.361, + "Actual Total Time": 62.364, + "Actual Rows": 628, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.323, + "Actual Total Time": 60.230, + "Actual Rows": 518, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 3839.35, + "Plan Rows": 918, + "Plan Width": 29, + "Actual Startup Time": 0.351, + "Actual Total Time": 61.243, + "Actual Rows": 803, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.243, + "Actual Total Time": 59.069, + "Actual Rows": 712, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.422, + "Actual Total Time": 62.751, + "Actual Rows": 1021, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.113, + "Actual Total Time": 59.882, + "Actual Rows": 755, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.134, + "Actual Total Time": 63.042, + "Actual Rows": 872, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.358, + "Actual Total Time": 58.060, + "Actual Rows": 630, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.241, + "Actual Total Time": 61.455, + "Actual Rows": 795, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.183, + "Actual Total Time": 59.342, + "Actual Rows": 686, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 3513, + "Plan Width": 4, + "Actual Startup Time": 0.076, + "Actual Total Time": 12.630, + "Actual Rows": 3074, + "Actual Loops": 8, + "Output": ["cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.063, + "Actual Total Time": 12.369, + "Actual Rows": 2640, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 12.796, + "Actual Rows": 3659, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.109, + "Actual Total Time": 11.968, + "Actual Rows": 2757, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 13.119, + "Actual Rows": 3254, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.214, + "Actual Total Time": 12.319, + "Actual Rows": 2494, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.056, + "Actual Total Time": 12.354, + "Actual Rows": 3210, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.063, + "Actual Total Time": 12.436, + "Actual Rows": 2702, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 8, + "Actual Startup Time": 0.025, + "Actual Total Time": 4.121, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 4.050, + "Actual Rows": 14800, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 4.158, + "Actual Rows": 20165, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 3.920, + "Actual Rows": 14466, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 4.224, + "Actual Rows": 17760, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 4.074, + "Actual Rows": 14430, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 3.989, + "Actual Rows": 16095, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 4.134, + "Actual Rows": 15910, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 24592, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2640 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 3659 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2757 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3254 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2494 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3210 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2702 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.06, + "Total Cost": 1.06, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.kind", "kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.06, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.036, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["kt.kind", "kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,\"tv movie\",\"video movie\",\"video game\"}'::text[]))", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.10, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.147, + "Actual Rows": 0, + "Actual Loops": 5053, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND (mi.note ~~ '%internet%'::text) AND ((mi.info ~~ 'USA:% 199%'::text) OR (mi.info ~~ 'USA:% 200%'::text)))", + "Rows Removed by Filter": 123, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.172, + "Actual Total Time": 0.172, + "Actual Rows": 0, + "Actual Loops": 542 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.124, + "Actual Total Time": 0.124, + "Actual Rows": 0, + "Actual Loops": 773 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.167, + "Actual Total Time": 0.167, + "Actual Rows": 0, + "Actual Loops": 556 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.128, + "Actual Total Time": 0.128, + "Actual Rows": 0, + "Actual Loops": 697 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.170, + "Actual Total Time": 0.170, + "Actual Rows": 0, + "Actual Loops": 531 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.148, + "Actual Total Time": 0.148, + "Actual Rows": 0, + "Actual Loops": 628 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.170, + "Actual Total Time": 0.171, + "Actual Rows": 0, + "Actual Loops": 518 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.078, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.19, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 91, + "Plan Width": 8, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.117, + "Actual Rows": 90, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.031, + "Actual Rows": 3, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.178, + "Actual Rows": 153, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.133, + "Actual Rows": 105, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 628, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 306 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 316 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1076878163750528468, + "Planning Time": 242.249, + "Triggers": [ + ], + "Execution Time": 189.314, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 1076878163750528468, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char_name,
       MIN(n.name) AS voicing_actress_name,
       MIN(t.title) AS voiced_action_movie_jap_eng
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND k.keyword IN ('hero',
                    'martial-arts',
                    'hand-to-hand-combat')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%201%'
       OR mi.info LIKE 'USA:%201%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year > 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND ci.movie_id = mk.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2284.48, + "Total Cost": 2284.49, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 409.110, + "Actual Total Time": 438.853, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2284.42, + "Total Cost": 2284.43, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 295.895, + "Actual Total Time": 438.819, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2283.42, + "Total Cost": 2283.43, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 144.513, + "Actual Total Time": 144.527, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.858, + "Actual Total Time": 31.869, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.066, + "Actual Total Time": 26.081, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.303, + "Actual Total Time": 26.318, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 322.768, + "Actual Total Time": 322.777, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 400.640, + "Actual Total Time": 400.648, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.813, + "Actual Total Time": 26.827, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.759, + "Actual Total Time": 26.774, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.82, + "Total Cost": 2283.13, + "Plan Rows": 39, + "Plan Width": 48, + "Actual Startup Time": 48.805, + "Actual Total Time": 144.482, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.852, + "Actual Total Time": 31.862, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.059, + "Actual Total Time": 26.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.294, + "Actual Total Time": 26.309, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.125, + "Actual Total Time": 322.643, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 54.425, + "Actual Total Time": 400.500, + "Actual Rows": 138, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.806, + "Actual Total Time": 26.819, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.750, + "Actual Total Time": 26.765, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.39, + "Total Cost": 2282.59, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 20.609, + "Actual Total Time": 136.283, + "Actual Rows": 815, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "chn.name", "an.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.851, + "Actual Total Time": 31.861, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.058, + "Actual Total Time": 26.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.293, + "Actual Total Time": 26.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.703, + "Actual Total Time": 300.740, + "Actual Rows": 2446, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.709, + "Actual Total Time": 372.478, + "Actual Rows": 2661, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.805, + "Actual Total Time": 26.818, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.749, + "Actual Total Time": 26.762, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.97, + "Total Cost": 2282.14, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 20.571, + "Actual Total Time": 120.668, + "Actual Rows": 1811, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "chn.name", "an.person_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.850, + "Actual Total Time": 31.860, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.057, + "Actual Total Time": 26.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.292, + "Actual Total Time": 26.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.600, + "Actual Total Time": 261.738, + "Actual Rows": 4866, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.638, + "Actual Total Time": 314.888, + "Actual Rows": 6501, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.804, + "Actual Total Time": 26.816, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.748, + "Actual Total Time": 26.761, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.54, + "Total Cost": 2281.50, + "Plan Rows": 1, + "Plan Width": 57, + "Actual Startup Time": 20.494, + "Actual Total Time": 115.581, + "Actual Rows": 293, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mi.movie_id", "ci.movie_id", "ci.person_id", "chn.name", "an.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.849, + "Actual Total Time": 31.858, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.056, + "Actual Total Time": 26.068, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.291, + "Actual Total Time": 26.303, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.538, + "Actual Total Time": 249.041, + "Actual Rows": 824, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.349, + "Actual Total Time": 297.368, + "Actual Rows": 923, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.803, + "Actual Total Time": 26.814, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.748, + "Actual Total Time": 26.759, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.11, + "Total Cost": 2281.02, + "Plan Rows": 1, + "Plan Width": 53, + "Actual Startup Time": 20.429, + "Actual Total Time": 113.989, + "Actual Rows": 121, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mi.movie_id", "ci.movie_id", "ci.person_id", "chn.name"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.849, + "Actual Total Time": 31.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.055, + "Actual Total Time": 26.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.290, + "Actual Total Time": 26.301, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.463, + "Actual Total Time": 245.105, + "Actual Rows": 305, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.106, + "Actual Total Time": 292.412, + "Actual Rows": 385, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.802, + "Actual Total Time": 26.812, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.747, + "Actual Total Time": 26.757, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.27, + "Total Cost": 2279.11, + "Plan Rows": 25, + "Plan Width": 57, + "Actual Startup Time": 20.012, + "Actual Total Time": 113.456, + "Actual Rows": 121, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mi.movie_id", "mi.info_type_id", "ci.movie_id", "ci.person_id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.546, + "Actual Total Time": 31.553, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.525, + "Actual Total Time": 25.535, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.747, + "Actual Total Time": 25.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.203, + "Actual Total Time": 244.577, + "Actual Rows": 305, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.826, + "Actual Total Time": 291.762, + "Actual Rows": 385, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.243, + "Actual Total Time": 26.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.193, + "Actual Total Time": 26.201, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 2252.23, + "Plan Rows": 53, + "Plan Width": 45, + "Actual Startup Time": 19.974, + "Actual Total Time": 111.504, + "Actual Rows": 123, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mi.movie_id", "mi.info_type_id", "ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.546, + "Actual Total Time": 31.551, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.524, + "Actual Total Time": 25.532, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.746, + "Actual Total Time": 25.754, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.079, + "Actual Total Time": 239.770, + "Actual Rows": 305, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.720, + "Actual Total Time": 285.963, + "Actual Rows": 386, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.241, + "Actual Total Time": 26.248, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.192, + "Actual Total Time": 26.199, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.74, + "Total Cost": 2248.87, + "Plan Rows": 634, + "Plan Width": 49, + "Actual Startup Time": 19.913, + "Actual Total Time": 111.197, + "Actual Rows": 555, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mi.movie_id", "mi.info_type_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.537, + "Actual Total Time": 31.540, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.514, + "Actual Total Time": 25.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.734, + "Actual Total Time": 25.739, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.027, + "Actual Total Time": 239.065, + "Actual Rows": 1382, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.425, + "Actual Total Time": 285.020, + "Actual Rows": 1710, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.231, + "Actual Total Time": 26.236, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.178, + "Actual Total Time": 26.182, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 2107.04, + "Plan Rows": 105, + "Plan Width": 33, + "Actual Startup Time": 17.456, + "Actual Total Time": 52.707, + "Actual Rows": 92, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.536, + "Actual Total Time": 31.539, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.513, + "Actual Total Time": 25.517, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.733, + "Actual Total Time": 25.737, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.562, + "Actual Total Time": 66.917, + "Actual Rows": 215, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.645, + "Actual Total Time": 119.319, + "Actual Rows": 333, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.230, + "Actual Total Time": 26.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.177, + "Actual Total Time": 26.181, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2036.09, + "Plan Rows": 71, + "Plan Width": 25, + "Actual Startup Time": 17.424, + "Actual Total Time": 45.171, + "Actual Rows": 62, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.536, + "Actual Total Time": 31.538, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.512, + "Actual Total Time": 25.515, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.731, + "Actual Total Time": 25.734, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.498, + "Actual Total Time": 51.393, + "Actual Rows": 113, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.530, + "Actual Total Time": 90.379, + "Actual Rows": 244, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.229, + "Actual Total Time": 26.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.176, + "Actual Total Time": 26.179, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1398.37, + "Plan Rows": 1385, + "Plan Width": 4, + "Actual Startup Time": 17.237, + "Actual Total Time": 27.392, + "Actual Rows": 1212, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.535, + "Actual Total Time": 31.536, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.512, + "Actual Total Time": 25.513, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.730, + "Actual Total Time": 25.732, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.438, + "Actual Total Time": 17.742, + "Actual Rows": 2373, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.431, + "Actual Total Time": 29.592, + "Actual Rows": 4400, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.228, + "Actual Total Time": 26.230, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.175, + "Actual Total Time": 26.177, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 16.914, + "Actual Total Time": 16.930, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{hero,martial-arts,hand-to-hand-combat}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.534, + "Actual Total Time": 31.535, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.511, + "Actual Total Time": 25.511, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.729, + "Actual Total Time": 25.730, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.081, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.103, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.227, + "Actual Total Time": 26.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.174, + "Actual Total Time": 26.174, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.50, + "Plan Rows": 3232, + "Plan Width": 8, + "Actual Startup Time": 0.856, + "Actual Total Time": 26.900, + "Actual Rows": 3232, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.396, + "Actual Total Time": 16.931, + "Actual Rows": 2373, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.367, + "Actual Total Time": 28.198, + "Actual Rows": 4400, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 9696, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2373 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 4400 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.120, + "Actual Rows": 1, + "Actual Loops": 495, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%201%'::text) OR (mi.info ~~ 'USA:%201%'::text)))", + "Rows Removed by Filter": 70, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.135, + "Actual Rows": 2, + "Actual Loops": 113 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.117, + "Actual Rows": 1, + "Actual Loops": 244 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.30, + "Plan Rows": 4, + "Plan Width": 16, + "Actual Startup Time": 0.421, + "Actual Total Time": 0.630, + "Actual Rows": 6, + "Actual Loops": 738, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 128, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.512, + "Actual Total Time": 0.796, + "Actual Rows": 6, + "Actual Loops": 215 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.337, + "Actual Total Time": 0.494, + "Actual Rows": 5, + "Actual Loops": 333 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 984, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 305 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 386 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 969, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 305 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 385 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.59, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.014, + "Actual Rows": 6, + "Actual Loops": 2344, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.012, + "Actual Rows": 6, + "Actual Loops": 824 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.015, + "Actual Rows": 7, + "Actual Loops": 923 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 14490, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 4866 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 6501 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6518, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 2446 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 2661 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6624959997497422723, + "Planning Time": 2735.158, + "Triggers": [ + ], + "Execution Time": 458.540, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 6624959997497422723, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char_name,
       MIN(n.name) AS voicing_actress_name,
       MIN(t.title) AS kung_fu_panda
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND cn.name = 'DreamWorks Animation'
  AND it.info = 'release dates'
  AND k.keyword IN ('hero',
                    'martial-arts',
                    'hand-to-hand-combat',
                    'computer-animated-movie')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%201%'
       OR mi.info LIKE 'USA:%201%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year > 2010
  AND t.title LIKE 'Kung Fu Panda%'
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND ci.movie_id = mk.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2079.19, + "Total Cost": 2079.20, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 94.559, + "Actual Total Time": 116.073, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2079.13, + "Total Cost": 2079.14, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 70.192, + "Actual Total Time": 116.051, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2078.13, + "Total Cost": 2078.14, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 39.481, + "Actual Total Time": 39.492, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.687, + "Actual Total Time": 21.697, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 64.553, + "Actual Total Time": 64.562, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.468, + "Actual Total Time": 21.477, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 83.870, + "Actual Total Time": 83.880, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.796, + "Actual Total Time": 21.806, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.166, + "Actual Total Time": 16.179, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.097, + "Actual Total Time": 17.111, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.13, + "Total Cost": 2078.08, + "Plan Rows": 6, + "Plan Width": 48, + "Actual Startup Time": 30.547, + "Actual Total Time": 39.474, + "Actual Rows": 6, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.682, + "Actual Total Time": 21.691, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.817, + "Actual Total Time": 64.515, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.463, + "Actual Total Time": 21.472, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 46.186, + "Actual Total Time": 83.835, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.792, + "Actual Total Time": 21.800, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.147, + "Actual Total Time": 16.160, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.088, + "Actual Total Time": 17.101, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.70, + "Total Cost": 2077.57, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 30.529, + "Actual Total Time": 39.442, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "n.name", "n.id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.682, + "Actual Total Time": 21.690, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.752, + "Actual Total Time": 64.390, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.462, + "Actual Total Time": 21.470, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 46.112, + "Actual Total Time": 83.716, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.791, + "Actual Total Time": 21.799, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.146, + "Actual Total Time": 16.158, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.087, + "Actual Total Time": 17.099, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.27, + "Total Cost": 2077.06, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 30.515, + "Actual Total Time": 39.418, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.681, + "Actual Total Time": 21.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.692, + "Actual Total Time": 64.290, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.462, + "Actual Total Time": 21.469, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 46.062, + "Actual Total Time": 83.631, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.790, + "Actual Total Time": 21.798, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.145, + "Actual Total Time": 16.156, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.086, + "Actual Total Time": 17.098, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.84, + "Total Cost": 2072.19, + "Plan Rows": 9, + "Plan Width": 25, + "Actual Startup Time": 30.473, + "Actual Total Time": 39.275, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.680, + "Actual Total Time": 21.687, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.462, + "Actual Total Time": 63.604, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.461, + "Actual Total Time": 21.468, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 45.955, + "Actual Total Time": 83.185, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.790, + "Actual Total Time": 21.797, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.144, + "Actual Total Time": 16.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.085, + "Actual Total Time": 17.096, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.74, + "Total Cost": 2070.96, + "Plan Rows": 35, + "Plan Width": 29, + "Actual Startup Time": 30.315, + "Actual Total Time": 39.137, + "Actual Rows": 30, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.614, + "Actual Total Time": 21.619, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.174, + "Actual Total Time": 63.442, + "Actual Rows": 119, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.400, + "Actual Total Time": 21.405, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 45.741, + "Actual Total Time": 83.018, + "Actual Rows": 125, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.729, + "Actual Total Time": 21.734, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.002, + "Actual Total Time": 16.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.934, + "Actual Total Time": 16.941, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.30, + "Total Cost": 2069.34, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 30.296, + "Actual Total Time": 38.631, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.613, + "Actual Total Time": 21.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.091, + "Actual Total Time": 60.997, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.399, + "Actual Total Time": 21.404, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 45.684, + "Actual Total Time": 81.423, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.728, + "Actual Total Time": 21.733, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.001, + "Actual Total Time": 16.008, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.933, + "Actual Total Time": 16.939, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 2069.15, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 30.282, + "Actual Total Time": 38.612, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.612, + "Actual Total Time": 21.615, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.035, + "Actual Total Time": 60.926, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.399, + "Actual Total Time": 21.402, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 45.628, + "Actual Total Time": 81.353, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.728, + "Actual Total Time": 21.731, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.000, + "Actual Total Time": 16.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.932, + "Actual Total Time": 16.937, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 2068.15, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 25.631, + "Actual Total Time": 38.506, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.612, + "Actual Total Time": 21.614, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.945, + "Actual Total Time": 60.467, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.398, + "Actual Total Time": 21.401, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.512, + "Actual Total Time": 80.972, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.727, + "Actual Total Time": 21.730, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.999, + "Actual Total Time": 16.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.931, + "Actual Total Time": 16.936, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 2064.13, + "Plan Rows": 9, + "Plan Width": 33, + "Actual Startup Time": 25.528, + "Actual Total Time": 38.349, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.611, + "Actual Total Time": 21.613, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.268, + "Actual Total Time": 59.816, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.398, + "Actual Total Time": 21.400, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.370, + "Actual Total Time": 80.373, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.727, + "Actual Total Time": 21.729, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.998, + "Actual Total Time": 16.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.930, + "Actual Total Time": 16.934, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2063.51, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 24.892, + "Actual Total Time": 37.690, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.610, + "Actual Total Time": 21.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.187, + "Actual Total Time": 59.665, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.397, + "Actual Total Time": 21.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.370, + "Actual Total Time": 75.260, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.726, + "Actual Total Time": 21.728, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.997, + "Actual Total Time": 16.000, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.929, + "Actual Total Time": 16.932, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1422.33, + "Plan Rows": 1385, + "Plan Width": 4, + "Actual Startup Time": 12.284, + "Actual Total Time": 18.731, + "Actual Rows": 1212, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.610, + "Actual Total Time": 21.611, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.379, + "Actual Total Time": 15.571, + "Actual Rows": 2373, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.397, + "Actual Total Time": 21.398, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.130, + "Actual Total Time": 18.293, + "Actual Rows": 4400, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.726, + "Actual Total Time": 21.727, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.996, + "Actual Total Time": 15.998, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.928, + "Actual Total Time": 16.930, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 12.251, + "Actual Total Time": 12.272, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{hero,martial-arts,hand-to-hand-combat,computer-animated-movie}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.609, + "Actual Total Time": 21.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.271, + "Actual Total Time": 0.318, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.396, + "Actual Total Time": 21.397, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.117, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.725, + "Actual Total Time": 21.725, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.995, + "Actual Total Time": 15.996, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.927, + "Actual Total Time": 16.928, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.50, + "Plan Rows": 3232, + "Plan Width": 8, + "Actual Startup Time": 0.084, + "Actual Total Time": 16.060, + "Actual Rows": 3232, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.104, + "Actual Total Time": 14.245, + "Actual Rows": 2373, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.082, + "Actual Total Time": 16.823, + "Actual Rows": 4400, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 9696, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2010) AND (t.title ~~ 'Kung Fu Panda%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2373 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 4400 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 9, + "Plan Width": 8, + "Actual Startup Time": 0.733, + "Actual Total Time": 0.744, + "Actual Rows": 9, + "Actual Loops": 7, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.061, + "Actual Rows": 13, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.008, + "Actual Total Time": 1.017, + "Actual Rows": 7, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 62, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text = '[us]'::text) AND (cn.name = 'DreamWorks Animation'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 26 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 36 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.136, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%201%'::text) OR (mi.info ~~ 'USA:%201%'::text)))", + "Rows Removed by Filter": 89, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.224, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.092, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 9, + "Output": ["it.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 4, + "Cache Hits": 3, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 5, + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.30, + "Plan Rows": 26, + "Plan Width": 16, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.435, + "Actual Rows": 27, + "Actual Loops": 9, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 91, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.593, + "Actual Rows": 30, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.309, + "Actual Rows": 25, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 62, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 30 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 32 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 9, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 5, + "Actual Loops": 9, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.027, + "Actual Rows": 5, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 5, + "Actual Loops": 5 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1322643491423167220, + "Planning Time": 3094.624, + "Triggers": [ + ], + "Execution Time": 125.775, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 1322643491423167220, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS male_writer,
       MIN(t.title) AS violent_movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity')
  AND mi.info = 'Horror'
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13402.36, + "Total Cost": 13402.37, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 2387.126, + "Actual Total Time": 2424.640, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13402.28, + "Total Cost": 13402.29, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 2201.217, + "Actual Total Time": 2424.607, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13401.28, + "Total Cost": 13401.29, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1392.352, + "Actual Total Time": 1392.360, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.910, + "Actual Total Time": 34.918, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2215.474, + "Actual Total Time": 2215.480, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2370.895, + "Actual Total Time": 2370.900, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2060.574, + "Actual Total Time": 2060.581, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.155, + "Actual Total Time": 36.164, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.577, + "Actual Total Time": 36.585, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2183.980, + "Actual Total Time": 2183.987, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.28, + "Total Cost": 13394.98, + "Plan Rows": 630, + "Plan Width": 80, + "Actual Startup Time": 68.817, + "Actual Total Time": 1390.475, + "Actual Rows": 551, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.905, + "Actual Total Time": 34.912, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.311, + "Actual Total Time": 2212.935, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 216.091, + "Actual Total Time": 2367.340, + "Actual Rows": 1133, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.279, + "Actual Total Time": 2057.546, + "Actual Rows": 831, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.147, + "Actual Total Time": 36.155, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.571, + "Actual Total Time": 36.578, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 79.670, + "Actual Total Time": 2180.236, + "Actual Rows": 1091, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.85, + "Total Cost": 13098.60, + "Plan Rows": 630, + "Plan Width": 79, + "Actual Startup Time": 68.774, + "Actual Total Time": 1375.709, + "Actual Rows": 551, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.904, + "Actual Total Time": 34.910, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 58.234, + "Actual Total Time": 2193.355, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 216.034, + "Actual Total Time": 2344.268, + "Actual Rows": 1133, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.186, + "Actual Total Time": 2022.118, + "Actual Rows": 831, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.146, + "Actual Total Time": 36.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.570, + "Actual Total Time": 36.577, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 79.612, + "Actual Total Time": 2154.918, + "Actual Rows": 1091, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 13091.60, + "Plan Rows": 1890, + "Plan Width": 83, + "Actual Startup Time": 68.235, + "Actual Total Time": 1373.489, + "Actual Rows": 1654, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "mk.movie_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.263, + "Actual Total Time": 34.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 57.946, + "Actual Total Time": 2190.760, + "Actual Rows": 2259, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 215.507, + "Actual Total Time": 2340.556, + "Actual Rows": 3401, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.545, + "Actual Total Time": 2018.492, + "Actual Rows": 2497, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.536, + "Actual Total Time": 35.542, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.005, + "Actual Total Time": 36.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 78.938, + "Actual Total Time": 2151.098, + "Actual Rows": 3276, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 12751.22, + "Plan Rows": 670, + "Plan Width": 69, + "Actual Startup Time": 50.100, + "Actual Total Time": 1345.551, + "Actual Rows": 586, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.262, + "Actual Total Time": 34.266, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 57.855, + "Actual Total Time": 2157.050, + "Actual Rows": 763, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.034, + "Actual Total Time": 2301.300, + "Actual Rows": 1222, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.452, + "Actual Total Time": 1944.406, + "Actual Rows": 871, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.535, + "Actual Total Time": 35.540, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.004, + "Actual Total Time": 36.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 78.571, + "Actual Total Time": 2103.028, + "Actual Rows": 1174, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 12199.97, + "Plan Rows": 1086, + "Plan Width": 58, + "Actual Startup Time": 28.975, + "Actual Total Time": 1279.592, + "Actual Rows": 950, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.261, + "Actual Total Time": 34.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.724, + "Actual Total Time": 2079.795, + "Actual Rows": 1210, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 37.874, + "Actual Total Time": 2190.662, + "Actual Rows": 2142, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.865, + "Actual Total Time": 1800.279, + "Actual Rows": 1307, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.534, + "Actual Total Time": 35.539, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.003, + "Actual Total Time": 36.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.673, + "Actual Total Time": 1986.151, + "Actual Rows": 1879, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 9788.61, + "Plan Rows": 1777, + "Plan Width": 50, + "Actual Startup Time": 16.196, + "Actual Total Time": 729.864, + "Actual Rows": 1555, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.260, + "Actual Total Time": 34.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.370, + "Actual Total Time": 1461.515, + "Actual Rows": 2024, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.734, + "Actual Total Time": 1307.479, + "Actual Rows": 3421, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.327, + "Actual Total Time": 552.527, + "Actual Rows": 2118, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.533, + "Actual Total Time": 35.537, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.002, + "Actual Total Time": 36.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.160, + "Actual Total Time": 985.946, + "Actual Rows": 3056, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 9781.59, + "Plan Rows": 1901, + "Plan Width": 54, + "Actual Startup Time": 16.169, + "Actual Total Time": 726.535, + "Actual Rows": 1664, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.249, + "Actual Total Time": 34.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.349, + "Actual Total Time": 1456.975, + "Actual Rows": 2131, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.712, + "Actual Total Time": 1301.090, + "Actual Rows": 3642, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.296, + "Actual Total Time": 547.479, + "Actual Rows": 2264, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.519, + "Actual Total Time": 35.521, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.992, + "Actual Total Time": 35.994, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.126, + "Actual Total Time": 979.816, + "Actual Rows": 3265, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1537.28, + "Plan Rows": 8871, + "Plan Width": 4, + "Actual Startup Time": 14.206, + "Actual Total Time": 70.233, + "Actual Rows": 7762, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.248, + "Actual Total Time": 34.249, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.698, + "Actual Total Time": 168.401, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.427, + "Actual Total Time": 62.402, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.170, + "Actual Total Time": 38.373, + "Actual Rows": 3402, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.518, + "Actual Total Time": 35.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.991, + "Actual Total Time": 35.992, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.969, + "Actual Total Time": 46.955, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1260.47, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 13.848, + "Actual Total Time": 13.859, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,blood,gore,death,female-nudity}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.247, + "Actual Total Time": 34.247, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.378, + "Actual Total Time": 0.399, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.242, + "Actual Total Time": 1.247, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.692, + "Actual Total Time": 0.729, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.517, + "Actual Total Time": 35.518, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.990, + "Actual Total Time": 35.991, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.764, + "Actual Total Time": 0.775, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.62, + "Plan Rows": 12419, + "Plan Width": 8, + "Actual Startup Time": 0.565, + "Actual Total Time": 85.056, + "Actual Rows": 12419, + "Actual Loops": 5, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.316, + "Actual Total Time": 160.043, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.178, + "Actual Total Time": 54.038, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.469, + "Actual Total Time": 35.633, + "Actual Rows": 3402, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.198, + "Actual Total Time": 42.428, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.083, + "Actual Rows": 0, + "Actual Loops": 62096, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = 'Horror'::text)", + "Rows Removed by Filter": 47, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 20522 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 19528 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.126, + "Actual Total Time": 0.148, + "Actual Rows": 1, + "Actual Loops": 3402 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.101, + "Actual Total Time": 0.111, + "Actual Rows": 0, + "Actual Loops": 8337 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.296, + "Actual Total Time": 0.352, + "Actual Rows": 1, + "Actual Loops": 12438, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.263, + "Actual Total Time": 0.304, + "Actual Rows": 1, + "Actual Loops": 2024 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.218, + "Actual Total Time": 0.257, + "Actual Rows": 1, + "Actual Loops": 3421 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.491, + "Actual Total Time": 0.587, + "Actual Rows": 1, + "Actual Loops": 2118 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.271, + "Actual Total Time": 0.326, + "Actual Rows": 1, + "Actual Loops": 3056 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 7602, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 1210 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 2142 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.108, + "Actual Rows": 1, + "Actual Loops": 1307 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 1, + "Actual Loops": 1879 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.044, + "Actual Rows": 3, + "Actual Loops": 4690, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.040, + "Actual Rows": 3, + "Actual Loops": 763 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.029, + "Actual Rows": 3, + "Actual Loops": 1222 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.081, + "Actual Rows": 3, + "Actual Loops": 871 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.037, + "Actual Rows": 3, + "Actual Loops": 1174 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 4407, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 753 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1133 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 831 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 1091 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5845388691995996195, + "Planning Time": 121.614, + "Triggers": [ + ], + "Execution Time": 2430.326, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -5845388691995996195, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS male_writer,
       MIN(t.title) AS violent_movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity')
  AND mi.info = 'Horror'
  AND n.gender = 'm'
  AND t.production_year > 2010
  AND t.title LIKE 'Vampire%'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5649.19, + "Total Cost": 5649.20, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 321.383, + "Actual Total Time": 348.207, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5649.11, + "Total Cost": 5649.12, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 251.211, + "Actual Total Time": 348.173, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5648.11, + "Total Cost": 5648.12, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 161.170, + "Actual Total Time": 161.176, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.828, + "Actual Total Time": 25.835, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 276.448, + "Actual Total Time": 276.452, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 220.029, + "Actual Total Time": 220.035, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.123, + "Actual Total Time": 31.129, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.218, + "Actual Total Time": 26.224, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 312.611, + "Actual Total Time": 312.616, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 146.785, + "Actual Total Time": 146.791, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.89, + "Total Cost": 5648.10, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 158.122, + "Actual Total Time": 161.163, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.822, + "Actual Total Time": 25.828, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 276.443, + "Actual Total Time": 276.447, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 210.771, + "Actual Total Time": 220.007, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.117, + "Actual Total Time": 31.123, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.212, + "Actual Total Time": 26.219, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 312.605, + "Actual Total Time": 312.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 140.576, + "Actual Total Time": 146.762, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.46, + "Total Cost": 5647.59, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 158.111, + "Actual Total Time": 161.148, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.822, + "Actual Total Time": 25.827, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 276.443, + "Actual Total Time": 276.446, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 210.745, + "Actual Total Time": 219.958, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.116, + "Actual Total Time": 31.121, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.211, + "Actual Total Time": 26.217, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 312.605, + "Actual Total Time": 312.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 140.543, + "Actual Total Time": 146.721, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.32, + "Total Cost": 5647.08, + "Plan Rows": 3, + "Plan Width": 73, + "Actual Startup Time": 158.105, + "Actual Total Time": 161.135, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.821, + "Actual Total Time": 25.825, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 276.442, + "Actual Total Time": 276.445, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 210.729, + "Actual Total Time": 219.915, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.116, + "Actual Total Time": 31.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.211, + "Actual Total Time": 26.215, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 312.604, + "Actual Total Time": 312.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 140.527, + "Actual Total Time": 146.687, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.89, + "Total Cost": 5646.56, + "Plan Rows": 1, + "Plan Width": 79, + "Actual Startup Time": 158.091, + "Actual Total Time": 161.115, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.820, + "Actual Total Time": 25.824, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 276.442, + "Actual Total Time": 276.445, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 210.690, + "Actual Total Time": 219.845, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.115, + "Actual Total Time": 31.119, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.210, + "Actual Total Time": 26.214, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 312.604, + "Actual Total Time": 312.607, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 140.484, + "Actual Total Time": 146.631, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.74, + "Total Cost": 5646.38, + "Plan Rows": 1, + "Plan Width": 83, + "Actual Startup Time": 158.072, + "Actual Total Time": 161.093, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.820, + "Actual Total Time": 25.822, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 276.441, + "Actual Total Time": 276.444, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 210.647, + "Actual Total Time": 219.796, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.115, + "Actual Total Time": 31.117, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.208, + "Actual Total Time": 26.212, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 312.603, + "Actual Total Time": 312.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 140.407, + "Actual Total Time": 146.549, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 5645.45, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 158.055, + "Actual Total Time": 161.065, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.819, + "Actual Total Time": 25.821, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 276.440, + "Actual Total Time": 276.442, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 210.599, + "Actual Total Time": 219.700, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.114, + "Actual Total Time": 31.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.208, + "Actual Total Time": 26.210, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 312.603, + "Actual Total Time": 312.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 140.353, + "Actual Total Time": 146.470, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5644.09, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 156.793, + "Actual Total Time": 160.957, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.818, + "Actual Total Time": 25.820, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 266.706, + "Actual Total Time": 276.300, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 210.463, + "Actual Total Time": 219.269, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.113, + "Actual Total Time": 31.115, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.207, + "Actual Total Time": 26.209, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 312.602, + "Actual Total Time": 312.603, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 140.257, + "Actual Total Time": 146.333, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1537.28, + "Plan Rows": 8871, + "Plan Width": 4, + "Actual Startup Time": 10.954, + "Actual Total Time": 48.256, + "Actual Rows": 7762, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.817, + "Actual Total Time": 25.818, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.967, + "Actual Total Time": 76.545, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.446, + "Actual Total Time": 53.495, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.113, + "Actual Total Time": 31.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.206, + "Actual Total Time": 26.207, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.422, + "Actual Total Time": 79.280, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.368, + "Actual Total Time": 22.583, + "Actual Rows": 3402, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1260.47, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 10.888, + "Actual Total Time": 10.900, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,blood,gore,death,female-nudity}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.817, + "Actual Total Time": 25.817, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.847, + "Actual Total Time": 0.855, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.361, + "Actual Total Time": 0.374, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.112, + "Actual Total Time": 31.113, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.205, + "Actual Total Time": 26.206, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.304, + "Actual Total Time": 0.328, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.271, + "Actual Total Time": 0.298, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.62, + "Plan Rows": 12419, + "Plan Width": 8, + "Actual Startup Time": 0.100, + "Actual Total Time": 56.351, + "Actual Rows": 12419, + "Actual Loops": 5, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.116, + "Actual Total Time": 71.122, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.081, + "Actual Total Time": 50.852, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.115, + "Actual Total Time": 73.129, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.093, + "Actual Total Time": 21.241, + "Actual Rows": 3402, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 62096, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2010) AND (t.title ~~ 'Vampire%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 19528 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 20522 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 3402 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.093, + "Actual Rows": 1, + "Actual Loops": 9, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 21, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.139, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.085, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.065, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = 'Horror'::text)", + "Rows Removed by Filter": 20, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.022, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 3, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 3, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 18, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 9 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4983731566966487840, + "Planning Time": 110.027, + "Triggers": [ + ], + "Execution Time": 360.678, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -4983731566966487840, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS male_writer,
       MIN(t.title) AS violent_movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 25896.46, + "Total Cost": 25896.47, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 4460.241, + "Actual Total Time": 4506.808, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 25896.38, + "Total Cost": 25896.39, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 3152.272, + "Actual Total Time": 4506.754, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 25895.38, + "Total Cost": 25895.39, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 2532.874, + "Actual Total Time": 2532.884, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.845, + "Actual Total Time": 42.855, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2183.701, + "Actual Total Time": 2183.708, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3678.007, + "Actual Total Time": 3678.012, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3009.261, + "Actual Total Time": 3009.268, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.645, + "Actual Total Time": 43.655, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3701.436, + "Actual Total Time": 3701.445, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4452.658, + "Actual Total Time": 4452.664, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.28, + "Total Cost": 25858.02, + "Plan Rows": 3736, + "Plan Width": 80, + "Actual Startup Time": 25.802, + "Actual Total Time": 2526.058, + "Actual Rows": 3269, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.838, + "Actual Total Time": 42.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 88.045, + "Actual Total Time": 2180.442, + "Actual Rows": 1326, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.891, + "Actual Total Time": 3665.072, + "Actual Rows": 6963, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.020, + "Actual Total Time": 2999.141, + "Actual Rows": 4673, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.637, + "Actual Total Time": 43.647, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.345, + "Actual Total Time": 3693.922, + "Actual Rows": 3244, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.168, + "Actual Total Time": 4439.729, + "Actual Rows": 6686, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.44, + "Total Cost": 25825.48, + "Plan Rows": 11271, + "Plan Width": 84, + "Actual Startup Time": 25.515, + "Actual Total Time": 2519.425, + "Actual Rows": 9862, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "mi_idx.info_type_id", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.532, + "Actual Total Time": 42.540, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 87.785, + "Actual Total Time": 2177.446, + "Actual Rows": 4004, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.615, + "Actual Total Time": 3652.613, + "Actual Rows": 21032, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.765, + "Actual Total Time": 2989.062, + "Actual Rows": 14101, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.356, + "Actual Total Time": 43.364, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.055, + "Actual Total Time": 3687.034, + "Actual Rows": 9752, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.876, + "Actual Total Time": 4427.574, + "Actual Rows": 20146, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 24461.92, + "Plan Rows": 2684, + "Plan Width": 90, + "Actual Startup Time": 25.442, + "Actual Total Time": 2448.531, + "Actual Rows": 3407, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mk.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.531, + "Actual Total Time": 42.538, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 87.496, + "Actual Total Time": 2116.817, + "Actual Rows": 1354, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.548, + "Actual Total Time": 3518.286, + "Actual Rows": 7208, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.722, + "Actual Total Time": 2878.541, + "Actual Rows": 4870, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.356, + "Actual Total Time": 43.363, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.978, + "Actual Total Time": 3623.165, + "Actual Rows": 3280, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.814, + "Actual Total Time": 4300.261, + "Actual Rows": 7071, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 23199.24, + "Plan Rows": 2684, + "Plan Width": 69, + "Actual Startup Time": 25.388, + "Actual Total Time": 2401.336, + "Actual Rows": 3407, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.530, + "Actual Total Time": 42.536, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 87.389, + "Actual Total Time": 2093.229, + "Actual Rows": 1354, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.483, + "Actual Total Time": 3426.644, + "Actual Rows": 7208, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.670, + "Actual Total Time": 2806.320, + "Actual Rows": 4870, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.355, + "Actual Total Time": 43.362, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.896, + "Actual Total Time": 3574.859, + "Actual Rows": 3280, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.727, + "Actual Total Time": 4209.475, + "Actual Rows": 7071, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.74, + "Total Cost": 23185.68, + "Plan Rows": 4302, + "Plan Width": 73, + "Actual Startup Time": 25.363, + "Actual Total Time": 2395.285, + "Actual Rows": 3765, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(ci.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.519, + "Actual Total Time": 42.523, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 87.365, + "Actual Total Time": 2090.553, + "Actual Rows": 1502, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.462, + "Actual Total Time": 3415.276, + "Actual Rows": 8039, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.650, + "Actual Total Time": 2797.498, + "Actual Rows": 5445, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.345, + "Actual Total Time": 43.349, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.866, + "Actual Total Time": 3568.359, + "Actual Rows": 3558, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.700, + "Actual Total Time": 4197.936, + "Actual Rows": 7692, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 19544.40, + "Plan Rows": 3495, + "Plan Width": 23, + "Actual Startup Time": 12.707, + "Actual Total Time": 2043.030, + "Actual Rows": 3058, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.518, + "Actual Total Time": 42.521, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.497, + "Actual Total Time": 1807.796, + "Actual Rows": 2016, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.353, + "Actual Total Time": 2793.682, + "Actual Rows": 4826, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.571, + "Actual Total Time": 2301.204, + "Actual Rows": 3454, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.344, + "Actual Total Time": 43.347, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.537, + "Actual Total Time": 3186.502, + "Actual Rows": 4558, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.943, + "Actual Total Time": 3645.756, + "Actual Rows": 6139, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 16413.53, + "Plan Rows": 6168, + "Plan Width": 12, + "Actual Startup Time": 12.079, + "Actual Total Time": 1901.735, + "Actual Rows": 5397, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.518, + "Actual Total Time": 42.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.789, + "Actual Total Time": 1676.761, + "Actual Rows": 3737, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.282, + "Actual Total Time": 2590.165, + "Actual Rows": 7869, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.506, + "Actual Total Time": 2143.735, + "Actual Rows": 5652, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.344, + "Actual Total Time": 43.346, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.772, + "Actual Total Time": 2981.264, + "Actual Rows": 7882, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.591, + "Actual Total Time": 3382.678, + "Actual Rows": 12032, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1569.75, + "Plan Rows": 10959, + "Plan Width": 4, + "Actual Startup Time": 11.486, + "Actual Total Time": 58.983, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.517, + "Actual Total Time": 42.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.251, + "Actual Total Time": 64.234, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.575, + "Actual Total Time": 62.827, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.508, + "Actual Total Time": 46.402, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.343, + "Actual Total Time": 43.345, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.291, + "Actual Total Time": 78.350, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.245, + "Actual Total Time": 82.398, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 11.351, + "Actual Total Time": 11.369, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.516, + "Actual Total Time": 42.517, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.681, + "Actual Total Time": 0.699, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.450, + "Actual Total Time": 0.500, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.417, + "Actual Total Time": 0.434, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.342, + "Actual Total Time": 43.343, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.197, + "Actual Total Time": 0.229, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.124, + "Actual Total Time": 1.130, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.77, + "Plan Rows": 10959, + "Plan Width": 8, + "Actual Startup Time": 0.158, + "Actual Total Time": 49.237, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.564, + "Actual Total Time": 60.522, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.089, + "Actual Total Time": 28.183, + "Actual Rows": 6314, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.086, + "Actual Total Time": 41.410, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.090, + "Actual Total Time": 69.340, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.115, + "Actual Total Time": 72.994, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.158, + "Actual Total Time": 0.191, + "Actual Rows": 1, + "Actual Loops": 76714, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 48, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.242, + "Actual Total Time": 0.297, + "Actual Rows": 1, + "Actual Loops": 5392 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.163, + "Actual Total Time": 0.199, + "Actual Rows": 1, + "Actual Loops": 12628 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.200, + "Actual Total Time": 0.250, + "Actual Rows": 1, + "Actual Loops": 8337 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.121, + "Actual Total Time": 0.140, + "Actual Rows": 0, + "Actual Loops": 20522 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.141, + "Actual Total Time": 0.168, + "Actual Rows": 1, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 43178, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 3737 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 7869 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 5652 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 7882 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 12032 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.113, + "Actual Rows": 1, + "Actual Loops": 24462, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 82, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.107, + "Actual Total Time": 0.138, + "Actual Rows": 1, + "Actual Loops": 2016 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.126, + "Actual Rows": 2, + "Actual Loops": 4826 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.141, + "Actual Rows": 2, + "Actual Loops": 3454 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.082, + "Actual Rows": 1, + "Actual Loops": 4558 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.088, + "Actual Rows": 1, + "Actual Loops": 6139 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 27255, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 1354 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 7208 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 4870 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 3280 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 7071 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 27255, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.042, + "Actual Rows": 3, + "Actual Loops": 1354 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 7208 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.020, + "Actual Rows": 3, + "Actual Loops": 4870 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 3280 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 7071 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 9105500078934324812, + "Planning Time": 119.100, + "Triggers": [ + ], + "Execution Time": 4519.462, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 9105500078934324812, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(chn.name) AS character_name,
       MIN(mi_idx.info) AS rating,
       MIN(n.name) AS playing_actor,
       MIN(t.title) AS complete_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND it2.info = 'rating'
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence',
                    'magnet',
                    'web',
                    'claw',
                    'laser')
  AND kt.kind = 'movie'
  AND mi_idx.info > '7.0'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND ci.movie_id = cc.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND cc.movie_id = mi_idx.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3404.24, + "Total Cost": 3404.25, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 333.700, + "Actual Total Time": 354.100, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3404.16, + "Total Cost": 3404.17, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 314.769, + "Actual Total Time": 354.059, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3403.16, + "Total Cost": 3403.17, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 304.606, + "Actual Total Time": 304.618, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 298.369, + "Actual Total Time": 298.379, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 304.534, + "Actual Total Time": 304.545, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 298.712, + "Actual Total Time": 298.723, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 320.470, + "Actual Total Time": 320.479, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 298.608, + "Actual Total Time": 298.618, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 299.098, + "Actual Total Time": 299.110, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 303.253, + "Actual Total Time": 303.265, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1460.41, + "Total Cost": 3400.69, + "Plan Rows": 247, + "Plan Width": 54, + "Actual Startup Time": 70.111, + "Actual Total Time": 303.980, + "Actual Rows": 216, + "Actual Loops": 8, + "Output": ["chn.name", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.661, + "Actual Total Time": 297.648, + "Actual Rows": 290, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 72.975, + "Actual Total Time": 303.771, + "Actual Rows": 293, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 64.180, + "Actual Total Time": 298.148, + "Actual Rows": 171, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 71.822, + "Actual Total Time": 319.732, + "Actual Rows": 269, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 64.826, + "Actual Total Time": 297.970, + "Actual Rows": 231, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.655, + "Actual Total Time": 298.569, + "Actual Rows": 170, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 69.723, + "Actual Total Time": 302.696, + "Actual Rows": 176, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1459.37, + "Total Cost": 3397.95, + "Plan Rows": 314, + "Plan Width": 58, + "Actual Startup Time": 69.974, + "Actual Total Time": 303.314, + "Actual Rows": 275, + "Actual Loops": 8, + "Output": ["cc.subject_id", "mi_idx.info", "t.title", "chn.name", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.523, + "Actual Total Time": 296.921, + "Actual Rows": 353, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 72.884, + "Actual Total Time": 303.059, + "Actual Rows": 323, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 64.039, + "Actual Total Time": 297.494, + "Actual Rows": 235, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 71.753, + "Actual Total Time": 319.002, + "Actual Rows": 368, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 64.690, + "Actual Total Time": 297.317, + "Actual Rows": 277, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.485, + "Actual Total Time": 297.994, + "Actual Rows": 186, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 69.635, + "Actual Total Time": 302.121, + "Actual Rows": 250, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1458.94, + "Total Cost": 3397.50, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 69.670, + "Actual Total Time": 277.318, + "Actual Rows": 275, + "Actual Loops": 8, + "Output": ["cc.subject_id", "mi_idx.info", "t.title", "ci.person_id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.145, + "Actual Total Time": 272.262, + "Actual Rows": 353, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 72.553, + "Actual Total Time": 276.356, + "Actual Rows": 323, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 63.947, + "Actual Total Time": 267.382, + "Actual Rows": 235, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 71.485, + "Actual Total Time": 283.470, + "Actual Rows": 368, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 64.587, + "Actual Total Time": 277.127, + "Actual Rows": 277, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 73.826, + "Actual Total Time": 279.751, + "Actual Rows": 186, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 69.269, + "Actual Total Time": 279.150, + "Actual Rows": 250, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1458.79, + "Total Cost": 3397.33, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 68.865, + "Actual Total Time": 276.065, + "Actual Rows": 299, + "Actual Loops": 8, + "Output": ["cc.subject_id", "mi_idx.info", "t.title", "t.kind_id", "ci.person_id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.074, + "Actual Total Time": 271.075, + "Actual Rows": 391, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 72.502, + "Actual Total Time": 275.205, + "Actual Rows": 351, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 63.885, + "Actual Total Time": 266.479, + "Actual Rows": 237, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 71.443, + "Actual Total Time": 282.108, + "Actual Rows": 379, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 64.529, + "Actual Total Time": 276.130, + "Actual Rows": 300, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 67.795, + "Actual Total Time": 277.195, + "Actual Rows": 224, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 69.179, + "Actual Total Time": 278.149, + "Actual Rows": 273, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1458.36, + "Total Cost": 3390.07, + "Plan Rows": 16, + "Plan Width": 39, + "Actual Startup Time": 66.784, + "Actual Total Time": 193.220, + "Actual Rows": 10537, + "Actual Loops": 8, + "Output": ["cc.subject_id", "mi_idx.info", "t.title", "t.kind_id", "ci.person_role_id", "ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 63.602, + "Actual Total Time": 185.469, + "Actual Rows": 11312, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 67.952, + "Actual Total Time": 188.813, + "Actual Rows": 11501, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 62.576, + "Actual Total Time": 186.174, + "Actual Rows": 10932, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.838, + "Actual Total Time": 193.510, + "Actual Rows": 10094, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.960, + "Actual Total Time": 195.854, + "Actual Rows": 10688, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 63.033, + "Actual Total Time": 198.546, + "Actual Rows": 10548, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 68.189, + "Actual Total Time": 195.558, + "Actual Rows": 10204, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1457.92, + "Total Cost": 3387.49, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 66.661, + "Actual Total Time": 125.875, + "Actual Rows": 77, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 63.477, + "Actual Total Time": 117.564, + "Actual Rows": 84, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 67.839, + "Actual Total Time": 119.406, + "Actual Rows": 75, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 62.502, + "Actual Total Time": 120.888, + "Actual Rows": 92, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.716, + "Actual Total Time": 125.220, + "Actual Rows": 60, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.853, + "Actual Total Time": 129.204, + "Actual Rows": 80, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 62.862, + "Actual Total Time": 133.115, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 67.982, + "Actual Total Time": 126.065, + "Actual Rows": 72, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1456.08, + "Total Cost": 3385.30, + "Plan Rows": 126, + "Plan Width": 51, + "Actual Startup Time": 65.985, + "Actual Total Time": 125.654, + "Actual Rows": 110, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 63.463, + "Actual Total Time": 117.346, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 67.828, + "Actual Total Time": 119.196, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 62.189, + "Actual Total Time": 120.644, + "Actual Rows": 147, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 66.083, + "Actual Total Time": 125.032, + "Actual Rows": 92, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.633, + "Actual Total Time": 128.979, + "Actual Rows": 122, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 62.846, + "Actual Total Time": 132.890, + "Actual Rows": 112, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 67.970, + "Actual Total Time": 125.867, + "Actual Rows": 93, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1455.04, + "Total Cost": 3382.77, + "Plan Rows": 276, + "Plan Width": 55, + "Actual Startup Time": 65.967, + "Actual Total Time": 125.352, + "Actual Rows": 110, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 63.445, + "Actual Total Time": 117.044, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 67.816, + "Actual Total Time": 118.919, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 62.174, + "Actual Total Time": 120.296, + "Actual Rows": 147, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 66.071, + "Actual Total Time": 124.768, + "Actual Rows": 92, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.616, + "Actual Total Time": 128.662, + "Actual Rows": 122, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 62.824, + "Actual Total Time": 132.564, + "Actual Rows": 112, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 67.952, + "Actual Total Time": 125.600, + "Actual Rows": 93, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1454.61, + "Total Cost": 3150.70, + "Plan Rows": 504, + "Plan Width": 30, + "Actual Startup Time": 65.277, + "Actual Total Time": 114.840, + "Actual Rows": 441, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.648, + "Actual Total Time": 105.746, + "Actual Rows": 439, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 67.715, + "Actual Total Time": 108.743, + "Actual Rows": 428, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 61.403, + "Actual Total Time": 110.391, + "Actual Rows": 485, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 65.975, + "Actual Total Time": 113.058, + "Actual Rows": 372, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.536, + "Actual Total Time": 116.670, + "Actual Rows": 450, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 62.678, + "Actual Total Time": 122.414, + "Actual Rows": 466, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 66.482, + "Actual Total Time": 115.669, + "Actual Rows": 452, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1454.18, + "Total Cost": 2478.99, + "Plan Rows": 1342, + "Plan Width": 16, + "Actual Startup Time": 64.950, + "Actual Total Time": 79.589, + "Actual Rows": 1174, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.316, + "Actual Total Time": 74.461, + "Actual Rows": 1119, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 67.289, + "Actual Total Time": 79.955, + "Actual Rows": 1120, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 61.162, + "Actual Total Time": 77.416, + "Actual Rows": 1340, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 65.875, + "Actual Total Time": 80.063, + "Actual Rows": 1006, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.406, + "Actual Total Time": 75.397, + "Actual Rows": 1105, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 61.786, + "Actual Total Time": 79.036, + "Actual Rows": 1300, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 66.070, + "Actual Total Time": 80.214, + "Actual Rows": 1194, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.069, + "Actual Total Time": 4.408, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.062, + "Actual Total Time": 4.268, + "Actual Rows": 16465, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.084, + "Actual Total Time": 3.811, + "Actual Rows": 14430, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.053, + "Actual Total Time": 4.708, + "Actual Rows": 19610, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.061, + "Actual Total Time": 4.207, + "Actual Rows": 17020, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.074, + "Actual Total Time": 4.283, + "Actual Rows": 15576, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.097, + "Actual Total Time": 5.260, + "Actual Rows": 19425, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.090, + "Actual Total Time": 4.392, + "Actual Rows": 15725, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1411.15, + "Total Cost": 1411.15, + "Plan Rows": 3442, + "Plan Width": 4, + "Actual Startup Time": 64.719, + "Actual Total Time": 64.721, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 32768, + "Original Hash Buckets": 32768, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 1344, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.119, + "Actual Total Time": 60.120, + "Actual Rows": 374, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 67.107, + "Actual Total Time": 67.108, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 61.028, + "Actual Total Time": 61.030, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 65.695, + "Actual Total Time": 65.696, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.214, + "Actual Total Time": 61.216, + "Actual Rows": 150, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 61.606, + "Actual Total Time": 61.608, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 65.835, + "Actual Total Time": 65.836, + "Actual Rows": 409, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.46, + "Total Cost": 1411.15, + "Plan Rows": 3442, + "Plan Width": 4, + "Actual Startup Time": 3.369, + "Actual Total Time": 32.504, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.027, + "Actual Total Time": 20.990, + "Actual Rows": 374, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.688, + "Actual Total Time": 27.203, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.210, + "Actual Total Time": 54.904, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.355, + "Actual Total Time": 47.939, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.234, + "Actual Total Time": 22.225, + "Actual Rows": 150, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.509, + "Actual Total Time": 25.326, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.688, + "Actual Total Time": 26.712, + "Actual Rows": 409, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.03, + "Total Cost": 1236.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 1.035, + "Actual Total Time": 8.798, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,tv-special,fight,violence,magnet,web,claw,laser}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.829, + "Actual Total Time": 16.741, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.878, + "Actual Total Time": 8.534, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.975, + "Actual Total Time": 1.006, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.253, + "Actual Total Time": 0.300, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.906, + "Actual Total Time": 15.932, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.230, + "Actual Total Time": 2.244, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.049, + "Actual Total Time": 11.046, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 150.53, + "Plan Rows": 2409, + "Plan Width": 8, + "Actual Startup Time": 1.964, + "Actual Total Time": 18.267, + "Actual Rows": 2409, + "Actual Loops": 10, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.324, + "Actual Total Time": 2.042, + "Actual Rows": 187, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.803, + "Actual Total Time": 18.137, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.227, + "Actual Total Time": 51.564, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.098, + "Actual Total Time": 46.018, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.320, + "Actual Total Time": 6.221, + "Actual Rows": 150, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.273, + "Actual Total Time": 21.618, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.099, + "Actual Total Time": 7.762, + "Actual Rows": 204, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 9392, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '7.0'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1119 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1120 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1340 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1006 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1105 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1300 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1194 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 3529, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 439 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 428 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 485 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 372 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 450 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 466 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 452 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.29, + "Plan Rows": 129, + "Plan Width": 12, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.807, + "Actual Rows": 138, + "Actual Loops": 613, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.744, + "Actual Rows": 135, + "Actual Loops": 84 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.847, + "Actual Rows": 153, + "Actual Loops": 75 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.651, + "Actual Rows": 119, + "Actual Loops": 92 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 1.056, + "Actual Rows": 168, + "Actual Loops": 60 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.768, + "Actual Rows": 134, + "Actual Loops": 80 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.812, + "Actual Rows": 143, + "Actual Loops": 74 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.867, + "Actual Rows": 142, + "Actual Loops": 72 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 84298, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 11312 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 11501 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 10932 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 10094 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 10688 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 10548 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 10204 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 2391, + "Output": ["kt.id"], + "Cache Key": "t.kind_id", + "Cache Mode": "logical", + "Cache Hits": 232, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 391, + "Cache Hits": 386, + "Cache Misses": 5, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 351, + "Cache Hits": 347, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 237, + "Cache Hits": 235, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 379, + "Cache Hits": 377, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 300, + "Cache Hits": 296, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 224, + "Cache Hits": 221, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 273, + "Cache Hits": 269, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 28, + "Output": ["kt.id"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.092, + "Actual Rows": 1, + "Actual Loops": 2199, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.068, + "Actual Rows": 1, + "Actual Loops": 353 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.080, + "Actual Rows": 1, + "Actual Loops": 323 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.125, + "Actual Total Time": 0.125, + "Actual Rows": 1, + "Actual Loops": 235 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.094, + "Actual Rows": 1, + "Actual Loops": 368 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 277 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.095, + "Actual Rows": 1, + "Actual Loops": 186 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.089, + "Actual Rows": 1, + "Actual Loops": 250 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1025902338300761143, + "Planning Time": 2480.451, + "Triggers": [ + ], + "Execution Time": 360.542, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 1025902338300761143, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(chn.name) AS character_name,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND it2.info = 'rating'
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'fight')
  AND kt.kind = 'movie'
  AND mi_idx.info > '8.0'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND ci.movie_id = cc.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND cc.movie_id = mi_idx.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2171.80, + "Total Cost": 2171.81, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 193.350, + "Actual Total Time": 216.283, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2171.73, + "Total Cost": 2171.74, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 98.979, + "Actual Total Time": 216.252, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2170.73, + "Total Cost": 2170.74, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 64.044, + "Actual Total Time": 64.056, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.071, + "Actual Total Time": 27.084, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.530, + "Actual Total Time": 27.543, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.424, + "Actual Total Time": 32.434, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.837, + "Actual Total Time": 27.848, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 88.314, + "Actual Total Time": 88.324, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.538, + "Actual Total Time": 28.551, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 182.523, + "Actual Total Time": 182.530, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.27, + "Total Cost": 2170.64, + "Plan Rows": 13, + "Plan Width": 39, + "Actual Startup Time": 44.233, + "Actual Total Time": 64.023, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["chn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.064, + "Actual Total Time": 27.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.523, + "Actual Total Time": 27.535, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.419, + "Actual Total Time": 32.427, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.830, + "Actual Total Time": 27.841, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.825, + "Actual Total Time": 88.254, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.530, + "Actual Total Time": 28.542, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 81.363, + "Actual Total Time": 182.444, + "Actual Rows": 47, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.13, + "Total Cost": 2169.91, + "Plan Rows": 13, + "Plan Width": 43, + "Actual Startup Time": 44.224, + "Actual Total Time": 63.988, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["mi_idx.info", "cc.status_id", "t.title", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.063, + "Actual Total Time": 27.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.522, + "Actual Total Time": 27.533, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.418, + "Actual Total Time": 32.426, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.829, + "Actual Total Time": 27.839, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.801, + "Actual Total Time": 88.174, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.529, + "Actual Total Time": 28.540, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 81.344, + "Actual Total Time": 182.329, + "Actual Rows": 47, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.70, + "Total Cost": 2165.37, + "Plan Rows": 10, + "Plan Width": 31, + "Actual Startup Time": 44.127, + "Actual Total Time": 61.976, + "Actual Rows": 288, + "Actual Loops": 8, + "Output": ["mi_idx.info", "cc.status_id", "t.title", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.062, + "Actual Total Time": 27.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.521, + "Actual Total Time": 27.531, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.418, + "Actual Total Time": 32.425, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.828, + "Actual Total Time": 27.837, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.532, + "Actual Total Time": 83.533, + "Actual Rows": 483, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.528, + "Actual Total Time": 28.538, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 81.045, + "Actual Total Time": 174.809, + "Actual Rows": 1334, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.27, + "Total Cost": 2160.89, + "Plan Rows": 10, + "Plan Width": 35, + "Actual Startup Time": 44.105, + "Actual Total Time": 54.516, + "Actual Rows": 288, + "Actual Loops": 8, + "Output": ["mi_idx.info", "cc.status_id", "t.title", "ci.person_role_id", "ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.061, + "Actual Total Time": 27.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.520, + "Actual Total Time": 27.529, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.417, + "Actual Total Time": 32.424, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.827, + "Actual Total Time": 27.836, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.448, + "Actual Total Time": 63.712, + "Actual Rows": 483, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.527, + "Actual Total Time": 28.537, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 80.987, + "Actual Total Time": 141.722, + "Actual Rows": 1334, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.83, + "Total Cost": 2157.78, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 44.080, + "Actual Total Time": 52.759, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "cc.status_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.060, + "Actual Total Time": 27.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.520, + "Actual Total Time": 27.528, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.417, + "Actual Total Time": 32.423, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.827, + "Actual Total Time": 27.834, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.383, + "Actual Total Time": 59.786, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.527, + "Actual Total Time": 28.535, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 80.911, + "Actual Total Time": 134.706, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.69, + "Total Cost": 2157.01, + "Plan Rows": 5, + "Plan Width": 47, + "Actual Startup Time": 34.713, + "Actual Total Time": 52.722, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "cc.status_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.059, + "Actual Total Time": 27.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.518, + "Actual Total Time": 27.526, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.417, + "Actual Total Time": 32.422, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.826, + "Actual Total Time": 27.833, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.337, + "Actual Total Time": 59.739, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.526, + "Actual Total Time": 28.533, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.049, + "Actual Total Time": 134.496, + "Actual Rows": 27, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 2151.48, + "Plan Rows": 12, + "Plan Width": 22, + "Actual Startup Time": 20.020, + "Actual Total Time": 52.497, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.059, + "Actual Total Time": 27.065, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.517, + "Actual Total Time": 27.524, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.416, + "Actual Total Time": 32.421, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.825, + "Actual Total Time": 27.831, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.251, + "Actual Total Time": 59.566, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.525, + "Actual Total Time": 28.531, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.703, + "Actual Total Time": 133.083, + "Actual Rows": 74, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.12, + "Total Cost": 2150.53, + "Plan Rows": 21, + "Plan Width": 26, + "Actual Startup Time": 20.002, + "Actual Total Time": 52.430, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.058, + "Actual Total Time": 27.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.516, + "Actual Total Time": 27.522, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.416, + "Actual Total Time": 32.420, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.824, + "Actual Total Time": 27.829, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.195, + "Actual Total Time": 59.476, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.524, + "Actual Total Time": 28.529, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.659, + "Actual Total Time": 132.738, + "Actual Rows": 132, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 2130.38, + "Plan Rows": 45, + "Plan Width": 14, + "Actual Startup Time": 16.279, + "Actual Total Time": 51.682, + "Actual Rows": 39, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.057, + "Actual Total Time": 27.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.516, + "Actual Total Time": 27.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.658, + "Actual Total Time": 32.310, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.823, + "Actual Total Time": 27.827, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.720, + "Actual Total Time": 58.902, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.523, + "Actual Total Time": 28.528, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.721, + "Actual Total Time": 128.151, + "Actual Rows": 252, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2128.18, + "Plan Rows": 132, + "Plan Width": 18, + "Actual Startup Time": 15.502, + "Actual Total Time": 51.435, + "Actual Rows": 116, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.927, + "Actual Total Time": 26.929, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.386, + "Actual Total Time": 27.388, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.649, + "Actual Total Time": 32.204, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.692, + "Actual Total Time": 27.694, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.639, + "Actual Total Time": 58.674, + "Actual Rows": 129, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.383, + "Actual Total Time": 28.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.641, + "Actual Total Time": 127.520, + "Actual Rows": 631, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1414.42, + "Plan Rows": 1426, + "Plan Width": 4, + "Actual Startup Time": 14.373, + "Actual Total Time": 22.918, + "Actual Rows": 1248, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.926, + "Actual Total Time": 26.928, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.385, + "Actual Total Time": 27.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.174, + "Actual Total Time": 23.544, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.690, + "Actual Total Time": 27.692, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.840, + "Actual Total Time": 9.046, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.382, + "Actual Total Time": 28.384, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.362, + "Actual Total Time": 26.310, + "Actual Rows": 6011, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 14.332, + "Actual Total Time": 16.751, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,fight}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.925, + "Actual Total Time": 26.926, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.384, + "Actual Total Time": 27.384, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.105, + "Actual Total Time": 22.339, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.690, + "Actual Total Time": 27.690, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.753, + "Actual Total Time": 0.783, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.381, + "Actual Total Time": 28.382, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.269, + "Actual Total Time": 0.314, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.95, + "Plan Rows": 2496, + "Plan Width": 8, + "Actual Startup Time": 0.076, + "Actual Total Time": 11.544, + "Actual Rows": 2496, + "Actual Loops": 4, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.064, + "Actual Total Time": 1.123, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.083, + "Actual Total Time": 7.676, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.089, + "Actual Total Time": 24.390, + "Actual Rows": 6011, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 9984, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '8.0'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 6011 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 313, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 29 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 252 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 144, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 5, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 5, + "Cache Hits": 3, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 132, + "Cache Hits": 130, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 84, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 74 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 29, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 27 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.38, + "Plan Rows": 173, + "Plan Width": 12, + "Actual Startup Time": 0.050, + "Actual Total Time": 2.191, + "Actual Rows": 383, + "Actual Loops": 6, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 3.692, + "Actual Rows": 483, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 1.637, + "Actual Rows": 334, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 2300, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 483 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1334 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 2300, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 483 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1334 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 93, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 22, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 23, + "Cache Hits": 22, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 47, + "Cache Hits": 45, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 4, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3475685009172437784, + "Planning Time": 2529.021, + "Triggers": [ + ], + "Execution Time": 223.653, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -3475685009172437784, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(chn.name) AS character_name,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND it2.info = 'rating'
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence',
                    'magnet',
                    'web',
                    'claw',
                    'laser')
  AND kt.kind = 'movie'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND ci.movie_id = cc.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND cc.movie_id = mi_idx.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3558.80, + "Total Cost": 3558.81, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 895.728, + "Actual Total Time": 929.625, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3558.74, + "Total Cost": 3558.75, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 872.594, + "Actual Total Time": 929.584, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3557.74, + "Total Cost": 3557.75, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 864.277, + "Actual Total Time": 864.291, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 855.920, + "Actual Total Time": 855.931, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 861.926, + "Actual Total Time": 861.939, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 862.228, + "Actual Total Time": 862.240, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 861.268, + "Actual Total Time": 861.279, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 856.993, + "Actual Total Time": 857.004, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 887.277, + "Actual Total Time": 887.293, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 856.935, + "Actual Total Time": 856.945, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1461.33, + "Total Cost": 3551.96, + "Plan Rows": 771, + "Plan Width": 39, + "Actual Startup Time": 54.333, + "Actual Total Time": 862.754, + "Actual Rows": 675, + "Actual Loops": 8, + "Output": ["chn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.902, + "Actual Total Time": 854.384, + "Actual Rows": 670, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 48.335, + "Actual Total Time": 860.436, + "Actual Rows": 613, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 57.642, + "Actual Total Time": 860.703, + "Actual Rows": 698, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 50.630, + "Actual Total Time": 859.938, + "Actual Rows": 607, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.988, + "Actual Total Time": 855.137, + "Actual Rows": 828, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 49.597, + "Actual Total Time": 885.921, + "Actual Rows": 611, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 45.524, + "Actual Total Time": 855.395, + "Actual Rows": 660, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1460.29, + "Total Cost": 3546.74, + "Plan Rows": 771, + "Plan Width": 43, + "Actual Startup Time": 53.846, + "Actual Total Time": 861.384, + "Actual Rows": 675, + "Actual Loops": 8, + "Output": ["chn.name", "cc.status_id", "t.title", "mi_idx.info"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.243, + "Actual Total Time": 852.847, + "Actual Rows": 670, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.908, + "Actual Total Time": 859.207, + "Actual Rows": 613, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 57.395, + "Actual Total Time": 859.571, + "Actual Rows": 698, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 49.976, + "Actual Total Time": 858.520, + "Actual Rows": 607, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.370, + "Actual Total Time": 853.557, + "Actual Rows": 828, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 49.326, + "Actual Total Time": 884.647, + "Actual Rows": 611, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 44.794, + "Actual Total Time": 853.793, + "Actual Rows": 660, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1459.22, + "Total Cost": 3544.65, + "Plan Rows": 242, + "Plan Width": 47, + "Actual Startup Time": 53.826, + "Actual Total Time": 860.512, + "Actual Rows": 711, + "Actual Loops": 8, + "Output": ["chn.name", "cc.status_id", "t.title", "t.kind_id", "mi_idx.info"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.226, + "Actual Total Time": 851.981, + "Actual Rows": 700, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.896, + "Actual Total Time": 858.392, + "Actual Rows": 677, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 57.387, + "Actual Total Time": 858.667, + "Actual Rows": 732, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 49.956, + "Actual Total Time": 857.736, + "Actual Rows": 625, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.349, + "Actual Total Time": 852.568, + "Actual Rows": 884, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 49.316, + "Actual Total Time": 883.856, + "Actual Rows": 647, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 44.774, + "Actual Total Time": 852.896, + "Actual Rows": 688, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1458.18, + "Total Cost": 3538.38, + "Plan Rows": 968, + "Plan Width": 51, + "Actual Startup Time": 53.808, + "Actual Total Time": 858.761, + "Actual Rows": 847, + "Actual Loops": 8, + "Output": ["chn.name", "cc.subject_id", "cc.status_id", "t.title", "t.kind_id", "mi_idx.info"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.209, + "Actual Total Time": 850.524, + "Actual Rows": 777, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.883, + "Actual Total Time": 856.875, + "Actual Rows": 861, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 57.379, + "Actual Total Time": 857.129, + "Actual Rows": 924, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 49.935, + "Actual Total Time": 856.372, + "Actual Rows": 729, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.328, + "Actual Total Time": 850.850, + "Actual Rows": 989, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 49.305, + "Actual Total Time": 880.412, + "Actual Rows": 841, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 44.751, + "Actual Total Time": 851.415, + "Actual Rows": 813, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1457.75, + "Total Cost": 3515.23, + "Plan Rows": 51, + "Plan Width": 39, + "Actual Startup Time": 46.688, + "Actual Total Time": 649.468, + "Actual Rows": 30509, + "Actual Loops": 8, + "Output": ["cc.subject_id", "cc.status_id", "t.title", "t.kind_id", "mi_idx.info", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 41.292, + "Actual Total Time": 640.217, + "Actual Rows": 31166, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.454, + "Actual Total Time": 650.510, + "Actual Rows": 31846, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.753, + "Actual Total Time": 643.736, + "Actual Rows": 31515, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 43.319, + "Actual Total Time": 638.102, + "Actual Rows": 30157, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.294, + "Actual Total Time": 629.341, + "Actual Rows": 29109, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 49.239, + "Actual Total Time": 682.491, + "Actual Rows": 29349, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 44.040, + "Actual Total Time": 644.812, + "Actual Rows": 30840, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1457.32, + "Total Cost": 3492.39, + "Plan Rows": 51, + "Plan Width": 43, + "Actual Startup Time": 46.506, + "Actual Total Time": 252.069, + "Actual Rows": 30509, + "Actual Loops": 8, + "Output": ["cc.subject_id", "cc.status_id", "t.title", "t.kind_id", "mi_idx.info", "ci.person_role_id", "ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 41.197, + "Actual Total Time": 243.662, + "Actual Rows": 31166, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.403, + "Actual Total Time": 247.645, + "Actual Rows": 31846, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.687, + "Actual Total Time": 247.503, + "Actual Rows": 31515, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 43.200, + "Actual Total Time": 252.385, + "Actual Rows": 30157, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.162, + "Actual Total Time": 241.722, + "Actual Rows": 29109, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 49.180, + "Actual Total Time": 279.216, + "Actual Rows": 29349, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 43.156, + "Actual Total Time": 246.669, + "Actual Rows": 30840, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1456.88, + "Total Cost": 3481.46, + "Plan Rows": 4, + "Plan Width": 51, + "Actual Startup Time": 46.383, + "Actual Total Time": 89.437, + "Actual Rows": 233, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "t.title", "t.kind_id", "t.id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 40.995, + "Actual Total Time": 81.175, + "Actual Rows": 224, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.308, + "Actual Total Time": 91.759, + "Actual Rows": 237, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.598, + "Actual Total Time": 91.144, + "Actual Rows": 244, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 43.098, + "Actual Total Time": 86.036, + "Actual Rows": 250, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.011, + "Actual Total Time": 80.418, + "Actual Rows": 205, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 49.089, + "Actual Total Time": 100.890, + "Actual Rows": 234, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.971, + "Actual Total Time": 82.282, + "Actual Rows": 234, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1455.04, + "Total Cost": 3478.52, + "Plan Rows": 401, + "Plan Width": 55, + "Actual Startup Time": 46.346, + "Actual Total Time": 88.567, + "Actual Rows": 707, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "t.title", "t.kind_id", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 40.951, + "Actual Total Time": 80.323, + "Actual Rows": 677, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.285, + "Actual Total Time": 90.879, + "Actual Rows": 716, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.573, + "Actual Total Time": 90.247, + "Actual Rows": 740, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 43.059, + "Actual Total Time": 85.121, + "Actual Rows": 754, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 42.967, + "Actual Total Time": 79.635, + "Actual Rows": 626, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 49.067, + "Actual Total Time": 99.996, + "Actual Rows": 716, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.924, + "Actual Total Time": 81.418, + "Actual Rows": 709, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1454.61, + "Total Cost": 3096.91, + "Plan Rows": 734, + "Plan Width": 41, + "Actual Startup Time": 46.266, + "Actual Total Time": 82.411, + "Actual Rows": 256, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 40.848, + "Actual Total Time": 74.962, + "Actual Rows": 240, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.235, + "Actual Total Time": 85.216, + "Actual Rows": 271, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.517, + "Actual Total Time": 84.513, + "Actual Rows": 269, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.957, + "Actual Total Time": 77.463, + "Actual Rows": 274, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 42.856, + "Actual Total Time": 74.223, + "Actual Rows": 221, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 49.009, + "Actual Total Time": 92.956, + "Actual Rows": 274, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.800, + "Actual Total Time": 74.562, + "Actual Rows": 253, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1454.18, + "Total Cost": 2478.99, + "Plan Rows": 1342, + "Plan Width": 16, + "Actual Startup Time": 45.897, + "Actual Total Time": 61.825, + "Actual Rows": 1174, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 40.696, + "Actual Total Time": 54.695, + "Actual Rows": 1170, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.374, + "Actual Total Time": 64.052, + "Actual Rows": 1256, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.433, + "Actual Total Time": 63.352, + "Actual Rows": 1214, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.237, + "Actual Total Time": 58.204, + "Actual Rows": 1110, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 42.176, + "Actual Total Time": 55.824, + "Actual Rows": 1072, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 48.850, + "Actual Total Time": 67.656, + "Actual Rows": 1263, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.692, + "Actual Total Time": 55.864, + "Actual Rows": 1096, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.031, + "Actual Total Time": 4.671, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.053, + "Actual Total Time": 3.819, + "Actual Rows": 15355, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 4.948, + "Actual Rows": 19980, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 4.049, + "Actual Rows": 16465, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 4.422, + "Actual Rows": 17241, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 3.572, + "Actual Rows": 14430, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 6.561, + "Actual Rows": 19055, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 3.710, + "Actual Rows": 14245, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1411.15, + "Total Cost": 1411.15, + "Plan Rows": 3442, + "Plan Width": 4, + "Actual Startup Time": 45.675, + "Actual Total Time": 45.677, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 32768, + "Original Hash Buckets": 32768, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 1280, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 40.499, + "Actual Total Time": 40.501, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.253, + "Actual Total Time": 46.255, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.343, + "Actual Total Time": 48.345, + "Actual Rows": 9635, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.010, + "Actual Total Time": 42.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 41.980, + "Actual Total Time": 41.982, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 48.683, + "Actual Total Time": 48.686, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.382, + "Actual Total Time": 42.384, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.46, + "Total Cost": 1411.15, + "Plan Rows": 3442, + "Plan Width": 4, + "Actual Startup Time": 6.714, + "Actual Total Time": 29.321, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.360, + "Actual Total Time": 23.190, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.586, + "Actual Total Time": 30.616, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.304, + "Actual Total Time": 42.495, + "Actual Rows": 9635, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.952, + "Actual Total Time": 24.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.211, + "Actual Total Time": 24.503, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.678, + "Actual Total Time": 30.460, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.392, + "Actual Total Time": 25.393, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.03, + "Total Cost": 1236.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.629, + "Actual Total Time": 15.791, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,tv-special,fight,violence,magnet,web,claw,laser}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.233, + "Actual Total Time": 21.363, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.444, + "Actual Total Time": 0.490, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.224, + "Actual Total Time": 1.762, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.950, + "Actual Total Time": 24.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.061, + "Actual Total Time": 22.080, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.574, + "Actual Total Time": 21.782, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.391, + "Actual Total Time": 25.391, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 150.53, + "Plan Rows": 2409, + "Plan Width": 8, + "Actual Startup Time": 0.088, + "Actual Total Time": 10.051, + "Actual Rows": 2409, + "Actual Loops": 10, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.120, + "Actual Total Time": 1.725, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.137, + "Actual Total Time": 28.231, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.069, + "Actual Total Time": 12.665, + "Actual Rows": 3212, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.141, + "Actual Total Time": 2.228, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.101, + "Actual Total Time": 8.124, + "Actual Rows": 1573, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 9392, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1170 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1256 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1214 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1110 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1072 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1263 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1096 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 2052, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 240 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 271 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 269 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 274 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 221 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.022, + "Actual Rows": 3, + "Actual Loops": 274 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.023, + "Actual Rows": 3, + "Actual Loops": 253 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.29, + "Plan Rows": 144, + "Plan Width": 12, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.623, + "Actual Rows": 131, + "Actual Loops": 1862, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.656, + "Actual Rows": 139, + "Actual Loops": 224 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.590, + "Actual Rows": 134, + "Actual Loops": 237 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.575, + "Actual Rows": 129, + "Actual Loops": 244 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.597, + "Actual Rows": 121, + "Actual Loops": 250 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.713, + "Actual Rows": 142, + "Actual Loops": 205 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.643, + "Actual Rows": 125, + "Actual Loops": 234 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.627, + "Actual Rows": 132, + "Actual Loops": 234 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 244072, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 31166 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 31846 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 31515 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 30157 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 29109 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 29349 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 30840 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 244072, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 31166 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 31846 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 31515 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 30157 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 29109 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 29349 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 30840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.075, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.025, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6841805925482126349, + "Planning Time": 2490.179, + "Triggers": [ + ], + "Execution Time": 936.249, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 6841805925482126349, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS complete_western_sequel
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind = 'complete'
  AND cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Germany',
                  'Swedish',
                  'German')
  AND t.production_year BETWEEN 1950 AND 2000
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND t.id = cc.movie_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id
  AND ml.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = cc.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 998.76, + "Total Cost": 998.77, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 141.859, + "Actual Total Time": 144.442, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 998.70, + "Total Cost": 998.71, + "Plan Rows": 6, + "Plan Width": 96, + "Actual Startup Time": 109.970, + "Actual Total Time": 144.420, + "Actual Rows": 7, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 6, + "Workers Launched": 6, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 997.70, + "Total Cost": 997.71, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 92.883, + "Actual Total Time": 92.893, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 110.374, + "Actual Total Time": 110.382, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 131.207, + "Actual Total Time": 131.219, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 81.971, + "Actual Total Time": 81.979, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 61.888, + "Actual Total Time": 61.897, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 71.105, + "Actual Total Time": 71.116, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.582, + "Actual Total Time": 84.593, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.75, + "Total Cost": 997.10, + "Plan Rows": 80, + "Plan Width": 48, + "Actual Startup Time": 78.834, + "Actual Total Time": 92.806, + "Actual Rows": 68, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 110.369, + "Actual Total Time": 110.376, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.898, + "Actual Total Time": 130.643, + "Actual Rows": 477, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 81.966, + "Actual Total Time": 81.973, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 61.883, + "Actual Total Time": 61.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 71.098, + "Actual Total Time": 71.108, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.577, + "Actual Total Time": 84.587, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.71, + "Total Cost": 995.85, + "Plan Rows": 39, + "Plan Width": 52, + "Actual Startup Time": 78.682, + "Actual Total Time": 92.578, + "Actual Rows": 93, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "cc.status_id", "t.title"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 110.189, + "Actual Total Time": 110.195, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.808, + "Actual Total Time": 130.034, + "Actual Rows": 648, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 81.797, + "Actual Total Time": 81.803, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 61.799, + "Actual Total Time": 61.806, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 70.950, + "Actual Total Time": 70.958, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.494, + "Actual Total Time": 84.502, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.28, + "Total Cost": 944.50, + "Plan Rows": 108, + "Plan Width": 55, + "Actual Startup Time": 78.625, + "Actual Total Time": 91.699, + "Actual Rows": 93, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "cc.movie_id", "cc.status_id", "mi.movie_id", "ml.movie_id", "mk.movie_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 110.188, + "Actual Total Time": 110.193, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.412, + "Actual Total Time": 123.894, + "Actual Rows": 648, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 81.796, + "Actual Total Time": 81.801, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 61.799, + "Actual Total Time": 61.805, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 70.949, + "Actual Total Time": 70.957, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.493, + "Actual Total Time": 84.501, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 944.33, + "Plan Rows": 1, + "Plan Width": 59, + "Actual Startup Time": 78.610, + "Actual Total Time": 91.244, + "Actual Rows": 101, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "cc.movie_id", "cc.status_id", "mi.movie_id", "ml.movie_id", "mk.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 110.187, + "Actual Total Time": 110.192, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.312, + "Actual Total Time": 120.714, + "Actual Rows": 705, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 81.796, + "Actual Total Time": 81.800, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 61.798, + "Actual Total Time": 61.804, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 70.949, + "Actual Total Time": 70.955, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.493, + "Actual Total Time": 84.500, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.73, + "Total Cost": 943.88, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 78.580, + "Actual Total Time": 89.159, + "Actual Rows": 231, + "Actual Loops": 7, + "Output": ["lt.link", "cc.movie_id", "cc.status_id", "mi.movie_id", "ml.movie_id", "mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 110.186, + "Actual Total Time": 110.191, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.109, + "Actual Total Time": 106.124, + "Actual Rows": 1619, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 81.795, + "Actual Total Time": 81.799, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 61.797, + "Actual Total Time": 61.803, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 70.948, + "Actual Total Time": 70.954, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.492, + "Actual Total Time": 84.499, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.30, + "Total Cost": 943.27, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 78.556, + "Actual Total Time": 88.537, + "Actual Rows": 30, + "Actual Loops": 7, + "Output": ["lt.link", "cc.movie_id", "cc.status_id", "mi.movie_id", "ml.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 110.185, + "Actual Total Time": 110.190, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.944, + "Actual Total Time": 101.780, + "Actual Rows": 211, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 81.794, + "Actual Total Time": 81.798, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 61.797, + "Actual Total Time": 61.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 70.947, + "Actual Total Time": 70.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.492, + "Actual Total Time": 84.498, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.88, + "Total Cost": 926.08, + "Plan Rows": 39, + "Plan Width": 36, + "Actual Startup Time": 69.542, + "Actual Total Time": 85.682, + "Actual Rows": 338, + "Actual Loops": 7, + "Output": ["lt.link", "cc.movie_id", "cc.status_id", "mi.movie_id", "ml.movie_id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 110.185, + "Actual Total Time": 110.189, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.713, + "Actual Total Time": 81.914, + "Actual Rows": 2360, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 81.793, + "Actual Total Time": 81.796, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 61.796, + "Actual Total Time": 61.801, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 70.946, + "Actual Total Time": 70.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.628, + "Actual Total Time": 84.382, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.44, + "Total Cost": 924.84, + "Plan Rows": 1, + "Plan Width": 28, + "Actual Startup Time": 69.396, + "Actual Total Time": 84.861, + "Actual Rows": 39, + "Actual Loops": 7, + "Output": ["lt.link", "cc.movie_id", "cc.status_id", "mi.movie_id", "ml.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 110.184, + "Actual Total Time": 110.188, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.182, + "Actual Total Time": 76.680, + "Actual Rows": 268, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 81.793, + "Actual Total Time": 81.795, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 61.795, + "Actual Total Time": 61.800, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 70.946, + "Actual Total Time": 70.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.141, + "Actual Total Time": 83.879, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.31, + "Total Cost": 922.95, + "Plan Rows": 12, + "Plan Width": 20, + "Actual Startup Time": 43.199, + "Actual Total Time": 84.542, + "Actual Rows": 50, + "Actual Loops": 7, + "Output": ["cc.movie_id", "cc.status_id", "mi.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Merge Cond": "(mi.movie_id = ml.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 110.183, + "Actual Total Time": 110.186, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.081, + "Actual Total Time": 75.103, + "Actual Rows": 294, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 39.312, + "Actual Total Time": 81.714, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.930, + "Actual Total Time": 61.649, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.824, + "Actual Total Time": 70.722, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.266, + "Actual Total Time": 83.730, + "Actual Rows": 24, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.00, + "Total Cost": 5399.76, + "Plan Rows": 215, + "Plan Width": 12, + "Actual Startup Time": 18.558, + "Actual Total Time": 51.686, + "Actual Rows": 146, + "Actual Loops": 7, + "Output": ["cc.movie_id", "cc.status_id", "mi.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 88.621, + "Actual Total Time": 88.624, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.049, + "Actual Total Time": 33.040, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.600, + "Actual Total Time": 39.795, + "Actual Rows": 545, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.858, + "Actual Total Time": 34.872, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.796, + "Actual Total Time": 29.766, + "Actual Rows": 299, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.348, + "Actual Total Time": 56.540, + "Actual Rows": 16, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.56, + "Total Cost": 2213.95, + "Plan Rows": 1078, + "Plan Width": 8, + "Actual Startup Time": 0.207, + "Actual Total Time": 5.895, + "Actual Rows": 1373, + "Actual Loops": 7, + "Output": ["cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.220, + "Actual Total Time": 9.926, + "Actual Rows": 2026, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.104, + "Actual Total Time": 4.317, + "Actual Rows": 675, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.230, + "Actual Total Time": 5.161, + "Actual Rows": 1210, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.097, + "Actual Total Time": 3.443, + "Actual Rows": 1050, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.588, + "Actual Total Time": 4.058, + "Actual Rows": 549, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.113, + "Actual Total Time": 6.382, + "Actual Rows": 1925, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 2187.57, + "Plan Rows": 1092, + "Plan Width": 12, + "Actual Startup Time": 0.144, + "Actual Total Time": 2.864, + "Actual Rows": 1373, + "Actual Loops": 7, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.127, + "Actual Total Time": 4.757, + "Actual Rows": 2026, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.069, + "Actual Total Time": 2.287, + "Actual Rows": 675, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.147, + "Actual Total Time": 2.475, + "Actual Rows": 1210, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 1.592, + "Actual Rows": 1050, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.487, + "Actual Total Time": 2.165, + "Actual Rows": 549, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.066, + "Actual Total Time": 2.797, + "Actual Rows": 1925, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 9613, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 2176, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2026, + "Cache Hits": 2024, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 675, + "Cache Hits": 673, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1210, + "Cache Hits": 1208, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1050, + "Cache Hits": 1048, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 549, + "Cache Hits": 547, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1925, + "Cache Hits": 1923, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 14, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 2.95, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 9613, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Germany,Swedish,German}'::text[]))", + "Rows Removed by Filter": 10, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 2026 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 675 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1210 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1050 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 549 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1925 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 670.78, + "Plan Rows": 30102, + "Plan Width": 8, + "Actual Startup Time": 0.111, + "Actual Total Time": 24.257, + "Actual Rows": 30029, + "Actual Loops": 7, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.080, + "Actual Total Time": 15.913, + "Actual Rows": 29997, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.172, + "Actual Total Time": 30.943, + "Actual Rows": 30195, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.175, + "Actual Total Time": 30.824, + "Actual Rows": 30000, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.083, + "Actual Total Time": 19.808, + "Actual Rows": 30004, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.137, + "Actual Total Time": 30.088, + "Actual Rows": 30002, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.071, + "Actual Total Time": 20.237, + "Actual Rows": 30009, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 350, + "Output": ["lt.id", "lt.link"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 294 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 14 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 10 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 24 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.016, + "Actual Rows": 9, + "Actual Loops": 270, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.015, + "Actual Rows": 9, + "Actual Loops": 268 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.245, + "Actual Total Time": 0.247, + "Actual Rows": 3, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 2366, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 2360 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 8, + "Plan Width": 12, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.017, + "Actual Rows": 8, + "Actual Loops": 211, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.017, + "Actual Rows": 8, + "Actual Loops": 211 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 1619, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 1619 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 705, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 705 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 648, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2000))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 648 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.065, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5323664899700589841, + "Planning Time": 3035.972, + "Triggers": [ + ], + "Execution Time": 152.781, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -5323664899700589841, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS complete_western_sequel
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind = 'complete'
  AND cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Germany',
                  'Swedish',
                  'German')
  AND t.production_year = 1998
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND t.id = cc.movie_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id
  AND ml.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = cc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 764.72, + "Total Cost": 764.73, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 39.656, + "Actual Total Time": 41.678, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 764.67, + "Total Cost": 764.68, + "Plan Rows": 6, + "Plan Width": 96, + "Actual Startup Time": 18.853, + "Actual Total Time": 41.653, + "Actual Rows": 7, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 6, + "Workers Launched": 6, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 763.67, + "Total Cost": 763.68, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 16.985, + "Actual Total Time": 16.997, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.494, + "Actual Total Time": 9.503, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.610, + "Actual Total Time": 13.624, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.733, + "Actual Total Time": 15.742, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.430, + "Actual Total Time": 29.436, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.015, + "Actual Total Time": 17.035, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.852, + "Actual Total Time": 15.861, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 405.98, + "Total Cost": 763.36, + "Plan Rows": 41, + "Plan Width": 48, + "Actual Startup Time": 14.847, + "Actual Total Time": 16.956, + "Actual Rows": 35, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.489, + "Actual Total Time": 9.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.601, + "Actual Total Time": 13.614, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.729, + "Actual Total Time": 15.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.497, + "Actual Total Time": 29.198, + "Actual Rows": 247, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.006, + "Actual Total Time": 17.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.847, + "Actual Total Time": 15.855, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.94, + "Total Cost": 762.10, + "Plan Rows": 41, + "Plan Width": 52, + "Actual Startup Time": 14.678, + "Actual Total Time": 16.754, + "Actual Rows": 35, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "cc.subject_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.398, + "Actual Total Time": 9.404, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.456, + "Actual Total Time": 13.465, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.610, + "Actual Total Time": 15.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.398, + "Actual Total Time": 28.883, + "Actual Rows": 247, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.854, + "Actual Total Time": 16.869, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.717, + "Actual Total Time": 15.723, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.50, + "Total Cost": 745.91, + "Plan Rows": 16, + "Plan Width": 72, + "Actual Startup Time": 14.667, + "Actual Total Time": 16.496, + "Actual Rows": 14, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "t.title", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.398, + "Actual Total Time": 9.403, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.454, + "Actual Total Time": 13.463, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.610, + "Actual Total Time": 15.616, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.331, + "Actual Total Time": 27.085, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.853, + "Actual Total Time": 16.867, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.715, + "Actual Total Time": 15.721, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.08, + "Total Cost": 694.37, + "Plan Rows": 117, + "Plan Width": 76, + "Actual Startup Time": 14.652, + "Actual Total Time": 15.781, + "Actual Rows": 100, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "t.title", "t.id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.397, + "Actual Total Time": 9.402, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.453, + "Actual Total Time": 13.462, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.609, + "Actual Total Time": 15.615, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.228, + "Actual Total Time": 22.090, + "Actual Rows": 703, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.852, + "Actual Total Time": 16.865, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.715, + "Actual Total Time": 15.720, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 403.65, + "Total Cost": 676.99, + "Plan Rows": 16, + "Plan Width": 68, + "Actual Startup Time": 14.643, + "Actual Total Time": 15.588, + "Actual Rows": 14, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.396, + "Actual Total Time": 9.401, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.453, + "Actual Total Time": 13.460, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.609, + "Actual Total Time": 15.614, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.169, + "Actual Total Time": 20.746, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.851, + "Actual Total Time": 16.863, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.714, + "Actual Total Time": 15.719, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 403.51, + "Total Cost": 675.93, + "Plan Rows": 25, + "Plan Width": 72, + "Actual Startup Time": 14.635, + "Actual Total Time": 15.554, + "Actual Rows": 22, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.396, + "Actual Total Time": 9.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.452, + "Actual Total Time": 13.458, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.608, + "Actual Total Time": 15.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.119, + "Actual Total Time": 20.522, + "Actual Rows": 152, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.850, + "Actual Total Time": 16.861, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.713, + "Actual Total Time": 15.717, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 403.08, + "Total Cost": 647.96, + "Plan Rows": 56, + "Plan Width": 51, + "Actual Startup Time": 10.735, + "Actual Total Time": 15.061, + "Actual Rows": 48, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.795, + "Actual Total Time": 9.302, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.451, + "Actual Total Time": 13.456, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.607, + "Actual Total Time": 15.611, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.014, + "Actual Total Time": 17.865, + "Actual Rows": 325, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.388, + "Actual Total Time": 16.663, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.713, + "Actual Total Time": 15.716, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.66, + "Total Cost": 578.01, + "Plan Rows": 156, + "Plan Width": 36, + "Actual Startup Time": 9.293, + "Actual Total Time": 13.169, + "Actual Rows": 133, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.640, + "Actual Total Time": 8.095, + "Actual Rows": 53, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.450, + "Actual Total Time": 13.455, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.112, + "Actual Total Time": 14.860, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.164, + "Actual Total Time": 10.625, + "Actual Rows": 778, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.283, + "Actual Total Time": 15.969, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.249, + "Actual Total Time": 14.779, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.52, + "Total Cost": 573.22, + "Plan Rows": 174, + "Plan Width": 40, + "Actual Startup Time": 9.212, + "Actual Total Time": 12.883, + "Actual Rows": 149, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.583, + "Actual Total Time": 7.883, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.449, + "Actual Total Time": 13.453, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.954, + "Actual Total Time": 14.695, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.081, + "Actual Total Time": 9.579, + "Actual Rows": 841, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.133, + "Actual Total Time": 15.775, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.179, + "Actual Total Time": 14.624, + "Actual Rows": 16, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.09, + "Total Cost": 510.63, + "Plan Rows": 43, + "Plan Width": 28, + "Actual Startup Time": 8.772, + "Actual Total Time": 10.789, + "Actual Rows": 37, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Merge Cond": "(cc.movie_id = ml.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.468, + "Actual Total Time": 6.273, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.448, + "Actual Total Time": 13.451, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.603, + "Actual Total Time": 13.322, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.789, + "Actual Total Time": 5.762, + "Actual Rows": 133, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.696, + "Actual Total Time": 14.559, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.798, + "Actual Total Time": 12.934, + "Actual Rows": 17, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 2187.57, + "Plan Rows": 996, + "Plan Width": 12, + "Actual Startup Time": 0.078, + "Actual Total Time": 1.476, + "Actual Rows": 857, + "Actual Loops": 7, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.050, + "Actual Total Time": 1.012, + "Actual Rows": 661, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.088, + "Actual Total Time": 1.036, + "Actual Rows": 316, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.131, + "Actual Total Time": 1.235, + "Actual Rows": 386, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.073, + "Actual Total Time": 1.382, + "Actual Rows": 1042, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.098, + "Actual Total Time": 1.255, + "Actual Rows": 346, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.696, + "Actual Rows": 268, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 401.65, + "Total Cost": 407.44, + "Plan Rows": 2315, + "Plan Width": 16, + "Actual Startup Time": 7.867, + "Actual Total Time": 8.267, + "Actual Rows": 2319, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Sort Key": ["ml.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.142, + "Actual Total Time": 4.444, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.713, + "Actual Total Time": 11.222, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.697, + "Actual Total Time": 11.100, + "Actual Rows": 2317, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.478, + "Actual Total Time": 3.705, + "Actual Rows": 2335, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.053, + "Actual Total Time": 11.754, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.951, + "Actual Total Time": 11.330, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.29, + "Total Cost": 272.28, + "Plan Rows": 2315, + "Plan Width": 16, + "Actual Startup Time": 0.195, + "Actual Total Time": 5.315, + "Actual Rows": 2315, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.119, + "Actual Total Time": 2.736, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.225, + "Actual Total Time": 7.148, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.216, + "Actual Total Time": 7.148, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.100, + "Actual Total Time": 2.396, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.276, + "Actual Total Time": 7.506, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.244, + "Actual Total Time": 7.393, + "Actual Rows": 2315, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.23, + "Plan Rows": 2, + "Plan Width": 16, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.064, + "Actual Rows": 2, + "Actual Loops": 7, + "Output": ["lt.id", "lt.link"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.046, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.080, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.072, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.039, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.084, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.086, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 123.95, + "Plan Rows": 1158, + "Plan Width": 8, + "Actual Startup Time": 0.111, + "Actual Total Time": 2.019, + "Actual Rows": 1158, + "Actual Loops": 14, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.link_type_id = lt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.063, + "Actual Total Time": 1.001, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.131, + "Actual Total Time": 2.692, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.129, + "Actual Total Time": 2.692, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.931, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.156, + "Actual Total Time": 2.890, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.140, + "Actual Total Time": 2.821, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.42, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.054, + "Actual Rows": 4, + "Actual Loops": 257, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 3, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.033, + "Actual Rows": 2, + "Actual Loops": 46 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.131, + "Actual Total Time": 0.148, + "Actual Rows": 2, + "Actual Loops": 9 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.026, + "Actual Rows": 6, + "Actual Loops": 133 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.180, + "Actual Total Time": 0.235, + "Actual Rows": 3, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.093, + "Actual Total Time": 0.096, + "Actual Rows": 1, + "Actual Loops": 17 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1043, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 79, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 74, + "Cache Hits": 72, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16, + "Cache Hits": 14, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 841, + "Cache Hits": 839, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 15, + "Cache Hits": 13, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 16, + "Cache Hits": 14, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 934, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 53 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.092, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 778 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.083, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.065, + "Actual Rows": 0, + "Actual Loops": 14 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 337, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year = 1998)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 325 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.095, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 152, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 152, + "Cache Hits": 150, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.99, + "Plan Rows": 8, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 7, + "Actual Loops": 95, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 7, + "Actual Loops": 95 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 703, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 703 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 3, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 95, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Germany,Swedish,German}'::text[]))", + "Rows Removed by Filter": 10, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 95 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.038, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2103229838344518222, + "Planning Time": 3051.587, + "Triggers": [ + ], + "Execution Time": 48.421, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 2103229838344518222, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS complete_western_sequel
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE 'complete%'
  AND cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'English')
  AND t.production_year BETWEEN 1950 AND 2010
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND t.id = cc.movie_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id
  AND ml.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = cc.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 972.17, + "Total Cost": 972.18, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 244.427, + "Actual Total Time": 247.055, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 972.11, + "Total Cost": 972.12, + "Plan Rows": 6, + "Plan Width": 96, + "Actual Startup Time": 59.567, + "Actual Total Time": 247.012, + "Actual Rows": 7, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 6, + "Workers Launched": 6, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 971.11, + "Total Cost": 971.12, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 81.235, + "Actual Total Time": 81.245, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 57.786, + "Actual Total Time": 57.797, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 55.942, + "Actual Total Time": 55.953, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 61.957, + "Actual Total Time": 61.967, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 228.857, + "Actual Total Time": 228.862, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 51.829, + "Actual Total Time": 51.840, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 53.822, + "Actual Total Time": 53.835, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.79, + "Total Cost": 970.18, + "Plan Rows": 124, + "Plan Width": 48, + "Actual Startup Time": 59.748, + "Actual Total Time": 81.143, + "Actual Rows": 106, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 57.781, + "Actual Total Time": 57.791, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.515, + "Actual Total Time": 55.933, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 61.952, + "Actual Total Time": 61.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 123.905, + "Actual Total Time": 228.190, + "Actual Rows": 741, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 51.824, + "Actual Total Time": 51.835, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 53.816, + "Actual Total Time": 53.828, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.75, + "Total Cost": 968.21, + "Plan Rows": 171, + "Plan Width": 52, + "Actual Startup Time": 59.581, + "Actual Total Time": 80.884, + "Actual Rows": 147, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "cc.subject_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 57.639, + "Actual Total Time": 57.648, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.439, + "Actual Total Time": 55.851, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 61.820, + "Actual Total Time": 61.828, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 123.726, + "Actual Total Time": 227.390, + "Actual Rows": 1026, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 51.742, + "Actual Total Time": 51.750, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 53.672, + "Actual Total Time": 53.682, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.33, + "Total Cost": 962.03, + "Plan Rows": 14, + "Plan Width": 56, + "Actual Startup Time": 36.138, + "Actual Total Time": 67.544, + "Actual Rows": 2027, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "cc.subject_id", "t.title", "mk.keyword_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 57.638, + "Actual Total Time": 57.646, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.370, + "Actual Total Time": 55.729, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 61.819, + "Actual Total Time": 61.826, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 43.296, + "Actual Total Time": 135.432, + "Actual Rows": 14075, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.912, + "Actual Total Time": 50.538, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 53.671, + "Actual Total Time": 53.680, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.19, + "Total Cost": 960.90, + "Plan Rows": 29, + "Plan Width": 60, + "Actual Startup Time": 36.118, + "Actual Total Time": 65.581, + "Actual Rows": 2027, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "cc.subject_id", "cc.status_id", "t.title", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 57.638, + "Actual Total Time": 57.644, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.337, + "Actual Total Time": 55.669, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 61.818, + "Actual Total Time": 61.825, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 43.264, + "Actual Total Time": 121.997, + "Actual Rows": 14075, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.868, + "Actual Total Time": 50.329, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 53.670, + "Actual Total Time": 53.678, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.76, + "Total Cost": 959.80, + "Plan Rows": 1, + "Plan Width": 76, + "Actual Startup Time": 35.331, + "Actual Total Time": 61.754, + "Actual Rows": 205, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "mi.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "ml.movie_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 57.637, + "Actual Total Time": 57.643, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.287, + "Actual Total Time": 55.419, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 61.818, + "Actual Total Time": 61.823, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 43.051, + "Actual Total Time": 100.922, + "Actual Rows": 1423, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.180, + "Actual Total Time": 47.437, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 53.670, + "Actual Total Time": 53.677, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.33, + "Total Cost": 959.30, + "Plan Rows": 1, + "Plan Width": 55, + "Actual Startup Time": 35.300, + "Actual Total Time": 60.268, + "Actual Rows": 205, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "mi.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "ml.movie_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 57.637, + "Actual Total Time": 57.642, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.227, + "Actual Total Time": 55.307, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 61.817, + "Actual Total Time": 61.822, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.988, + "Actual Total Time": 90.827, + "Actual Rows": 1423, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.119, + "Actual Total Time": 47.289, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 53.669, + "Actual Total Time": 53.676, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.19, + "Total Cost": 958.79, + "Plan Rows": 5, + "Plan Width": 59, + "Actual Startup Time": 35.280, + "Actual Total Time": 60.014, + "Actual Rows": 219, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "mi.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "ml.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 57.636, + "Actual Total Time": 57.640, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.189, + "Actual Total Time": 55.238, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 61.817, + "Actual Total Time": 61.821, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.946, + "Actual Total Time": 89.204, + "Actual Rows": 1518, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.082, + "Actual Total Time": 47.236, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 53.668, + "Actual Total Time": 53.674, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.77, + "Total Cost": 949.38, + "Plan Rows": 21, + "Plan Width": 44, + "Actual Startup Time": 16.351, + "Actual Total Time": 55.901, + "Actual Rows": 557, + "Actual Loops": 7, + "Output": ["lt.link", "mi.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "ml.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.434, + "Actual Total Time": 56.952, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.350, + "Actual Total Time": 54.046, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.369, + "Actual Total Time": 61.388, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.508, + "Actual Total Time": 64.126, + "Actual Rows": 3686, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.930, + "Actual Total Time": 46.876, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 25.543, + "Actual Total Time": 53.584, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.34, + "Total Cost": 943.83, + "Plan Rows": 10, + "Plan Width": 32, + "Actual Startup Time": 16.258, + "Actual Total Time": 54.377, + "Actual Rows": 86, + "Actual Loops": 7, + "Output": ["lt.link", "mi.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "ml.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.376, + "Actual Total Time": 56.248, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.283, + "Actual Total Time": 53.479, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.222, + "Actual Total Time": 60.811, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.436, + "Actual Total Time": 56.582, + "Actual Rows": 451, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.867, + "Actual Total Time": 46.582, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 25.350, + "Actual Total Time": 53.418, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.19, + "Total Cost": 938.99, + "Plan Rows": 89, + "Plan Width": 24, + "Actual Startup Time": 13.125, + "Actual Total Time": 53.452, + "Actual Rows": 784, + "Actual Loops": 7, + "Output": ["mi.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Merge Cond": "(mi.movie_id = ml.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.919, + "Actual Total Time": 55.710, + "Actual Rows": 388, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.230, + "Actual Total Time": 52.575, + "Actual Rows": 721, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.591, + "Actual Total Time": 59.990, + "Actual Rows": 349, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.679, + "Actual Total Time": 54.355, + "Actual Rows": 2234, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.458, + "Actual Total Time": 46.133, + "Actual Rows": 281, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.688, + "Actual Total Time": 53.127, + "Actual Rows": 43, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.88, + "Total Cost": 5354.78, + "Plan Rows": 1466, + "Plan Width": 16, + "Actual Startup Time": 0.194, + "Actual Total Time": 20.983, + "Actual Rows": 695, + "Actual Loops": 7, + "Output": ["mi.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.247, + "Actual Total Time": 17.821, + "Actual Rows": 539, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.196, + "Actual Total Time": 25.175, + "Actual Rows": 821, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.234, + "Actual Total Time": 20.800, + "Actual Rows": 618, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.232, + "Actual Total Time": 17.920, + "Actual Rows": 856, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.123, + "Actual Total Time": 19.634, + "Actual Rows": 513, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.235, + "Actual Total Time": 11.873, + "Actual Rows": 180, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 2187.57, + "Plan Rows": 1062, + "Plan Width": 12, + "Actual Startup Time": 0.071, + "Actual Total Time": 1.372, + "Actual Rows": 857, + "Actual Loops": 7, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.115, + "Actual Total Time": 1.065, + "Actual Rows": 643, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 1.673, + "Actual Rows": 1053, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.107, + "Actual Total Time": 1.580, + "Actual Rows": 616, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.078, + "Actual Total Time": 1.145, + "Actual Rows": 754, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 1.261, + "Actual Rows": 878, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.930, + "Actual Rows": 289, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 2.97, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 5999, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,English}'::text[]))", + "Rows Removed by Filter": 9, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 643 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1053 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 616 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 754 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 878 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 289 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 670.78, + "Plan Rows": 33483, + "Plan Width": 8, + "Actual Startup Time": 0.089, + "Actual Total Time": 23.556, + "Actual Rows": 30252, + "Actual Loops": 7, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.112, + "Actual Total Time": 27.526, + "Actual Rows": 30138, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.048, + "Actual Total Time": 19.693, + "Actual Rows": 30155, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.115, + "Actual Total Time": 28.516, + "Actual Rows": 30136, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.122, + "Actual Total Time": 26.308, + "Actual Rows": 30413, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.062, + "Actual Total Time": 19.270, + "Actual Rows": 30043, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.115, + "Actual Total Time": 30.245, + "Actual Rows": 30009, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5488, + "Output": ["lt.link", "lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 1458, + "Cache Misses": 14, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 388, + "Cache Hits": 375, + "Cache Misses": 13, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 721, + "Cache Hits": 708, + "Cache Misses": 13, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 349, + "Cache Hits": 337, + "Cache Misses": 12, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2234, + "Cache Hits": 2219, + "Cache Misses": 15, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 281, + "Cache Hits": 268, + "Cache Misses": 13, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 43, + "Cache Hits": 35, + "Cache Misses": 8, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 88, + "Output": ["lt.link", "lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 13 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 13 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 12 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 15 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 13 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 8 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.015, + "Actual Rows": 6, + "Actual Loops": 605, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 3, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 48 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.022, + "Actual Rows": 2, + "Actual Loops": 24 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 13 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.013, + "Actual Rows": 8, + "Actual Loops": 451 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 2, + "Actual Loops": 12 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 3898, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 62 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 45 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 18 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 3686 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 23 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.086, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1534, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 7, + "Cache Hits": 5, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1518, + "Cache Hits": 1516, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 7, + "Cache Hits": 6, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 1436, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 1423 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.99, + "Plan Rows": 9, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.015, + "Actual Rows": 10, + "Actual Loops": 1436, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 2, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.011, + "Actual Rows": 10, + "Actual Loops": 1423 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.395, + "Actual Total Time": 0.404, + "Actual Rows": 14, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 1, + "Actual Loops": 14186, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 3, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 6, + "Cache Hits": 4, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 1, + "Actual Loops": 14075, + "Cache Hits": 14073, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 101, + "Cache Hits": 99, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text ~~ 'complete%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 14186, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 14075 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 101 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1723239386245354632, + "Planning Time": 2762.687, + "Triggers": [ + ], + "Execution Time": 255.225, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -1723239386245354632, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_euro_dark_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'crew'
  AND cct2.kind != 'complete+verified'
  AND cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3686.53, + "Total Cost": 3686.54, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 447.833, + "Actual Total Time": 451.722, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3686.47, + "Total Cost": 3686.48, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 438.410, + "Actual Total Time": 451.696, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3685.47, + "Total Cost": 3685.48, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 420.612, + "Actual Total Time": 420.626, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 415.959, + "Actual Total Time": 415.974, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 421.741, + "Actual Total Time": 421.754, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 429.021, + "Actual Total Time": 429.032, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 413.439, + "Actual Total Time": 413.452, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 413.460, + "Actual Total Time": 413.472, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 426.122, + "Actual Total Time": 426.133, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 407.894, + "Actual Total Time": 407.906, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1589.02, + "Total Cost": 3680.33, + "Plan Rows": 686, + "Plan Width": 42, + "Actual Startup Time": 110.237, + "Actual Total Time": 418.954, + "Actual Rows": 600, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 110.639, + "Actual Total Time": 409.732, + "Actual Rows": 581, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 113.903, + "Actual Total Time": 420.104, + "Actual Rows": 926, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 102.664, + "Actual Total Time": 428.117, + "Actual Rows": 504, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.655, + "Actual Total Time": 412.768, + "Actual Rows": 358, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 110.709, + "Actual Total Time": 412.367, + "Actual Rows": 760, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 105.988, + "Actual Total Time": 425.406, + "Actual Rows": 347, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 111.477, + "Actual Total Time": 407.098, + "Actual Rows": 570, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1587.17, + "Total Cost": 3676.42, + "Plan Rows": 756, + "Plan Width": 46, + "Actual Startup Time": 110.073, + "Actual Total Time": 417.897, + "Actual Rows": 662, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "cn.name", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 110.582, + "Actual Total Time": 408.838, + "Actual Rows": 662, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 113.805, + "Actual Total Time": 418.743, + "Actual Rows": 982, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 102.331, + "Actual Total Time": 426.976, + "Actual Rows": 506, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.535, + "Actual Total Time": 412.074, + "Actual Rows": 424, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 110.631, + "Actual Total Time": 411.191, + "Actual Rows": 851, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 105.860, + "Actual Total Time": 424.607, + "Actual Rows": 406, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 111.385, + "Actual Total Time": 406.258, + "Actual Rows": 623, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1586.74, + "Total Cost": 2950.75, + "Plan Rows": 630, + "Plan Width": 62, + "Actual Startup Time": 109.655, + "Actual Total Time": 180.982, + "Actual Rows": 551, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mc.movie_id", "cn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 110.358, + "Actual Total Time": 171.170, + "Actual Rows": 503, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.824, + "Actual Total Time": 159.726, + "Actual Rows": 674, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 102.233, + "Actual Total Time": 170.346, + "Actual Rows": 427, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.266, + "Actual Total Time": 214.776, + "Actual Rows": 524, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 110.208, + "Actual Total Time": 172.288, + "Actual Rows": 602, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 105.758, + "Actual Total Time": 181.993, + "Actual Rows": 475, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 111.223, + "Actual Total Time": 206.252, + "Actual Rows": 536, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1586.32, + "Total Cost": 2948.87, + "Plan Rows": 4, + "Plan Width": 47, + "Actual Startup Time": 109.550, + "Actual Total Time": 158.287, + "Actual Rows": 567, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 110.016, + "Actual Total Time": 158.929, + "Actual Rows": 522, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.746, + "Actual Total Time": 144.741, + "Actual Rows": 687, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 102.136, + "Actual Total Time": 144.424, + "Actual Rows": 445, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.189, + "Actual Total Time": 178.024, + "Actual Rows": 539, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 110.136, + "Actual Total Time": 150.913, + "Actual Rows": 618, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 105.694, + "Actual Total Time": 168.913, + "Actual Rows": 484, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 111.164, + "Actual Total Time": 167.480, + "Actual Rows": 550, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1586.18, + "Total Cost": 2948.42, + "Plan Rows": 4, + "Plan Width": 51, + "Actual Startup Time": 109.493, + "Actual Total Time": 156.549, + "Actual Rows": 567, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 109.973, + "Actual Total Time": 157.355, + "Actual Rows": 522, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.693, + "Actual Total Time": 142.594, + "Actual Rows": 687, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 102.073, + "Actual Total Time": 142.868, + "Actual Rows": 445, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.128, + "Actual Total Time": 176.541, + "Actual Rows": 539, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 110.081, + "Actual Total Time": 149.059, + "Actual Rows": 618, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 105.638, + "Actual Total Time": 167.371, + "Actual Rows": 484, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 111.073, + "Actual Total Time": 165.954, + "Actual Rows": 550, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1585.75, + "Total Cost": 2904.99, + "Plan Rows": 68, + "Plan Width": 39, + "Actual Startup Time": 108.840, + "Actual Total Time": 142.310, + "Actual Rows": 59, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 109.879, + "Actual Total Time": 131.817, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.282, + "Actual Total Time": 133.585, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 101.732, + "Actual Total Time": 130.824, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 104.581, + "Actual Total Time": 166.606, + "Actual Rows": 75, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 109.257, + "Actual Total Time": 139.911, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 104.553, + "Actual Total Time": 153.086, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 109.382, + "Actual Total Time": 143.881, + "Actual Rows": 85, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1583.90, + "Total Cost": 2903.04, + "Plan Rows": 42, + "Plan Width": 43, + "Actual Startup Time": 108.818, + "Actual Total Time": 142.107, + "Actual Rows": 187, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 109.866, + "Actual Total Time": 131.674, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.268, + "Actual Total Time": 133.384, + "Actual Rows": 186, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 101.703, + "Actual Total Time": 130.597, + "Actual Rows": 135, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 104.566, + "Actual Total Time": 166.391, + "Actual Rows": 235, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 109.245, + "Actual Total Time": 139.716, + "Actual Rows": 182, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 104.535, + "Actual Total Time": 152.922, + "Actual Rows": 171, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 109.369, + "Actual Total Time": 143.642, + "Actual Rows": 277, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1583.48, + "Total Cost": 2861.90, + "Plan Rows": 78, + "Plan Width": 29, + "Actual Startup Time": 108.660, + "Actual Total Time": 140.019, + "Actual Rows": 69, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 109.785, + "Actual Total Time": 130.162, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.197, + "Actual Total Time": 130.980, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 101.627, + "Actual Total Time": 128.952, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 104.507, + "Actual Total Time": 163.770, + "Actual Rows": 83, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 109.165, + "Actual Total Time": 137.654, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 104.446, + "Actual Total Time": 151.213, + "Actual Rows": 60, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 108.929, + "Actual Total Time": 140.585, + "Actual Rows": 117, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1582.41, + "Total Cost": 2860.47, + "Plan Rows": 87, + "Plan Width": 33, + "Actual Startup Time": 108.640, + "Actual Total Time": 139.852, + "Actual Rows": 76, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 109.771, + "Actual Total Time": 130.037, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.183, + "Actual Total Time": 130.803, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 101.609, + "Actual Total Time": 128.812, + "Actual Rows": 53, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 104.490, + "Actual Total Time": 163.594, + "Actual Rows": 91, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 109.148, + "Actual Total Time": 137.479, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 104.430, + "Actual Total Time": 151.082, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 108.914, + "Actual Total Time": 140.380, + "Actual Rows": 124, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1581.98, + "Total Cost": 2608.61, + "Plan Rows": 547, + "Plan Width": 8, + "Actual Startup Time": 107.196, + "Actual Total Time": 116.010, + "Actual Rows": 479, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 108.479, + "Actual Total Time": 114.822, + "Actual Rows": 433, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 110.126, + "Actual Total Time": 116.958, + "Actual Rows": 468, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 100.737, + "Actual Total Time": 108.192, + "Actual Rows": 465, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 103.686, + "Actual Total Time": 120.711, + "Actual Rows": 462, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 108.883, + "Actual Total Time": 118.929, + "Actual Rows": 508, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 103.844, + "Actual Total Time": 113.130, + "Actual Rows": 445, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 104.044, + "Actual Total Time": 112.135, + "Actual Rows": 619, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1580.94, + "Total Cost": 2599.43, + "Plan Rows": 1505, + "Plan Width": 12, + "Actual Startup Time": 97.193, + "Actual Total Time": 115.300, + "Actual Rows": 1317, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.313, + "Actual Total Time": 114.172, + "Actual Rows": 1465, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 98.924, + "Actual Total Time": 116.238, + "Actual Rows": 1391, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 89.464, + "Actual Total Time": 107.379, + "Actual Rows": 1385, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 92.516, + "Actual Total Time": 119.985, + "Actual Rows": 1312, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.275, + "Actual Total Time": 118.149, + "Actual Rows": 1343, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.651, + "Actual Total Time": 112.404, + "Actual Rows": 1390, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 102.745, + "Actual Total Time": 111.572, + "Actual Rows": 757, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1579.89, + "Total Cost": 2582.91, + "Plan Rows": 2861, + "Plan Width": 16, + "Actual Startup Time": 97.106, + "Actual Total Time": 113.880, + "Actual Rows": 2503, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.208, + "Actual Total Time": 112.780, + "Actual Rows": 2857, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 98.862, + "Actual Total Time": 114.676, + "Actual Rows": 2699, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 89.389, + "Actual Total Time": 105.849, + "Actual Rows": 2640, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 92.417, + "Actual Total Time": 118.466, + "Actual Rows": 2520, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.216, + "Actual Total Time": 116.592, + "Actual Rows": 2520, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.555, + "Actual Total Time": 110.855, + "Actual Rows": 2658, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 102.699, + "Actual Total Time": 110.777, + "Actual Rows": 1304, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.033, + "Actual Total Time": 4.460, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 4.754, + "Actual Rows": 19610, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 4.421, + "Actual Rows": 17945, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 4.593, + "Actual Rows": 18500, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 4.370, + "Actual Rows": 15540, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 6.628, + "Actual Rows": 17205, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 4.677, + "Actual Rows": 17575, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 2.229, + "Actual Rows": 9471, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1513.65, + "Total Cost": 1513.65, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 95.627, + "Actual Total Time": 95.629, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2016, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 96.997, + "Actual Total Time": 96.999, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 98.752, + "Actual Total Time": 98.754, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 89.167, + "Actual Total Time": 89.168, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 92.201, + "Actual Total Time": 92.203, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.094, + "Actual Total Time": 97.095, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.332, + "Actual Total Time": 92.334, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.664, + "Actual Total Time": 92.665, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1513.65, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 14.535, + "Actual Total Time": 41.514, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.691, + "Actual Total Time": 26.692, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.289, + "Actual Total Time": 62.780, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.860, + "Actual Total Time": 18.861, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.894, + "Actual Total Time": 21.895, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.585, + "Actual Total Time": 86.851, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.043, + "Actual Total Time": 22.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.421, + "Actual Total Time": 22.422, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 14.485, + "Actual Total Time": 14.492, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.690, + "Actual Total Time": 26.690, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.115, + "Actual Total Time": 0.126, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.859, + "Actual Total Time": 18.859, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.893, + "Actual Total Time": 21.893, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.452, + "Actual Total Time": 0.464, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.042, + "Actual Total Time": 22.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.420, + "Actual Total Time": 22.420, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.50, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.127, + "Actual Total Time": 68.891, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.169, + "Actual Total Time": 60.041, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.129, + "Actual Total Time": 82.091, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.005, + "Actual Rows": 3, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text <> 'complete+verified'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'crew'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 3832, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 433 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 468 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 465 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.091, + "Actual Rows": 0, + "Actual Loops": 462 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 508 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.083, + "Actual Rows": 0, + "Actual Loops": 445 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 619 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.024, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.027, + "Actual Rows": 3, + "Actual Loops": 549, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.029, + "Actual Rows": 3, + "Actual Loops": 46 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.033, + "Actual Rows": 3, + "Actual Loops": 67 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.031, + "Actual Rows": 3, + "Actual Loops": 48 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.028, + "Actual Rows": 3, + "Actual Loops": 83 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.028, + "Actual Rows": 3, + "Actual Loops": 65 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 3, + "Actual Loops": 60 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.024, + "Actual Rows": 2, + "Actual Loops": 117 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 9, + "Plan Width": 12, + "Actual Startup Time": 0.153, + "Actual Total Time": 0.230, + "Actual Rows": 10, + "Actual Loops": 473, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 9, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.480, + "Actual Total Time": 0.569, + "Actual Rows": 12, + "Actual Loops": 44 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.135, + "Actual Rows": 11, + "Actual Loops": 62 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.135, + "Actual Total Time": 0.253, + "Actual Rows": 10, + "Actual Loops": 45 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.125, + "Actual Rows": 7, + "Actual Loops": 75 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.138, + "Actual Rows": 10, + "Actual Loops": 59 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.103, + "Actual Total Time": 0.287, + "Actual Rows": 10, + "Actual Loops": 48 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.199, + "Actual Total Time": 0.253, + "Actual Rows": 6, + "Actual Loops": 85 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 4535, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 689, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 522, + "Cache Hits": 521, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 687, + "Cache Hits": 686, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 445, + "Cache Hits": 444, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 539, + "Cache Hits": 538, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 618, + "Cache Hits": 617, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 484, + "Cache Hits": 483, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 550, + "Cache Hits": 549, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.082, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 4535, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 522 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 687 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 445 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.066, + "Actual Rows": 1, + "Actual Loops": 539 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 618 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 484 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.069, + "Actual Rows": 1, + "Actual Loops": 550 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.178, + "Actual Total Time": 0.428, + "Actual Rows": 1, + "Actual Loops": 4410, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 247, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.175, + "Actual Total Time": 0.471, + "Actual Rows": 1, + "Actual Loops": 503 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.132, + "Actual Total Time": 0.382, + "Actual Rows": 1, + "Actual Loops": 674 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.188, + "Actual Total Time": 0.599, + "Actual Rows": 1, + "Actual Loops": 427 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.182, + "Actual Total Time": 0.375, + "Actual Rows": 1, + "Actual Loops": 524 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.140, + "Actual Total Time": 0.395, + "Actual Rows": 1, + "Actual Loops": 602 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.297, + "Actual Total Time": 0.509, + "Actual Rows": 1, + "Actual Loops": 475 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.233, + "Actual Total Time": 0.371, + "Actual Rows": 1, + "Actual Loops": 536 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.140, + "Actual Total Time": 0.141, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.078, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1573023350148659030, + "Planning Time": 3698.031, + "Triggers": [ + ], + "Execution Time": 460.720, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -1573023350148659030, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_euro_dark_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'crew'
  AND cct2.kind != 'complete+verified'
  AND cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Germany',
                  'Swedish',
                  'German')
  AND mi_idx.info > '6.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3291.87, + "Total Cost": 3291.88, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 189.710, + "Actual Total Time": 213.663, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3291.81, + "Total Cost": 3291.82, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 189.674, + "Actual Total Time": 213.637, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3290.81, + "Total Cost": 3290.82, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 175.669, + "Actual Total Time": 175.685, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 172.743, + "Actual Total Time": 172.757, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 178.057, + "Actual Total Time": 178.069, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 172.679, + "Actual Total Time": 172.694, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 172.803, + "Actual Total Time": 172.817, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 173.072, + "Actual Total Time": 173.086, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 173.633, + "Actual Total Time": 173.647, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 173.731, + "Actual Total Time": 173.748, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1589.92, + "Total Cost": 3290.65, + "Plan Rows": 21, + "Plan Width": 42, + "Actual Startup Time": 159.811, + "Actual Total Time": 175.642, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 172.737, + "Actual Total Time": 172.750, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 178.051, + "Actual Total Time": 178.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 172.674, + "Actual Total Time": 172.688, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 120.972, + "Actual Total Time": 172.676, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 173.067, + "Actual Total Time": 173.080, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 148.736, + "Actual Total Time": 173.622, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 147.274, + "Actual Total Time": 173.643, + "Actual Rows": 54, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1588.86, + "Total Cost": 3289.50, + "Plan Rows": 23, + "Plan Width": 46, + "Actual Startup Time": 156.308, + "Actual Total Time": 175.120, + "Actual Rows": 20, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 170.555, + "Actual Total Time": 172.175, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 177.728, + "Actual Total Time": 177.739, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 172.123, + "Actual Total Time": 172.135, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 120.464, + "Actual Total Time": 172.091, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 172.537, + "Actual Total Time": 172.550, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 148.142, + "Actual Total Time": 173.026, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 124.291, + "Actual Total Time": 173.018, + "Actual Rows": 55, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1588.43, + "Total Cost": 3206.26, + "Plan Rows": 176, + "Plan Width": 45, + "Actual Startup Time": 111.672, + "Actual Total Time": 172.669, + "Actual Rows": 154, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 110.067, + "Actual Total Time": 169.606, + "Actual Rows": 166, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 115.442, + "Actual Total Time": 174.517, + "Actual Rows": 233, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.311, + "Actual Total Time": 168.134, + "Actual Rows": 142, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 107.099, + "Actual Total Time": 169.784, + "Actual Rows": 185, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 113.947, + "Actual Total Time": 169.319, + "Actual Rows": 156, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 137.874, + "Actual Total Time": 172.791, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.333, + "Actual Total Time": 171.766, + "Actual Rows": 94, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1587.38, + "Total Cost": 3204.26, + "Plan Rows": 176, + "Plan Width": 49, + "Actual Startup Time": 111.656, + "Actual Total Time": 172.420, + "Actual Rows": 154, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 110.053, + "Actual Total Time": 169.337, + "Actual Rows": 166, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 115.434, + "Actual Total Time": 174.203, + "Actual Rows": 233, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.298, + "Actual Total Time": 167.737, + "Actual Rows": 142, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 107.086, + "Actual Total Time": 169.564, + "Actual Rows": 185, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 113.932, + "Actual Total Time": 168.997, + "Actual Rows": 156, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 137.858, + "Actual Total Time": 172.762, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.320, + "Actual Total Time": 171.640, + "Actual Rows": 94, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1586.96, + "Total Cost": 3119.16, + "Plan Rows": 181, + "Plan Width": 34, + "Actual Startup Time": 111.490, + "Actual Total Time": 169.122, + "Actual Rows": 159, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 109.332, + "Actual Total Time": 165.533, + "Actual Rows": 166, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 115.367, + "Actual Total Time": 169.782, + "Actual Rows": 240, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.184, + "Actual Total Time": 162.990, + "Actual Rows": 148, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 107.016, + "Actual Total Time": 165.644, + "Actual Rows": 191, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 113.822, + "Actual Total Time": 164.950, + "Actual Rows": 160, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 137.710, + "Actual Total Time": 172.503, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.242, + "Actual Total Time": 169.909, + "Actual Rows": 96, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1586.53, + "Total Cost": 3110.52, + "Plan Rows": 15, + "Plan Width": 22, + "Actual Startup Time": 111.335, + "Actual Total Time": 167.352, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 109.214, + "Actual Total Time": 163.624, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 115.262, + "Actual Total Time": 167.330, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.061, + "Actual Total Time": 161.076, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 106.897, + "Actual Total Time": 163.301, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 113.691, + "Actual Total Time": 163.183, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 137.201, + "Actual Total Time": 171.922, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.140, + "Actual Total Time": 168.358, + "Actual Rows": 13, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1584.69, + "Total Cost": 3108.57, + "Plan Rows": 41, + "Plan Width": 26, + "Actual Startup Time": 104.629, + "Actual Total Time": 167.270, + "Actual Rows": 36, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 109.185, + "Actual Total Time": 163.539, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 115.241, + "Actual Total Time": 167.263, + "Actual Rows": 34, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.030, + "Actual Total Time": 160.997, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 106.869, + "Actual Total Time": 163.229, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.091, + "Actual Total Time": 163.093, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 100.345, + "Actual Total Time": 171.851, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.111, + "Actual Total Time": 168.277, + "Actual Rows": 51, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1584.25, + "Total Cost": 2885.12, + "Plan Rows": 227, + "Plan Width": 18, + "Actual Startup Time": 98.260, + "Actual Total Time": 122.744, + "Actual Rows": 199, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 94.862, + "Actual Total Time": 122.662, + "Actual Rows": 188, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 101.154, + "Actual Total Time": 133.431, + "Actual Rows": 230, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 96.311, + "Actual Total Time": 115.056, + "Actual Rows": 137, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.201, + "Actual Total Time": 125.483, + "Actual Rows": 245, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 95.873, + "Actual Total Time": 116.189, + "Actual Rows": 154, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 96.121, + "Actual Total Time": 119.997, + "Actual Rows": 161, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.004, + "Actual Total Time": 118.373, + "Actual Rows": 230, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1582.41, + "Total Cost": 2882.40, + "Plan Rows": 322, + "Plan Width": 22, + "Actual Startup Time": 98.208, + "Actual Total Time": 122.392, + "Actual Rows": 282, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 94.841, + "Actual Total Time": 122.345, + "Actual Rows": 273, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 101.143, + "Actual Total Time": 133.036, + "Actual Rows": 299, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 96.289, + "Actual Total Time": 114.711, + "Actual Rows": 202, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.145, + "Actual Total Time": 125.134, + "Actual Rows": 362, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 95.756, + "Actual Total Time": 115.863, + "Actual Rows": 223, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 96.099, + "Actual Total Time": 119.610, + "Actual Rows": 225, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 95.990, + "Actual Total Time": 118.054, + "Actual Rows": 326, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1581.98, + "Total Cost": 2608.61, + "Plan Rows": 547, + "Plan Width": 8, + "Actual Startup Time": 98.025, + "Actual Total Time": 105.846, + "Actual Rows": 479, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 94.556, + "Actual Total Time": 101.009, + "Actual Rows": 448, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 101.077, + "Actual Total Time": 110.570, + "Actual Rows": 493, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 95.965, + "Actual Total Time": 102.655, + "Actual Rows": 322, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 95.868, + "Actual Total Time": 103.441, + "Actual Rows": 581, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 95.597, + "Actual Total Time": 103.557, + "Actual Rows": 396, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 95.899, + "Actual Total Time": 104.241, + "Actual Rows": 385, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 95.896, + "Actual Total Time": 104.152, + "Actual Rows": 574, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1580.94, + "Total Cost": 2599.43, + "Plan Rows": 1505, + "Plan Width": 12, + "Actual Startup Time": 86.520, + "Actual Total Time": 104.996, + "Actual Rows": 1317, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 83.062, + "Actual Total Time": 100.121, + "Actual Rows": 936, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 89.660, + "Actual Total Time": 109.681, + "Actual Rows": 1596, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 84.169, + "Actual Total Time": 101.842, + "Actual Rows": 893, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 84.268, + "Actual Total Time": 102.605, + "Actual Rows": 1848, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 84.359, + "Actual Total Time": 102.784, + "Actual Rows": 872, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.437, + "Actual Total Time": 103.308, + "Actual Rows": 943, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 84.368, + "Actual Total Time": 103.365, + "Actual Rows": 1748, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1579.89, + "Total Cost": 2582.91, + "Plan Rows": 2861, + "Plan Width": 16, + "Actual Startup Time": 86.422, + "Actual Total Time": 103.172, + "Actual Rows": 2503, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 82.935, + "Actual Total Time": 98.363, + "Actual Rows": 1694, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 89.502, + "Actual Total Time": 107.822, + "Actual Rows": 3088, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 84.146, + "Actual Total Time": 100.034, + "Actual Rows": 1725, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 84.212, + "Actual Total Time": 100.794, + "Actual Rows": 3580, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 84.113, + "Actual Total Time": 101.186, + "Actual Rows": 1612, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.342, + "Actual Total Time": 101.141, + "Actual Rows": 1740, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 84.317, + "Actual Total Time": 101.646, + "Actual Rows": 3404, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.036, + "Actual Total Time": 5.099, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 4.770, + "Actual Rows": 12395, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 5.461, + "Actual Rows": 19795, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 5.017, + "Actual Rows": 11285, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 4.640, + "Actual Rows": 22570, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 5.466, + "Actual Rows": 13356, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 5.457, + "Actual Rows": 11470, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 5.278, + "Actual Rows": 23865, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1513.65, + "Total Cost": 1513.65, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 86.138, + "Actual Total Time": 86.140, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2016, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 82.710, + "Actual Total Time": 82.712, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 89.383, + "Actual Total Time": 89.385, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 83.889, + "Actual Total Time": 83.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 84.127, + "Actual Total Time": 84.129, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 83.867, + "Actual Total Time": 83.868, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.130, + "Actual Total Time": 84.132, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 84.137, + "Actual Total Time": 84.139, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1513.65, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 20.284, + "Actual Total Time": 40.716, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.559, + "Actual Total Time": 30.560, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.224, + "Actual Total Time": 44.908, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.721, + "Actual Total Time": 31.722, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.824, + "Actual Total Time": 70.876, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.673, + "Actual Total Time": 31.673, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.962, + "Actual Total Time": 31.963, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.037, + "Actual Total Time": 32.039, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 20.228, + "Actual Total Time": 20.235, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.558, + "Actual Total Time": 30.558, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.117, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.720, + "Actual Total Time": 31.720, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.606, + "Actual Total Time": 0.613, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.671, + "Actual Total Time": 31.672, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.961, + "Actual Total Time": 31.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.036, + "Actual Total Time": 32.037, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.50, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.142, + "Actual Total Time": 50.738, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.118, + "Actual Total Time": 41.788, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.210, + "Actual Total Time": 64.856, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.004, + "Actual Rows": 3, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text <> 'complete+verified'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'crew'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 3832, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '6.5'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 448 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 493 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 322 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 581 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 396 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 385 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 574 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.199, + "Actual Total Time": 0.222, + "Actual Rows": 0, + "Actual Loops": 1591, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Germany,Swedish,German}'::text[]))", + "Rows Removed by Filter": 110, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.188, + "Actual Total Time": 0.216, + "Actual Rows": 0, + "Actual Loops": 188 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.130, + "Actual Total Time": 0.146, + "Actual Rows": 0, + "Actual Loops": 230 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.307, + "Actual Total Time": 0.333, + "Actual Rows": 0, + "Actual Loops": 137 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.153, + "Actual Rows": 0, + "Actual Loops": 245 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.245, + "Actual Total Time": 0.303, + "Actual Rows": 0, + "Actual Loops": 154 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.312, + "Actual Total Time": 0.320, + "Actual Rows": 0, + "Actual Loops": 161 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.187, + "Actual Total Time": 0.216, + "Actual Rows": 0, + "Actual Loops": 230 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.121, + "Actual Rows": 12, + "Actual Loops": 107, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 12, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.097, + "Actual Rows": 9, + "Actual Loops": 18 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.133, + "Actual Rows": 14, + "Actual Loops": 17 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.167, + "Actual Rows": 15, + "Actual Loops": 10 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.169, + "Actual Rows": 15, + "Actual Loops": 13 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.157, + "Actual Rows": 16, + "Actual Loops": 10 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.110, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.112, + "Actual Rows": 7, + "Actual Loops": 13 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1269, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 166 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 240 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 148 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 191 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 160 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 96 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.02, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["ct.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1233, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 166 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 233 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 142 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 185 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 156 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 94 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.047, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3210595597316270705, + "Planning Time": 3893.029, + "Triggers": [ + ], + "Execution Time": 224.200, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -3210595597316270705, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_euro_dark_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind = 'complete'
  AND cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3516.64, + "Total Cost": 3516.65, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 251.124, + "Actual Total Time": 271.357, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3516.57, + "Total Cost": 3516.58, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 242.673, + "Actual Total Time": 271.304, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3515.57, + "Total Cost": 3515.58, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 234.205, + "Actual Total Time": 234.222, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 238.337, + "Actual Total Time": 238.350, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 233.696, + "Actual Total Time": 233.706, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 239.745, + "Actual Total Time": 239.765, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 232.036, + "Actual Total Time": 232.050, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 227.814, + "Actual Total Time": 227.828, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 227.098, + "Actual Total Time": 227.110, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 233.277, + "Actual Total Time": 233.290, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1587.29, + "Total Cost": 3506.60, + "Plan Rows": 1196, + "Plan Width": 42, + "Actual Startup Time": 70.209, + "Actual Total Time": 232.963, + "Actual Rows": 1047, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 67.773, + "Actual Total Time": 237.127, + "Actual Rows": 888, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 70.782, + "Actual Total Time": 232.540, + "Actual Rows": 1174, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.290, + "Actual Total Time": 238.662, + "Actual Rows": 705, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.964, + "Actual Total Time": 230.757, + "Actual Rows": 1204, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 63.098, + "Actual Total Time": 226.518, + "Actual Rows": 894, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 65.496, + "Actual Total Time": 225.734, + "Actual Rows": 992, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 70.856, + "Actual Total Time": 231.988, + "Actual Rows": 1241, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1586.25, + "Total Cost": 3498.01, + "Plan Rows": 1397, + "Plan Width": 46, + "Actual Startup Time": 69.820, + "Actual Total Time": 231.198, + "Actual Rows": 1222, + "Actual Loops": 8, + "Output": ["cn.name", "cc.subject_id", "t.title", "mi_idx.info"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 67.530, + "Actual Total Time": 235.654, + "Actual Rows": 1031, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 70.379, + "Actual Total Time": 230.895, + "Actual Rows": 1401, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.013, + "Actual Total Time": 237.262, + "Actual Rows": 868, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.697, + "Actual Total Time": 229.160, + "Actual Rows": 1383, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.418, + "Actual Total Time": 224.463, + "Actual Rows": 1015, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 64.816, + "Actual Total Time": 223.642, + "Actual Rows": 1051, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 70.579, + "Actual Total Time": 229.789, + "Actual Rows": 1376, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1586.11, + "Total Cost": 3497.83, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 69.745, + "Actual Total Time": 208.037, + "Actual Rows": 3727, + "Actual Loops": 8, + "Output": ["cn.name", "cc.subject_id", "t.title", "mi_idx.info", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 67.471, + "Actual Total Time": 214.391, + "Actual Rows": 2900, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 70.324, + "Actual Total Time": 208.613, + "Actual Rows": 4341, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.880, + "Actual Total Time": 214.904, + "Actual Rows": 2863, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.611, + "Actual Total Time": 206.017, + "Actual Rows": 4149, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.359, + "Actual Total Time": 198.976, + "Actual Rows": 3364, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 64.744, + "Actual Total Time": 201.542, + "Actual Rows": 3107, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 70.483, + "Actual Total Time": 206.514, + "Actual Rows": 4194, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1585.68, + "Total Cost": 3497.32, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 69.657, + "Actual Total Time": 186.499, + "Actual Rows": 1265, + "Actual Loops": 8, + "Output": ["cn.name", "cc.movie_id", "cc.subject_id", "mk.movie_id", "t.title", "t.id", "mi.movie_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 67.403, + "Actual Total Time": 194.285, + "Actual Rows": 1032, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 70.270, + "Actual Total Time": 187.579, + "Actual Rows": 1504, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.731, + "Actual Total Time": 193.819, + "Actual Rows": 985, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.495, + "Actual Total Time": 184.519, + "Actual Rows": 1383, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.272, + "Actual Total Time": 176.084, + "Actual Rows": 1122, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 64.675, + "Actual Total Time": 180.787, + "Actual Rows": 1066, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 70.372, + "Actual Total Time": 185.118, + "Actual Rows": 1376, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1585.55, + "Total Cost": 3497.16, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 69.601, + "Actual Total Time": 180.620, + "Actual Rows": 1265, + "Actual Loops": 8, + "Output": ["cn.name", "cc.movie_id", "cc.subject_id", "mk.movie_id", "t.title", "t.id", "mi.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 67.364, + "Actual Total Time": 188.869, + "Actual Rows": 1032, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 70.212, + "Actual Total Time": 181.881, + "Actual Rows": 1504, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.636, + "Actual Total Time": 188.236, + "Actual Rows": 985, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.428, + "Actual Total Time": 178.392, + "Actual Rows": 1383, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.229, + "Actual Total Time": 169.857, + "Actual Rows": 1122, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 64.616, + "Actual Total Time": 175.150, + "Actual Rows": 1066, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 70.302, + "Actual Total Time": 179.139, + "Actual Rows": 1376, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1585.13, + "Total Cost": 3496.69, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 69.488, + "Actual Total Time": 161.381, + "Actual Rows": 1322, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "mk.movie_id", "t.title", "t.id", "mi.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 67.298, + "Actual Total Time": 170.863, + "Actual Rows": 1094, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 70.137, + "Actual Total Time": 163.863, + "Actual Rows": 1541, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.496, + "Actual Total Time": 169.500, + "Actual Rows": 1044, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.350, + "Actual Total Time": 159.590, + "Actual Rows": 1436, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.160, + "Actual Total Time": 149.502, + "Actual Rows": 1167, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 64.506, + "Actual Total Time": 156.005, + "Actual Rows": 1141, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 70.180, + "Actual Total Time": 159.258, + "Actual Rows": 1452, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1584.70, + "Total Cost": 3496.09, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 69.344, + "Actual Total Time": 150.856, + "Actual Rows": 134, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "mk.movie_id", "t.title", "t.id", "mi.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 67.211, + "Actual Total Time": 159.903, + "Actual Rows": 134, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 70.028, + "Actual Total Time": 153.456, + "Actual Rows": 167, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.301, + "Actual Total Time": 159.170, + "Actual Rows": 141, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.193, + "Actual Total Time": 148.760, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.862, + "Actual Total Time": 137.409, + "Actual Rows": 148, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 64.406, + "Actual Total Time": 146.399, + "Actual Rows": 92, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 70.022, + "Actual Total Time": 149.551, + "Actual Rows": 113, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1582.86, + "Total Cost": 3494.12, + "Plan Rows": 49, + "Plan Width": 41, + "Actual Startup Time": 69.324, + "Actual Total Time": 150.597, + "Actual Rows": 149, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "mk.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 67.201, + "Actual Total Time": 159.610, + "Actual Rows": 157, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 70.015, + "Actual Total Time": 153.209, + "Actual Rows": 182, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 71.283, + "Actual Total Time": 158.890, + "Actual Rows": 152, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.178, + "Actual Total Time": 148.547, + "Actual Rows": 146, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.847, + "Actual Total Time": 137.084, + "Actual Rows": 158, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 64.390, + "Actual Total Time": 146.181, + "Actual Rows": 105, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 70.008, + "Actual Total Time": 149.334, + "Actual Rows": 130, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1582.42, + "Total Cost": 3296.00, + "Plan Rows": 172, + "Plan Width": 33, + "Actual Startup Time": 68.839, + "Actual Total Time": 115.149, + "Actual Rows": 149, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 67.094, + "Actual Total Time": 125.002, + "Actual Rows": 155, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 69.868, + "Actual Total Time": 115.182, + "Actual Rows": 193, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 70.672, + "Actual Total Time": 119.394, + "Actual Rows": 163, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.711, + "Actual Total Time": 117.306, + "Actual Rows": 140, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.750, + "Actual Total Time": 100.767, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 64.267, + "Actual Total Time": 109.227, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 69.804, + "Actual Total Time": 114.199, + "Actual Rows": 128, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1581.36, + "Total Cost": 3292.39, + "Plan Rows": 603, + "Plan Width": 37, + "Actual Startup Time": 68.720, + "Actual Total Time": 114.890, + "Actual Rows": 170, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 67.083, + "Actual Total Time": 124.721, + "Actual Rows": 182, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 69.856, + "Actual Total Time": 114.933, + "Actual Rows": 214, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 70.654, + "Actual Total Time": 119.115, + "Actual Rows": 180, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.701, + "Actual Total Time": 117.082, + "Actual Rows": 170, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.734, + "Actual Total Time": 100.449, + "Actual Rows": 183, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 64.249, + "Actual Total Time": 108.987, + "Actual Rows": 122, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 69.789, + "Actual Total Time": 113.966, + "Actual Rows": 140, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1580.93, + "Total Cost": 2599.42, + "Plan Rows": 1505, + "Plan Width": 12, + "Actual Startup Time": 66.905, + "Actual Total Time": 83.954, + "Actual Rows": 1317, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.993, + "Actual Total Time": 86.433, + "Actual Rows": 1638, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 67.665, + "Actual Total Time": 84.347, + "Actual Rows": 1580, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 67.101, + "Actual Total Time": 85.970, + "Actual Rows": 1219, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 66.975, + "Actual Total Time": 85.741, + "Actual Rows": 1467, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.351, + "Actual Total Time": 75.919, + "Actual Rows": 976, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 61.369, + "Actual Total Time": 77.311, + "Actual Rows": 1174, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 67.140, + "Actual Total Time": 84.235, + "Actual Rows": 1167, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1579.89, + "Total Cost": 2582.91, + "Plan Rows": 2861, + "Plan Width": 16, + "Actual Startup Time": 66.832, + "Actual Total Time": 82.326, + "Actual Rows": 2503, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.901, + "Actual Total Time": 84.128, + "Actual Rows": 2989, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 67.592, + "Actual Total Time": 82.768, + "Actual Rows": 2975, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 67.082, + "Actual Total Time": 84.212, + "Actual Rows": 2252, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 66.932, + "Actual Total Time": 84.112, + "Actual Rows": 2757, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.327, + "Actual Total Time": 74.542, + "Actual Rows": 1902, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 61.306, + "Actual Total Time": 75.728, + "Actual Rows": 2133, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 67.040, + "Actual Total Time": 82.812, + "Actual Rows": 2426, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.034, + "Actual Total Time": 4.239, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 4.715, + "Actual Rows": 16465, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 4.117, + "Actual Rows": 19795, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 4.779, + "Actual Rows": 15355, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 4.418, + "Actual Rows": 19980, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 3.757, + "Actual Rows": 13135, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 4.157, + "Actual Rows": 14430, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 4.308, + "Actual Rows": 17945, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1513.65, + "Total Cost": 1513.65, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 66.573, + "Actual Total Time": 66.575, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2016, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.730, + "Actual Total Time": 66.732, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 67.488, + "Actual Total Time": 67.490, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 66.846, + "Actual Total Time": 66.848, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 66.850, + "Actual Total Time": 66.852, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.121, + "Actual Total Time": 61.123, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 61.123, + "Actual Total Time": 61.124, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 66.846, + "Actual Total Time": 66.848, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1513.65, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 10.939, + "Actual Total Time": 29.053, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.884, + "Actual Total Time": 18.885, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.261, + "Actual Total Time": 42.195, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.022, + "Actual Total Time": 19.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.355, + "Actual Total Time": 56.738, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.329, + "Actual Total Time": 13.331, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.393, + "Actual Total Time": 13.394, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.003, + "Actual Total Time": 19.004, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 10.896, + "Actual Total Time": 10.903, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.883, + "Actual Total Time": 18.883, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.120, + "Actual Total Time": 0.132, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.022, + "Actual Total Time": 19.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.259, + "Actual Total Time": 0.266, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.328, + "Actual Total Time": 13.328, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.392, + "Actual Total Time": 13.392, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.002, + "Actual Total Time": 19.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.50, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.108, + "Actual Total Time": 45.054, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.136, + "Actual Total Time": 39.136, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.093, + "Actual Total Time": 52.415, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 10536, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1638 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1580 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1219 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1467 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 976 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1174 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1167 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.021, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.114, + "Actual Total Time": 0.235, + "Actual Rows": 1, + "Actual Loops": 1195, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 125, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.221, + "Actual Rows": 1, + "Actual Loops": 155 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.196, + "Actual Rows": 1, + "Actual Loops": 193 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.127, + "Actual Total Time": 0.240, + "Actual Rows": 1, + "Actual Loops": 163 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.221, + "Actual Rows": 1, + "Actual Loops": 140 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.104, + "Actual Total Time": 0.218, + "Actual Rows": 1, + "Actual Loops": 165 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.145, + "Actual Total Time": 0.363, + "Actual Rows": 1, + "Actual Loops": 101 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.157, + "Actual Total Time": 0.272, + "Actual Rows": 1, + "Actual Loops": 128 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 6, + "Plan Width": 12, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.072, + "Actual Rows": 10, + "Actual Loops": 1068, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 12, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.074, + "Actual Rows": 8, + "Actual Loops": 134 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.057, + "Actual Rows": 9, + "Actual Loops": 167 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.067, + "Actual Rows": 7, + "Actual Loops": 141 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.079, + "Actual Rows": 11, + "Actual Loops": 126 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.074, + "Actual Rows": 8, + "Actual Loops": 148 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.094, + "Actual Rows": 12, + "Actual Loops": 92 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.078, + "Actual Rows": 13, + "Actual Loops": 113 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 10577, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 1094 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1541 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1044 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1436 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1167 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 1141 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1452 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 10120, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1032 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1504 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 985 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1383 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1122 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1066 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1376 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 10120, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 1032 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 1504 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 985 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 1383 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 1122 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 1066 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 1376 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 29814, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 2900 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 4341 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 2863 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 4149 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 3364 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 3107 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 4194 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5372730239182956237, + "Planning Time": 4174.564, + "Triggers": [ + ], + "Execution Time": 280.451, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 5372730239182956237, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_animation
FROM aka_name AS an,
     complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     info_type AS it3,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     person_info AS pi,
     role_type AS rt,
     title AS t
WHERE cct1.kind ='cast'
  AND cct2.kind ='complete+verified'
  AND chn.name = 'Queen'
  AND ci.note IN ('(voice)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND it3.info = 'trivia'
  AND k.keyword = 'computer-animation'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.title = 'Shrek 2'
  AND t.production_year BETWEEN 2000 AND 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND n.id = pi.person_id
  AND ci.person_id = pi.person_id
  AND it3.id = pi.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1388.79, + "Total Cost": 1388.80, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 131.500, + "Actual Total Time": 131.707, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1388.73, + "Total Cost": 1388.74, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 131.480, + "Actual Total Time": 131.696, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1387.73, + "Total Cost": 1387.74, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 23.231, + "Actual Total Time": 23.243, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.167, + "Actual Total Time": 11.179, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.594, + "Actual Total Time": 4.608, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.668, + "Actual Total Time": 4.682, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.561, + "Actual Total Time": 11.569, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.555, + "Actual Total Time": 12.565, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.492, + "Actual Total Time": 5.507, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.517, + "Actual Total Time": 5.532, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.40, + "Total Cost": 1386.00, + "Plan Rows": 231, + "Plan Width": 48, + "Actual Startup Time": 10.750, + "Actual Total Time": 23.086, + "Actual Rows": 202, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Join Filter": "(ci.person_id = n.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.162, + "Actual Total Time": 11.172, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.586, + "Actual Total Time": 4.599, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.660, + "Actual Total Time": 4.674, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.557, + "Actual Total Time": 11.564, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.551, + "Actual Total Time": 12.561, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.487, + "Actual Total Time": 5.501, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.511, + "Actual Total Time": 5.526, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.97, + "Total Cost": 1385.51, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 10.744, + "Actual Total Time": 21.345, + "Actual Rows": 202, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "ci.person_id", "pi.person_id", "an.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.161, + "Actual Total Time": 11.171, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.585, + "Actual Total Time": 4.598, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.659, + "Actual Total Time": 4.672, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.556, + "Actual Total Time": 11.563, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.550, + "Actual Total Time": 12.560, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.486, + "Actual Total Time": 5.499, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.510, + "Actual Total Time": 5.524, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 1385.01, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 10.713, + "Actual Total Time": 20.743, + "Actual Rows": 68, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "ci.person_id", "pi.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.161, + "Actual Total Time": 11.170, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.585, + "Actual Total Time": 4.596, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.658, + "Actual Total Time": 4.670, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.556, + "Actual Total Time": 11.563, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.550, + "Actual Total Time": 12.558, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.485, + "Actual Total Time": 5.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.510, + "Actual Total Time": 5.522, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.41, + "Total Cost": 1384.84, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 10.687, + "Actual Total Time": 20.444, + "Actual Rows": 68, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "ci.person_id", "ci.role_id", "pi.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.160, + "Actual Total Time": 11.168, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.584, + "Actual Total Time": 4.594, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.657, + "Actual Total Time": 4.669, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.555, + "Actual Total Time": 11.562, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.549, + "Actual Total Time": 12.557, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.485, + "Actual Total Time": 5.496, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.509, + "Actual Total Time": 5.521, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.99, + "Total Cost": 1384.40, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 10.683, + "Actual Total Time": 18.181, + "Actual Rows": 297, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "ci.person_id", "ci.role_id", "mc.company_id", "pi.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.160, + "Actual Total Time": 11.167, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.583, + "Actual Total Time": 4.592, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.657, + "Actual Total Time": 4.667, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.555, + "Actual Total Time": 11.561, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.548, + "Actual Total Time": 12.556, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.483, + "Actual Total Time": 5.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.508, + "Actual Total Time": 5.519, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.85, + "Total Cost": 1384.21, + "Plan Rows": 1, + "Plan Width": 53, + "Actual Startup Time": 10.681, + "Actual Total Time": 17.025, + "Actual Rows": 297, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "ci.person_id", "ci.role_id", "mc.company_id", "mi.info_type_id", "pi.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.159, + "Actual Total Time": 11.166, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.582, + "Actual Total Time": 4.591, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.656, + "Actual Total Time": 4.666, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.554, + "Actual Total Time": 11.560, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.548, + "Actual Total Time": 12.554, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.482, + "Actual Total Time": 5.492, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.507, + "Actual Total Time": 5.517, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.71, + "Total Cost": 1383.87, + "Plan Rows": 2, + "Plan Width": 57, + "Actual Startup Time": 10.625, + "Actual Total Time": 13.485, + "Actual Rows": 896, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "ci.person_id", "ci.role_id", "mc.company_id", "mi.info_type_id", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.159, + "Actual Total Time": 11.165, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.582, + "Actual Total Time": 4.590, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.655, + "Actual Total Time": 4.664, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.554, + "Actual Total Time": 11.559, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.547, + "Actual Total Time": 12.553, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.482, + "Actual Total Time": 5.490, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.506, + "Actual Total Time": 5.515, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.28, + "Total Cost": 1381.72, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 10.528, + "Actual Total Time": 12.510, + "Actual Rows": 6, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "ci.person_id", "ci.role_id", "mc.company_id", "mi.info_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.158, + "Actual Total Time": 11.164, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.581, + "Actual Total Time": 4.588, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.655, + "Actual Total Time": 4.663, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.554, + "Actual Total Time": 11.558, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.547, + "Actual Total Time": 12.552, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.481, + "Actual Total Time": 5.488, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.505, + "Actual Total Time": 5.513, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 1381.55, + "Plan Rows": 1, + "Plan Width": 53, + "Actual Startup Time": 10.526, + "Actual Total Time": 12.484, + "Actual Rows": 6, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "ci.person_id", "ci.role_id", "mc.company_id", "cc.subject_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.158, + "Actual Total Time": 11.162, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.580, + "Actual Total Time": 4.587, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.654, + "Actual Total Time": 4.661, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.553, + "Actual Total Time": 11.557, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.547, + "Actual Total Time": 12.551, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.480, + "Actual Total Time": 5.487, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.504, + "Actual Total Time": 5.511, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1380.55, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 10.511, + "Actual Total Time": 11.512, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "t.id", "mk.movie_id", "ci.movie_id", "ci.person_id", "ci.role_id", "mc.movie_id", "mc.company_id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.157, + "Actual Total Time": 11.161, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.579, + "Actual Total Time": 4.586, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.653, + "Actual Total Time": 4.660, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.553, + "Actual Total Time": 11.556, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.546, + "Actual Total Time": 12.550, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.480, + "Actual Total Time": 5.485, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.503, + "Actual Total Time": 5.510, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1380.38, + "Plan Rows": 1, + "Plan Width": 73, + "Actual Startup Time": 10.508, + "Actual Total Time": 11.498, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "t.id", "mk.movie_id", "ci.movie_id", "ci.person_id", "ci.role_id", "mc.movie_id", "mc.company_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Join Filter": "(t.id = cc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.156, + "Actual Total Time": 11.160, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.579, + "Actual Total Time": 4.584, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.652, + "Actual Total Time": 4.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.553, + "Actual Total Time": 11.556, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.546, + "Actual Total Time": 12.549, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.479, + "Actual Total Time": 5.484, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.502, + "Actual Total Time": 5.508, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.16, + "Total Cost": 1379.93, + "Plan Rows": 1, + "Plan Width": 61, + "Actual Startup Time": 10.503, + "Actual Total Time": 11.469, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "t.id", "mk.movie_id", "ci.movie_id", "ci.person_id", "ci.role_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.156, + "Actual Total Time": 11.159, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.578, + "Actual Total Time": 4.583, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.652, + "Actual Total Time": 4.657, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.552, + "Actual Total Time": 11.555, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.545, + "Actual Total Time": 12.548, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.478, + "Actual Total Time": 5.482, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.501, + "Actual Total Time": 5.506, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1379.15, + "Plan Rows": 1, + "Plan Width": 53, + "Actual Startup Time": 10.498, + "Actual Total Time": 11.457, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "t.id", "mk.movie_id", "ci.movie_id", "ci.person_id", "ci.role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.155, + "Actual Total Time": 11.158, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.577, + "Actual Total Time": 4.581, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.651, + "Actual Total Time": 4.655, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.543, + "Actual Total Time": 11.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.544, + "Actual Total Time": 12.547, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.477, + "Actual Total Time": 5.481, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.501, + "Actual Total Time": 5.504, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1376.50, + "Plan Rows": 5, + "Plan Width": 41, + "Actual Startup Time": 10.414, + "Actual Total Time": 11.360, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.155, + "Actual Total Time": 11.157, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.576, + "Actual Total Time": 4.580, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.650, + "Actual Total Time": 4.654, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.543, + "Actual Total Time": 11.544, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.544, + "Actual Total Time": 12.546, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.476, + "Actual Total Time": 5.479, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.500, + "Actual Total Time": 5.503, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1374.81, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 10.407, + "Actual Total Time": 11.174, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.154, + "Actual Total Time": 11.155, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.576, + "Actual Total Time": 4.578, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.649, + "Actual Total Time": 4.652, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.542, + "Actual Total Time": 11.543, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.543, + "Actual Total Time": 12.544, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.476, + "Actual Total Time": 5.477, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.499, + "Actual Total Time": 5.501, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1347.33, + "Plan Rows": 59, + "Plan Width": 4, + "Actual Startup Time": 7.189, + "Actual Total Time": 8.131, + "Actual Rows": 52, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.153, + "Actual Total Time": 11.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.575, + "Actual Total Time": 4.576, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.648, + "Actual Total Time": 4.650, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.542, + "Actual Total Time": 11.542, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.543, + "Actual Total Time": 12.544, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.474, + "Actual Total Time": 5.475, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.498, + "Actual Total Time": 5.499, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.940, + "Actual Total Time": 6.944, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'computer-animation'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.153, + "Actual Total Time": 11.153, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.574, + "Actual Total Time": 4.574, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.647, + "Actual Total Time": 4.648, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.541, + "Actual Total Time": 11.541, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.542, + "Actual Total Time": 12.542, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.474, + "Actual Total Time": 5.474, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.497, + "Actual Total Time": 5.498, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 414, + "Plan Width": 8, + "Actual Startup Time": 1.983, + "Actual Total Time": 9.310, + "Actual Rows": 414, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 414, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010) AND (t.title = 'Shrek 2'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.26, + "Plan Rows": 35, + "Plan Width": 16, + "Actual Startup Time": 0.050, + "Actual Total Time": 1.454, + "Actual Rows": 38, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 191, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 38, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(chn.name = 'Queen'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.056, + "Actual Rows": 22, + "Actual Loops": 1, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 22, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 22, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.351, + "Actual Rows": 2, + "Actual Loops": 22, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 455, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 44, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.72, + "Plan Rows": 143, + "Plan Width": 8, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.127, + "Actual Rows": 163, + "Actual Loops": 44, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it3", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 7172, + "Output": ["it3.id", "it3.info"], + "Index Cond": "(it3.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it3.info)::text = 'trivia'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 2376, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 2376, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 540, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 3, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 540, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1620, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = pi.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1693774000992751456, + "Planning Time": 5334.295, + "Triggers": [ + ], + "Execution Time": 148.204, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 1693774000992751456, + "JOINS": 16 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_animation
FROM aka_name AS an,
     complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     info_type AS it3,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     person_info AS pi,
     role_type AS rt,
     title AS t
WHERE cct1.kind ='cast'
  AND cct2.kind ='complete+verified'
  AND chn.name = 'Queen'
  AND ci.note IN ('(voice)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND it3.info = 'height'
  AND k.keyword = 'computer-animation'
  AND mi.info LIKE 'USA:%200%'
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.title = 'Shrek 2'
  AND t.production_year BETWEEN 2000 AND 2005
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND n.id = pi.person_id
  AND ci.person_id = pi.person_id
  AND it3.id = pi.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1391.02, + "Total Cost": 1391.03, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 23.629, + "Actual Total Time": 26.068, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1390.96, + "Total Cost": 1390.97, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 23.056, + "Actual Total Time": 26.046, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1389.96, + "Total Cost": 1389.97, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 9.554, + "Actual Total Time": 9.573, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.022, + "Actual Total Time": 11.036, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.230, + "Actual Total Time": 11.244, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.111, + "Actual Total Time": 5.131, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.389, + "Actual Total Time": 11.404, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.421, + "Actual Total Time": 5.440, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.069, + "Actual Total Time": 5.088, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.392, + "Actual Total Time": 5.412, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.15, + "Total Cost": 1389.94, + "Plan Rows": 2, + "Plan Width": 48, + "Actual Startup Time": 8.055, + "Actual Total Time": 9.561, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.018, + "Actual Total Time": 11.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.224, + "Actual Total Time": 11.237, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.106, + "Actual Total Time": 5.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.384, + "Actual Total Time": 11.398, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.414, + "Actual Total Time": 5.432, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.064, + "Actual Total Time": 5.082, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.385, + "Actual Total Time": 5.404, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.71, + "Total Cost": 1388.87, + "Plan Rows": 2, + "Plan Width": 36, + "Actual Startup Time": 8.047, + "Actual Total Time": 9.549, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.018, + "Actual Total Time": 11.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.223, + "Actual Total Time": 11.235, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.105, + "Actual Total Time": 5.122, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.383, + "Actual Total Time": 11.397, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.413, + "Actual Total Time": 5.429, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.062, + "Actual Total Time": 5.079, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.384, + "Actual Total Time": 5.402, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.29, + "Total Cost": 1388.37, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 8.043, + "Actual Total Time": 9.535, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "pi.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.017, + "Actual Total Time": 11.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.223, + "Actual Total Time": 11.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.104, + "Actual Total Time": 5.121, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.383, + "Actual Total Time": 11.396, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.412, + "Actual Total Time": 5.428, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.062, + "Actual Total Time": 5.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.383, + "Actual Total Time": 5.400, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.14, + "Total Cost": 1388.19, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 8.038, + "Actual Total Time": 9.527, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mi.info_type_id", "pi.person_id"], + "Inner Unique": true, + "Hash Cond": "(pi.info_type_id = it3.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.017, + "Actual Total Time": 11.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.222, + "Actual Total Time": 11.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.103, + "Actual Total Time": 5.119, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.382, + "Actual Total Time": 11.394, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.411, + "Actual Total Time": 5.426, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.061, + "Actual Total Time": 5.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.382, + "Actual Total Time": 5.398, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.29, + "Total Cost": 1386.03, + "Plan Rows": 116, + "Plan Width": 56, + "Actual Startup Time": 7.882, + "Actual Total Time": 9.358, + "Actual Rows": 102, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mi.info_type_id", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.962, + "Actual Total Time": 10.971, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.157, + "Actual Total Time": 11.165, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.987, + "Actual Total Time": 5.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.306, + "Actual Total Time": 11.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.266, + "Actual Total Time": 5.278, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.897, + "Actual Total Time": 4.910, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.266, + "Actual Total Time": 5.279, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.86, + "Total Cost": 1383.27, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 7.876, + "Actual Total Time": 9.200, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.962, + "Actual Total Time": 10.970, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.156, + "Actual Total Time": 11.164, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.986, + "Actual Total Time": 4.999, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.305, + "Actual Total Time": 11.314, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.265, + "Actual Total Time": 5.276, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.896, + "Actual Total Time": 4.908, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.264, + "Actual Total Time": 5.277, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.43, + "Total Cost": 1382.34, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 7.857, + "Actual Total Time": 8.900, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.961, + "Actual Total Time": 10.969, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.156, + "Actual Total Time": 11.163, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.986, + "Actual Total Time": 4.997, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.304, + "Actual Total Time": 11.313, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.264, + "Actual Total Time": 5.275, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.895, + "Actual Total Time": 4.906, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.264, + "Actual Total Time": 5.275, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.28, + "Total Cost": 1382.17, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 7.853, + "Actual Total Time": 8.892, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.961, + "Actual Total Time": 10.967, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.155, + "Actual Total Time": 11.161, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.985, + "Actual Total Time": 4.995, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.304, + "Actual Total Time": 11.311, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.263, + "Actual Total Time": 5.273, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.894, + "Actual Total Time": 4.904, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.263, + "Actual Total Time": 5.272, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1382.00, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 7.849, + "Actual Total Time": 8.886, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.960, + "Actual Total Time": 10.966, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.155, + "Actual Total Time": 11.160, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.984, + "Actual Total Time": 4.993, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.303, + "Actual Total Time": 11.310, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.262, + "Actual Total Time": 5.270, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.893, + "Actual Total Time": 4.902, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.262, + "Actual Total Time": 5.270, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.00, + "Total Cost": 1381.83, + "Plan Rows": 1, + "Plan Width": 76, + "Actual Startup Time": 7.843, + "Actual Total Time": 8.877, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Join Filter": "(t.id = cc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.960, + "Actual Total Time": 10.964, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.154, + "Actual Total Time": 11.158, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.983, + "Actual Total Time": 4.991, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.303, + "Actual Total Time": 11.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.262, + "Actual Total Time": 5.269, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.892, + "Actual Total Time": 4.899, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.261, + "Actual Total Time": 5.268, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1381.38, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 7.840, + "Actual Total Time": 8.864, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.959, + "Actual Total Time": 10.963, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.153, + "Actual Total Time": 11.157, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.983, + "Actual Total Time": 4.989, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.302, + "Actual Total Time": 11.307, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.261, + "Actual Total Time": 5.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.891, + "Actual Total Time": 4.897, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.260, + "Actual Total Time": 5.266, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.16, + "Total Cost": 1380.05, + "Plan Rows": 3, + "Plan Width": 68, + "Actual Startup Time": 7.835, + "Actual Total Time": 8.798, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.958, + "Actual Total Time": 10.962, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.153, + "Actual Total Time": 11.156, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.982, + "Actual Total Time": 4.987, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.302, + "Actual Total Time": 11.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.260, + "Actual Total Time": 5.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.890, + "Actual Total Time": 4.895, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.259, + "Actual Total Time": 5.265, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1379.26, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 7.829, + "Actual Total Time": 8.783, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.958, + "Actual Total Time": 10.960, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.152, + "Actual Total Time": 11.155, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.981, + "Actual Total Time": 4.985, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.301, + "Actual Total Time": 11.304, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.259, + "Actual Total Time": 5.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.889, + "Actual Total Time": 4.893, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.258, + "Actual Total Time": 5.263, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1376.54, + "Plan Rows": 5, + "Plan Width": 41, + "Actual Startup Time": 7.711, + "Actual Total Time": 8.644, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.957, + "Actual Total Time": 10.959, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.152, + "Actual Total Time": 11.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.980, + "Actual Total Time": 4.984, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.300, + "Actual Total Time": 11.303, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.258, + "Actual Total Time": 5.262, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.888, + "Actual Total Time": 4.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.258, + "Actual Total Time": 5.261, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1374.83, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 7.704, + "Actual Total Time": 8.415, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.956, + "Actual Total Time": 10.958, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.151, + "Actual Total Time": 11.153, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.979, + "Actual Total Time": 4.982, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.300, + "Actual Total Time": 11.301, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.258, + "Actual Total Time": 5.260, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.887, + "Actual Total Time": 4.890, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.257, + "Actual Total Time": 5.260, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1347.33, + "Plan Rows": 59, + "Plan Width": 4, + "Actual Startup Time": 6.740, + "Actual Total Time": 7.420, + "Actual Rows": 52, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.956, + "Actual Total Time": 10.957, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.150, + "Actual Total Time": 11.151, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.979, + "Actual Total Time": 4.980, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.299, + "Actual Total Time": 11.300, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.257, + "Actual Total Time": 5.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.886, + "Actual Total Time": 4.888, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.256, + "Actual Total Time": 5.258, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.732, + "Actual Total Time": 7.084, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'computer-animation'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.955, + "Actual Total Time": 10.956, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.150, + "Actual Total Time": 11.150, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.978, + "Actual Total Time": 4.978, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.298, + "Actual Total Time": 11.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.256, + "Actual Total Time": 5.257, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.885, + "Actual Total Time": 4.885, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.255, + "Actual Total Time": 5.256, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 414, + "Plan Width": 8, + "Actual Startup Time": 0.052, + "Actual Total Time": 2.512, + "Actual Rows": 414, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 414, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2005) AND (t.title = 'Shrek 2'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.26, + "Plan Rows": 36, + "Plan Width": 16, + "Actual Startup Time": 0.048, + "Actual Total Time": 1.785, + "Actual Rows": 38, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 191, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 38, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 23, + "Plan Width": 8, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.080, + "Actual Rows": 22, + "Actual Loops": 1, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 22, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["rt.id"], + "Cache Key": "ci.role_id", + "Cache Mode": "logical", + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.120, + "Actual Total Time": 0.475, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info ~~ 'USA:%200%'::text)", + "Rows Removed by Filter": 456, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.72, + "Plan Rows": 163, + "Plan Width": 8, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.153, + "Actual Rows": 163, + "Actual Loops": 5, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it3.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it3", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it3.id"], + "Filter": "((it3.info)::text = 'height'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["it.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 3, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 5, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = pi.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.44, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 15, + "Output": ["chn.name", "chn.id"], + "Cache Key": "ci.person_role_id", + "Cache Mode": "logical", + "Cache Hits": 14, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["chn.name", "chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(chn.name = 'Queen'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6571914703387389993, + "Planning Time": 5648.290, + "Triggers": [ + ], + "Execution Time": 42.655, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -6571914703387389993, + "JOINS": 16 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_animation
FROM aka_name AS an,
     complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     info_type AS it3,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     person_info AS pi,
     role_type AS rt,
     title AS t
WHERE cct1.kind ='cast'
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND it3.info = 'trivia'
  AND k.keyword = 'computer-animation'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2000 AND 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND n.id = pi.person_id
  AND ci.person_id = pi.person_id
  AND it3.id = pi.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1544.97, + "Total Cost": 1544.98, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2801.011, + "Actual Total Time": 2801.360, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1544.91, + "Total Cost": 1544.92, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 2800.986, + "Actual Total Time": 2801.349, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1543.91, + "Total Cost": 1543.92, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 357.045, + "Actual Total Time": 357.062, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.475, + "Actual Total Time": 5.496, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.415, + "Actual Total Time": 13.426, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.347, + "Actual Total Time": 10.362, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.549, + "Actual Total Time": 5.568, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.350, + "Actual Total Time": 10.366, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.921, + "Actual Total Time": 5.942, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.530, + "Actual Total Time": 5.551, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10.68, + "Total Cost": 1526.43, + "Plan Rows": 2330, + "Plan Width": 48, + "Actual Startup Time": 78.122, + "Actual Total Time": 355.493, + "Actual Rows": 2038, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.468, + "Actual Total Time": 5.488, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.411, + "Actual Total Time": 13.421, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.341, + "Actual Total Time": 10.356, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.544, + "Actual Total Time": 5.562, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.347, + "Actual Total Time": 10.362, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.915, + "Actual Total Time": 5.934, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.521, + "Actual Total Time": 5.541, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 9.64, + "Total Cost": 1503.75, + "Plan Rows": 4003, + "Plan Width": 52, + "Actual Startup Time": 28.400, + "Actual Total Time": 353.123, + "Actual Rows": 3503, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "n.name", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.864, + "Actual Total Time": 4.881, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.158, + "Actual Total Time": 13.167, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.033, + "Actual Total Time": 10.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.898, + "Actual Total Time": 4.915, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.039, + "Actual Total Time": 10.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.329, + "Actual Total Time": 5.347, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.881, + "Actual Total Time": 4.899, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 9.51, + "Total Cost": 1503.58, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 28.397, + "Actual Total Time": 341.146, + "Actual Rows": 3503, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "n.name", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.863, + "Actual Total Time": 4.879, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.157, + "Actual Total Time": 13.166, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.033, + "Actual Total Time": 10.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.897, + "Actual Total Time": 4.914, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.039, + "Actual Total Time": 10.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.328, + "Actual Total Time": 5.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.880, + "Actual Total Time": 4.897, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 9.09, + "Total Cost": 1503.13, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 20.881, + "Actual Total Time": 313.859, + "Actual Rows": 4151, + "Actual Loops": 8, + "Output": ["chn.name", "mk.movie_id", "mi.movie_id", "ci.movie_id", "t.title", "t.id", "n.name", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.862, + "Actual Total Time": 4.878, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.156, + "Actual Total Time": 13.165, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.032, + "Actual Total Time": 10.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.897, + "Actual Total Time": 4.912, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.038, + "Actual Total Time": 10.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.327, + "Actual Total Time": 5.342, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.879, + "Actual Total Time": 4.895, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.67, + "Total Cost": 1502.69, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 20.872, + "Actual Total Time": 175.280, + "Actual Rows": 21158, + "Actual Loops": 8, + "Output": ["chn.name", "mk.movie_id", "mi.movie_id", "ci.movie_id", "t.title", "t.id", "n.name", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.861, + "Actual Total Time": 4.876, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.156, + "Actual Total Time": 13.164, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.032, + "Actual Total Time": 10.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.896, + "Actual Total Time": 4.910, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.038, + "Actual Total Time": 10.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.326, + "Actual Total Time": 5.341, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.878, + "Actual Total Time": 4.894, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.24, + "Total Cost": 1501.92, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 20.835, + "Actual Total Time": 149.508, + "Actual Rows": 833, + "Actual Loops": 8, + "Output": ["chn.name", "mk.movie_id", "mi.movie_id", "ci.movie_id", "t.title", "t.id", "n.name"], + "Inner Unique": true, + "Join Filter": "(ci.person_id = n.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.860, + "Actual Total Time": 4.874, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.155, + "Actual Total Time": 13.163, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.031, + "Actual Total Time": 10.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.895, + "Actual Total Time": 4.908, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.037, + "Actual Total Time": 10.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.325, + "Actual Total Time": 5.339, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.877, + "Actual Total Time": 4.892, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.81, + "Total Cost": 1501.43, + "Plan Rows": 1, + "Plan Width": 61, + "Actual Startup Time": 11.043, + "Actual Total Time": 101.600, + "Actual Rows": 6044, + "Actual Loops": 8, + "Output": ["an.person_id", "chn.name", "mk.movie_id", "mi.movie_id", "ci.movie_id", "ci.person_id", "t.title", "t.id", "pi.person_id"], + "Inner Unique": true, + "Hash Cond": "(pi.info_type_id = it3.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.859, + "Actual Total Time": 4.872, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.155, + "Actual Total Time": 13.162, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.030, + "Actual Total Time": 10.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.894, + "Actual Total Time": 4.907, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.036, + "Actual Total Time": 10.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.324, + "Actual Total Time": 5.337, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.876, + "Actual Total Time": 4.890, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.97, + "Total Cost": 1499.54, + "Plan Rows": 18, + "Plan Width": 65, + "Actual Startup Time": 11.023, + "Actual Total Time": 95.426, + "Actual Rows": 21769, + "Actual Loops": 8, + "Output": ["an.person_id", "chn.name", "mk.movie_id", "mi.movie_id", "ci.movie_id", "ci.person_id", "t.title", "t.id", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(ci.person_id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.845, + "Actual Total Time": 4.856, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.149, + "Actual Total Time": 13.155, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.024, + "Actual Total Time": 10.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.882, + "Actual Total Time": 4.893, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.030, + "Actual Total Time": 10.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.310, + "Actual Total Time": 5.321, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.862, + "Actual Total Time": 4.873, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.54, + "Total Cost": 1495.66, + "Plan Rows": 2, + "Plan Width": 57, + "Actual Startup Time": 10.941, + "Actual Total Time": 57.423, + "Actual Rows": 405, + "Actual Loops": 8, + "Output": ["an.person_id", "chn.name", "mk.movie_id", "mi.movie_id", "ci.movie_id", "ci.person_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.844, + "Actual Total Time": 4.854, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.148, + "Actual Total Time": 13.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.023, + "Actual Total Time": 10.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.882, + "Actual Total Time": 4.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.029, + "Actual Total Time": 10.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.309, + "Actual Total Time": 5.319, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.861, + "Actual Total Time": 4.871, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.11, + "Total Cost": 1493.76, + "Plan Rows": 4, + "Plan Width": 36, + "Actual Startup Time": 10.936, + "Actual Total Time": 53.926, + "Actual Rows": 438, + "Actual Loops": 8, + "Output": ["an.person_id", "chn.name", "mk.movie_id", "mi.movie_id", "ci.movie_id", "ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.843, + "Actual Total Time": 4.853, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.148, + "Actual Total Time": 13.153, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.022, + "Actual Total Time": 10.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.881, + "Actual Total Time": 4.889, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.029, + "Actual Total Time": 10.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.308, + "Actual Total Time": 5.317, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.860, + "Actual Total Time": 4.870, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.68, + "Total Cost": 1492.79, + "Plan Rows": 2, + "Plan Width": 32, + "Actual Startup Time": 10.534, + "Actual Total Time": 47.705, + "Actual Rows": 227, + "Actual Loops": 8, + "Output": ["chn.name", "mk.movie_id", "mi.movie_id", "ci.movie_id", "ci.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.842, + "Actual Total Time": 4.851, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.147, + "Actual Total Time": 13.152, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.022, + "Actual Total Time": 10.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.880, + "Actual Total Time": 4.887, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.028, + "Actual Total Time": 10.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.308, + "Actual Total Time": 5.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.859, + "Actual Total Time": 4.868, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.25, + "Total Cost": 1490.76, + "Plan Rows": 4, + "Plan Width": 20, + "Actual Startup Time": 10.529, + "Actual Total Time": 44.904, + "Actual Rows": 278, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.841, + "Actual Total Time": 4.849, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.147, + "Actual Total Time": 13.151, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.021, + "Actual Total Time": 10.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.879, + "Actual Total Time": 4.885, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.027, + "Actual Total Time": 10.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.307, + "Actual Total Time": 5.314, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.857, + "Actual Total Time": 4.866, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 1489.51, + "Plan Rows": 42, + "Plan Width": 24, + "Actual Startup Time": 8.588, + "Actual Total Time": 44.513, + "Actual Rows": 980, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.829, + "Actual Total Time": 4.834, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.142, + "Actual Total Time": 13.145, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.016, + "Actual Total Time": 10.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.868, + "Actual Total Time": 4.873, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.022, + "Actual Total Time": 10.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.295, + "Actual Total Time": 5.300, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.848, + "Actual Total Time": 4.854, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1407.98, + "Plan Rows": 53, + "Plan Width": 8, + "Actual Startup Time": 7.097, + "Actual Total Time": 14.749, + "Actual Rows": 47, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.828, + "Actual Total Time": 4.833, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.142, + "Actual Total Time": 13.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.016, + "Actual Total Time": 10.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.867, + "Actual Total Time": 4.871, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.022, + "Actual Total Time": 10.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.294, + "Actual Total Time": 5.298, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.847, + "Actual Total Time": 4.852, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1406.00, + "Plan Rows": 53, + "Plan Width": 12, + "Actual Startup Time": 7.070, + "Actual Total Time": 14.651, + "Actual Rows": 47, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.799, + "Actual Total Time": 4.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.130, + "Actual Total Time": 13.131, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.002, + "Actual Total Time": 10.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.840, + "Actual Total Time": 4.842, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.008, + "Actual Total Time": 10.010, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.265, + "Actual Total Time": 5.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.821, + "Actual Total Time": 4.824, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1347.33, + "Plan Rows": 59, + "Plan Width": 4, + "Actual Startup Time": 6.631, + "Actual Total Time": 6.937, + "Actual Rows": 52, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.798, + "Actual Total Time": 4.800, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.129, + "Actual Total Time": 13.130, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.001, + "Actual Total Time": 10.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.839, + "Actual Total Time": 4.841, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.007, + "Actual Total Time": 10.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.264, + "Actual Total Time": 5.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.820, + "Actual Total Time": 4.822, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.621, + "Actual Total Time": 6.624, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'computer-animation'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.798, + "Actual Total Time": 4.798, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.129, + "Actual Total Time": 13.129, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.000, + "Actual Total Time": 10.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.839, + "Actual Total Time": 4.839, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.007, + "Actual Total Time": 10.008, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.263, + "Actual Total Time": 5.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.819, + "Actual Total Time": 4.820, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 414, + "Plan Width": 8, + "Actual Startup Time": 0.076, + "Actual Total Time": 2.289, + "Actual Rows": 414, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.115, + "Actual Total Time": 0.147, + "Actual Rows": 1, + "Actual Loops": 414, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 70, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.30, + "Plan Rows": 19, + "Plan Width": 16, + "Actual Startup Time": 0.135, + "Actual Total Time": 0.628, + "Actual Rows": 21, + "Actual Loops": 374, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 72, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 2227, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 2, + "Actual Loops": 1819, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 3505, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.71, + "Plan Rows": 98, + "Plan Width": 8, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.073, + "Actual Rows": 54, + "Actual Loops": 3242, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it3.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it3", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it3.id"], + "Filter": "((it3.info)::text = 'trivia'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 48350, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = pi.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 21, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.020, + "Actual Rows": 25, + "Actual Loops": 6663, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 169268, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 33206, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 28022, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3549109824785540005, + "Planning Time": 5155.225, + "Triggers": [ + ], + "Execution Time": 2815.710, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 3549109824785540005, + "JOINS": 16 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[de]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9412.95, + "Total Cost": 9412.96, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1047.427, + "Actual Total Time": 1076.892, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9412.93, + "Total Cost": 9412.94, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 63.659, + "Actual Total Time": 1076.871, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9411.93, + "Total Cost": 9411.94, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 177.248, + "Actual Total Time": 177.255, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1039.213, + "Actual Total Time": 1039.216, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 53.045, + "Actual Total Time": 53.053, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 54.491, + "Actual Total Time": 54.500, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.077, + "Actual Total Time": 48.086, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 55.377, + "Actual Total Time": 55.385, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 49.151, + "Actual Total Time": 49.159, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 55.831, + "Actual Total Time": 55.839, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3378.75, + "Total Cost": 9409.13, + "Plan Rows": 1119, + "Plan Width": 17, + "Actual Startup Time": 53.697, + "Actual Total Time": 176.713, + "Actual Rows": 979, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 50.852, + "Actual Total Time": 1034.928, + "Actual Rows": 7834, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 53.040, + "Actual Total Time": 53.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 54.483, + "Actual Total Time": 54.492, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.068, + "Actual Total Time": 48.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 55.371, + "Actual Total Time": 55.378, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 49.145, + "Actual Total Time": 49.153, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 55.824, + "Actual Total Time": 55.832, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3378.32, + "Total Cost": 8459.27, + "Plan Rows": 2040, + "Plan Width": 8, + "Actual Startup Time": 53.682, + "Actual Total Time": 156.720, + "Actual Rows": 979, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 50.740, + "Actual Total Time": 874.996, + "Actual Rows": 7834, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 53.039, + "Actual Total Time": 53.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 54.482, + "Actual Total Time": 54.489, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.067, + "Actual Total Time": 48.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 55.369, + "Actual Total Time": 55.375, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 49.144, + "Actual Total Time": 49.151, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 55.823, + "Actual Total Time": 55.830, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5026.11, + "Plan Rows": 21222, + "Plan Width": 12, + "Actual Startup Time": 6.286, + "Actual Total Time": 103.667, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.company_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.268, + "Actual Total Time": 780.294, + "Actual Rows": 148552, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.153, + "Actual Total Time": 8.156, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.213, + "Actual Total Time": 8.216, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.141, + "Actual Total Time": 8.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.167, + "Actual Total Time": 8.170, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.177, + "Actual Total Time": 8.181, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.161, + "Actual Total Time": 8.165, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1761.59, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.218, + "Actual Total Time": 26.169, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.739, + "Actual Total Time": 160.331, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.151, + "Actual Total Time": 8.153, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.212, + "Actual Total Time": 8.213, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.139, + "Actual Total Time": 8.141, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.165, + "Actual Total Time": 8.167, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.176, + "Actual Total Time": 8.178, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.160, + "Actual Total Time": 8.162, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.167, + "Actual Total Time": 6.169, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.341, + "Actual Total Time": 0.347, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.150, + "Actual Total Time": 8.151, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.210, + "Actual Total Time": 8.210, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.138, + "Actual Total Time": 8.139, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.164, + "Actual Total Time": 8.165, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.175, + "Actual Total Time": 8.176, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.159, + "Actual Total Time": 8.160, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.392, + "Actual Total Time": 150.693, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.392, + "Actual Total Time": 150.693, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.013, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.013, + "Actual Rows": 4, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 1222, + "Plan Width": 4, + "Actual Startup Time": 45.734, + "Actual Total Time": 45.735, + "Actual Rows": 1222, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 640, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 46.919, + "Actual Total Time": 46.919, + "Actual Rows": 1540, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.621, + "Actual Total Time": 44.623, + "Actual Rows": 1212, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 45.985, + "Actual Total Time": 45.987, + "Actual Rows": 1628, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 39.610, + "Actual Total Time": 39.612, + "Actual Rows": 874, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 46.924, + "Actual Total Time": 46.925, + "Actual Rows": 886, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 40.691, + "Actual Total Time": 40.692, + "Actual Rows": 1164, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 47.415, + "Actual Total Time": 47.416, + "Actual Rows": 1307, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1222, + "Plan Width": 4, + "Actual Startup Time": 0.874, + "Actual Total Time": 44.552, + "Actual Rows": 1222, + "Actual Loops": 8, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[de]'::text)", + "Rows Removed by Filter": 28153, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 45.298, + "Actual Rows": 1540, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 43.382, + "Actual Rows": 1212, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 44.505, + "Actual Rows": 1628, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.198, + "Actual Total Time": 38.544, + "Actual Rows": 874, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 46.095, + "Actual Rows": 886, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.052, + "Actual Total Time": 39.616, + "Actual Rows": 1164, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 46.233, + "Actual Rows": 1307, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 7834, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 7834 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 13.622, + "Triggers": [ + ], + "Execution Time": 1078.823, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[nl]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8093.63, + "Total Cost": 8093.64, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 275.385, + "Actual Total Time": 288.900, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8093.60, + "Total Cost": 8093.61, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 275.317, + "Actual Total Time": 288.878, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8092.60, + "Total Cost": 8092.61, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 266.709, + "Actual Total Time": 266.714, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 267.525, + "Actual Total Time": 267.528, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 267.515, + "Actual Total Time": 267.521, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 264.174, + "Actual Total Time": 264.179, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 267.421, + "Actual Total Time": 267.427, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 264.183, + "Actual Total Time": 264.188, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 264.198, + "Actual Total Time": 264.202, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 264.211, + "Actual Total Time": 264.214, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1837.16, + "Total Cost": 8090.97, + "Plan Rows": 654, + "Plan Width": 17, + "Actual Startup Time": 124.739, + "Actual Total Time": 266.081, + "Actual Rows": 654, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 129.365, + "Actual Total Time": 267.079, + "Actual Rows": 400, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 124.549, + "Actual Total Time": 266.855, + "Actual Rows": 659, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 122.198, + "Actual Total Time": 263.468, + "Actual Rows": 774, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 126.720, + "Actual Total Time": 266.775, + "Actual Rows": 695, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 122.582, + "Actual Total Time": 263.545, + "Actual Rows": 647, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 121.039, + "Actual Total Time": 263.582, + "Actual Rows": 710, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 120.730, + "Actual Total Time": 263.558, + "Actual Rows": 648, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1836.73, + "Total Cost": 7703.57, + "Plan Rows": 832, + "Plan Width": 8, + "Actual Startup Time": 124.660, + "Actual Total Time": 245.671, + "Actual Rows": 654, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Hash Cond": "(mc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 129.299, + "Actual Total Time": 248.239, + "Actual Rows": 400, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 124.463, + "Actual Total Time": 242.950, + "Actual Rows": 659, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 122.113, + "Actual Total Time": 239.634, + "Actual Rows": 774, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 126.649, + "Actual Total Time": 248.590, + "Actual Rows": 695, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 122.446, + "Actual Total Time": 241.504, + "Actual Rows": 647, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 120.979, + "Actual Total Time": 245.828, + "Actual Rows": 710, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 120.642, + "Actual Total Time": 245.432, + "Actual Rows": 648, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 5801.00, + "Plan Rows": 17203, + "Plan Width": 4, + "Actual Startup Time": 6.323, + "Actual Total Time": 124.115, + "Actual Rows": 7051, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.366, + "Actual Total Time": 124.732, + "Actual Rows": 7512, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.211, + "Actual Total Time": 120.797, + "Actual Rows": 6740, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.342, + "Actual Total Time": 120.586, + "Actual Rows": 7081, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.209, + "Actual Total Time": 126.713, + "Actual Rows": 6555, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.679, + "Actual Total Time": 121.755, + "Actual Rows": 8633, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.402, + "Actual Total Time": 127.468, + "Actual Rows": 6048, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.194, + "Actual Total Time": 126.522, + "Actual Rows": 6968, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 293, + "Plan Width": 4, + "Actual Startup Time": 0.068, + "Actual Total Time": 12.555, + "Actual Rows": 292, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[nl]'::text)", + "Rows Removed by Filter": 29082, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.224, + "Actual Total Time": 10.965, + "Actual Rows": 241, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 13.353, + "Actual Rows": 316, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.067, + "Actual Total Time": 12.219, + "Actual Rows": 296, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.058, + "Actual Total Time": 12.578, + "Actual Rows": 283, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 11.652, + "Actual Rows": 230, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 12.516, + "Actual Rows": 309, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 13.452, + "Actual Rows": 310, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 8.24, + "Plan Rows": 8, + "Plan Width": 8, + "Actual Startup Time": 0.141, + "Actual Total Time": 0.372, + "Actual Rows": 24, + "Actual Loops": 2340, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.159, + "Actual Total Time": 0.460, + "Actual Rows": 31, + "Actual Loops": 241 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.131, + "Actual Total Time": 0.331, + "Actual Rows": 21, + "Actual Loops": 316 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.356, + "Actual Rows": 24, + "Actual Loops": 296 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.151, + "Actual Total Time": 0.394, + "Actual Rows": 23, + "Actual Loops": 283 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.134, + "Actual Total Time": 0.465, + "Actual Rows": 38, + "Actual Loops": 230 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.141, + "Actual Total Time": 0.364, + "Actual Rows": 20, + "Actual Loops": 309 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.134, + "Actual Total Time": 0.355, + "Actual Rows": 22, + "Actual Loops": 310 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1761.59, + "Total Cost": 1761.59, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 116.072, + "Actual Total Time": 116.074, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2176, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.243, + "Actual Total Time": 117.244, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 117.241, + "Actual Total Time": 117.242, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 113.945, + "Actual Total Time": 113.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 117.176, + "Actual Total Time": 117.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 113.931, + "Actual Total Time": 113.932, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 113.923, + "Actual Total Time": 113.924, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 113.936, + "Actual Total Time": 113.938, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1761.59, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.485, + "Actual Total Time": 18.263, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.061, + "Actual Total Time": 9.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.043, + "Actual Total Time": 9.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.769, + "Actual Total Time": 5.769, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.007, + "Actual Total Time": 9.008, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.755, + "Actual Total Time": 5.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.750, + "Actual Total Time": 5.751, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.731, + "Actual Total Time": 5.732, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.470, + "Actual Total Time": 6.471, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.054, + "Actual Total Time": 9.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.042, + "Actual Total Time": 9.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.763, + "Actual Total Time": 5.763, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.006, + "Actual Total Time": 9.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.754, + "Actual Total Time": 5.754, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.749, + "Actual Total Time": 5.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.730, + "Actual Total Time": 5.730, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.090, + "Actual Total Time": 83.290, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 5228, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 400 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 659 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 774 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 695 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 647 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 710 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 648 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 13.719, + "Triggers": [ + ], + "Execution Time": 290.506, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[sm]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5188.02, + "Total Cost": 5188.03, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 141.611, + "Actual Total Time": 170.272, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3403.47, + "Total Cost": 5188.02, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 141.605, + "Actual Total Time": 170.265, + "Actual Rows": 0, + "Actual Loops": 1, + "Output": ["t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3402.47, + "Total Cost": 5187.02, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 39.051, + "Actual Total Time": 39.056, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.398, + "Actual Total Time": 27.405, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.437, + "Actual Total Time": 27.441, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.200, + "Actual Total Time": 24.205, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.380, + "Actual Total Time": 10.385, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.552, + "Actual Total Time": 27.558, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 133.369, + "Actual Total Time": 133.373, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.553, + "Actual Total Time": 27.558, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3402.04, + "Total Cost": 5185.62, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 39.050, + "Actual Total Time": 39.054, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Hash Cond": "(mk.movie_id = mc.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.397, + "Actual Total Time": 27.402, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.436, + "Actual Total Time": 27.439, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.200, + "Actual Total Time": 24.203, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.378, + "Actual Total Time": 10.382, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.551, + "Actual Total Time": 27.555, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 133.367, + "Actual Total Time": 133.371, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.551, + "Actual Total Time": 27.555, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1761.59, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.299, + "Actual Total Time": 19.123, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.905, + "Actual Total Time": 9.907, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.718, + "Actual Total Time": 9.719, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.998, + "Actual Total Time": 7.999, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.685, + "Actual Total Time": 9.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.688, + "Actual Total Time": 103.272, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.975, + "Actual Total Time": 7.976, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.278, + "Actual Total Time": 6.280, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.904, + "Actual Total Time": 9.904, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.716, + "Actual Total Time": 9.716, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.996, + "Actual Total Time": 7.997, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.683, + "Actual Total Time": 9.683, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.534, + "Actual Total Time": 0.544, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.973, + "Actual Total Time": 7.973, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.143, + "Actual Total Time": 90.933, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.143, + "Actual Total Time": 90.933, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3401.53, + "Total Cost": 3401.53, + "Plan Rows": 6, + "Plan Width": 4, + "Actual Startup Time": 15.628, + "Actual Total Time": 15.631, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.065, + "Actual Total Time": 17.068, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.282, + "Actual Total Time": 17.284, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.046, + "Actual Total Time": 14.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.157, + "Actual Total Time": 0.159, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.427, + "Actual Total Time": 17.429, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.343, + "Actual Total Time": 17.345, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.454, + "Actual Total Time": 17.456, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3401.53, + "Plan Rows": 6, + "Plan Width": 4, + "Actual Startup Time": 12.542, + "Actual Total Time": 14.111, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.104, + "Actual Total Time": 15.106, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.306, + "Actual Total Time": 15.307, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.944, + "Actual Total Time": 13.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.423, + "Actual Total Time": 15.424, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.383, + "Actual Total Time": 15.384, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.858, + "Actual Total Time": 15.398, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 12.530, + "Actual Total Time": 14.095, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[sm]'::text)", + "Rows Removed by Filter": 29374, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.103, + "Actual Total Time": 15.103, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.304, + "Actual Total Time": 15.304, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.942, + "Actual Total Time": 13.943, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.421, + "Actual Total Time": 15.421, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.381, + "Actual Total Time": 15.382, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.771, + "Actual Total Time": 15.292, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 39.26, + "Plan Rows": 9, + "Plan Width": 8, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.095, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.095, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 14.086, + "Triggers": [ + ], + "Execution Time": 172.206, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11299.01, + "Total Cost": 11299.02, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1507.967, + "Actual Total Time": 1545.480, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11298.98, + "Total Cost": 11298.99, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 45.449, + "Actual Total Time": 1545.454, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11297.98, + "Total Cost": 11297.99, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 219.204, + "Actual Total Time": 219.210, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 38.074, + "Actual Total Time": 38.079, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 37.834, + "Actual Total Time": 37.839, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 37.485, + "Actual Total Time": 37.491, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1500.111, + "Actual Total Time": 1500.117, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.825, + "Actual Total Time": 19.829, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 38.078, + "Actual Total Time": 38.084, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.623, + "Actual Total Time": 37.628, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3495.78, + "Total Cost": 11273.61, + "Plan Rows": 9750, + "Plan Width": 17, + "Actual Startup Time": 35.562, + "Actual Total Time": 215.601, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 38.070, + "Actual Total Time": 38.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 37.830, + "Actual Total Time": 37.835, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 37.482, + "Actual Total Time": 37.487, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.005, + "Actual Total Time": 1471.281, + "Actual Rows": 68316, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.821, + "Actual Total Time": 19.825, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 38.073, + "Actual Total Time": 38.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.618, + "Actual Total Time": 37.623, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3495.35, + "Total Cost": 8576.30, + "Plan Rows": 5793, + "Plan Width": 8, + "Actual Startup Time": 35.544, + "Actual Total Time": 112.750, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 38.069, + "Actual Total Time": 38.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 37.829, + "Actual Total Time": 37.833, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 37.481, + "Actual Total Time": 37.485, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.870, + "Actual Total Time": 648.486, + "Actual Rows": 68316, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.821, + "Actual Total Time": 19.824, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 38.073, + "Actual Total Time": 38.077, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.617, + "Actual Total Time": 37.622, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5026.11, + "Plan Rows": 21222, + "Plan Width": 12, + "Actual Startup Time": 5.969, + "Actual Total Time": 73.055, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.company_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.879, + "Actual Total Time": 7.881, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.898, + "Actual Total Time": 7.900, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.898, + "Actual Total Time": 7.900, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.607, + "Actual Total Time": 537.279, + "Actual Rows": 148552, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.691, + "Actual Total Time": 7.693, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.884, + "Actual Total Time": 7.886, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1761.59, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 5.956, + "Actual Total Time": 15.344, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.878, + "Actual Total Time": 7.879, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.896, + "Actual Total Time": 7.897, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.896, + "Actual Total Time": 7.898, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.511, + "Actual Total Time": 75.606, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.690, + "Actual Total Time": 7.692, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.883, + "Actual Total Time": 7.884, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.937, + "Actual Total Time": 5.939, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.877, + "Actual Total Time": 7.878, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.895, + "Actual Total Time": 7.895, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.895, + "Actual Total Time": 7.896, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.366, + "Actual Total Time": 0.373, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.690, + "Actual Total Time": 7.690, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.882, + "Actual Total Time": 7.882, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.138, + "Actual Total Time": 65.945, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.138, + "Actual Total Time": 65.945, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 10584, + "Plan Width": 4, + "Actual Startup Time": 27.796, + "Actual Total Time": 27.797, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4480, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.837, + "Actual Total Time": 29.838, + "Actual Rows": 9003, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.570, + "Actual Total Time": 29.572, + "Actual Rows": 9029, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.223, + "Actual Total Time": 29.224, + "Actual Rows": 12946, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.828, + "Actual Total Time": 29.829, + "Actual Rows": 14571, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.587, + "Actual Total Time": 11.588, + "Actual Rows": 5197, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.839, + "Actual Total Time": 29.840, + "Actual Rows": 11511, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.378, + "Actual Total Time": 29.379, + "Actual Rows": 8071, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10584, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 16.299, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 12.108, + "Actual Rows": 9003, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 14.787, + "Actual Rows": 9029, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 20.357, + "Actual Rows": 12946, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 21.104, + "Actual Rows": 14571, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 8.020, + "Actual Rows": 5197, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 18.284, + "Actual Rows": 11511, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 12.728, + "Actual Rows": 8071, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 68316, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 68316 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 14.234, + "Triggers": [ + ], + "Execution Time": 1548.122, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS complete_violent_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.production_year > 2000
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5893.04, + "Total Cost": 5893.05, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 592.087, + "Actual Total Time": 620.874, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5892.96, + "Total Cost": 5892.97, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 587.620, + "Actual Total Time": 620.834, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5891.96, + "Total Cost": 5891.97, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 575.477, + "Actual Total Time": 575.490, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 571.302, + "Actual Total Time": 571.314, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 577.432, + "Actual Total Time": 577.442, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 572.771, + "Actual Total Time": 572.783, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 572.431, + "Actual Total Time": 572.443, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 572.657, + "Actual Total Time": 572.667, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 577.170, + "Actual Total Time": 577.187, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 573.419, + "Actual Total Time": 573.429, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1714.67, + "Total Cost": 5890.88, + "Plan Rows": 108, + "Plan Width": 80, + "Actual Startup Time": 147.641, + "Actual Total Time": 575.165, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 108.317, + "Actual Total Time": 570.983, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 230.242, + "Actual Total Time": 577.192, + "Actual Rows": 69, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 204.450, + "Actual Total Time": 572.522, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 156.797, + "Actual Total Time": 571.968, + "Actual Rows": 157, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 115.126, + "Actual Total Time": 572.245, + "Actual Rows": 111, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 103.091, + "Actual Total Time": 576.868, + "Actual Rows": 85, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 142.686, + "Actual Total Time": 573.191, + "Actual Rows": 67, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1712.83, + "Total Cost": 5888.15, + "Plan Rows": 326, + "Plan Width": 84, + "Actual Startup Time": 147.120, + "Actual Total Time": 574.404, + "Actual Rows": 285, + "Actual Loops": 8, + "Output": ["n.name", "t.title", "mi.info", "mi_idx.info", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 107.745, + "Actual Total Time": 570.177, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 229.880, + "Actual Total Time": 576.653, + "Actual Rows": 207, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 203.875, + "Actual Total Time": 571.752, + "Actual Rows": 216, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 156.193, + "Actual Total Time": 570.990, + "Actual Rows": 475, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 114.566, + "Actual Total Time": 571.384, + "Actual Rows": 339, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 102.466, + "Actual Total Time": 576.000, + "Actual Rows": 255, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 142.129, + "Actual Total Time": 572.456, + "Actual Rows": 201, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1712.40, + "Total Cost": 5832.00, + "Plan Rows": 108, + "Plan Width": 94, + "Actual Startup Time": 147.036, + "Actual Total Time": 572.444, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "cc.movie_id", "t.title", "t.id", "ci.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 107.687, + "Actual Total Time": 568.185, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 229.766, + "Actual Total Time": 575.083, + "Actual Rows": 69, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 203.831, + "Actual Total Time": 570.186, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 156.052, + "Actual Total Time": 567.897, + "Actual Rows": 157, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 114.473, + "Actual Total Time": 568.975, + "Actual Rows": 111, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 102.382, + "Actual Total Time": 574.091, + "Actual Rows": 85, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 142.028, + "Actual Total Time": 571.035, + "Actual Rows": 67, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1710.55, + "Total Cost": 5829.86, + "Plan Rows": 108, + "Plan Width": 98, + "Actual Startup Time": 147.015, + "Actual Total Time": 572.224, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "cc.movie_id", "t.title", "t.id", "ci.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 107.671, + "Actual Total Time": 567.970, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 229.751, + "Actual Total Time": 574.912, + "Actual Rows": 69, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 203.814, + "Actual Total Time": 570.003, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 156.032, + "Actual Total Time": 567.600, + "Actual Rows": 157, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 114.453, + "Actual Total Time": 568.704, + "Actual Rows": 111, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 102.364, + "Actual Total Time": 573.860, + "Actual Rows": 85, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 142.011, + "Actual Total Time": 570.868, + "Actual Rows": 67, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1710.12, + "Total Cost": 5664.92, + "Plan Rows": 177, + "Plan Width": 48, + "Actual Startup Time": 114.348, + "Actual Total Time": 531.475, + "Actual Rows": 155, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "cc.movie_id", "t.title", "t.id", "ci.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 107.592, + "Actual Total Time": 517.726, + "Actual Rows": 173, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 130.644, + "Actual Total Time": 539.948, + "Actual Rows": 131, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 108.457, + "Actual Total Time": 534.698, + "Actual Rows": 139, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 115.491, + "Actual Total Time": 527.587, + "Actual Rows": 182, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 102.610, + "Actual Total Time": 519.105, + "Actual Rows": 175, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 102.240, + "Actual Total Time": 529.747, + "Actual Rows": 170, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 128.095, + "Actual Total Time": 533.064, + "Actual Rows": 118, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1709.69, + "Total Cost": 5538.53, + "Plan Rows": 249, + "Plan Width": 37, + "Actual Startup Time": 109.595, + "Actual Total Time": 525.224, + "Actual Rows": 218, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 107.491, + "Actual Total Time": 510.713, + "Actual Rows": 235, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 115.569, + "Actual Total Time": 535.510, + "Actual Rows": 157, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 108.396, + "Actual Total Time": 528.506, + "Actual Rows": 183, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 112.207, + "Actual Total Time": 518.813, + "Actual Rows": 269, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 102.525, + "Actual Total Time": 513.358, + "Actual Rows": 222, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 102.148, + "Actual Total Time": 522.755, + "Actual Rows": 274, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 108.827, + "Actual Total Time": 527.926, + "Actual Rows": 179, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1709.25, + "Total Cost": 5145.00, + "Plan Rows": 290, + "Plan Width": 29, + "Actual Startup Time": 98.956, + "Actual Total Time": 189.504, + "Actual Rows": 253, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 99.934, + "Actual Total Time": 184.864, + "Actual Rows": 229, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.846, + "Actual Total Time": 185.773, + "Actual Rows": 230, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 101.583, + "Actual Total Time": 195.349, + "Actual Rows": 257, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 102.334, + "Actual Total Time": 194.489, + "Actual Rows": 285, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.546, + "Actual Total Time": 188.289, + "Actual Rows": 258, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.840, + "Actual Total Time": 174.427, + "Actual Rows": 279, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.825, + "Actual Total Time": 188.421, + "Actual Rows": 215, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1708.21, + "Total Cost": 5138.42, + "Plan Rows": 1026, + "Plan Width": 33, + "Actual Startup Time": 97.468, + "Actual Total Time": 188.722, + "Actual Rows": 898, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 99.919, + "Actual Total Time": 184.176, + "Actual Rows": 748, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.833, + "Actual Total Time": 185.043, + "Actual Rows": 815, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 100.835, + "Actual Total Time": 194.446, + "Actual Rows": 1047, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 92.073, + "Actual Total Time": 193.662, + "Actual Rows": 945, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.531, + "Actual Total Time": 187.511, + "Actual Rows": 907, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.825, + "Actual Total Time": 173.624, + "Actual Rows": 886, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.488, + "Actual Total Time": 187.669, + "Actual Rows": 864, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1707.78, + "Total Cost": 2769.88, + "Plan Rows": 5144, + "Plan Width": 12, + "Actual Startup Time": 93.634, + "Actual Total Time": 114.535, + "Actual Rows": 4501, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.333, + "Actual Total Time": 109.617, + "Actual Rows": 4040, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.733, + "Actual Total Time": 116.751, + "Actual Rows": 4429, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.193, + "Actual Total Time": 113.057, + "Actual Rows": 5010, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 91.500, + "Actual Total Time": 113.046, + "Actual Rows": 4396, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.456, + "Actual Total Time": 113.326, + "Actual Rows": 4824, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.608, + "Actual Total Time": 110.714, + "Actual Rows": 4215, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.298, + "Actual Total Time": 112.802, + "Actual Rows": 4685, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1706.74, + "Total Cost": 2741.03, + "Plan Rows": 5144, + "Plan Width": 16, + "Actual Startup Time": 93.611, + "Actual Total Time": 110.911, + "Actual Rows": 4501, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.313, + "Actual Total Time": 106.425, + "Actual Rows": 4040, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.717, + "Actual Total Time": 113.268, + "Actual Rows": 4429, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.170, + "Actual Total Time": 109.150, + "Actual Rows": 5010, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 91.475, + "Actual Total Time": 109.355, + "Actual Rows": 4396, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.430, + "Actual Total Time": 109.348, + "Actual Rows": 4824, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.583, + "Actual Total Time": 107.303, + "Actual Rows": 4215, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.275, + "Actual Total Time": 108.860, + "Actual Rows": 4685, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.022, + "Actual Total Time": 4.094, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 3.864, + "Actual Rows": 15910, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 3.912, + "Actual Rows": 16131, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 4.234, + "Actual Rows": 17945, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 4.265, + "Actual Rows": 17020, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 4.329, + "Actual Rows": 17205, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 3.476, + "Actual Rows": 14245, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 4.167, + "Actual Rows": 17205, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1569.75, + "Total Cost": 1569.75, + "Plan Rows": 10959, + "Plan Width": 4, + "Actual Startup Time": 93.237, + "Actual Total Time": 93.238, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4128, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.211, + "Actual Total Time": 90.213, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.642, + "Actual Total Time": 96.643, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.068, + "Actual Total Time": 91.069, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 91.374, + "Actual Total Time": 91.376, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.342, + "Actual Total Time": 91.343, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.370, + "Actual Total Time": 91.372, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.180, + "Actual Total Time": 91.181, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1569.75, + "Plan Rows": 10959, + "Plan Width": 4, + "Actual Startup Time": 16.907, + "Actual Total Time": 65.441, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 62.734, + "Actual Total Time": 62.735, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.635, + "Actual Total Time": 74.624, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.571, + "Actual Total Time": 62.903, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.776, + "Actual Total Time": 57.949, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.126, + "Actual Total Time": 77.521, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 63.848, + "Actual Total Time": 63.849, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.915, + "Actual Total Time": 55.983, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 16.760, + "Actual Total Time": 18.464, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 62.733, + "Actual Total Time": 62.733, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.481, + "Actual Total Time": 0.505, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.368, + "Actual Total Time": 0.414, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.486, + "Actual Total Time": 9.575, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.907, + "Actual Total Time": 1.912, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 63.847, + "Actual Total Time": 63.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.722, + "Actual Total Time": 0.732, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.77, + "Plan Rows": 10959, + "Plan Width": 8, + "Actual Startup Time": 0.173, + "Actual Total Time": 49.728, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.150, + "Actual Total Time": 68.101, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.142, + "Actual Total Time": 28.857, + "Actual Rows": 6314, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.284, + "Actual Total Time": 45.514, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.209, + "Actual Total Time": 69.101, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.186, + "Actual Total Time": 51.217, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.006, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 36010, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 4040 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 4429 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 5010 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 4396 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 4824 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 4215 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 4685 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 1.020, + "Actual Total Time": 1.322, + "Actual Rows": 1, + "Actual Loops": 2027, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 137, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.054, + "Actual Total Time": 1.420, + "Actual Rows": 1, + "Actual Loops": 229 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.214, + "Actual Total Time": 1.518, + "Actual Rows": 1, + "Actual Loops": 230 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.011, + "Actual Total Time": 1.294, + "Actual Rows": 1, + "Actual Loops": 257 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.861, + "Actual Total Time": 1.135, + "Actual Rows": 1, + "Actual Loops": 285 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.915, + "Actual Total Time": 1.257, + "Actual Rows": 1, + "Actual Loops": 258 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.954, + "Actual Total Time": 1.246, + "Actual Rows": 1, + "Actual Loops": 279 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.252, + "Actual Total Time": 1.576, + "Actual Rows": 1, + "Actual Loops": 215 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1741, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 235 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 157 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 183 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 269 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 222 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 274 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 179 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.189, + "Actual Total Time": 0.261, + "Actual Rows": 1, + "Actual Loops": 1238, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 237, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.214, + "Actual Total Time": 0.288, + "Actual Rows": 1, + "Actual Loops": 173 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.197, + "Actual Total Time": 0.264, + "Actual Rows": 1, + "Actual Loops": 131 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.192, + "Actual Total Time": 0.252, + "Actual Rows": 1, + "Actual Loops": 139 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.134, + "Actual Total Time": 0.217, + "Actual Rows": 1, + "Actual Loops": 182 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.179, + "Actual Total Time": 0.281, + "Actual Rows": 1, + "Actual Loops": 175 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.216, + "Actual Total Time": 0.257, + "Actual Rows": 0, + "Actual Loops": 170 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.219, + "Actual Total Time": 0.318, + "Actual Rows": 1, + "Actual Loops": 118 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 757, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 104 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 69 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 72 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 157 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 111 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 85 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 67 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6682106289455670140, + "Planning Time": 2932.620, + "Triggers": [ + ], + "Execution Time": 627.690, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -6682106289455670140, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS complete_gore_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.production_year > 2000
  AND (t.title LIKE '%Freddy%'
       OR t.title LIKE '%Jason%'
       OR t.title LIKE 'Saw%')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3879.62, + "Total Cost": 3879.63, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 149.928, + "Actual Total Time": 153.481, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3879.54, + "Total Cost": 3879.55, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 131.078, + "Actual Total Time": 153.449, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3878.54, + "Total Cost": 3878.55, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 122.396, + "Actual Total Time": 122.404, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 122.058, + "Actual Total Time": 122.066, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 133.842, + "Actual Total Time": 133.848, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.594, + "Actual Total Time": 116.602, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.937, + "Actual Total Time": 122.945, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 119.258, + "Actual Total Time": 119.268, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 116.514, + "Actual Total Time": 116.523, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.876, + "Actual Total Time": 117.884, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.48, + "Total Cost": 3878.50, + "Plan Rows": 4, + "Plan Width": 80, + "Actual Startup Time": 108.012, + "Actual Total Time": 122.386, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 122.053, + "Actual Total Time": 122.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.631, + "Actual Total Time": 133.791, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.588, + "Actual Total Time": 116.595, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.931, + "Actual Total Time": 122.940, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 119.251, + "Actual Total Time": 119.261, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 87.690, + "Actual Total Time": 116.472, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.870, + "Actual Total Time": 117.878, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.33, + "Total Cost": 3877.30, + "Plan Rows": 12, + "Plan Width": 84, + "Actual Startup Time": 108.003, + "Actual Total Time": 122.360, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["n.name", "t.title", "mi.info", "mi_idx.info", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 122.052, + "Actual Total Time": 122.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.598, + "Actual Total Time": 133.684, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.587, + "Actual Total Time": 116.594, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.931, + "Actual Total Time": 122.938, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 119.251, + "Actual Total Time": 119.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 87.657, + "Actual Total Time": 116.381, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.869, + "Actual Total Time": 117.876, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.90, + "Total Cost": 3875.26, + "Plan Rows": 4, + "Plan Width": 94, + "Actual Startup Time": 107.985, + "Actual Total Time": 122.297, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["n.name", "cc.movie_id", "t.title", "t.id", "mk.movie_id", "mi.info", "mi.movie_id", "ci.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 122.052, + "Actual Total Time": 122.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.525, + "Actual Total Time": 133.401, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.586, + "Actual Total Time": 116.592, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.930, + "Actual Total Time": 122.937, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 119.250, + "Actual Total Time": 119.257, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 87.592, + "Actual Total Time": 116.164, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.869, + "Actual Total Time": 117.875, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.47, + "Total Cost": 3873.23, + "Plan Rows": 4, + "Plan Width": 83, + "Actual Startup Time": 107.971, + "Actual Total Time": 122.234, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "mk.movie_id", "mi.info", "mi.movie_id", "ci.movie_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 122.051, + "Actual Total Time": 122.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.470, + "Actual Total Time": 133.142, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.585, + "Actual Total Time": 116.591, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.929, + "Actual Total Time": 122.935, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 119.249, + "Actual Total Time": 119.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 87.534, + "Actual Total Time": 115.930, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.868, + "Actual Total Time": 117.874, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.03, + "Total Cost": 3870.49, + "Plan Rows": 2, + "Plan Width": 75, + "Actual Startup Time": 107.874, + "Actual Total Time": 121.702, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "mk.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 122.051, + "Actual Total Time": 122.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.972, + "Actual Total Time": 129.987, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.585, + "Actual Total Time": 116.590, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.929, + "Actual Total Time": 122.934, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 119.249, + "Actual Total Time": 119.255, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 87.258, + "Actual Total Time": 114.836, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.867, + "Actual Total Time": 117.873, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.61, + "Total Cost": 3870.04, + "Plan Rows": 1, + "Plan Width": 79, + "Actual Startup Time": 105.491, + "Actual Total Time": 120.779, + "Actual Rows": 60, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "mk.movie_id", "mk.keyword_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 122.050, + "Actual Total Time": 122.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.082, + "Actual Total Time": 124.565, + "Actual Rows": 374, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.584, + "Actual Total Time": 116.589, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.928, + "Actual Total Time": 122.932, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 119.249, + "Actual Total Time": 119.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 69.089, + "Actual Total Time": 112.881, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.867, + "Actual Total Time": 117.872, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.47, + "Total Cost": 3869.86, + "Plan Rows": 1, + "Plan Width": 83, + "Actual Startup Time": 105.478, + "Actual Total Time": 120.410, + "Actual Rows": 60, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "mk.movie_id", "mk.keyword_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 122.049, + "Actual Total Time": 122.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.031, + "Actual Total Time": 122.288, + "Actual Rows": 374, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.584, + "Actual Total Time": 116.588, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.928, + "Actual Total Time": 122.931, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 119.248, + "Actual Total Time": 119.253, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 69.043, + "Actual Total Time": 112.210, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.866, + "Actual Total Time": 117.870, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.03, + "Total Cost": 3868.91, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 105.392, + "Actual Total Time": 105.700, + "Actual Rows": 36, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 122.049, + "Actual Total Time": 122.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.493, + "Actual Total Time": 46.527, + "Actual Rows": 187, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.583, + "Actual Total Time": 116.586, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.927, + "Actual Total Time": 122.930, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 119.248, + "Actual Total Time": 119.252, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 68.892, + "Actual Total Time": 70.300, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.865, + "Actual Total Time": 117.869, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.60, + "Total Cost": 3865.86, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 105.368, + "Actual Total Time": 105.618, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 122.048, + "Actual Total Time": 122.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.395, + "Actual Total Time": 46.147, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.582, + "Actual Total Time": 116.585, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.926, + "Actual Total Time": 122.929, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 119.247, + "Actual Total Time": 119.250, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 68.802, + "Actual Total Time": 70.034, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.865, + "Actual Total Time": 117.868, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 3865.70, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 105.353, + "Actual Total Time": 105.603, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 122.047, + "Actual Total Time": 122.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.336, + "Actual Total Time": 46.087, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.581, + "Actual Total Time": 116.583, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.926, + "Actual Total Time": 122.928, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 119.246, + "Actual Total Time": 119.249, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 68.751, + "Actual Total Time": 69.982, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.864, + "Actual Total Time": 117.866, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 3513, + "Plan Width": 8, + "Actual Startup Time": 0.172, + "Actual Total Time": 11.750, + "Actual Rows": 3074, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.088, + "Actual Total Time": 12.544, + "Actual Rows": 3530, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.179, + "Actual Total Time": 2.784, + "Actual Rows": 627, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.169, + "Actual Total Time": 14.168, + "Actual Rows": 3450, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.098, + "Actual Total Time": 14.571, + "Actual Rows": 3699, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.163, + "Actual Total Time": 14.120, + "Actual Rows": 4040, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.188, + "Actual Total Time": 6.879, + "Actual Rows": 1413, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.203, + "Actual Total Time": 14.360, + "Actual Rows": 3920, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.024, + "Actual Total Time": 3.830, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 4.046, + "Actual Rows": 17390, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.913, + "Actual Rows": 4070, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 4.709, + "Actual Rows": 20386, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 4.794, + "Actual Rows": 20535, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 4.623, + "Actual Rows": 21275, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 2.219, + "Actual Rows": 8325, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 4.700, + "Actual Rows": 21830, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.81, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 24592, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2000) AND ((t.title ~~ '%Freddy%'::text) OR (t.title ~~ '%Jason%'::text) OR (t.title ~~ 'Saw%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 3530 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.068, + "Actual Rows": 0, + "Actual Loops": 627 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 3450 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 3699 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 4040 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1413 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 3920 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.23, + "Plan Rows": 146, + "Plan Width": 8, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.213, + "Actual Rows": 146, + "Actual Loops": 2, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.251, + "Actual Rows": 187, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.175, + "Actual Rows": 104, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 2, + "Plan Width": 50, + "Actual Startup Time": 0.301, + "Actual Total Time": 0.403, + "Actual Rows": 2, + "Actual Loops": 291, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 453, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.398, + "Actual Total Time": 0.403, + "Actual Rows": 2, + "Actual Loops": 187 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.128, + "Actual Total Time": 0.401, + "Actual Rows": 1, + "Actual Loops": 104 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 478, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 374 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 104 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 478, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 374 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 104 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.160, + "Actual Total Time": 0.351, + "Actual Rows": 2, + "Actual Loops": 12, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 107, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.170, + "Actual Total Time": 0.391, + "Actual Rows": 2, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.269, + "Actual Rows": 3, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 28, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 12 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 28, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 16 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 12 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 84, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 48, + "Cache Hits": 45, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 36, + "Cache Hits": 33, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7721649514993682563, + "Planning Time": 3008.676, + "Triggers": [ + ], + "Execution Time": 162.129, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 7721649514993682563, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS complete_violent_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7171.38, + "Total Cost": 7171.39, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1898.242, + "Actual Total Time": 1931.691, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7171.30, + "Total Cost": 7171.31, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 1861.586, + "Actual Total Time": 1931.640, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7170.30, + "Total Cost": 7170.31, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1856.548, + "Actual Total Time": 1856.561, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1852.477, + "Actual Total Time": 1852.489, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1846.908, + "Actual Total Time": 1846.920, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1846.996, + "Actual Total Time": 1847.007, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1848.606, + "Actual Total Time": 1848.617, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1846.897, + "Actual Total Time": 1846.906, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1883.164, + "Actual Total Time": 1883.175, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1866.688, + "Actual Total Time": 1866.700, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1713.77, + "Total Cost": 7158.84, + "Plan Rows": 1146, + "Plan Width": 80, + "Actual Startup Time": 104.722, + "Actual Total Time": 1854.217, + "Actual Rows": 1003, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 118.111, + "Actual Total Time": 1850.276, + "Actual Rows": 942, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.150, + "Actual Total Time": 1844.713, + "Actual Rows": 927, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 94.766, + "Actual Total Time": 1844.508, + "Actual Rows": 1057, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.763, + "Actual Total Time": 1846.513, + "Actual Rows": 913, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.558, + "Actual Total Time": 1844.750, + "Actual Rows": 937, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.844, + "Actual Total Time": 1880.649, + "Actual Rows": 1134, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 94.819, + "Actual Total Time": 1864.281, + "Actual Rows": 1024, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1711.92, + "Total Cost": 7147.50, + "Plan Rows": 3485, + "Plan Width": 84, + "Actual Startup Time": 104.540, + "Actual Total Time": 1851.764, + "Actual Rows": 3049, + "Actual Loops": 8, + "Output": ["n.name", "mi.info", "t.title", "mi_idx.info", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 118.027, + "Actual Total Time": 1848.033, + "Actual Rows": 2860, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.002, + "Actual Total Time": 1842.464, + "Actual Rows": 2823, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 94.596, + "Actual Total Time": 1841.924, + "Actual Rows": 3225, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.617, + "Actual Total Time": 1844.300, + "Actual Rows": 2793, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.409, + "Actual Total Time": 1842.468, + "Actual Rows": 2827, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.672, + "Actual Total Time": 1877.951, + "Actual Rows": 3447, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 94.676, + "Actual Total Time": 1861.751, + "Actual Rows": 3121, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1711.50, + "Total Cost": 6556.83, + "Plan Rows": 1146, + "Plan Width": 94, + "Actual Startup Time": 104.481, + "Actual Total Time": 1835.890, + "Actual Rows": 1003, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "cc.movie_id", "mi.info", "mi.movie_id", "ci.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.946, + "Actual Total Time": 1833.014, + "Actual Rows": 942, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 94.937, + "Actual Total Time": 1827.275, + "Actual Rows": 927, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 94.559, + "Actual Total Time": 1825.095, + "Actual Rows": 1057, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.571, + "Actual Total Time": 1829.477, + "Actual Rows": 913, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.351, + "Actual Total Time": 1827.807, + "Actual Rows": 937, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.569, + "Actual Total Time": 1860.259, + "Actual Rows": 1134, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 94.639, + "Actual Total Time": 1845.511, + "Actual Rows": 1024, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1711.07, + "Total Cost": 6556.36, + "Plan Rows": 1, + "Plan Width": 73, + "Actual Startup Time": 104.432, + "Actual Total Time": 1822.075, + "Actual Rows": 1003, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "cc.movie_id", "mi.info", "mi.movie_id", "ci.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.885, + "Actual Total Time": 1819.879, + "Actual Rows": 942, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 94.886, + "Actual Total Time": 1814.602, + "Actual Rows": 927, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 94.515, + "Actual Total Time": 1810.385, + "Actual Rows": 1057, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.525, + "Actual Total Time": 1816.698, + "Actual Rows": 913, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.305, + "Actual Total Time": 1814.790, + "Actual Rows": 937, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.506, + "Actual Total Time": 1844.648, + "Actual Rows": 1134, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 94.606, + "Actual Total Time": 1831.562, + "Actual Rows": 1024, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1710.93, + "Total Cost": 6555.85, + "Plan Rows": 5, + "Plan Width": 77, + "Actual Startup Time": 103.463, + "Actual Total Time": 1817.494, + "Actual Rows": 1770, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "cc.movie_id", "cc.status_id", "mi.info", "mi.movie_id", "ci.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 110.466, + "Actual Total Time": 1815.210, + "Actual Rows": 1824, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 94.835, + "Actual Total Time": 1810.434, + "Actual Rows": 1598, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 94.462, + "Actual Total Time": 1805.230, + "Actual Rows": 1818, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.462, + "Actual Total Time": 1812.195, + "Actual Rows": 1738, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.255, + "Actual Total Time": 1810.598, + "Actual Rows": 1615, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.447, + "Actual Total Time": 1839.809, + "Actual Rows": 1932, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 94.575, + "Actual Total Time": 1827.011, + "Actual Rows": 1842, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1710.50, + "Total Cost": 6549.75, + "Plan Rows": 12, + "Plan Width": 66, + "Actual Startup Time": 101.330, + "Actual Total Time": 1774.224, + "Actual Rows": 2738, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "mi.info", "mi.movie_id", "ci.movie_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 110.390, + "Actual Total Time": 1769.624, + "Actual Rows": 2873, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 94.768, + "Actual Total Time": 1770.401, + "Actual Rows": 2401, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 94.421, + "Actual Total Time": 1762.551, + "Actual Rows": 2803, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.862, + "Actual Total Time": 1768.876, + "Actual Rows": 2609, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.175, + "Actual Total Time": 1770.344, + "Actual Rows": 2608, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.341, + "Actual Total Time": 1793.955, + "Actual Rows": 2945, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 94.534, + "Actual Total Time": 1784.304, + "Actual Rows": 2712, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1710.06, + "Total Cost": 6536.18, + "Plan Rows": 10, + "Plan Width": 58, + "Actual Startup Time": 96.468, + "Actual Total Time": 585.103, + "Actual Rows": 3460, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 99.423, + "Actual Total Time": 581.898, + "Actual Rows": 3343, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 94.257, + "Actual Total Time": 579.092, + "Actual Rows": 3404, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 94.106, + "Actual Total Time": 588.878, + "Actual Rows": 3744, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.930, + "Actual Total Time": 595.288, + "Actual Rows": 3287, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 94.124, + "Actual Total Time": 594.642, + "Actual Rows": 3365, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 94.148, + "Actual Total Time": 583.576, + "Actual Rows": 3544, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 94.135, + "Actual Total Time": 557.668, + "Actual Rows": 3485, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1708.21, + "Total Cost": 6531.30, + "Plan Rows": 1115, + "Plan Width": 62, + "Actual Startup Time": 96.447, + "Actual Total Time": 579.512, + "Actual Rows": 3972, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 99.411, + "Actual Total Time": 576.282, + "Actual Rows": 3771, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 94.242, + "Actual Total Time": 573.639, + "Actual Rows": 3996, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 94.092, + "Actual Total Time": 582.916, + "Actual Rows": 4349, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.914, + "Actual Total Time": 590.013, + "Actual Rows": 3820, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 94.110, + "Actual Total Time": 589.329, + "Actual Rows": 3864, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 94.132, + "Actual Total Time": 577.927, + "Actual Rows": 4003, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 94.122, + "Actual Total Time": 551.680, + "Actual Rows": 4005, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1707.78, + "Total Cost": 2769.88, + "Plan Rows": 3619, + "Plan Width": 12, + "Actual Startup Time": 96.095, + "Actual Total Time": 120.104, + "Actual Rows": 3166, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 99.263, + "Actual Total Time": 122.262, + "Actual Rows": 3039, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 93.655, + "Actual Total Time": 117.033, + "Actual Rows": 3343, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 93.730, + "Actual Total Time": 121.582, + "Actual Rows": 3362, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.762, + "Actual Total Time": 113.220, + "Actual Rows": 3156, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.741, + "Actual Total Time": 126.586, + "Actual Rows": 3153, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 93.803, + "Actual Total Time": 114.335, + "Actual Rows": 3124, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 93.739, + "Actual Total Time": 112.308, + "Actual Rows": 3038, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1706.74, + "Total Cost": 2741.03, + "Plan Rows": 5144, + "Plan Width": 16, + "Actual Startup Time": 96.073, + "Actual Total Time": 115.990, + "Actual Rows": 4501, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 99.249, + "Actual Total Time": 118.207, + "Actual Rows": 4425, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 93.636, + "Actual Total Time": 112.857, + "Actual Rows": 4339, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 93.711, + "Actual Total Time": 116.988, + "Actual Rows": 5193, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.741, + "Actual Total Time": 109.556, + "Actual Rows": 3175, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.723, + "Actual Total Time": 122.036, + "Actual Rows": 7925, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 93.785, + "Actual Total Time": 110.360, + "Actual Rows": 3124, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 93.722, + "Actual Total Time": 108.598, + "Actual Rows": 3038, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.026, + "Actual Total Time": 4.654, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 4.574, + "Actual Rows": 15355, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 4.475, + "Actual Rows": 15355, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 5.758, + "Actual Rows": 19276, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 3.591, + "Actual Rows": 11100, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 6.664, + "Actual Rows": 32745, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 3.584, + "Actual Rows": 11470, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 3.265, + "Actual Rows": 9990, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1569.75, + "Total Cost": 1569.75, + "Plan Rows": 10959, + "Plan Width": 4, + "Actual Startup Time": 95.618, + "Actual Total Time": 95.620, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4128, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 99.156, + "Actual Total Time": 99.157, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 93.498, + "Actual Total Time": 93.500, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 93.596, + "Actual Total Time": 93.598, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.617, + "Actual Total Time": 93.619, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.499, + "Actual Total Time": 93.500, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 93.616, + "Actual Total Time": 93.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 93.617, + "Actual Total Time": 93.619, + "Actual Rows": 12628, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1569.75, + "Plan Rows": 10959, + "Plan Width": 4, + "Actual Startup Time": 16.478, + "Actual Total Time": 65.339, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.633, + "Actual Total Time": 75.130, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.280, + "Actual Total Time": 56.063, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.499, + "Actual Total Time": 80.030, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.995, + "Actual Total Time": 56.635, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.839, + "Actual Total Time": 61.840, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 62.013, + "Actual Total Time": 62.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.906, + "Actual Total Time": 65.915, + "Actual Rows": 12628, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 16.312, + "Actual Total Time": 17.972, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.470, + "Actual Total Time": 0.495, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.993, + "Actual Total Time": 9.786, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.293, + "Actual Total Time": 1.299, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.757, + "Actual Total Time": 0.777, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.838, + "Actual Total Time": 61.838, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 62.012, + "Actual Total Time": 62.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.645, + "Actual Total Time": 0.694, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.77, + "Plan Rows": 10959, + "Plan Width": 8, + "Actual Startup Time": 0.190, + "Actual Total Time": 50.264, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.158, + "Actual Total Time": 68.660, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.279, + "Actual Total Time": 43.620, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.198, + "Actual Total Time": 72.632, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.232, + "Actual Total Time": 51.874, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.151, + "Actual Total Time": 30.185, + "Actual Rows": 6314, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.143, + "Actual Rows": 1, + "Actual Loops": 25331, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 98, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.088, + "Actual Total Time": 0.146, + "Actual Rows": 1, + "Actual Loops": 3039 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.135, + "Actual Rows": 1, + "Actual Loops": 3343 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.135, + "Actual Rows": 1, + "Actual Loops": 3362 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.093, + "Actual Total Time": 0.149, + "Actual Rows": 1, + "Actual Loops": 3156 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.145, + "Actual Rows": 1, + "Actual Loops": 3153 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.146, + "Actual Rows": 1, + "Actual Loops": 3124 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.143, + "Actual Rows": 1, + "Actual Loops": 3038 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.273, + "Actual Total Time": 0.342, + "Actual Rows": 1, + "Actual Loops": 27679, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 80, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.276, + "Actual Total Time": 0.353, + "Actual Rows": 1, + "Actual Loops": 3343 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.283, + "Actual Total Time": 0.348, + "Actual Rows": 1, + "Actual Loops": 3404 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.244, + "Actual Total Time": 0.312, + "Actual Rows": 1, + "Actual Loops": 3744 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.286, + "Actual Total Time": 0.355, + "Actual Rows": 1, + "Actual Loops": 3287 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.283, + "Actual Total Time": 0.347, + "Actual Rows": 1, + "Actual Loops": 3365 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.269, + "Actual Total Time": 0.340, + "Actual Rows": 1, + "Actual Loops": 3544 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.282, + "Actual Total Time": 0.350, + "Actual Rows": 1, + "Actual Loops": 3485 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 21907, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 2873 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 2401 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 2803 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 2609 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 2608 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 2945 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 2712 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 14156, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 1787, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1824, + "Cache Hits": 1822, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1598, + "Cache Hits": 1596, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 1818, + "Cache Hits": 1816, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1738, + "Cache Hits": 1736, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1615, + "Cache Hits": 1613, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1932, + "Cache Hits": 1930, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1842, + "Cache Hits": 1840, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 16, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 8024, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 942 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 927 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1057 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 913 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 937 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1134 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1024 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 8024, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 942 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 927 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 1057 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 913 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 937 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 1134 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 1024 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1889760809355916724, + "Planning Time": 2932.665, + "Triggers": [ + ], + "Execution Time": 1939.535, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -1889760809355916724, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS violent_liongate_movie
FROM cast_info AS ci,
     company_name AS cn,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND cn.name LIKE 'Lionsgate%'
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cn.id = mc.company_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4148.35, + "Total Cost": 4148.36, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 738.833, + "Actual Total Time": 764.134, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4148.26, + "Total Cost": 4148.27, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 393.980, + "Actual Total Time": 764.078, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4147.26, + "Total Cost": 4147.27, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 281.040, + "Actual Total Time": 281.051, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 337.406, + "Actual Total Time": 337.413, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 728.205, + "Actual Total Time": 728.212, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.096, + "Actual Total Time": 46.105, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 46.148, + "Actual Total Time": 46.159, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 46.421, + "Actual Total Time": 46.433, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 605.020, + "Actual Total Time": 605.026, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 46.148, + "Actual Total Time": 46.160, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.13, + "Total Cost": 4145.67, + "Plan Rows": 159, + "Plan Width": 80, + "Actual Startup Time": 25.206, + "Actual Total Time": 280.771, + "Actual Rows": 159, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 36.499, + "Actual Total Time": 337.095, + "Actual Rows": 176, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.120, + "Actual Total Time": 727.392, + "Actual Rows": 564, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.089, + "Actual Total Time": 46.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.528, + "Actual Total Time": 46.133, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.028, + "Actual Total Time": 46.404, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 53.222, + "Actual Total Time": 604.428, + "Actual Rows": 366, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.985, + "Actual Total Time": 46.128, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.29, + "Total Cost": 4142.50, + "Plan Rows": 486, + "Plan Width": 84, + "Actual Startup Time": 21.803, + "Actual Total Time": 279.768, + "Actual Rows": 486, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "mi_idx.info_type_id", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.422, + "Actual Total Time": 335.960, + "Actual Rows": 532, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.468, + "Actual Total Time": 725.963, + "Actual Rows": 1692, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 45.392, + "Actual Total Time": 45.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.532, + "Actual Total Time": 45.309, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.129, + "Actual Total Time": 45.723, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 50.534, + "Actual Total Time": 602.905, + "Actual Rows": 1131, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.995, + "Actual Total Time": 45.290, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.87, + "Total Cost": 3932.59, + "Plan Rows": 470, + "Plan Width": 88, + "Actual Startup Time": 18.433, + "Actual Total Time": 117.238, + "Actual Rows": 18286, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "mi_idx.info_type_id", "mk.keyword_id", "n.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.810, + "Actual Total Time": 146.977, + "Actual Rows": 21540, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.707, + "Actual Total Time": 283.775, + "Actual Rows": 55296, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 45.390, + "Actual Total Time": 45.397, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.286, + "Actual Total Time": 44.397, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.850, + "Actual Total Time": 38.927, + "Actual Rows": 450, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.342, + "Actual Total Time": 237.685, + "Actual Rows": 42449, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.601, + "Actual Total Time": 31.707, + "Actual Rows": 603, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.44, + "Total Cost": 3818.44, + "Plan Rows": 63, + "Plan Width": 104, + "Actual Startup Time": 17.645, + "Actual Total Time": 95.656, + "Actual Rows": 167, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "n.name", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.707, + "Actual Total Time": 121.150, + "Actual Rows": 163, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.311, + "Actual Total Time": 223.559, + "Actual Rows": 609, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 45.389, + "Actual Total Time": 45.395, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.694, + "Actual Total Time": 43.664, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.340, + "Actual Total Time": 37.762, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 24.564, + "Actual Total Time": 190.948, + "Actual Rows": 365, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.120, + "Actual Total Time": 30.134, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 3802.62, + "Plan Rows": 31, + "Plan Width": 90, + "Actual Startup Time": 17.558, + "Actual Total Time": 94.465, + "Actual Rows": 56, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.617, + "Actual Total Time": 119.844, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.225, + "Actual Total Time": 220.009, + "Actual Rows": 205, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 45.389, + "Actual Total Time": 45.394, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.584, + "Actual Total Time": 43.526, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.279, + "Actual Total Time": 37.664, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 24.471, + "Actual Total Time": 188.316, + "Actual Rows": 119, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.917, + "Actual Total Time": 29.897, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 3787.80, + "Plan Rows": 31, + "Plan Width": 69, + "Actual Startup Time": 17.469, + "Actual Total Time": 93.424, + "Actual Rows": 56, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.515, + "Actual Total Time": 118.385, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.142, + "Actual Total Time": 216.813, + "Actual Rows": 205, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 45.388, + "Actual Total Time": 45.393, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.499, + "Actual Total Time": 43.422, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.203, + "Actual Total Time": 37.564, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 24.374, + "Actual Total Time": 186.328, + "Actual Rows": 119, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.714, + "Actual Total Time": 29.692, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 3750.24, + "Plan Rows": 74, + "Plan Width": 58, + "Actual Startup Time": 17.271, + "Actual Total Time": 91.559, + "Actual Rows": 74, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.390, + "Actual Total Time": 116.139, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.026, + "Actual Total Time": 210.237, + "Actual Rows": 282, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 45.387, + "Actual Total Time": 45.391, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.418, + "Actual Total Time": 43.319, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.099, + "Actual Total Time": 37.394, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 24.267, + "Actual Total Time": 182.544, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.557, + "Actual Total Time": 29.454, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 3623.28, + "Plan Rows": 90, + "Plan Width": 50, + "Actual Startup Time": 9.622, + "Actual Total Time": 47.164, + "Actual Rows": 90, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.234, + "Actual Total Time": 52.189, + "Actual Rows": 92, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.975, + "Actual Total Time": 78.075, + "Actual Rows": 327, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.780, + "Actual Total Time": 44.861, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.925, + "Actual Total Time": 42.244, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.889, + "Actual Total Time": 29.375, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.246, + "Actual Total Time": 83.314, + "Actual Rows": 215, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.903, + "Actual Total Time": 25.699, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3621.18, + "Plan Rows": 93, + "Plan Width": 54, + "Actual Startup Time": 9.585, + "Actual Total Time": 46.942, + "Actual Rows": 93, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.194, + "Actual Total Time": 51.950, + "Actual Rows": 92, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.953, + "Actual Total Time": 77.472, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.739, + "Actual Total Time": 44.815, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.898, + "Actual Total Time": 42.208, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.854, + "Actual Total Time": 29.315, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.218, + "Actual Total Time": 82.845, + "Actual Rows": 232, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.866, + "Actual Total Time": 25.650, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3402.82, + "Plan Rows": 227, + "Plan Width": 4, + "Actual Startup Time": 6.099, + "Actual Total Time": 20.864, + "Actual Rows": 227, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.538, + "Actual Total Time": 23.233, + "Actual Rows": 161, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.882, + "Actual Total Time": 6.828, + "Actual Rows": 712, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.314, + "Actual Total Time": 40.533, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.403, + "Actual Total Time": 26.465, + "Actual Rows": 227, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.209, + "Actual Total Time": 27.026, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.336, + "Actual Total Time": 15.216, + "Actual Rows": 595, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.415, + "Actual Total Time": 24.904, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.870, + "Actual Total Time": 18.875, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "(cn.name ~~ 'Lionsgate%'::text)", + "Rows Removed by Filter": 29373, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.319, + "Actual Total Time": 21.326, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.768, + "Actual Total Time": 0.787, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.131, + "Actual Total Time": 40.182, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.166, + "Actual Total Time": 25.198, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.769, + "Actual Total Time": 26.213, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.012, + "Actual Total Time": 11.035, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.195, + "Actual Total Time": 24.649, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 38.83, + "Plan Rows": 181, + "Plan Width": 8, + "Actual Startup Time": 0.206, + "Actual Total Time": 1.491, + "Actual Rows": 181, + "Actual Loops": 10, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.209, + "Actual Total Time": 1.790, + "Actual Rows": 161, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.109, + "Actual Total Time": 5.701, + "Actual Rows": 712, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.174, + "Actual Total Time": 0.333, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.230, + "Actual Total Time": 1.143, + "Actual Rows": 227, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.239, + "Actual Total Time": 0.263, + "Actual Rows": 3, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.320, + "Actual Total Time": 3.898, + "Actual Rows": 595, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.213, + "Actual Total Time": 0.243, + "Actual Rows": 3, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.95, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.098, + "Actual Total Time": 0.114, + "Actual Rows": 0, + "Actual Loops": 1814, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 61, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.152, + "Actual Total Time": 0.176, + "Actual Rows": 1, + "Actual Loops": 161 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.098, + "Actual Rows": 0, + "Actual Loops": 712 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.705, + "Actual Total Time": 0.709, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.068, + "Actual Rows": 0, + "Actual Loops": 227 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.269, + "Actual Total Time": 0.282, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.113, + "Actual Rows": 0, + "Actual Loops": 595 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.188, + "Actual Total Time": 0.244, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.40, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.378, + "Actual Total Time": 0.489, + "Actual Rows": 1, + "Actual Loops": 724, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 88, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.531, + "Actual Total Time": 0.693, + "Actual Rows": 1, + "Actual Loops": 92 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.310, + "Actual Total Time": 0.402, + "Actual Rows": 1, + "Actual Loops": 327 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.521, + "Actual Total Time": 0.522, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.229, + "Actual Total Time": 0.354, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.224, + "Actual Total Time": 1.332, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.355, + "Actual Total Time": 0.460, + "Actual Rows": 1, + "Actual Loops": 215 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.095, + "Actual Total Time": 1.245, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 594, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 68 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 282 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 165 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.112, + "Actual Total Time": 0.113, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 444, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 57 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 205 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 119 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.191, + "Actual Total Time": 0.192, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 444, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 57 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 205 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.062, + "Actual Rows": 3, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.041, + "Actual Rows": 3, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 119 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.192, + "Actual Total Time": 0.219, + "Actual Rows": 3, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 84, + "Plan Width": 8, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.097, + "Actual Rows": 110, + "Actual Loops": 1333, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.121, + "Actual Rows": 132, + "Actual Loops": 163 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.075, + "Actual Rows": 91, + "Actual Loops": 609 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.107, + "Actual Total Time": 0.116, + "Actual Rows": 11, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.099, + "Actual Total Time": 0.159, + "Actual Rows": 75, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.094, + "Actual Rows": 116, + "Actual Loops": 365 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.170, + "Actual Total Time": 0.398, + "Actual Rows": 201, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 146292, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 21540 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 55296 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 66 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 450 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 42449 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 603 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7519382914444524780, + "Planning Time": 386.046, + "Triggers": [ + ], + "Execution Time": 780.079, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 7519382914444524780, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS violent_liongate_movie
FROM cast_info AS ci,
     company_name AS cn,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND cn.name LIKE 'Lionsgate%'
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mc.note LIKE '%(Blu-ray)%'
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.production_year > 2000
  AND (t.title LIKE '%Freddy%'
       OR t.title LIKE '%Jason%'
       OR t.title LIKE 'Saw%')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3453.53, + "Total Cost": 3453.54, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 49.652, + "Actual Total Time": 49.821, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3453.44, + "Total Cost": 3453.45, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 49.630, + "Actual Total Time": 49.807, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3452.44, + "Total Cost": 3452.45, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 30.188, + "Actual Total Time": 30.198, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.809, + "Actual Total Time": 25.820, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.198, + "Actual Total Time": 32.206, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.680, + "Actual Total Time": 26.691, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.932, + "Actual Total Time": 26.943, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.905, + "Actual Total Time": 26.916, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.185, + "Actual Total Time": 27.196, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.156, + "Actual Total Time": 27.166, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.75, + "Total Cost": 3452.34, + "Plan Rows": 10, + "Plan Width": 80, + "Actual Startup Time": 21.321, + "Actual Total Time": 30.161, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.803, + "Actual Total Time": 25.813, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.276, + "Actual Total Time": 32.142, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.671, + "Actual Total Time": 26.680, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.923, + "Actual Total Time": 26.933, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.895, + "Actual Total Time": 26.905, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.179, + "Actual Total Time": 27.189, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.149, + "Actual Total Time": 27.158, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.60, + "Total Cost": 3450.59, + "Plan Rows": 32, + "Plan Width": 84, + "Actual Startup Time": 21.312, + "Actual Total Time": 30.098, + "Actual Rows": 32, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "mi_idx.info_type_id", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.801, + "Actual Total Time": 25.811, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.249, + "Actual Total Time": 32.021, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.670, + "Actual Total Time": 26.678, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.922, + "Actual Total Time": 26.930, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.894, + "Actual Total Time": 26.903, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.178, + "Actual Total Time": 27.187, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.148, + "Actual Total Time": 27.156, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.17, + "Total Cost": 3450.07, + "Plan Rows": 1, + "Plan Width": 94, + "Actual Startup Time": 21.297, + "Actual Total Time": 29.925, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "mk.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.800, + "Actual Total Time": 25.809, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.191, + "Actual Total Time": 31.674, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.669, + "Actual Total Time": 26.676, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.921, + "Actual Total Time": 26.929, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.893, + "Actual Total Time": 26.901, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.176, + "Actual Total Time": 27.184, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.147, + "Actual Total Time": 27.154, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.75, + "Total Cost": 3449.62, + "Plan Rows": 1, + "Plan Width": 98, + "Actual Startup Time": 21.151, + "Actual Total Time": 25.728, + "Actual Rows": 336, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "mk.movie_id", "mk.keyword_id", "n.name", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.799, + "Actual Total Time": 25.807, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.378, + "Actual Total Time": 25.203, + "Actual Rows": 496, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.668, + "Actual Total Time": 26.675, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.920, + "Actual Total Time": 26.927, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.892, + "Actual Total Time": 26.900, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.176, + "Actual Total Time": 27.183, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.146, + "Actual Total Time": 27.153, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.32, + "Total Cost": 3446.97, + "Plan Rows": 1, + "Plan Width": 90, + "Actual Startup Time": 21.138, + "Actual Total Time": 25.208, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.799, + "Actual Total Time": 25.805, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.328, + "Actual Total Time": 24.409, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.667, + "Actual Total Time": 26.673, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.919, + "Actual Total Time": 26.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.892, + "Actual Total Time": 26.898, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.175, + "Actual Total Time": 27.181, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.145, + "Actual Total Time": 27.152, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.89, + "Total Cost": 3446.46, + "Plan Rows": 1, + "Plan Width": 79, + "Actual Startup Time": 21.124, + "Actual Total Time": 25.147, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.797, + "Actual Total Time": 25.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.274, + "Actual Total Time": 24.255, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.666, + "Actual Total Time": 26.671, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.918, + "Actual Total Time": 26.923, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.891, + "Actual Total Time": 26.897, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.174, + "Actual Total Time": 27.179, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.145, + "Actual Total Time": 27.150, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.45, + "Total Cost": 3440.85, + "Plan Rows": 1, + "Plan Width": 71, + "Actual Startup Time": 20.991, + "Actual Total Time": 24.519, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.796, + "Actual Total Time": 25.800, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.993, + "Actual Total Time": 23.174, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.665, + "Actual Total Time": 26.670, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.917, + "Actual Total Time": 26.922, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.890, + "Actual Total Time": 26.895, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.174, + "Actual Total Time": 27.178, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.144, + "Actual Total Time": 27.148, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 3440.67, + "Plan Rows": 1, + "Plan Width": 75, + "Actual Startup Time": 20.981, + "Actual Total Time": 24.501, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.795, + "Actual Total Time": 25.798, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.947, + "Actual Total Time": 23.121, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.664, + "Actual Total Time": 26.667, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.917, + "Actual Total Time": 26.919, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.889, + "Actual Total Time": 26.893, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.173, + "Actual Total Time": 27.176, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.143, + "Actual Total Time": 27.146, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3437.78, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 20.926, + "Actual Total Time": 24.217, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.794, + "Actual Total Time": 25.796, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.750, + "Actual Total Time": 22.319, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.663, + "Actual Total Time": 26.666, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.916, + "Actual Total Time": 26.918, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.888, + "Actual Total Time": 26.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.172, + "Actual Total Time": 27.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.142, + "Actual Total Time": 27.144, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3401.28, + "Plan Rows": 17, + "Plan Width": 4, + "Actual Startup Time": 18.353, + "Actual Total Time": 23.543, + "Actual Rows": 17, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.793, + "Actual Total Time": 25.795, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.235, + "Actual Total Time": 20.606, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.478, + "Actual Total Time": 26.469, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.915, + "Actual Total Time": 26.916, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.887, + "Actual Total Time": 26.889, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.171, + "Actual Total Time": 27.172, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.141, + "Actual Total Time": 27.143, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 11.327, + "Actual Total Time": 22.134, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "(cn.name ~~ 'Lionsgate%'::text)", + "Rows Removed by Filter": 29373, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.792, + "Actual Total Time": 25.793, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.626, + "Actual Total Time": 16.453, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.283, + "Actual Total Time": 24.009, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.913, + "Actual Total Time": 26.914, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.292, + "Actual Total Time": 26.790, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.170, + "Actual Total Time": 27.171, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.406, + "Actual Total Time": 25.967, + "Actual Rows": 3, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 38.96, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.442, + "Actual Total Time": 1.117, + "Actual Rows": 14, + "Actual Loops": 10, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note ~~ '%(Blu-ray)%'::text)", + "Rows Removed by Filter": 168, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.320, + "Actual Total Time": 2.070, + "Actual Rows": 6, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.187, + "Actual Total Time": 2.450, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.092, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.387, + "Actual Total Time": 0.387, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 2.15, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 135, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2000) AND ((t.title ~~ '%Freddy%'::text) OR (t.title ~~ '%Jason%'::text) OR (t.title ~~ 'Saw%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.130, + "Actual Total Time": 0.130, + "Actual Rows": 0, + "Actual Loops": 13 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.189, + "Actual Total Time": 0.190, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 2.86, + "Plan Rows": 2, + "Plan Width": 50, + "Actual Startup Time": 0.184, + "Actual Total Time": 0.319, + "Actual Rows": 2, + "Actual Loops": 7, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 265, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.114, + "Actual Total Time": 0.396, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 11, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 8, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 5.60, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.329, + "Actual Total Time": 0.451, + "Actual Rows": 2, + "Actual Loops": 11, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 87, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.248, + "Actual Total Time": 0.535, + "Actual Rows": 2, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 19, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.99, + "Plan Rows": 133, + "Plan Width": 8, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.125, + "Actual Rows": 141, + "Actual Loops": 19, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.095, + "Actual Rows": 99, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 2686, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 496 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 84, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 22 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 252, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 183, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 66, + "Cache Hits": 63, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 146477119612211947, + "Planning Time": 344.784, + "Triggers": [ + ], + "Execution Time": 56.944, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 146477119612211947, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS violent_liongate_movie
FROM cast_info AS ci,
     company_name AS cn,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND cn.name LIKE 'Lionsgate%'
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cn.id = mc.company_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4774.88, + "Total Cost": 4774.89, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 755.146, + "Actual Total Time": 779.403, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4774.79, + "Total Cost": 4774.80, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 287.011, + "Actual Total Time": 779.360, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4773.79, + "Total Cost": 4773.80, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 287.740, + "Actual Total Time": 287.749, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 744.787, + "Actual Total Time": 744.792, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 369.927, + "Actual Total Time": 369.933, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 714.217, + "Actual Total Time": 714.222, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 45.384, + "Actual Total Time": 45.395, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 50.696, + "Actual Total Time": 50.707, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 45.506, + "Actual Total Time": 45.514, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 45.486, + "Actual Total Time": 45.496, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.13, + "Total Cost": 4770.26, + "Plan Rows": 353, + "Plan Width": 80, + "Actual Startup Time": 18.560, + "Actual Total Time": 287.319, + "Actual Rows": 353, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.889, + "Actual Total Time": 743.379, + "Actual Rows": 1266, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.723, + "Actual Total Time": 369.326, + "Actual Rows": 400, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 36.128, + "Actual Total Time": 713.366, + "Actual Rows": 816, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.350, + "Actual Total Time": 45.374, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.152, + "Actual Total Time": 50.681, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 45.499, + "Actual Total Time": 45.507, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.251, + "Actual Total Time": 45.443, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.70, + "Total Cost": 4591.96, + "Plan Rows": 353, + "Plan Width": 69, + "Actual Startup Time": 18.492, + "Actual Total Time": 283.874, + "Actual Rows": 353, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.828, + "Actual Total Time": 731.850, + "Actual Rows": 1266, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.664, + "Actual Total Time": 364.779, + "Actual Rows": 400, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 36.032, + "Actual Total Time": 705.908, + "Actual Rows": 816, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.282, + "Actual Total Time": 45.305, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.095, + "Actual Total Time": 50.586, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 45.498, + "Actual Total Time": 45.505, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.134, + "Actual Total Time": 45.218, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.86, + "Total Cost": 4589.10, + "Plan Rows": 376, + "Plan Width": 73, + "Actual Startup Time": 17.974, + "Actual Total Time": 282.411, + "Actual Rows": 376, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.536, + "Actual Total Time": 730.377, + "Actual Rows": 1302, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.339, + "Actual Total Time": 363.969, + "Actual Rows": 400, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 35.343, + "Actual Total Time": 704.424, + "Actual Rows": 959, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.637, + "Actual Total Time": 44.656, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.757, + "Actual Total Time": 50.241, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 44.754, + "Actual Total Time": 44.759, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.384, + "Actual Total Time": 39.760, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.42, + "Total Cost": 4587.74, + "Plan Rows": 1, + "Plan Width": 89, + "Actual Startup Time": 16.030, + "Actual Total Time": 191.431, + "Actual Rows": 381, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.703, + "Actual Total Time": 466.011, + "Actual Rows": 1188, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.840, + "Actual Total Time": 228.649, + "Actual Rows": 382, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 34.437, + "Actual Total Time": 480.509, + "Actual Rows": 1088, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.207, + "Actual Total Time": 44.082, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.872, + "Actual Total Time": 45.831, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 44.752, + "Actual Total Time": 44.757, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.808, + "Actual Total Time": 33.737, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.99, + "Total Cost": 4587.27, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 15.957, + "Actual Total Time": 187.666, + "Actual Rows": 381, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.654, + "Actual Total Time": 454.584, + "Actual Rows": 1188, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.771, + "Actual Total Time": 224.024, + "Actual Rows": 382, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 34.332, + "Actual Total Time": 471.148, + "Actual Rows": 1088, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.112, + "Actual Total Time": 43.985, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.799, + "Actual Total Time": 45.635, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 44.751, + "Actual Total Time": 44.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.682, + "Actual Total Time": 33.418, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.57, + "Total Cost": 4050.90, + "Plan Rows": 1201, + "Plan Width": 72, + "Actual Startup Time": 11.848, + "Actual Total Time": 64.069, + "Actual Rows": 14999, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.365, + "Actual Total Time": 118.971, + "Actual Rows": 42564, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.344, + "Actual Total Time": 60.926, + "Actual Rows": 17031, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.482, + "Actual Total Time": 139.209, + "Actual Rows": 44585, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.895, + "Actual Total Time": 43.008, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.972, + "Actual Total Time": 42.383, + "Actual Rows": 195, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 44.750, + "Actual Total Time": 44.754, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.128, + "Actual Total Time": 19.534, + "Actual Rows": 397, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 3715.32, + "Plan Rows": 162, + "Plan Width": 64, + "Actual Startup Time": 11.577, + "Actual Total Time": 41.598, + "Actual Rows": 162, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.295, + "Actual Total Time": 57.428, + "Actual Rows": 510, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.265, + "Actual Total Time": 31.550, + "Actual Rows": 151, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.049, + "Actual Total Time": 80.121, + "Actual Rows": 472, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.275, + "Actual Total Time": 41.579, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.712, + "Actual Total Time": 39.057, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 44.750, + "Actual Total Time": 44.753, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.990, + "Actual Total Time": 17.589, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 3520.85, + "Plan Rows": 181, + "Plan Width": 14, + "Actual Startup Time": 8.480, + "Actual Total Time": 24.816, + "Actual Rows": 181, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.994, + "Actual Total Time": 16.952, + "Actual Rows": 470, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.094, + "Actual Total Time": 13.483, + "Actual Rows": 132, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.595, + "Actual Total Time": 27.599, + "Actual Rows": 555, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.114, + "Actual Total Time": 40.875, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.421, + "Actual Total Time": 31.784, + "Actual Rows": 184, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 44.749, + "Actual Total Time": 44.752, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.794, + "Actual Total Time": 16.603, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3517.52, + "Plan Rows": 546, + "Plan Width": 18, + "Actual Startup Time": 8.440, + "Actual Total Time": 24.365, + "Actual Rows": 546, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.972, + "Actual Total Time": 16.073, + "Actual Rows": 1415, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.061, + "Actual Total Time": 13.139, + "Actual Rows": 400, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.549, + "Actual Total Time": 26.074, + "Actual Rows": 1674, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.074, + "Actual Total Time": 40.806, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.372, + "Actual Total Time": 31.398, + "Actual Rows": 552, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 44.735, + "Actual Total Time": 44.737, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.755, + "Actual Total Time": 16.540, + "Actual Rows": 15, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3402.82, + "Plan Rows": 227, + "Plan Width": 4, + "Actual Startup Time": 8.052, + "Actual Total Time": 19.053, + "Actual Rows": 227, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.408, + "Actual Total Time": 3.354, + "Actual Rows": 712, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.003, + "Actual Total Time": 9.031, + "Actual Rows": 164, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.118, + "Actual Total Time": 10.661, + "Actual Rows": 595, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.866, + "Actual Total Time": 40.090, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.300, + "Actual Total Time": 26.536, + "Actual Rows": 228, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 44.734, + "Actual Total Time": 44.735, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.617, + "Actual Total Time": 16.078, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 7.964, + "Actual Total Time": 17.992, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "(cn.name ~~ 'Lionsgate%'::text)", + "Rows Removed by Filter": 29373, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.318, + "Actual Total Time": 0.334, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.945, + "Actual Total Time": 7.964, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.930, + "Actual Total Time": 7.949, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.730, + "Actual Total Time": 39.834, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.243, + "Actual Total Time": 25.891, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 44.734, + "Actual Total Time": 44.734, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.490, + "Actual Total Time": 15.902, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 38.83, + "Plan Rows": 181, + "Plan Width": 8, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.747, + "Actual Rows": 181, + "Actual Loops": 10, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.086, + "Actual Total Time": 2.768, + "Actual Rows": 712, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.491, + "Actual Rows": 82, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.179, + "Actual Total Time": 2.232, + "Actual Rows": 595, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.117, + "Actual Rows": 4, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.272, + "Actual Rows": 114, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.120, + "Actual Total Time": 0.163, + "Actual Rows": 5, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 2, + "Actual Loops": 1814, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 712 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.023, + "Actual Rows": 2, + "Actual Loops": 164 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.023, + "Actual Rows": 3, + "Actual Loops": 595 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.084, + "Actual Rows": 2, + "Actual Loops": 8 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 2, + "Actual Loops": 228 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.086, + "Actual Rows": 3, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.06, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.091, + "Actual Rows": 1, + "Actual Loops": 1449, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 75, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.085, + "Actual Rows": 1, + "Actual Loops": 470 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.135, + "Actual Rows": 1, + "Actual Loops": 132 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.093, + "Actual Rows": 1, + "Actual Loops": 555 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.122, + "Actual Total Time": 0.135, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 184 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.135, + "Actual Total Time": 0.191, + "Actual Rows": 1, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 88, + "Plan Width": 8, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.099, + "Actual Rows": 93, + "Actual Loops": 1295, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.086, + "Actual Rows": 83, + "Actual Loops": 510 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.138, + "Actual Rows": 113, + "Actual Loops": 151 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.088, + "Actual Rows": 94, + "Actual Loops": 472 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.268, + "Actual Total Time": 0.275, + "Actual Rows": 5, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.376, + "Actual Total Time": 0.396, + "Actual Rows": 24, + "Actual Loops": 8 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.114, + "Actual Total Time": 0.203, + "Actual Rows": 57, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 119995, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 42564 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 17031 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 44585 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 26 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 195 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 397 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 3049, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1188 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 382 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1088 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.090, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.167, + "Actual Total Time": 0.238, + "Actual Rows": 1, + "Actual Loops": 3049, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 125, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.157, + "Actual Total Time": 0.221, + "Actual Rows": 1, + "Actual Loops": 1188 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.241, + "Actual Total Time": 0.353, + "Actual Rows": 1, + "Actual Loops": 382 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.144, + "Actual Total Time": 0.205, + "Actual Rows": 1, + "Actual Loops": 1088 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.424, + "Actual Total Time": 0.567, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.497, + "Actual Total Time": 0.549, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.784, + "Actual Total Time": 0.856, + "Actual Rows": 0, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.093, + "Actual Total Time": 0.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.096, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 2825, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1266 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 400 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 816 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2399599952233934428, + "Planning Time": 376.732, + "Triggers": [ + ], + "Execution Time": 794.151, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 2399599952233934428, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(lt.link) AS link_type,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM keyword AS k,
     link_type AS lt,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE k.keyword ='10,000-mile-club'
  AND mk.keyword_id = k.id
  AND t1.id = mk.movie_id
  AND ml.movie_id = t1.id
  AND ml.linked_movie_id = t2.id
  AND lt.id = ml.link_type_id
  AND mk.movie_id = t1.id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1364.57, + "Total Cost": 1364.58, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 18.590, + "Actual Total Time": 20.046, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((lt.link)::text)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1364.50, + "Total Cost": 1364.51, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 13.693, + "Actual Total Time": 20.023, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((lt.link)::text))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1363.50, + "Total Cost": 1363.51, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 5.728, + "Actual Total Time": 5.732, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((lt.link)::text)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.495, + "Actual Total Time": 3.499, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.754, + "Actual Total Time": 5.758, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.167, + "Actual Total Time": 6.172, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.461, + "Actual Total Time": 5.466, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.223, + "Actual Total Time": 6.228, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.066, + "Actual Total Time": 6.073, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1363.46, + "Plan Rows": 6, + "Plan Width": 46, + "Actual Startup Time": 5.722, + "Actual Total Time": 5.726, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["lt.link", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.490, + "Actual Total Time": 3.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.748, + "Actual Total Time": 5.752, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.162, + "Actual Total Time": 6.166, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.456, + "Actual Total Time": 5.460, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.217, + "Actual Total Time": 6.221, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.059, + "Actual Total Time": 6.065, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1354.59, + "Plan Rows": 6, + "Plan Width": 33, + "Actual Startup Time": 5.721, + "Actual Total Time": 5.724, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ml.linked_movie_id", "lt.link", "t1.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.489, + "Actual Total Time": 3.492, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.747, + "Actual Total Time": 5.750, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.161, + "Actual Total Time": 6.165, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.455, + "Actual Total Time": 5.458, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.217, + "Actual Total Time": 6.220, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.059, + "Actual Total Time": 6.064, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1351.84, + "Plan Rows": 6, + "Plan Width": 24, + "Actual Startup Time": 5.720, + "Actual Total Time": 5.723, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.488, + "Actual Total Time": 3.491, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.747, + "Actual Total Time": 5.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.161, + "Actual Total Time": 6.163, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.455, + "Actual Total Time": 5.457, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.216, + "Actual Total Time": 6.218, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.058, + "Actual Total Time": 6.062, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1350.91, + "Plan Rows": 6, + "Plan Width": 16, + "Actual Startup Time": 5.720, + "Actual Total Time": 5.722, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.487, + "Actual Total Time": 3.489, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.746, + "Actual Total Time": 5.747, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.160, + "Actual Total Time": 6.162, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.454, + "Actual Total Time": 5.456, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.215, + "Actual Total Time": 6.217, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.057, + "Actual Total Time": 6.061, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.36, + "Plan Rows": 17, + "Plan Width": 4, + "Actual Startup Time": 5.711, + "Actual Total Time": 5.714, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.487, + "Actual Total Time": 3.488, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.745, + "Actual Total Time": 5.746, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.160, + "Actual Total Time": 6.161, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.391, + "Actual Total Time": 5.405, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.214, + "Actual Total Time": 6.216, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.057, + "Actual Total Time": 6.058, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.664, + "Actual Total Time": 5.666, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = '10,000-mile-club'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.486, + "Actual Total Time": 3.486, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.745, + "Actual Total Time": 5.745, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.159, + "Actual Total Time": 6.159, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.021, + "Actual Total Time": 5.032, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.213, + "Actual Total Time": 6.214, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.056, + "Actual Total Time": 6.057, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 117, + "Plan Width": 8, + "Actual Startup Time": 0.361, + "Actual Total Time": 0.362, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.361, + "Actual Total Time": 0.362, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["lt.id", "lt.link"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"],+ "Index Cond": "(t1.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"], + "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6225652705960457954, + "Planning Time": 20.245, + "Triggers": [ + ], + "Execution Time": 22.230, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 6225652705960457954, + "JOINS": 5 + } + ] (1 row)
SELECT MIN(lt.link) AS link_type,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM keyword AS k,
     link_type AS lt,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE k.keyword ='character-name-in-title'
  AND mk.keyword_id = k.id
  AND t1.id = mk.movie_id
  AND ml.movie_id = t1.id
  AND ml.linked_movie_id = t2.id
  AND lt.id = ml.link_type_id
  AND mk.movie_id = t1.id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1357.23, + "Total Cost": 1357.24, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 436.498, + "Actual Total Time": 436.680, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((lt.link)::text)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1357.17, + "Total Cost": 1357.18, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 436.476, + "Actual Total Time": 436.668, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((lt.link)::text))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1356.17, + "Total Cost": 1356.18, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 60.485, + "Actual Total Time": 60.489, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((lt.link)::text)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.705, + "Actual Total Time": 6.710, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.668, + "Actual Total Time": 6.674, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.520, + "Actual Total Time": 7.526, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.487, + "Actual Total Time": 7.492, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.965, + "Actual Total Time": 7.970, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.723, + "Actual Total Time": 7.728, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.020, + "Actual Total Time": 4.026, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1356.14, + "Plan Rows": 4, + "Plan Width": 46, + "Actual Startup Time": 6.259, + "Actual Total Time": 60.050, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["lt.link", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.698, + "Actual Total Time": 6.702, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.661, + "Actual Total Time": 6.666, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.515, + "Actual Total Time": 7.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.481, + "Actual Total Time": 7.486, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.958, + "Actual Total Time": 7.963, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.719, + "Actual Total Time": 7.723, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.014, + "Actual Total Time": 4.019, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1350.23, + "Plan Rows": 4, + "Plan Width": 33, + "Actual Startup Time": 6.250, + "Actual Total Time": 43.629, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["ml.linked_movie_id", "lt.link", "t1.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.697, + "Actual Total Time": 6.700, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.660, + "Actual Total Time": 6.664, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.514, + "Actual Total Time": 7.518, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.481, + "Actual Total Time": 7.484, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.957, + "Actual Total Time": 7.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.718, + "Actual Total Time": 7.722, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.012, + "Actual Total Time": 4.016, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1348.39, + "Plan Rows": 4, + "Plan Width": 24, + "Actual Startup Time": 6.243, + "Actual Total Time": 38.950, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.696, + "Actual Total Time": 6.698, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.659, + "Actual Total Time": 6.662, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.513, + "Actual Total Time": 7.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.480, + "Actual Total Time": 7.483, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.956, + "Actual Total Time": 7.959, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.717, + "Actual Total Time": 7.720, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.011, + "Actual Total Time": 4.015, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1347.77, + "Plan Rows": 4, + "Plan Width": 16, + "Actual Startup Time": 6.237, + "Actual Total Time": 36.968, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.695, + "Actual Total Time": 6.697, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.658, + "Actual Total Time": 6.661, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.513, + "Actual Total Time": 7.515, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.479, + "Actual Total Time": 7.481, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.956, + "Actual Total Time": 7.958, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.716, + "Actual Total Time": 7.718, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.011, + "Actual Total Time": 4.013, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1343.92, + "Plan Rows": 10, + "Plan Width": 4, + "Actual Startup Time": 6.209, + "Actual Total Time": 19.499, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.694, + "Actual Total Time": 6.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.658, + "Actual Total Time": 6.659, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.512, + "Actual Total Time": 7.513, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.479, + "Actual Total Time": 7.480, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.955, + "Actual Total Time": 7.957, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.716, + "Actual Total Time": 7.717, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.010, + "Actual Total Time": 4.011, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.194, + "Actual Total Time": 6.195, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.693, + "Actual Total Time": 6.693, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.657, + "Actual Total Time": 6.657, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.511, + "Actual Total Time": 7.512, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.478, + "Actual Total Time": 7.478, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.954, + "Actual Total Time": 7.955, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.715, + "Actual Total Time": 7.715, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.008, + "Actual Total Time": 4.009, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 73, + "Plan Width": 8, + "Actual Startup Time": 0.105, + "Actual Total Time": 97.814, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 4388, + "Output": ["lt.id", "lt.link"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 4388, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"],+ "Index Cond": "(t1.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 4388, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"], + "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6225652705960457954, + "Planning Time": 20.924, + "Triggers": [ + ], + "Execution Time": 438.096, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 6225652705960457954, + "JOINS": 5 + } + ] (1 row)
SELECT MIN(cn1.name) AS first_company,
       MIN(cn2.name) AS second_company,
       MIN(mi_idx1.info) AS first_rating,
       MIN(mi_idx2.info) AS second_rating,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM company_name AS cn1,
     company_name AS cn2,
     info_type AS it1,
     info_type AS it2,
     kind_type AS kt1,
     kind_type AS kt2,
     link_type AS lt,
     movie_companies AS mc1,
     movie_companies AS mc2,
     movie_info_idx AS mi_idx1,
     movie_info_idx AS mi_idx2,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE cn1.country_code = '[us]'
  AND it1.info = 'rating'
  AND it2.info = 'rating'
  AND kt1.kind IN ('tv series')
  AND kt2.kind IN ('tv series')
  AND lt.link IN ('sequel',
                  'follows',
                  'followed by')
  AND mi_idx2.info < '3.0'
  AND t2.production_year BETWEEN 2005 AND 2008
  AND lt.id = ml.link_type_id
  AND t1.id = ml.movie_id
  AND t2.id = ml.linked_movie_id
  AND it1.id = mi_idx1.info_type_id
  AND t1.id = mi_idx1.movie_id
  AND kt1.id = t1.kind_id
  AND cn1.id = mc1.company_id
  AND t1.id = mc1.movie_id
  AND ml.movie_id = mi_idx1.movie_id
  AND ml.movie_id = mc1.movie_id
  AND mi_idx1.movie_id = mc1.movie_id
  AND it2.id = mi_idx2.info_type_id
  AND t2.id = mi_idx2.movie_id
  AND kt2.id = t2.kind_id
  AND cn2.id = mc2.company_id
  AND t2.id = mc2.movie_id
  AND ml.linked_movie_id = mi_idx2.movie_id
  AND ml.linked_movie_id = mc2.movie_id
  AND mi_idx2.movie_id = mc2.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1091.49, + "Total Cost": 1091.50, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 79.339, + "Actual Total Time": 82.741, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn1.name)", "min(cn2.name)", "min(mi_idx1.info)", "min(mi_idx2.info)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1091.41, + "Total Cost": 1091.42, + "Plan Rows": 5, + "Plan Width": 192, + "Actual Startup Time": 76.775, + "Actual Total Time": 82.706, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn1.name))", "(PARTIAL min(cn2.name))", "(PARTIAL min(mi_idx1.info))", "(PARTIAL min(mi_idx2.info))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1090.41, + "Total Cost": 1090.42, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 67.565, + "Actual Total Time": 67.579, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn1.name)", "PARTIAL min(cn2.name)", "PARTIAL min(mi_idx1.info)", "PARTIAL min(mi_idx2.info)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 63.480, + "Actual Total Time": 63.497, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 70.594, + "Actual Total Time": 70.603, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 66.588, + "Actual Total Time": 66.600, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 65.445, + "Actual Total Time": 65.454, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 63.562, + "Actual Total Time": 63.577, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.39, + "Total Cost": 1090.38, + "Plan Rows": 2, + "Plan Width": 84, + "Actual Startup Time": 62.709, + "Actual Total Time": 67.560, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx1.info", "mi_idx2.info", "t1.title", "t2.title"], + "Inner Unique": false, + "Join Filter": "(it1.id = mi_idx1.info_type_id)", + "Rows Removed by Join Filter": 3, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 63.473, + "Actual Total Time": 63.489, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 41.497, + "Actual Total Time": 70.530, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 66.580, + "Actual Total Time": 66.592, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 65.439, + "Actual Total Time": 65.448, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 63.553, + "Actual Total Time": 63.567, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.96, + "Total Cost": 1089.33, + "Plan Rows": 2, + "Plan Width": 94, + "Actual Startup Time": 62.698, + "Actual Total Time": 67.509, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "it1.id", "ml.movie_id", "mi_idx2.info", "t2.title", "t1.title", "t1.id", "mc1.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 63.472, + "Actual Total Time": 63.488, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 41.435, + "Actual Total Time": 70.231, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 66.580, + "Actual Total Time": 66.591, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 65.439, + "Actual Total Time": 65.447, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 63.553, + "Actual Total Time": 63.565, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.83, + "Total Cost": 1089.01, + "Plan Rows": 2, + "Plan Width": 98, + "Actual Startup Time": 62.692, + "Actual Total Time": 67.485, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "it1.id", "ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "t1.title", "t1.id", "mc1.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 63.472, + "Actual Total Time": 63.486, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 41.402, + "Actual Total Time": 70.093, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 66.579, + "Actual Total Time": 66.590, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 65.438, + "Actual Total Time": 65.446, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 63.552, + "Actual Total Time": 63.564, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.41, + "Total Cost": 1086.36, + "Plan Rows": 6, + "Plan Width": 83, + "Actual Startup Time": 56.534, + "Actual Total Time": 67.295, + "Actual Rows": 5, + "Actual Loops": 6, + "Output": ["cn2.name", "it1.id", "ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "t1.title", "t1.id", "mc1.company_id", "mc1.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 63.471, + "Actual Total Time": 63.484, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 41.299, + "Actual Total Time": 69.439, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.864, + "Actual Total Time": 66.384, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 65.438, + "Actual Total Time": 65.445, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 63.551, + "Actual Total Time": 63.562, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.98, + "Total Cost": 1085.23, + "Plan Rows": 2, + "Plan Width": 75, + "Actual Startup Time": 56.505, + "Actual Total Time": 67.201, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["cn2.name", "it1.id", "ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "t1.title", "t1.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 63.470, + "Actual Total Time": 63.482, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 41.206, + "Actual Total Time": 69.094, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.806, + "Actual Total Time": 66.201, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 65.437, + "Actual Total Time": 65.444, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 63.550, + "Actual Total Time": 63.561, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.56, + "Total Cost": 1084.36, + "Plan Rows": 2, + "Plan Width": 60, + "Actual Startup Time": 56.457, + "Actual Total Time": 67.109, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["it1.id", "ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "t1.title", "t1.id", "mc2.company_id"], + "Inner Unique": false, + "Join Filter": "(t2.id = mc2.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 63.470, + "Actual Total Time": 63.480, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 41.075, + "Actual Total Time": 68.758, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.684, + "Actual Total Time": 66.046, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 65.437, + "Actual Total Time": 65.443, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 63.550, + "Actual Total Time": 63.559, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.13, + "Total Cost": 1083.78, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 56.395, + "Actual Total Time": 67.020, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id", "ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "t2.title", "t2.id", "t2.kind_id", "t1.title", "t1.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 63.469, + "Actual Total Time": 63.479, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 40.875, + "Actual Total Time": 68.440, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.550, + "Actual Total Time": 65.875, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 65.436, + "Actual Total Time": 65.442, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 63.549, + "Actual Total Time": 63.558, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.99, + "Total Cost": 1083.60, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 56.354, + "Actual Total Time": 66.974, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id", "ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "t2.title", "t2.id", "t2.kind_id", "t1.title", "t1.id", "t1.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 63.468, + "Actual Total Time": 63.476, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 40.722, + "Actual Total Time": 68.277, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.480, + "Actual Total Time": 65.794, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 65.436, + "Actual Total Time": 65.440, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 63.548, + "Actual Total Time": 63.556, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.56, + "Total Cost": 1082.12, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 56.215, + "Actual Total Time": 66.817, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id", "ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "t2.title", "t2.id", "t2.kind_id"], + "Inner Unique": true, + "Join Filter": "(ml.linked_movie_id = t2.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 63.467, + "Actual Total Time": 63.474, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 40.342, + "Actual Total Time": 67.852, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.420, + "Actual Total Time": 65.680, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 65.435, + "Actual Total Time": 65.439, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 63.547, + "Actual Total Time": 63.554, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.13, + "Total Cost": 1078.36, + "Plan Rows": 7, + "Plan Width": 22, + "Actual Startup Time": 38.841, + "Actual Total Time": 65.946, + "Actual Rows": 6, + "Actual Loops": 6, + "Output": ["it1.id", "ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id"], + "Inner Unique": false, + "Hash Cond": "(mi_idx2.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.875, + "Actual Total Time": 62.180, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 39.389, + "Actual Total Time": 66.257, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.146, + "Actual Total Time": 65.398, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.622, + "Actual Total Time": 64.852, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 37.908, + "Actual Total Time": 62.916, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1071.87, + "Plan Rows": 580, + "Plan Width": 22, + "Actual Startup Time": 25.907, + "Actual Total Time": 65.510, + "Actual Rows": 484, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.info_type_id", "mi_idx2.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.866, + "Actual Total Time": 61.725, + "Actual Rows": 450, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.887, + "Actual Total Time": 65.966, + "Actual Rows": 348, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.026, + "Actual Total Time": 64.813, + "Actual Rows": 785, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.533, + "Actual Total Time": 64.494, + "Actual Rows": 342, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.962, + "Actual Total Time": 62.598, + "Actual Rows": 219, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 629.91, + "Plan Rows": 463, + "Plan Width": 8, + "Actual Startup Time": 25.619, + "Actual Total Time": 46.233, + "Actual Rows": 386, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.678, + "Actual Total Time": 50.592, + "Actual Rows": 369, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.709, + "Actual Total Time": 51.653, + "Actual Rows": 282, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.608, + "Actual Total Time": 49.398, + "Actual Rows": 642, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.357, + "Actual Total Time": 53.510, + "Actual Rows": 266, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.228, + "Actual Total Time": 52.844, + "Actual Rows": 160, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 12, + "Actual Startup Time": 25.085, + "Actual Total Time": 38.297, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.584, + "Actual Total Time": 42.172, + "Actual Rows": 3978, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.374, + "Actual Total Time": 44.143, + "Actual Rows": 6114, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.473, + "Actual Total Time": 41.987, + "Actual Rows": 3658, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.145, + "Actual Total Time": 45.474, + "Actual Rows": 6272, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.896, + "Actual Total Time": 43.903, + "Actual Rows": 4450, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 5509, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3978, + "Cache Hits": 3962, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 6114, + "Cache Hits": 6098, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3658, + "Cache Hits": 3642, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 6272, + "Cache Hits": 6256, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4450, + "Cache Hits": 4434, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = ANY ('{sequel,follows,\"followed by\"}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx2", + "Startup Cost": 0.43, + "Total Cost": 0.94, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 2315, + "Output": ["mi_idx2.id", "mi_idx2.movie_id", "mi_idx2.info_type_id", "mi_idx2.info", "mi_idx2.note"], + "Index Cond": "(mi_idx2.movie_id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx2.info < '3.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 369 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 282 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 642 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 266 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 160 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 4.25, + "Total Cost": 4.25, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it1.id", "it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.00, + "Total Cost": 4.25, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.061, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id", "it2.id"], + "Inner Unique": false, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id", "it1.info"], + "Filter": "((it1.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + }, + { + "Node Type": "Seq Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 2.41, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id", "it2.info"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.151, + "Actual Total Time": 0.151, + "Actual Rows": 0, + "Actual Loops": 34, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"],+ "Index Cond": "(t2.id = mi_idx2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t2.production_year >= 2005) AND (t2.production_year <= 2008))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.428, + "Actual Total Time": 0.428, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.224, + "Actual Total Time": 0.224, + "Actual Rows": 0, + "Actual Loops": 7 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.144, + "Actual Total Time": 0.144, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.315, + "Actual Total Time": 0.316, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.150, + "Actual Total Time": 0.150, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"], + "Index Cond": "(t1.id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.204, + "Actual Total Time": 0.204, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["kt1.id"], + "Cache Key": "t1.kind_id", + "Cache Mode": "logical", + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.076, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["kt1.id"], + "Index Cond": "(kt1.id = t1.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt1.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.135, + "Actual Total Time": 0.135, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc2", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.080, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["mc2.id", "mc2.movie_id", "mc2.company_id", "mc2.company_type_id", "mc2.note"], + "Index Cond": "(mc2.movie_id = mi_idx2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.116, + "Actual Total Time": 0.141, + "Actual Rows": 3, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn2", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 11, + "Output": ["cn2.id", "cn2.name", "cn2.country_code", "cn2.imdb_id", "cn2.name_pcode_nf", "cn2.name_pcode_sf", "cn2.md5sum"], + "Index Cond": "(cn2.id = mc2.company_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc1", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.046, + "Actual Rows": 3, + "Actual Loops": 11, + "Output": ["mc1.id", "mc1.movie_id", "mc1.company_id", "mc1.company_type_id", "mc1.note"], + "Index Cond": "(mc1.movie_id = t1.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.051, + "Actual Rows": 3, + "Actual Loops": 6 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.056, + "Actual Rows": 2, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn1", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 29, + "Output": ["cn1.id", "cn1.name", "cn1.country_code", "cn1.imdb_id", "cn1.name_pcode_nf", "cn1.name_pcode_sf", "cn1.md5sum"], + "Index Cond": "(cn1.id = mc1.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn1.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 20 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["kt2.id", "kt2.kind"], + "Index Cond": "(kt2.id = t2.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt2.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx1", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.032, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mi_idx1.id", "mi_idx1.movie_id", "mi_idx1.info_type_id", "mi_idx1.info", "mi_idx1.note"], + "Index Cond": "(mi_idx1.movie_id = t1.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.032, + "Actual Rows": 3, + "Actual Loops": 8 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3515944407635664271, + "Planning Time": 3209.123, + "Triggers": [ + ], + "Execution Time": 106.087, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -3515944407635664271, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn1.name) AS first_company,
       MIN(cn2.name) AS second_company,
       MIN(mi_idx1.info) AS first_rating,
       MIN(mi_idx2.info) AS second_rating,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM company_name AS cn1,
     company_name AS cn2,
     info_type AS it1,
     info_type AS it2,
     kind_type AS kt1,
     kind_type AS kt2,
     link_type AS lt,
     movie_companies AS mc1,
     movie_companies AS mc2,
     movie_info_idx AS mi_idx1,
     movie_info_idx AS mi_idx2,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE cn1.country_code = '[nl]'
  AND it1.info = 'rating'
  AND it2.info = 'rating'
  AND kt1.kind IN ('tv series')
  AND kt2.kind IN ('tv series')
  AND lt.link LIKE '%follow%'
  AND mi_idx2.info < '3.0'
  AND t2.production_year = 2007
  AND lt.id = ml.link_type_id
  AND t1.id = ml.movie_id
  AND t2.id = ml.linked_movie_id
  AND it1.id = mi_idx1.info_type_id
  AND t1.id = mi_idx1.movie_id
  AND kt1.id = t1.kind_id
  AND cn1.id = mc1.company_id
  AND t1.id = mc1.movie_id
  AND ml.movie_id = mi_idx1.movie_id
  AND ml.movie_id = mc1.movie_id
  AND mi_idx1.movie_id = mc1.movie_id
  AND it2.id = mi_idx2.info_type_id
  AND t2.id = mi_idx2.movie_id
  AND kt2.id = t2.kind_id
  AND cn2.id = mc2.company_id
  AND t2.id = mc2.movie_id
  AND ml.linked_movie_id = mi_idx2.movie_id
  AND ml.linked_movie_id = mc2.movie_id
  AND mi_idx2.movie_id = mc2.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1090.17, + "Total Cost": 1090.18, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 40.950, + "Actual Total Time": 43.791, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn1.name)", "min(cn2.name)", "min(mi_idx1.info)", "min(mi_idx2.info)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1090.09, + "Total Cost": 1090.10, + "Plan Rows": 5, + "Plan Width": 192, + "Actual Startup Time": 38.062, + "Actual Total Time": 43.774, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn1.name))", "(PARTIAL min(cn2.name))", "(PARTIAL min(mi_idx1.info))", "(PARTIAL min(mi_idx2.info))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1089.09, + "Total Cost": 1089.10, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 27.294, + "Actual Total Time": 27.308, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn1.name)", "PARTIAL min(cn2.name)", "PARTIAL min(mi_idx1.info)", "PARTIAL min(mi_idx2.info)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.434, + "Actual Total Time": 25.452, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.139, + "Actual Total Time": 25.153, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.324, + "Actual Total Time": 27.333, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.580, + "Actual Total Time": 23.595, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.242, + "Actual Total Time": 25.255, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.98, + "Total Cost": 1089.07, + "Plan Rows": 1, + "Plan Width": 84, + "Actual Startup Time": 21.642, + "Actual Total Time": 27.295, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx1.info", "mi_idx2.info", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.422, + "Actual Total Time": 25.439, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.129, + "Actual Total Time": 25.142, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.317, + "Actual Total Time": 27.325, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.570, + "Actual Total Time": 23.583, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.234, + "Actual Total Time": 25.246, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.84, + "Total Cost": 1088.90, + "Plan Rows": 1, + "Plan Width": 88, + "Actual Startup Time": 21.640, + "Actual Total Time": 27.291, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx2.info", "t2.title", "t2.kind_id", "t1.title", "mi_idx1.info"], + "Inner Unique": false, + "Join Filter": "(it1.id = mi_idx1.info_type_id)", + "Rows Removed by Join Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.422, + "Actual Total Time": 25.437, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.128, + "Actual Total Time": 25.140, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.316, + "Actual Total Time": 27.324, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.569, + "Actual Total Time": 23.581, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.233, + "Actual Total Time": 25.244, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.41, + "Total Cost": 1088.38, + "Plan Rows": 1, + "Plan Width": 98, + "Actual Startup Time": 21.637, + "Actual Total Time": 27.283, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "it1.id", "mc1.movie_id", "t1.title", "t1.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.421, + "Actual Total Time": 25.435, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.127, + "Actual Total Time": 25.139, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.315, + "Actual Total Time": 27.323, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.569, + "Actual Total Time": 23.580, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.232, + "Actual Total Time": 25.243, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.27, + "Total Cost": 1088.20, + "Plan Rows": 1, + "Plan Width": 102, + "Actual Startup Time": 21.633, + "Actual Total Time": 27.276, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "it1.id", "mc1.movie_id", "t1.title", "t1.id", "t1.kind_id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t1.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.420, + "Actual Total Time": 25.433, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.127, + "Actual Total Time": 25.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.315, + "Actual Total Time": 27.321, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.568, + "Actual Total Time": 23.578, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.232, + "Actual Total Time": 25.241, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.84, + "Total Cost": 1087.73, + "Plan Rows": 1, + "Plan Width": 77, + "Actual Startup Time": 21.629, + "Actual Total Time": 27.268, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "it1.id", "mc1.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.419, + "Actual Total Time": 25.431, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.126, + "Actual Total Time": 25.135, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.314, + "Actual Total Time": 27.320, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.567, + "Actual Total Time": 23.576, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.231, + "Actual Total Time": 25.239, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.42, + "Total Cost": 1086.40, + "Plan Rows": 3, + "Plan Width": 62, + "Actual Startup Time": 21.626, + "Actual Total Time": 27.246, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["cn2.name", "ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "it1.id", "mc1.company_id", "mc1.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.419, + "Actual Total Time": 25.430, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.125, + "Actual Total Time": 25.133, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.314, + "Actual Total Time": 27.320, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.567, + "Actual Total Time": 23.575, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.230, + "Actual Total Time": 25.238, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.99, + "Total Cost": 1084.96, + "Plan Rows": 1, + "Plan Width": 54, + "Actual Startup Time": 21.622, + "Actual Total Time": 27.232, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn2.name", "ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "it1.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.418, + "Actual Total Time": 25.428, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.125, + "Actual Total Time": 25.132, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.313, + "Actual Total Time": 27.318, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.566, + "Actual Total Time": 23.574, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.230, + "Actual Total Time": 25.237, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.57, + "Total Cost": 1084.53, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 21.617, + "Actual Total Time": 27.215, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "it1.id", "mc2.company_id"], + "Inner Unique": false, + "Join Filter": "(t2.id = mc2.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.417, + "Actual Total Time": 25.427, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.124, + "Actual Total Time": 25.131, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.312, + "Actual Total Time": 27.317, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.565, + "Actual Total Time": 23.572, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.229, + "Actual Total Time": 25.235, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1083.95, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 21.611, + "Actual Total Time": 27.204, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "t2.title", "t2.id", "t2.kind_id", "it1.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.417, + "Actual Total Time": 25.425, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.123, + "Actual Total Time": 25.129, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.312, + "Actual Total Time": 27.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.564, + "Actual Total Time": 23.571, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.228, + "Actual Total Time": 25.234, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1081.52, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 21.605, + "Actual Total Time": 27.192, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "t2.title", "t2.id", "t2.kind_id"], + "Inner Unique": true, + "Join Filter": "(ml.linked_movie_id = t2.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.416, + "Actual Total Time": 25.423, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.122, + "Actual Total Time": 25.127, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.311, + "Actual Total Time": 27.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.564, + "Actual Total Time": 23.569, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.227, + "Actual Total Time": 25.232, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1077.78, + "Plan Rows": 7, + "Plan Width": 18, + "Actual Startup Time": 4.357, + "Actual Total Time": 26.990, + "Actual Rows": 6, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx2.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.627, + "Actual Total Time": 25.260, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.148, + "Actual Total Time": 24.939, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.072, + "Actual Total Time": 27.089, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.243, + "Actual Total Time": 23.414, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.091, + "Actual Total Time": 24.978, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1074.36, + "Plan Rows": 580, + "Plan Width": 22, + "Actual Startup Time": 0.873, + "Actual Total Time": 26.599, + "Actual Rows": 484, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.info_type_id", "mi_idx2.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.514, + "Actual Total Time": 24.920, + "Actual Rows": 163, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.589, + "Actual Total Time": 24.673, + "Actual Rows": 122, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.223, + "Actual Total Time": 26.715, + "Actual Rows": 414, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.083, + "Actual Total Time": 23.040, + "Actual Rows": 249, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.687, + "Actual Total Time": 24.668, + "Actual Rows": 187, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 632.40, + "Plan Rows": 463, + "Plan Width": 8, + "Actual Startup Time": 0.782, + "Actual Total Time": 19.960, + "Actual Rows": 386, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.418, + "Actual Total Time": 20.306, + "Actual Rows": 125, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.494, + "Actual Total Time": 20.738, + "Actual Rows": 112, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.152, + "Actual Total Time": 19.709, + "Actual Rows": 307, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.966, + "Actual Total Time": 16.905, + "Actual Rows": 185, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.548, + "Actual Total Time": 19.284, + "Actual Rows": 161, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 12, + "Actual Startup Time": 0.091, + "Actual Total Time": 11.631, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.091, + "Actual Total Time": 11.962, + "Actual Rows": 3180, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.131, + "Actual Total Time": 12.323, + "Actual Rows": 3252, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.079, + "Actual Total Time": 11.203, + "Actual Rows": 4701, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.105, + "Actual Total Time": 9.833, + "Actual Rows": 2652, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.113, + "Actual Total Time": 11.389, + "Actual Rows": 3018, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 13178, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3180, + "Cache Hits": 3164, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3252, + "Cache Hits": 3236, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4701, + "Cache Hits": 4685, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2652, + "Cache Hits": 2636, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3018, + "Cache Hits": 3002, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx2", + "Startup Cost": 0.43, + "Total Cost": 0.94, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 2315, + "Output": ["mi_idx2.id", "mi_idx2.movie_id", "mi_idx2.info_type_id", "mi_idx2.info", "mi_idx2.note"], + "Index Cond": "(mi_idx2.movie_id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx2.info < '3.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 125 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 112 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 307 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 185 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 161 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 34, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"],+ "Index Cond": "(t2.id = mi_idx2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t2.production_year = 2007)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 9 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.074, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Seq Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 2.41, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["it1.id", "it1.info"], + "Filter": "((it1.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc2", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.027, + "Actual Rows": 3, + "Actual Loops": 2, + "Output": ["mc2.id", "mc2.movie_id", "mc2.company_id", "mc2.company_type_id", "mc2.note"], + "Index Cond": "(mc2.movie_id = mi_idx2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn2", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn2.id", "cn2.name", "cn2.country_code", "cn2.imdb_id", "cn2.name_pcode_nf", "cn2.name_pcode_sf", "cn2.md5sum"], + "Index Cond": "(cn2.id = mc2.company_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc1", + "Startup Cost": 0.43, + "Total Cost": 1.42, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["mc1.id", "mc1.movie_id", "mc1.company_id", "mc1.company_type_id", "mc1.note"], + "Index Cond": "(mc1.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn1", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 14, + "Output": ["cn1.id", "cn1.name", "cn1.country_code", "cn1.imdb_id", "cn1.name_pcode_nf", "cn1.name_pcode_sf", "cn1.md5sum"], + "Index Cond": "(cn1.id = mc1.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn1.country_code)::text = '[nl]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 4, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"], + "Index Cond": "(t1.id = mc1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 4, + "Output": ["kt1.id"], + "Cache Key": "t1.kind_id", + "Cache Mode": "logical", + "Cache Hits": 3, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt1.id"], + "Index Cond": "(kt1.id = t1.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt1.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx1", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 4, + "Output": ["mi_idx1.id", "mi_idx1.movie_id", "mi_idx1.info_type_id", "mi_idx1.info", "mi_idx1.note"], + "Index Cond": "(mi_idx1.movie_id = t1.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 4, + "Output": ["kt2.id"], + "Cache Key": "t2.kind_id", + "Cache Mode": "logical", + "Cache Hits": 3, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt2.id"], + "Index Cond": "(kt2.id = t2.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt2.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6846011022746249658, + "Planning Time": 3134.717, + "Triggers": [ + ], + "Execution Time": 51.420, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -6846011022746249658, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn1.name) AS first_company,
       MIN(cn2.name) AS second_company,
       MIN(mi_idx1.info) AS first_rating,
       MIN(mi_idx2.info) AS second_rating,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM company_name AS cn1,
     company_name AS cn2,
     info_type AS it1,
     info_type AS it2,
     kind_type AS kt1,
     kind_type AS kt2,
     link_type AS lt,
     movie_companies AS mc1,
     movie_companies AS mc2,
     movie_info_idx AS mi_idx1,
     movie_info_idx AS mi_idx2,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE cn1.country_code != '[us]'
  AND it1.info = 'rating'
  AND it2.info = 'rating'
  AND kt1.kind IN ('tv series',
                   'episode')
  AND kt2.kind IN ('tv series',
                   'episode')
  AND lt.link IN ('sequel',
                  'follows',
                  'followed by')
  AND mi_idx2.info < '3.5'
  AND t2.production_year BETWEEN 2000 AND 2010
  AND lt.id = ml.link_type_id
  AND t1.id = ml.movie_id
  AND t2.id = ml.linked_movie_id
  AND it1.id = mi_idx1.info_type_id
  AND t1.id = mi_idx1.movie_id
  AND kt1.id = t1.kind_id
  AND cn1.id = mc1.company_id
  AND t1.id = mc1.movie_id
  AND ml.movie_id = mi_idx1.movie_id
  AND ml.movie_id = mc1.movie_id
  AND mi_idx1.movie_id = mc1.movie_id
  AND it2.id = mi_idx2.info_type_id
  AND t2.id = mi_idx2.movie_id
  AND kt2.id = t2.kind_id
  AND cn2.id = mc2.company_id
  AND t2.id = mc2.movie_id
  AND ml.linked_movie_id = mi_idx2.movie_id
  AND ml.linked_movie_id = mc2.movie_id
  AND mi_idx2.movie_id = mc2.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1399.85, + "Total Cost": 1399.86, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 63.942, + "Actual Total Time": 66.215, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn1.name)", "min(cn2.name)", "min(mi_idx1.info)", "min(mi_idx2.info)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1399.77, + "Total Cost": 1399.78, + "Plan Rows": 5, + "Plan Width": 192, + "Actual Startup Time": 63.132, + "Actual Total Time": 66.175, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn1.name))", "(PARTIAL min(cn2.name))", "(PARTIAL min(mi_idx1.info))", "(PARTIAL min(mi_idx2.info))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1398.77, + "Total Cost": 1398.78, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 51.195, + "Actual Total Time": 51.211, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn1.name)", "PARTIAL min(cn2.name)", "PARTIAL min(mi_idx1.info)", "PARTIAL min(mi_idx2.info)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 48.113, + "Actual Total Time": 48.125, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 48.102, + "Actual Total Time": 48.114, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.469, + "Actual Total Time": 51.481, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.731, + "Actual Total Time": 48.750, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 48.667, + "Actual Total Time": 48.684, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 9.66, + "Total Cost": 1398.42, + "Plan Rows": 23, + "Plan Width": 84, + "Actual Startup Time": 19.985, + "Actual Total Time": 51.077, + "Actual Rows": 19, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx1.info", "mi_idx2.info", "t1.title", "t2.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx1.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.307, + "Actual Total Time": 48.003, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.753, + "Actual Total Time": 47.727, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.892, + "Actual Total Time": 51.444, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.450, + "Actual Total Time": 48.661, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.657, + "Actual Total Time": 48.565, + "Actual Rows": 15, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.82, + "Total Cost": 1396.39, + "Plan Rows": 68, + "Plan Width": 88, + "Actual Startup Time": 19.199, + "Actual Total Time": 50.810, + "Actual Rows": 57, + "Actual Loops": 6, + "Output": ["cn2.name", "mi_idx2.info", "mi_idx1.info", "mi_idx1.info_type_id", "t1.title", "cn1.name", "t2.title"], + "Inner Unique": true, + "Hash Cond": "(t2.kind_id = kt2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.339, + "Actual Total Time": 47.780, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.623, + "Actual Total Time": 47.366, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.531, + "Actual Total Time": 51.315, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.831, + "Actual Total Time": 48.430, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.659, + "Actual Total Time": 48.340, + "Actual Rows": 45, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.76, + "Total Cost": 1394.99, + "Plan Rows": 80, + "Plan Width": 92, + "Actual Startup Time": 19.177, + "Actual Total Time": 50.645, + "Actual Rows": 66, + "Actual Loops": 6, + "Output": ["cn2.name", "mi_idx2.info", "mi_idx1.info", "mi_idx1.info_type_id", "t1.title", "cn1.name", "t2.title", "t2.kind_id"], + "Inner Unique": true, + "Join Filter": "(ml.linked_movie_id = t2.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.320, + "Actual Total Time": 47.630, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.607, + "Actual Total Time": 46.927, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.518, + "Actual Total Time": 51.280, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.817, + "Actual Total Time": 48.305, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.644, + "Actual Total Time": 48.198, + "Actual Rows": 45, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.33, + "Total Cost": 1331.70, + "Plan Rows": 131, + "Plan Width": 83, + "Actual Startup Time": 14.892, + "Actual Total Time": 48.568, + "Actual Rows": 109, + "Actual Loops": 6, + "Output": ["cn2.name", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "mi_idx1.info", "mi_idx1.info_type_id", "t1.title", "mc2.movie_id", "cn1.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.220, + "Actual Total Time": 45.995, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.549, + "Actual Total Time": 42.201, + "Actual Rows": 177, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.114, + "Actual Total Time": 49.318, + "Actual Rows": 201, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.760, + "Actual Total Time": 46.617, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.582, + "Actual Total Time": 46.441, + "Actual Rows": 72, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.91, + "Total Cost": 1253.98, + "Plan Rows": 176, + "Plan Width": 68, + "Actual Startup Time": 12.779, + "Actual Total Time": 46.134, + "Actual Rows": 146, + "Actual Loops": 6, + "Output": ["cn2.name", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.company_id", "mi_idx1.info", "mi_idx1.info_type_id", "t1.title", "mc2.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.153, + "Actual Total Time": 44.176, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.335, + "Actual Total Time": 37.397, + "Actual Rows": 186, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.082, + "Actual Total Time": 46.999, + "Actual Rows": 267, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.694, + "Actual Total Time": 44.714, + "Actual Rows": 69, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.535, + "Actual Total Time": 44.023, + "Actual Rows": 135, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.49, + "Total Cost": 1176.69, + "Plan Rows": 176, + "Plan Width": 53, + "Actual Startup Time": 12.683, + "Actual Total Time": 43.460, + "Actual Rows": 146, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.company_id", "mi_idx1.info", "mi_idx1.info_type_id", "t1.title", "mc2.company_id", "mc2.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.linked_movie_id = mc2.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.029, + "Actual Total Time": 42.090, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.217, + "Actual Total Time": 32.332, + "Actual Rows": 186, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.979, + "Actual Total Time": 44.135, + "Actual Rows": 267, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.612, + "Actual Total Time": 42.692, + "Actual Rows": 69, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.416, + "Actual Total Time": 41.314, + "Actual Rows": 135, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.06, + "Total Cost": 1136.29, + "Plan Rows": 70, + "Plan Width": 45, + "Actual Startup Time": 12.617, + "Actual Total Time": 41.977, + "Actual Rows": 58, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.company_id", "mi_idx1.info", "mi_idx1.info_type_id", "t1.title"], + "Inner Unique": true, + "Hash Cond": "(t1.kind_id = kt1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.864, + "Actual Total Time": 40.788, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.163, + "Actual Total Time": 29.483, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.946, + "Actual Total Time": 43.081, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.554, + "Actual Total Time": 41.224, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.363, + "Actual Total Time": 39.929, + "Actual Rows": 57, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.99, + "Total Cost": 1134.93, + "Plan Rows": 70, + "Plan Width": 49, + "Actual Startup Time": 12.593, + "Actual Total Time": 41.852, + "Actual Rows": 58, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.company_id", "mi_idx1.info", "mi_idx1.info_type_id", "t1.title", "t1.kind_id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t1.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.841, + "Actual Total Time": 40.684, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.140, + "Actual Total Time": 29.286, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.930, + "Actual Total Time": 42.989, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.531, + "Actual Total Time": 41.084, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.340, + "Actual Total Time": 39.814, + "Actual Rows": 57, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.56, + "Total Cost": 1101.46, + "Plan Rows": 70, + "Plan Width": 40, + "Actual Startup Time": 6.636, + "Actual Total Time": 34.048, + "Actual Rows": 58, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.company_id", "mc1.movie_id", "mi_idx1.info", "mi_idx1.info_type_id", "mi_idx1.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi_idx1.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.734, + "Actual Total Time": 39.309, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.994, + "Actual Total Time": 26.968, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.830, + "Actual Total Time": 41.163, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.409, + "Actual Total Time": 39.294, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.204, + "Actual Total Time": 36.098, + "Actual Rows": 57, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1088.39, + "Plan Rows": 25, + "Plan Width": 26, + "Actual Startup Time": 6.577, + "Actual Total Time": 31.961, + "Actual Rows": 21, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.company_id", "mc1.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.666, + "Actual Total Time": 29.965, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.939, + "Actual Total Time": 26.093, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.793, + "Actual Total Time": 40.394, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.298, + "Actual Total Time": 38.674, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.139, + "Actual Total Time": 35.528, + "Actual Rows": 19, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1075.38, + "Plan Rows": 9, + "Plan Width": 18, + "Actual Startup Time": 6.431, + "Actual Total Time": 31.396, + "Actual Rows": 8, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx2.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.541, + "Actual Total Time": 29.401, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.713, + "Actual Total Time": 25.380, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.644, + "Actual Total Time": 39.796, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.177, + "Actual Total Time": 38.126, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.914, + "Actual Total Time": 34.815, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1071.87, + "Plan Rows": 613, + "Plan Width": 22, + "Actual Startup Time": 0.724, + "Actual Total Time": 30.997, + "Actual Rows": 511, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.info_type_id", "mi_idx2.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.383, + "Actual Total Time": 29.112, + "Actual Rows": 279, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.678, + "Actual Total Time": 24.994, + "Actual Rows": 421, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.305, + "Actual Total Time": 39.086, + "Actual Rows": 1014, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.810, + "Actual Total Time": 37.732, + "Actual Rows": 347, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.994, + "Actual Total Time": 34.443, + "Actual Rows": 371, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 629.91, + "Plan Rows": 463, + "Plan Width": 8, + "Actual Startup Time": 0.532, + "Actual Total Time": 20.644, + "Actual Rows": 386, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.238, + "Actual Total Time": 21.232, + "Actual Rows": 221, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.529, + "Actual Total Time": 16.632, + "Actual Rows": 284, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.215, + "Actual Total Time": 19.229, + "Actual Rows": 750, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.682, + "Actual Total Time": 27.157, + "Actual Rows": 300, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.389, + "Actual Total Time": 24.349, + "Actual Rows": 267, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 12, + "Actual Startup Time": 0.102, + "Actual Total Time": 12.011, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.109, + "Actual Total Time": 12.630, + "Actual Rows": 3995, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.109, + "Actual Total Time": 9.621, + "Actual Rows": 4008, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.071, + "Actual Total Time": 10.649, + "Actual Rows": 4198, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.138, + "Actual Total Time": 15.985, + "Actual Rows": 5345, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.141, + "Actual Total Time": 14.213, + "Actual Rows": 4556, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 7879, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3995, + "Cache Hits": 3979, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4008, + "Cache Hits": 3992, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4198, + "Cache Hits": 4182, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5345, + "Cache Hits": 5329, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4556, + "Cache Hits": 4540, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = ANY ('{sequel,follows,\"followed by\"}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx2", + "Startup Cost": 0.43, + "Total Cost": 0.94, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 2315, + "Output": ["mi_idx2.id", "mi_idx2.movie_id", "mi_idx2.info_type_id", "mi_idx2.info", "mi_idx2.note"], + "Index Cond": "(mi_idx2.movie_id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx2.info < '3.5'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 221 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 284 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 750 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 300 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 267 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc1", + "Startup Cost": 0.43, + "Total Cost": 1.42, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.067, + "Actual Rows": 3, + "Actual Loops": 47, + "Output": ["mc1.id", "mc1.movie_id", "mc1.company_id", "mc1.company_type_id", "mc1.note"], + "Index Cond": "(mc1.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.075, + "Actual Rows": 2, + "Actual Loops": 7 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.054, + "Actual Rows": 2, + "Actual Loops": 12 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.081, + "Actual Rows": 3, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.085, + "Actual Rows": 3, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.136, + "Actual Rows": 4, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx1", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 14, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.095, + "Actual Rows": 3, + "Actual Loops": 126, + "Output": ["mi_idx1.id", "mi_idx1.movie_id", "mi_idx1.info_type_id", "mi_idx1.info", "mi_idx1.note"], + "Index Cond": "(mi_idx1.movie_id = mc1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.574, + "Actual Total Time": 0.578, + "Actual Rows": 2, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.029, + "Actual Rows": 3, + "Actual Loops": 24 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.032, + "Actual Rows": 2, + "Actual Loops": 22 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.029, + "Actual Rows": 3, + "Actual Loops": 18 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 3, + "Actual Loops": 19 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.131, + "Actual Total Time": 0.131, + "Actual Rows": 1, + "Actual Loops": 351, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"],+ "Index Cond": "(t1.id = mc1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 39 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 72 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 54 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 54 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 57 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["kt1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt1", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.007, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt1.id"], + "Filter": "((kt1.kind)::text = ANY ('{\"tv series\",episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc2", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.022, + "Actual Rows": 3, + "Actual Loops": 351, + "Output": ["mc2.id", "mc2.movie_id", "mc2.company_id", "mc2.company_type_id", "mc2.note"], + "Index Cond": "(mc2.movie_id = mi_idx2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.029, + "Actual Rows": 2, + "Actual Loops": 39 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.034, + "Actual Rows": 3, + "Actual Loops": 72 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.016, + "Actual Rows": 5, + "Actual Loops": 54 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 54 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.021, + "Actual Rows": 2, + "Actual Loops": 57 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn2", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 879, + "Output": ["cn2.id", "cn2.name", "cn2.country_code", "cn2.imdb_id", "cn2.name_pcode_nf", "cn2.name_pcode_sf", "cn2.md5sum"], + "Index Cond": "(cn2.id = mc2.company_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 63 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 186 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 267 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 69 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 135 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn1", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 879, + "Output": ["cn1.id", "cn1.name", "cn1.country_code", "cn1.imdb_id", "cn1.name_pcode_nf", "cn1.name_pcode_sf", "cn1.md5sum"], + "Index Cond": "(cn1.id = mc1.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn1.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 63 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 186 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 267 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 69 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 135 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 654, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"], + "Index Cond": "(t2.id = mc2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t2.production_year >= 2000) AND (t2.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 63 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 177 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 201 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 57 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 72 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["kt2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt2", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.024, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt2.id"], + "Filter": "((kt2.kind)::text = ANY ('{\"tv series\",episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2787191317670660246, + "Planning Time": 3192.264, + "Triggers": [ + ], + "Execution Time": 74.231, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -2787191317670660246, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM keyword AS k,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE k.keyword LIKE '%sequel%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German')
  AND t.production_year > 2005
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi.movie_id
  AND k.id = mk.keyword_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2980.47, + "Total Cost": 2980.48, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 334.243, + "Actual Total Time": 334.363, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2980.44, + "Total Cost": 2980.45, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 334.221, + "Actual Total Time": 334.350, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2979.44, + "Total Cost": 2979.45, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 72.027, + "Actual Total Time": 72.030, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.720, + "Actual Total Time": 26.723, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 76.834, + "Actual Total Time": 76.837, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.255, + "Actual Total Time": 27.257, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.207, + "Actual Total Time": 29.211, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.224, + "Actual Total Time": 27.228, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.734, + "Actual Total Time": 27.738, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.706, + "Actual Total Time": 27.708, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 2979.37, + "Plan Rows": 29, + "Plan Width": 17, + "Actual Startup Time": 9.312, + "Actual Total Time": 71.966, + "Actual Rows": 26, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.237, + "Actual Total Time": 26.692, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.963, + "Actual Total Time": 76.751, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.630, + "Actual Total Time": 27.239, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.030, + "Actual Total Time": 29.175, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.360, + "Actual Total Time": 27.193, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.105, + "Actual Total Time": 27.709, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.169, + "Actual Total Time": 27.670, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2629.47, + "Plan Rows": 319, + "Plan Width": 25, + "Actual Startup Time": 5.787, + "Actual Total Time": 43.938, + "Actual Rows": 279, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.976, + "Actual Total Time": 16.783, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.864, + "Actual Total Time": 38.741, + "Actual Rows": 536, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.617, + "Actual Total Time": 20.383, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.912, + "Actual Total Time": 21.778, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.791, + "Actual Total Time": 16.184, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.861, + "Actual Total Time": 20.303, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.742, + "Actual Total Time": 17.354, + "Actual Rows": 82, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1777.65, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 4.269, + "Actual Total Time": 18.172, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.707, + "Actual Total Time": 11.244, + "Actual Rows": 139, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.545, + "Actual Total Time": 14.355, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.767, + "Actual Total Time": 18.376, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.638, + "Actual Total Time": 17.518, + "Actual Rows": 169, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.001, + "Actual Total Time": 12.795, + "Actual Rows": 141, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.184, + "Actual Total Time": 8.437, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.606, + "Actual Total Time": 13.173, + "Actual Rows": 180, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 3.793, + "Actual Total Time": 7.939, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.283, + "Actual Total Time": 8.472, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.944, + "Actual Total Time": 0.977, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.378, + "Actual Total Time": 14.657, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.301, + "Actual Total Time": 10.596, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.683, + "Actual Total Time": 9.713, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.858, + "Actual Total Time": 4.878, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.327, + "Actual Total Time": 10.639, + "Actual Rows": 4, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 142.94, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.404, + "Actual Total Time": 2.600, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.225, + "Actual Total Time": 0.448, + "Actual Rows": 23, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.596, + "Actual Total Time": 12.832, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.557, + "Actual Total Time": 0.917, + "Actual Rows": 16, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.704, + "Actual Total Time": 0.973, + "Actual Rows": 24, + "Actual Loops": 7 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.262, + "Actual Total Time": 0.498, + "Actual Rows": 24, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.321, + "Actual Total Time": 3.417, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.248, + "Actual Total Time": 0.612, + "Actual Rows": 45, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 139 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1400 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 66 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 169 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 141 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 312 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 180 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.08, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.093, + "Actual Total Time": 0.100, + "Actual Rows": 0, + "Actual Loops": 2235, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German}'::text[]))", + "Rows Removed by Filter": 45, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.206, + "Actual Total Time": 0.224, + "Actual Rows": 0, + "Actual Loops": 44 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.070, + "Actual Rows": 0, + "Actual Loops": 536 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.325, + "Actual Total Time": 0.341, + "Actual Rows": 0, + "Actual Loops": 20 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.184, + "Actual Total Time": 0.230, + "Actual Rows": 0, + "Actual Loops": 32 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.238, + "Actual Total Time": 0.304, + "Actual Rows": 0, + "Actual Loops": 36 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.245, + "Actual Total Time": 0.263, + "Actual Rows": 0, + "Actual Loops": 28 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.120, + "Actual Total Time": 0.125, + "Actual Rows": 0, + "Actual Loops": 82 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5539820102114296223, + "Planning Time": 14.337, + "Triggers": [ + ], + "Execution Time": 335.543, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 5539820102114296223, + "JOINS": 3 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM keyword AS k,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE k.keyword LIKE '%sequel%'
  AND mi.info IN ('Bulgaria')
  AND t.production_year > 2010
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi.movie_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2684.53, + "Total Cost": 2684.54, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 153.942, + "Actual Total Time": 154.075, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.30, + "Total Cost": 2684.52, + "Plan Rows": 5, + "Plan Width": 17, + "Actual Startup Time": 12.926, + "Actual Total Time": 154.047, + "Actual Rows": 5, + "Actual Loops": 1, + "Output": ["t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 2683.52, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 16.558, + "Actual Total Time": 35.925, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.101, + "Actual Total Time": 16.104, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.540, + "Actual Total Time": 30.423, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.304, + "Actual Total Time": 20.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.965, + "Actual Total Time": 19.037, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.282, + "Actual Total Time": 20.284, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.235, + "Actual Total Time": 4.237, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.828, + "Actual Total Time": 23.830, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2629.47, + "Plan Rows": 58, + "Plan Width": 25, + "Actual Startup Time": 5.099, + "Actual Total Time": 31.220, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.733, + "Actual Total Time": 15.155, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.517, + "Actual Total Time": 26.467, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.354, + "Actual Total Time": 19.484, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.751, + "Actual Total Time": 17.052, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.177, + "Actual Total Time": 19.924, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.234, + "Actual Total Time": 4.235, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.826, + "Actual Total Time": 9.528, + "Actual Rows": 21, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1777.65, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 3.910, + "Actual Total Time": 13.711, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.556, + "Actual Total Time": 12.115, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.487, + "Actual Total Time": 7.771, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.241, + "Actual Total Time": 14.678, + "Actual Rows": 292, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.125, + "Actual Total Time": 11.168, + "Actual Rows": 326, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.004, + "Actual Total Time": 17.495, + "Actual Rows": 115, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.233, + "Actual Total Time": 4.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.536, + "Actual Total Time": 7.024, + "Actual Rows": 109, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 3.840, + "Actual Total Time": 8.080, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.490, + "Actual Total Time": 10.931, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.376, + "Actual Total Time": 2.413, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.181, + "Actual Total Time": 12.868, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.041, + "Actual Total Time": 8.834, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.925, + "Actual Total Time": 16.355, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.232, + "Actual Total Time": 4.233, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.477, + "Actual Total Time": 5.996, + "Actual Rows": 4, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 142.94, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.038, + "Actual Total Time": 1.380, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.186, + "Actual Rows": 28, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.107, + "Actual Total Time": 4.842, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.337, + "Actual Rows": 58, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.737, + "Actual Rows": 109, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.107, + "Actual Rows": 12, + "Actual Loops": 10 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.243, + "Actual Rows": 27, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 165 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1400 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 292 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 326 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 115 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 109 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.092, + "Actual Rows": 0, + "Actual Loops": 405, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = 'Bulgaria'::text)", + "Rows Removed by Filter": 63, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 14 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.083, + "Actual Rows": 0, + "Actual Loops": 47 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.081, + "Actual Rows": 0, + "Actual Loops": 10 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.133, + "Actual Total Time": 0.151, + "Actual Rows": 0, + "Actual Loops": 13 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.070, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.680, + "Actual Total Time": 0.680, + "Actual Rows": 0, + "Actual Loops": 21 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2073429154321355728, + "Planning Time": 11.803, + "Triggers": [ + ], + "Execution Time": 155.302, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 2073429154321355728, + "JOINS": 3 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM keyword AS k,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE k.keyword LIKE '%sequel%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND t.production_year > 1990
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi.movie_id
  AND k.id = mk.keyword_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3771.43, + "Total Cost": 3771.44, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 550.475, + "Actual Total Time": 579.431, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3771.40, + "Total Cost": 3771.41, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 48.025, + "Actual Total Time": 579.391, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3770.40, + "Total Cost": 3770.41, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 106.030, + "Actual Total Time": 106.033, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 544.531, + "Actual Total Time": 544.534, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 33.156, + "Actual Total Time": 33.159, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.167, + "Actual Total Time": 91.170, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.400, + "Actual Total Time": 33.403, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.612, + "Actual Total Time": 29.615, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 46.227, + "Actual Total Time": 46.229, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.438, + "Actual Total Time": 32.442, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.32, + "Total Cost": 3767.81, + "Plan Rows": 1036, + "Plan Width": 17, + "Actual Startup Time": 4.029, + "Actual Total Time": 105.486, + "Actual Rows": 906, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.773, + "Actual Total Time": 541.693, + "Actual Rows": 5259, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.009, + "Actual Total Time": 33.047, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.693, + "Actual Total Time": 90.367, + "Actual Rows": 1231, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.501, + "Actual Total Time": 33.310, + "Actual Rows": 87, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.469, + "Actual Total Time": 29.551, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.688, + "Actual Total Time": 46.010, + "Actual Rows": 243, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.212, + "Actual Total Time": 32.354, + "Actual Rows": 84, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2629.47, + "Plan Rows": 1125, + "Plan Width": 25, + "Actual Startup Time": 3.530, + "Actual Total Time": 31.683, + "Actual Rows": 984, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.868, + "Actual Total Time": 141.746, + "Actual Rows": 5892, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.694, + "Actual Total Time": 11.091, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.558, + "Actual Total Time": 26.948, + "Actual Rows": 1283, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.422, + "Actual Total Time": 18.624, + "Actual Rows": 89, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.357, + "Actual Total Time": 15.649, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.583, + "Actual Total Time": 9.525, + "Actual Rows": 191, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.470, + "Actual Total Time": 14.350, + "Actual Rows": 74, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1777.65, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 3.457, + "Actual Total Time": 13.202, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.812, + "Actual Total Time": 34.816, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.638, + "Actual Total Time": 7.888, + "Actual Rows": 183, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.396, + "Actual Total Time": 5.933, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.319, + "Actual Total Time": 16.250, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.289, + "Actual Total Time": 13.647, + "Actual Rows": 91, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.533, + "Actual Total Time": 3.735, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.407, + "Actual Total Time": 11.502, + "Actual Rows": 123, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 3.381, + "Actual Total Time": 7.512, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.689, + "Actual Total Time": 2.708, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.579, + "Actual Total Time": 6.747, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.296, + "Actual Total Time": 0.337, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.249, + "Actual Total Time": 15.259, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.214, + "Actual Total Time": 12.785, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.464, + "Actual Total Time": 1.513, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.344, + "Actual Total Time": 10.303, + "Actual Rows": 6, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 142.94, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.040, + "Actual Total Time": 1.392, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.116, + "Actual Total Time": 29.307, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.265, + "Actual Rows": 46, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.097, + "Actual Total Time": 5.133, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.132, + "Actual Rows": 16, + "Actual Loops": 7 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.135, + "Actual Rows": 15, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.064, + "Actual Total Time": 2.091, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.188, + "Actual Rows": 20, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 10544 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 183 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1400 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 109 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 91 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 312 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 123 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.00, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.074, + "Actual Rows": 1, + "Actual Loops": 7874, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 35, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 5892 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.170, + "Actual Rows": 1, + "Actual Loops": 128 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 1283 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.164, + "Actual Rows": 1, + "Actual Loops": 89 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.134, + "Actual Total Time": 0.288, + "Actual Rows": 1, + "Actual Loops": 48 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.100, + "Actual Total Time": 0.190, + "Actual Rows": 1, + "Actual Loops": 191 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.242, + "Actual Rows": 1, + "Actual Loops": 74 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 8031722090065659855, + "Planning Time": 12.994, + "Triggers": [ + ], + "Execution Time": 582.512, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 8031722090065659855, + "JOINS": 3 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS movie_title
FROM info_type AS it,
     keyword AS k,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it.info ='rating'
  AND k.keyword LIKE '%sequel%'
  AND mi_idx.info > '5.0'
  AND t.production_year > 2005
  AND t.id = mi_idx.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2793.80, + "Total Cost": 2793.81, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 172.527, + "Actual Total Time": 172.757, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2793.76, + "Total Cost": 2793.77, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 172.502, + "Actual Total Time": 172.745, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2792.76, + "Total Cost": 2792.77, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 37.746, + "Actual Total Time": 37.750, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.985, + "Actual Total Time": 16.988, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.443, + "Actual Total Time": 15.446, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.517, + "Actual Total Time": 16.521, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.907, + "Actual Total Time": 16.909, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.997, + "Actual Total Time": 33.002, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.443, + "Actual Total Time": 15.449, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.018, + "Actual Total Time": 16.023, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 2792.23, + "Plan Rows": 106, + "Plan Width": 23, + "Actual Startup Time": 5.347, + "Actual Total Time": 37.647, + "Actual Rows": 92, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.570, + "Actual Total Time": 16.962, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.304, + "Actual Total Time": 15.408, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.535, + "Actual Total Time": 16.469, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.673, + "Actual Total Time": 16.875, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.329, + "Actual Total Time": 32.877, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.645, + "Actual Total Time": 15.395, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.599, + "Actual Total Time": 15.993, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 2789.94, + "Plan Rows": 164, + "Plan Width": 27, + "Actual Startup Time": 5.054, + "Actual Total Time": 37.211, + "Actual Rows": 144, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.320, + "Actual Total Time": 16.697, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.948, + "Actual Total Time": 15.116, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.242, + "Actual Total Time": 16.111, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.410, + "Actual Total Time": 16.588, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.117, + "Actual Total Time": 32.475, + "Actual Rows": 141, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.419, + "Actual Total Time": 15.111, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.367, + "Actual Total Time": 15.737, + "Actual Rows": 18, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2629.47, + "Plan Rows": 319, + "Plan Width": 25, + "Actual Startup Time": 4.256, + "Actual Total Time": 31.673, + "Actual Rows": 279, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.043, + "Actual Total Time": 16.264, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.834, + "Actual Total Time": 14.163, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.123, + "Actual Total Time": 13.417, + "Actual Rows": 98, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.238, + "Actual Total Time": 15.825, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.004, + "Actual Total Time": 24.929, + "Actual Rows": 536, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.365, + "Actual Total Time": 13.674, + "Actual Rows": 53, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.282, + "Actual Total Time": 14.975, + "Actual Rows": 22, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1777.65, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 3.636, + "Actual Total Time": 14.126, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.591, + "Actual Total Time": 15.143, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.621, + "Actual Total Time": 8.310, + "Actual Rows": 318, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.064, + "Actual Total Time": 9.161, + "Actual Rows": 218, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.132, + "Actual Total Time": 13.964, + "Actual Rows": 105, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.604, + "Actual Total Time": 6.805, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.974, + "Actual Total Time": 10.070, + "Actual Rows": 193, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.103, + "Actual Total Time": 12.371, + "Actual Rows": 123, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 3.552, + "Actual Total Time": 8.114, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.509, + "Actual Total Time": 14.602, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.541, + "Actual Total Time": 5.987, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.003, + "Actual Total Time": 5.738, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.056, + "Actual Total Time": 13.219, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.499, + "Actual Total Time": 1.536, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.906, + "Actual Total Time": 8.651, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.047, + "Actual Total Time": 11.313, + "Actual Rows": 7, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 142.94, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.041, + "Actual Total Time": 1.481, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.127, + "Actual Rows": 12, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.729, + "Actual Rows": 106, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 1.111, + "Actual Rows": 73, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.138, + "Actual Rows": 21, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.101, + "Actual Total Time": 4.783, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.224, + "Actual Rows": 32, + "Actual Loops": 6 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.142, + "Actual Rows": 18, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 50 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 318 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 218 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 105 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1400 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 193 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 123 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 2235, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '5.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 30 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 98 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 27 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 536 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 53 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 22 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1950505845315524548, + "Planning Time": 12.332, + "Triggers": [ + ], + "Execution Time": 174.132, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -1950505845315524548, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS movie_title
FROM info_type AS it,
     keyword AS k,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it.info ='rating'
  AND k.keyword LIKE '%sequel%'
  AND mi_idx.info > '9.0'
  AND t.production_year > 2010
  AND t.id = mi_idx.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2660.21, + "Total Cost": 2660.22, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 162.462, + "Actual Total Time": 162.617, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2660.16, + "Total Cost": 2660.17, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 162.436, + "Actual Total Time": 162.605, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2659.16, + "Total Cost": 2659.17, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 36.137, + "Actual Total Time": 36.141, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.854, + "Actual Total Time": 17.857, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.395, + "Actual Total Time": 18.397, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.591, + "Actual Total Time": 27.594, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.106, + "Actual Total Time": 18.109, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.501, + "Actual Total Time": 18.505, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.954, + "Actual Total Time": 16.958, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.063, + "Actual Total Time": 10.067, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.43, + "Total Cost": 2659.16, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 18.166, + "Actual Total Time": 36.129, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.849, + "Actual Total Time": 17.851, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.390, + "Actual Total Time": 18.393, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.698, + "Actual Total Time": 27.571, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.102, + "Actual Total Time": 18.104, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.496, + "Actual Total Time": 18.499, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.950, + "Actual Total Time": 16.954, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.058, + "Actual Total Time": 10.061, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 2658.65, + "Plan Rows": 3, + "Plan Width": 27, + "Actual Startup Time": 13.072, + "Actual Total Time": 36.085, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.848, + "Actual Total Time": 17.850, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.582, + "Actual Total Time": 18.344, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.646, + "Actual Total Time": 27.519, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.101, + "Actual Total Time": 18.103, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.913, + "Actual Total Time": 18.461, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.623, + "Actual Total Time": 16.905, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.057, + "Actual Total Time": 10.060, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2629.47, + "Plan Rows": 58, + "Plan Width": 25, + "Actual Startup Time": 5.407, + "Actual Total Time": 35.054, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.303, + "Actual Total Time": 17.646, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.399, + "Actual Total Time": 17.947, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.115, + "Actual Total Time": 26.430, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.659, + "Actual Total Time": 17.885, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.443, + "Actual Total Time": 18.074, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.974, + "Actual Total Time": 16.213, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.595, + "Actual Total Time": 9.922, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1777.65, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 3.467, + "Actual Total Time": 15.376, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.053, + "Actual Total Time": 14.708, + "Actual Rows": 147, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.530, + "Actual Total Time": 11.435, + "Actual Rows": 332, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.918, + "Actual Total Time": 6.568, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.132, + "Actual Total Time": 16.585, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.615, + "Actual Total Time": 13.915, + "Actual Rows": 197, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.654, + "Actual Total Time": 11.460, + "Actual Rows": 233, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.330, + "Actual Total Time": 8.826, + "Actual Rows": 41, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 3.384, + "Actual Total Time": 9.126, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.971, + "Actual Total Time": 13.576, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.451, + "Actual Total Time": 8.908, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.803, + "Actual Total Time": 0.845, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.065, + "Actual Total Time": 15.960, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.539, + "Actual Total Time": 12.284, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.599, + "Actual Total Time": 9.675, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.249, + "Actual Total Time": 8.357, + "Actual Rows": 3, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 142.94, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.042, + "Actual Total Time": 1.526, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.177, + "Actual Rows": 24, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.473, + "Actual Rows": 66, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.108, + "Actual Total Time": 5.177, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.147, + "Actual Rows": 14, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.255, + "Actual Rows": 33, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.420, + "Actual Rows": 58, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.147, + "Actual Rows": 14, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 147 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 332 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1400 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 57 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 197 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 233 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 41 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 405, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '9.0'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 14 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 47 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 7 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 11 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 22 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 20, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1950505845315524548, + "Planning Time": 13.588, + "Triggers": [ + ], + "Execution Time": 164.350, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -1950505845315524548, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS movie_title
FROM info_type AS it,
     keyword AS k,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it.info ='rating'
  AND k.keyword LIKE '%sequel%'
  AND mi_idx.info > '2.0'
  AND t.production_year > 1990
  AND t.id = mi_idx.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3180.58, + "Total Cost": 3180.59, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 231.840, + "Actual Total Time": 232.066, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3180.54, + "Total Cost": 3180.55, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 231.814, + "Actual Total Time": 232.053, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3179.54, + "Total Cost": 3179.55, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 50.615, + "Actual Total Time": 50.619, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.191, + "Actual Total Time": 22.196, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.278, + "Actual Total Time": 22.283, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.416, + "Actual Total Time": 22.421, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.562, + "Actual Total Time": 22.567, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.398, + "Actual Total Time": 22.401, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.536, + "Actual Total Time": 22.539, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 39.589, + "Actual Total Time": 39.593, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 3176.19, + "Plan Rows": 669, + "Plan Width": 23, + "Actual Startup Time": 4.616, + "Actual Total Time": 50.181, + "Actual Rows": 588, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi_idx.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.250, + "Actual Total Time": 22.061, + "Actual Rows": 108, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.013, + "Actual Total Time": 22.071, + "Actual Rows": 173, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.503, + "Actual Total Time": 22.264, + "Actual Rows": 134, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.619, + "Actual Total Time": 22.438, + "Actual Rows": 115, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.975, + "Actual Total Time": 22.324, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.906, + "Actual Total Time": 22.467, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.242, + "Actual Total Time": 39.119, + "Actual Rows": 422, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 2711.28, + "Plan Rows": 983, + "Plan Width": 14, + "Actual Startup Time": 4.499, + "Actual Total Time": 37.742, + "Actual Rows": 1012, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.176, + "Actual Total Time": 18.832, + "Actual Rows": 148, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.953, + "Actual Total Time": 15.802, + "Actual Rows": 290, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.256, + "Actual Total Time": 18.542, + "Actual Rows": 154, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.562, + "Actual Total Time": 19.141, + "Actual Rows": 152, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.911, + "Actual Total Time": 20.065, + "Actual Rows": 96, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.838, + "Actual Total Time": 21.060, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.912, + "Actual Total Time": 29.182, + "Actual Rows": 514, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2703.63, + "Plan Rows": 2134, + "Plan Width": 18, + "Actual Startup Time": 4.191, + "Actual Total Time": 36.359, + "Actual Rows": 1870, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.905, + "Actual Total Time": 18.326, + "Actual Rows": 280, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.675, + "Actual Total Time": 15.059, + "Actual Rows": 548, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.994, + "Actual Total Time": 18.043, + "Actual Rows": 303, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.258, + "Actual Total Time": 18.610, + "Actual Rows": 284, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.612, + "Actual Total Time": 19.609, + "Actual Rows": 166, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.537, + "Actual Total Time": 20.669, + "Actual Rows": 106, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.648, + "Actual Total Time": 28.049, + "Actual Rows": 999, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1777.65, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 4.097, + "Actual Total Time": 15.682, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.806, + "Actual Total Time": 13.711, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.581, + "Actual Total Time": 6.702, + "Actual Rows": 314, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.907, + "Actual Total Time": 13.765, + "Actual Rows": 167, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.195, + "Actual Total Time": 14.171, + "Actual Rows": 182, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.502, + "Actual Total Time": 15.744, + "Actual Rows": 102, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.377, + "Actual Total Time": 18.630, + "Actual Rows": 77, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.566, + "Actual Total Time": 7.508, + "Actual Rows": 1400, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 4.012, + "Actual Total Time": 9.882, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.729, + "Actual Total Time": 12.288, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.500, + "Actual Total Time": 4.356, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.817, + "Actual Total Time": 12.024, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.132, + "Actual Total Time": 12.690, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.441, + "Actual Total Time": 14.707, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.306, + "Actual Total Time": 17.770, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.452, + "Actual Total Time": 1.491, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 142.94, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.043, + "Actual Total Time": 1.425, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.222, + "Actual Rows": 28, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.049, + "Actual Total Time": 1.105, + "Actual Rows": 157, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.832, + "Actual Rows": 84, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.348, + "Actual Rows": 46, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.139, + "Actual Rows": 15, + "Actual Loops": 7 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.115, + "Actual Rows": 11, + "Actual Loops": 7 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.109, + "Actual Total Time": 5.465, + "Actual Rows": 1400, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 12951, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '2.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 2, + "Actual Loops": 165 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.025, + "Actual Rows": 2, + "Actual Loops": 314 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 2, + "Actual Loops": 167 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.023, + "Actual Rows": 2, + "Actual Loops": 182 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 2, + "Actual Loops": 102 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 77 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1400 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 8092, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 148 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 290 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 154 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 152 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 96 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 62 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 514 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1950505845315524548, + "Planning Time": 14.179, + "Triggers": [ + ], + "Execution Time": 233.456, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -1950505845315524548, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS typical_european_movie
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     title AS t
WHERE ct.kind = 'production companies'
  AND mc.note LIKE '%(theatrical)%'
  AND mc.note LIKE '%(France)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German')
  AND t.production_year > 2005
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND mc.movie_id = mi.movie_id
  AND ct.id = mc.company_type_id
  AND it.id = mi.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 23703.43, + "Total Cost": 23703.44, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 224.756, + "Actual Total Time": 225.117, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 23703.40, + "Total Cost": 23703.41, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 219.806, + "Actual Total Time": 225.099, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 23702.40, + "Total Cost": 23702.41, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 213.202, + "Actual Total Time": 213.207, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 212.449, + "Actual Total Time": 212.455, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 212.049, + "Actual Total Time": 212.053, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 212.417, + "Actual Total Time": 212.421, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 212.119, + "Actual Total Time": 212.124, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 213.112, + "Actual Total Time": 213.117, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 212.478, + "Actual Total Time": 212.483, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 212.116, + "Actual Total Time": 212.120, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.05, + "Total Cost": 23702.40, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 213.198, + "Actual Total Time": 213.203, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 212.444, + "Actual Total Time": 212.449, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 212.046, + "Actual Total Time": 212.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 212.413, + "Actual Total Time": 212.417, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 212.112, + "Actual Total Time": 212.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 213.108, + "Actual Total Time": 213.113, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 212.473, + "Actual Total Time": 212.478, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 212.112, + "Actual Total Time": 212.116, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.91, + "Total Cost": 23702.24, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 213.197, + "Actual Total Time": 213.201, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 212.443, + "Actual Total Time": 212.448, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 212.045, + "Actual Total Time": 212.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 212.413, + "Actual Total Time": 212.415, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 212.111, + "Actual Total Time": 212.115, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 213.108, + "Actual Total Time": 213.111, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 212.473, + "Actual Total Time": 212.477, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 212.112, + "Actual Total Time": 212.115, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 23700.99, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 213.196, + "Actual Total Time": 213.200, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 212.443, + "Actual Total Time": 212.446, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 212.045, + "Actual Total Time": 212.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 212.412, + "Actual Total Time": 212.414, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 212.111, + "Actual Total Time": 212.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 213.107, + "Actual Total Time": 213.110, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 212.472, + "Actual Total Time": 212.475, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 212.111, + "Actual Total Time": 212.113, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 23699.40, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 213.196, + "Actual Total Time": 213.198, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 212.442, + "Actual Total Time": 212.445, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 212.044, + "Actual Total Time": 212.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 212.411, + "Actual Total Time": 212.413, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 212.109, + "Actual Total Time": 212.111, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 213.106, + "Actual Total Time": 213.108, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 212.472, + "Actual Total Time": 212.474, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 212.110, + "Actual Total Time": 212.112, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.00, + "Total Cost": 23682.12, + "Plan Rows": 3003, + "Plan Width": 8, + "Actual Startup Time": 15.995, + "Actual Total Time": 211.759, + "Actual Rows": 3003, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "((mc.note ~~ '%(theatrical)%'::text) AND (mc.note ~~ '%(France)%'::text))", + "Rows Removed by Filter": 323138, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.731, + "Actual Total Time": 211.161, + "Actual Rows": 2863, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.328, + "Actual Total Time": 209.982, + "Actual Rows": 3370, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.852, + "Actual Total Time": 211.182, + "Actual Rows": 2701, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.640, + "Actual Total Time": 211.154, + "Actual Rows": 1730, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 40.656, + "Actual Total Time": 211.604, + "Actual Rows": 3545, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.482, + "Actual Total Time": 211.104, + "Actual Rows": 3074, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.435, + "Actual Total Time": 210.710, + "Actual Rows": 3271, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.59, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.24, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 9106003620751043838, + "Planning Time": 17.589, + "Triggers": [ + ], + "Execution Time": 227.078, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 9106003620751043838, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS american_vhs_movie
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     title AS t
WHERE ct.kind = 'production companies'
  AND mc.note LIKE '%(VHS)%'
  AND mc.note LIKE '%(USA)%'
  AND mc.note LIKE '%(1994)%'
  AND mi.info IN ('USA',
                  'America')
  AND t.production_year > 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND mc.movie_id = mi.movie_id
  AND ct.id = mc.company_type_id
  AND it.id = mi.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24504.24, + "Total Cost": 24504.25, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 174.204, + "Actual Total Time": 187.419, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24504.20, + "Total Cost": 24504.22, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 173.862, + "Actual Total Time": 187.404, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24503.20, + "Total Cost": 24503.21, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 167.118, + "Actual Total Time": 167.123, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 166.290, + "Actual Total Time": 166.295, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 166.353, + "Actual Total Time": 166.358, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 166.322, + "Actual Total Time": 166.327, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 166.324, + "Actual Total Time": 166.329, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 166.296, + "Actual Total Time": 166.301, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 166.143, + "Actual Total Time": 166.147, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 166.303, + "Actual Total Time": 166.308, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.05, + "Total Cost": 24503.20, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 167.114, + "Actual Total Time": 167.118, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 166.284, + "Actual Total Time": 166.288, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 166.350, + "Actual Total Time": 166.354, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 166.319, + "Actual Total Time": 166.323, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 166.320, + "Actual Total Time": 166.323, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 166.292, + "Actual Total Time": 166.296, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 166.138, + "Actual Total Time": 166.143, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 166.299, + "Actual Total Time": 166.304, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.62, + "Total Cost": 24502.67, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 167.113, + "Actual Total Time": 167.117, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 166.283, + "Actual Total Time": 166.287, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 166.349, + "Actual Total Time": 166.353, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 166.319, + "Actual Total Time": 166.322, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 166.319, + "Actual Total Time": 166.322, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 166.292, + "Actual Total Time": 166.295, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 166.138, + "Actual Total Time": 166.141, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 166.298, + "Actual Total Time": 166.302, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.48, + "Total Cost": 24502.51, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 167.112, + "Actual Total Time": 167.115, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 166.283, + "Actual Total Time": 166.286, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 166.348, + "Actual Total Time": 166.351, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 166.318, + "Actual Total Time": 166.321, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 166.318, + "Actual Total Time": 166.321, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 166.291, + "Actual Total Time": 166.294, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 166.137, + "Actual Total Time": 166.140, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 166.298, + "Actual Total Time": 166.301, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 24499.47, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 167.112, + "Actual Total Time": 167.114, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 166.282, + "Actual Total Time": 166.284, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 166.348, + "Actual Total Time": 166.350, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 166.317, + "Actual Total Time": 166.319, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 166.317, + "Actual Total Time": 166.319, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 166.291, + "Actual Total Time": 166.292, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 166.137, + "Actual Total Time": 166.138, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 166.297, + "Actual Total Time": 166.300, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.00, + "Total Cost": 24497.47, + "Plan Rows": 177, + "Plan Width": 8, + "Actual Startup Time": 12.011, + "Actual Total Time": 166.673, + "Actual Rows": 177, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "((mc.note ~~ '%(VHS)%'::text) AND (mc.note ~~ '%(USA)%'::text) AND (mc.note ~~ '%(1994)%'::text))", + "Rows Removed by Filter": 325964, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.202, + "Actual Total Time": 165.866, + "Actual Rows": 207, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.876, + "Actual Total Time": 165.908, + "Actual Rows": 168, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.740, + "Actual Total Time": 165.901, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.468, + "Actual Total Time": 165.902, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.958, + "Actual Total Time": 165.854, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.335, + "Actual Total Time": 165.775, + "Actual Rows": 197, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.024, + "Actual Total Time": 165.893, + "Actual Rows": 158, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 3.03, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{USA,America}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3414057395363075461, + "Planning Time": 18.946, + "Triggers": [ + ], + "Execution Time": 190.264, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -3414057395363075461, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS american_movie
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     title AS t
WHERE ct.kind = 'production companies'
  AND mc.note NOT LIKE '%(TV)%'
  AND mc.note LIKE '%(USA)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND t.production_year > 1990
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND mc.movie_id = mi.movie_id
  AND ct.id = mc.company_type_id
  AND it.id = mi.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24051.54, + "Total Cost": 24051.55, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 247.215, + "Actual Total Time": 259.731, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24051.51, + "Total Cost": 24051.52, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 243.906, + "Actual Total Time": 259.692, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24050.51, + "Total Cost": 24050.52, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 235.906, + "Actual Total Time": 235.913, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 223.767, + "Actual Total Time": 223.773, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 235.370, + "Actual Total Time": 235.375, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 236.176, + "Actual Total Time": 236.181, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 239.310, + "Actual Total Time": 239.317, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 237.204, + "Actual Total Time": 237.211, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 236.281, + "Actual Total Time": 236.285, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 236.274, + "Actual Total Time": 236.279, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.42, + "Total Cost": 24050.30, + "Plan Rows": 84, + "Plan Width": 17, + "Actual Startup Time": 149.486, + "Actual Total Time": 235.764, + "Actual Rows": 84, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 137.540, + "Actual Total Time": 223.663, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 148.199, + "Actual Total Time": 235.219, + "Actual Rows": 99, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 152.815, + "Actual Total Time": 236.020, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 149.217, + "Actual Total Time": 239.112, + "Actual Rows": 85, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 153.384, + "Actual Total Time": 237.061, + "Actual Rows": 90, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 150.862, + "Actual Total Time": 236.147, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 148.826, + "Actual Total Time": 236.136, + "Actual Rows": 89, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 24047.58, + "Plan Rows": 84, + "Plan Width": 21, + "Actual Startup Time": 149.173, + "Actual Total Time": 235.273, + "Actual Rows": 84, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 137.288, + "Actual Total Time": 223.274, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 147.939, + "Actual Total Time": 234.767, + "Actual Rows": 99, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 152.570, + "Actual Total Time": 235.579, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 148.953, + "Actual Total Time": 238.621, + "Actual Rows": 85, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 153.118, + "Actual Total Time": 236.616, + "Actual Rows": 90, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 150.603, + "Actual Total Time": 235.703, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 148.563, + "Actual Total Time": 235.696, + "Actual Rows": 89, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 23943.92, + "Plan Rows": 96, + "Plan Width": 25, + "Actual Startup Time": 148.583, + "Actual Total Time": 216.081, + "Actual Rows": 96, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 135.866, + "Actual Total Time": 203.316, + "Actual Rows": 90, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 147.841, + "Actual Total Time": 219.746, + "Actual Rows": 108, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 152.118, + "Actual Total Time": 219.485, + "Actual Rows": 97, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 148.865, + "Actual Total Time": 211.494, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 152.028, + "Actual Total Time": 221.767, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 150.093, + "Actual Total Time": 221.827, + "Actual Rows": 91, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 147.575, + "Actual Total Time": 222.698, + "Actual Rows": 86, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 23882.94, + "Plan Rows": 100, + "Plan Width": 4, + "Actual Startup Time": 148.270, + "Actual Total Time": 210.043, + "Actual Rows": 100, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 134.669, + "Actual Total Time": 197.694, + "Actual Rows": 91, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 147.564, + "Actual Total Time": 214.932, + "Actual Rows": 114, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 151.988, + "Actual Total Time": 210.902, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 148.568, + "Actual Total Time": 203.814, + "Actual Rows": 110, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 151.701, + "Actual Total Time": 218.099, + "Actual Rows": 97, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 149.973, + "Actual Total Time": 216.944, + "Actual Rows": 98, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 147.483, + "Actual Total Time": 215.245, + "Actual Rows": 87, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.00, + "Total Cost": 23682.12, + "Plan Rows": 36954, + "Plan Width": 8, + "Actual Startup Time": 0.097, + "Actual Total Time": 198.756, + "Actual Rows": 36954, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "((mc.note !~~ '%(TV)%'::text) AND (mc.note ~~ '%(USA)%'::text))", + "Rows Removed by Filter": 289188, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 186.898, + "Actual Rows": 36331, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.142, + "Actual Total Time": 203.464, + "Actual Rows": 38276, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.054, + "Actual Total Time": 198.950, + "Actual Rows": 35210, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.135, + "Actual Total Time": 192.002, + "Actual Rows": 38947, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.305, + "Actual Total Time": 206.884, + "Actual Rows": 37589, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 205.867, + "Actual Rows": 37122, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.063, + "Actual Total Time": 204.974, + "Actual Rows": 34626, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.61, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 798, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 91 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 114 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.082, + "Actual Rows": 1, + "Actual Loops": 101 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 110 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 97 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 98 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.083, + "Actual Rows": 1, + "Actual Loops": 87 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.07, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.182, + "Actual Total Time": 0.197, + "Actual Rows": 1, + "Actual Loops": 767, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 10, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.186, + "Actual Total Time": 0.220, + "Actual Rows": 1, + "Actual Loops": 90 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.128, + "Actual Total Time": 0.137, + "Actual Rows": 1, + "Actual Loops": 108 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.148, + "Actual Total Time": 0.157, + "Actual Rows": 1, + "Actual Loops": 97 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.239, + "Actual Total Time": 0.247, + "Actual Rows": 1, + "Actual Loops": 109 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.158, + "Actual Rows": 1, + "Actual Loops": 93 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.136, + "Actual Total Time": 0.150, + "Actual Rows": 1, + "Actual Loops": 91 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.138, + "Actual Total Time": 0.149, + "Actual Rows": 1, + "Actual Loops": 86 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.66, + "Total Cost": 1.66, + "Plan Rows": 66, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 14, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.66, + "Plan Rows": 66, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.058, + "Actual Rows": 113, + "Actual Loops": 1, + "Output": ["it.id"], + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5596001239447068866, + "Planning Time": 16.664, + "Triggers": [ + ], + "Execution Time": 262.798, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 5596001239447068866, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS marvel_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword = 'marvel-cinematic-universe'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2010
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1428.90, + "Total Cost": 1428.91, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 152.764, + "Actual Total Time": 153.004, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.73, + "Total Cost": 1428.85, + "Plan Rows": 6, + "Plan Width": 48, + "Actual Startup Time": 34.256, + "Actual Total Time": 152.952, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1427.85, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 10.364, + "Actual Total Time": 25.172, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.021, + "Actual Total Time": 7.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.593, + "Actual Total Time": 8.596, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.608, + "Actual Total Time": 8.611, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.594, + "Actual Total Time": 8.597, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.721, + "Actual Total Time": 8.724, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.985, + "Actual Total Time": 7.988, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1427.39, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 10.358, + "Actual Total Time": 25.153, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "k.keyword", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.021, + "Actual Total Time": 7.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.592, + "Actual Total Time": 8.595, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.607, + "Actual Total Time": 8.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.593, + "Actual Total Time": 8.595, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.720, + "Actual Total Time": 8.722, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.984, + "Actual Total Time": 7.987, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1347.38, + "Plan Rows": 177, + "Plan Width": 28, + "Actual Startup Time": 6.367, + "Actual Total Time": 8.186, + "Actual Rows": 155, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id", "k.keyword"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.020, + "Actual Total Time": 7.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.592, + "Actual Total Time": 8.594, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.606, + "Actual Total Time": 8.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.592, + "Actual Total Time": 8.594, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.719, + "Actual Total Time": 8.721, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.984, + "Actual Total Time": 7.985, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1343.33, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 6.359, + "Actual Total Time": 6.382, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.020, + "Actual Total Time": 7.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.591, + "Actual Total Time": 8.592, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.606, + "Actual Total Time": 8.607, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.591, + "Actual Total Time": 8.593, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.719, + "Actual Total Time": 8.720, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.983, + "Actual Total Time": 7.984, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 6.344, + "Actual Total Time": 6.352, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'marvel-cinematic-universe'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.019, + "Actual Total Time": 7.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.590, + "Actual Total Time": 8.591, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.605, + "Actual Total Time": 8.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.591, + "Actual Total Time": 8.591, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.718, + "Actual Total Time": 8.719, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.983, + "Actual Total Time": 7.983, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.096, + "Actual Total Time": 0.207, + "Actual Rows": 14, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 90, + "Plan Width": 8, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.982, + "Actual Rows": 89, + "Actual Loops": 14, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.108, + "Actual Rows": 0, + "Actual Loops": 1242, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3759324545287071861, + "Planning Time": 14.253, + "Triggers": [ + ], + "Execution Time": 156.324, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 3759324545287071861, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS hero_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2014
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3899.19, + "Total Cost": 3899.20, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 241.985, + "Actual Total Time": 263.094, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3899.13, + "Total Cost": 3899.14, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 82.802, + "Actual Total Time": 263.048, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(k.keyword))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3898.13, + "Total Cost": 3898.14, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 113.815, + "Actual Total Time": 113.819, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(k.keyword)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 176.426, + "Actual Total Time": 176.429, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 98.240, + "Actual Total Time": 98.244, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.178, + "Actual Total Time": 46.182, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 54.019, + "Actual Total Time": 54.023, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 235.040, + "Actual Total Time": 235.043, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 59.854, + "Actual Total Time": 59.857, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 158.779, + "Actual Total Time": 158.782, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 3898.10, + "Plan Rows": 3, + "Plan Width": 48, + "Actual Startup Time": 102.573, + "Actual Total Time": 113.801, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 176.420, + "Actual Total Time": 176.423, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 98.232, + "Actual Total Time": 98.235, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.172, + "Actual Total Time": 46.175, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.562, + "Actual Total Time": 53.999, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 231.195, + "Actual Total Time": 235.018, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 51.173, + "Actual Total Time": 59.833, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 134.965, + "Actual Total Time": 158.760, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 3873.24, + "Plan Rows": 55, + "Plan Width": 37, + "Actual Startup Time": 59.500, + "Actual Total Time": 111.249, + "Actual Rows": 48, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 176.420, + "Actual Total Time": 176.422, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 98.232, + "Actual Total Time": 98.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.171, + "Actual Total Time": 46.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.976, + "Actual Total Time": 52.370, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 65.797, + "Actual Total Time": 230.408, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.460, + "Actual Total Time": 57.200, + "Actual Rows": 82, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 18.551, + "Actual Total Time": 150.539, + "Actual Rows": 107, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3866.24, + "Plan Rows": 5, + "Plan Width": 41, + "Actual Startup Time": 59.447, + "Actual Total Time": 110.542, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 176.419, + "Actual Total Time": 176.421, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 98.231, + "Actual Total Time": 98.233, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.170, + "Actual Total Time": 46.172, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.898, + "Actual Total Time": 51.389, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 65.680, + "Actual Total Time": 229.349, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.394, + "Actual Total Time": 56.474, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 18.429, + "Actual Total Time": 148.524, + "Actual Rows": 13, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1528.09, + "Plan Rows": 5078, + "Plan Width": 20, + "Actual Startup Time": 6.797, + "Actual Total Time": 35.861, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.282, + "Actual Total Time": 39.755, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.543, + "Actual Total Time": 21.374, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.170, + "Actual Total Time": 46.171, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.737, + "Actual Total Time": 45.835, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.165, + "Actual Total Time": 70.335, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.534, + "Actual Total Time": 11.507, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.509, + "Actual Total Time": 36.561, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 6.676, + "Actual Total Time": 11.875, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.144, + "Actual Total Time": 0.213, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.398, + "Actual Total Time": 1.419, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.168, + "Actual Total Time": 46.169, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.628, + "Actual Total Time": 44.003, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.022, + "Actual Total Time": 1.074, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.358, + "Actual Total Time": 0.384, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.375, + "Actual Total Time": 1.394, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.30, + "Plan Rows": 4444, + "Plan Width": 8, + "Actual Startup Time": 0.122, + "Actual Total Time": 21.356, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.134, + "Actual Total Time": 37.416, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.140, + "Actual Total Time": 18.352, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.095, + "Actual Total Time": 1.718, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.095, + "Actual Total Time": 28.490, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.173, + "Actual Total Time": 10.468, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.127, + "Actual Total Time": 31.767, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2014)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 6011 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 4196 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 10544 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.148, + "Actual Rows": 11, + "Actual Loops": 36, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.312, + "Actual Rows": 15, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.202, + "Actual Rows": 14, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.110, + "Actual Rows": 14, + "Actual Loops": 6 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.147, + "Actual Rows": 8, + "Actual Loops": 13 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 383, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 46 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 72 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 82 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.076, + "Actual Rows": 0, + "Actual Loops": 107 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -196995888411579451, + "Planning Time": 13.486, + "Triggers": [ + ], + "Execution Time": 265.320, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -196995888411579451, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS marvel_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword = 'marvel-cinematic-universe'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2014
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1428.87, + "Total Cost": 1428.88, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 35.273, + "Actual Total Time": 35.465, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.73, + "Total Cost": 1428.85, + "Plan Rows": 2, + "Plan Width": 48, + "Actual Startup Time": 31.248, + "Actual Total Time": 35.439, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1427.85, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 10.279, + "Actual Total Time": 10.780, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.555, + "Actual Total Time": 9.560, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.632, + "Actual Total Time": 6.635, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.365, + "Actual Total Time": 10.368, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.082, + "Actual Total Time": 4.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.861, + "Actual Total Time": 7.865, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.943, + "Actual Total Time": 5.946, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.231, + "Actual Total Time": 8.234, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1427.39, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 7.555, + "Actual Total Time": 10.761, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "k.keyword", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.554, + "Actual Total Time": 9.558, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.631, + "Actual Total Time": 6.633, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.364, + "Actual Total Time": 10.367, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.081, + "Actual Total Time": 4.083, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.860, + "Actual Total Time": 7.863, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.942, + "Actual Total Time": 5.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.230, + "Actual Total Time": 8.232, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1347.38, + "Plan Rows": 177, + "Plan Width": 28, + "Actual Startup Time": 6.771, + "Actual Total Time": 7.916, + "Actual Rows": 155, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id", "k.keyword"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.553, + "Actual Total Time": 9.556, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.630, + "Actual Total Time": 6.632, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.364, + "Actual Total Time": 10.365, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.081, + "Actual Total Time": 4.083, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.860, + "Actual Total Time": 7.862, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.942, + "Actual Total Time": 5.943, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.229, + "Actual Total Time": 8.231, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1343.33, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 6.766, + "Actual Total Time": 6.786, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.552, + "Actual Total Time": 9.554, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.630, + "Actual Total Time": 6.631, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.363, + "Actual Total Time": 10.364, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.080, + "Actual Total Time": 4.081, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.859, + "Actual Total Time": 7.861, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.941, + "Actual Total Time": 5.942, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.228, + "Actual Total Time": 8.229, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 6.756, + "Actual Total Time": 6.762, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'marvel-cinematic-universe'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.552, + "Actual Total Time": 9.552, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.629, + "Actual Total Time": 6.630, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.363, + "Actual Total Time": 10.363, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.079, + "Actual Total Time": 4.079, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.859, + "Actual Total Time": 7.859, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.941, + "Actual Total Time": 5.941, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.228, + "Actual Total Time": 8.228, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.159, + "Actual Rows": 14, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 90, + "Plan Width": 8, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.601, + "Actual Rows": 89, + "Actual Loops": 14, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1242, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2014)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3759324545287071861, + "Planning Time": 14.049, + "Triggers": [ + ], + "Execution Time": 37.790, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 3759324545287071861, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS hero_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2000
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 57349.98, + "Total Cost": 57349.99, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 5111.046, + "Actual Total Time": 5152.249, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 57349.91, + "Total Cost": 57349.92, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 1334.245, + "Actual Total Time": 5152.180, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(k.keyword))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 57348.91, + "Total Cost": 57348.92, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2190.593, + "Actual Total Time": 2190.597, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(k.keyword)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 652.407, + "Actual Total Time": 652.410, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2217.376, + "Actual Total Time": 2217.379, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5100.901, + "Actual Total Time": 5100.903, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1343.105, + "Actual Total Time": 1343.108, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3077.213, + "Actual Total Time": 3077.217, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.991, + "Actual Total Time": 106.995, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3693.507, + "Actual Total Time": 3693.509, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 57348.86, + "Plan Rows": 7, + "Plan Width": 48, + "Actual Startup Time": 753.478, + "Actual Total Time": 2190.516, + "Actual Rows": 11, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 279.204, + "Actual Total Time": 652.328, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 157.266, + "Actual Total Time": 2217.243, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 734.375, + "Actual Total Time": 5100.787, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 751.590, + "Actual Total Time": 1343.013, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1742.198, + "Actual Total Time": 3077.139, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.983, + "Actual Total Time": 106.986, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1450.913, + "Actual Total Time": 3693.450, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 6673.25, + "Plan Rows": 112105, + "Plan Width": 37, + "Actual Startup Time": 14.616, + "Actual Total Time": 714.922, + "Actual Rows": 98185, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.152, + "Actual Total Time": 146.759, + "Actual Rows": 11270, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.982, + "Actual Total Time": 745.060, + "Actual Rows": 84039, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.355, + "Actual Total Time": 1623.170, + "Actual Rows": 282572, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.265, + "Actual Total Time": 405.264, + "Actual Rows": 38887, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.802, + "Actual Total Time": 1058.711, + "Actual Rows": 137541, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.983, + "Actual Total Time": 106.985, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.805, + "Actual Total Time": 1235.870, + "Actual Rows": 194141, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3866.24, + "Plan Rows": 2022, + "Plan Width": 41, + "Actual Startup Time": 14.500, + "Actual Total Time": 87.314, + "Actual Rows": 1771, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.085, + "Actual Total Time": 8.601, + "Actual Rows": 155, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.639, + "Actual Total Time": 67.879, + "Actual Rows": 2120, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.247, + "Actual Total Time": 172.817, + "Actual Rows": 4387, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.122, + "Actual Total Time": 36.423, + "Actual Rows": 745, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.733, + "Actual Total Time": 153.301, + "Actual Rows": 3124, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.982, + "Actual Total Time": 106.984, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.670, + "Actual Total Time": 107.712, + "Actual Rows": 2965, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1528.09, + "Plan Rows": 5078, + "Plan Width": 20, + "Actual Startup Time": 14.436, + "Actual Total Time": 33.396, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.014, + "Actual Total Time": 3.616, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.572, + "Actual Total Time": 16.230, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.177, + "Actual Total Time": 50.576, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.976, + "Actual Total Time": 9.536, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.667, + "Actual Total Time": 36.792, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.981, + "Actual Total Time": 106.982, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.606, + "Actual Total Time": 32.322, + "Actual Rows": 6011, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 14.341, + "Actual Total Time": 14.372, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.929, + "Actual Total Time": 1.954, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.461, + "Actual Total Time": 1.479, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.072, + "Actual Total Time": 1.128, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.859, + "Actual Total Time": 0.901, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.557, + "Actual Total Time": 0.578, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.981, + "Actual Total Time": 106.981, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.488, + "Actual Total Time": 1.552, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.30, + "Plan Rows": 4444, + "Plan Width": 8, + "Actual Startup Time": 0.096, + "Actual Total Time": 17.212, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.079, + "Actual Total Time": 1.472, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.105, + "Actual Total Time": 12.977, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.075, + "Actual Total Time": 22.744, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.109, + "Actual Total Time": 7.712, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.106, + "Actual Total Time": 32.356, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.110, + "Actual Total Time": 28.208, + "Actual Rows": 6011, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 248 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 4196 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 10544 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 6011 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 21, + "Plan Width": 8, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.331, + "Actual Rows": 55, + "Actual Loops": 14165, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.845, + "Actual Rows": 73, + "Actual Loops": 155 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.301, + "Actual Rows": 40, + "Actual Loops": 2120 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.306, + "Actual Rows": 64, + "Actual Loops": 4387 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.465, + "Actual Rows": 52, + "Actual Loops": 745 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.271, + "Actual Rows": 44, + "Actual Loops": 3124 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.355, + "Actual Rows": 65, + "Actual Loops": 2965 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 785477, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 11270 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 84039 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 282572 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 38887 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 137541 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 194141 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -196995888411579451, + "Planning Time": 16.167, + "Triggers": [ + ], + "Execution Time": 5154.915, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -196995888411579451, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS marvel_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword = 'marvel-cinematic-universe'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2000
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1428.90, + "Total Cost": 1428.91, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 36.240, + "Actual Total Time": 36.421, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.73, + "Total Cost": 1428.85, + "Plan Rows": 6, + "Plan Width": 48, + "Actual Startup Time": 7.996, + "Actual Total Time": 36.371, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1427.85, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 8.927, + "Actual Total Time": 12.452, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.769, + "Actual Total Time": 7.773, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.455, + "Actual Total Time": 10.460, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.106, + "Actual Total Time": 11.110, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.095, + "Actual Total Time": 11.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.104, + "Actual Total Time": 11.107, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.468, + "Actual Total Time": 1.471, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.197, + "Actual Total Time": 11.201, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1427.39, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 8.921, + "Actual Total Time": 12.433, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "k.keyword", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.768, + "Actual Total Time": 7.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.455, + "Actual Total Time": 10.458, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.106, + "Actual Total Time": 11.108, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.095, + "Actual Total Time": 11.097, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.103, + "Actual Total Time": 11.105, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.468, + "Actual Total Time": 1.470, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.196, + "Actual Total Time": 11.199, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1347.38, + "Plan Rows": 177, + "Plan Width": 28, + "Actual Startup Time": 8.158, + "Actual Total Time": 9.387, + "Actual Rows": 155, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id", "k.keyword"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.767, + "Actual Total Time": 7.770, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.454, + "Actual Total Time": 10.457, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.105, + "Actual Total Time": 11.107, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.094, + "Actual Total Time": 11.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.102, + "Actual Total Time": 11.104, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.468, + "Actual Total Time": 1.469, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.195, + "Actual Total Time": 11.196, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1343.33, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 8.151, + "Actual Total Time": 8.173, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.767, + "Actual Total Time": 7.768, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.454, + "Actual Total Time": 10.455, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.105, + "Actual Total Time": 11.106, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.093, + "Actual Total Time": 11.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.102, + "Actual Total Time": 11.103, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.467, + "Actual Total Time": 1.468, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.194, + "Actual Total Time": 11.195, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 8.142, + "Actual Total Time": 8.147, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'marvel-cinematic-universe'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.765, + "Actual Total Time": 7.766, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.453, + "Actual Total Time": 10.454, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.104, + "Actual Total Time": 11.104, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.093, + "Actual Total Time": 11.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.101, + "Actual Total Time": 11.101, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.467, + "Actual Total Time": 1.467, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.193, + "Actual Total Time": 11.194, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.60, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.182, + "Actual Rows": 14, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 90, + "Plan Width": 8, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.652, + "Actual Rows": 89, + "Actual Loops": 14, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1242, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3759324545287071861, + "Planning Time": 13.794, + "Triggers": [ + ], + "Execution Time": 38.757, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 3759324545287071861, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS hero_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND t.production_year > 2000
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 58796.57, + "Total Cost": 58796.58, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4131.170, + "Actual Total Time": 4171.694, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 58796.51, + "Total Cost": 58796.52, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 822.765, + "Actual Total Time": 4171.644, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(k.keyword))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 58795.51, + "Total Cost": 58795.52, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1612.594, + "Actual Total Time": 1612.597, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(k.keyword)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2357.343, + "Actual Total Time": 2357.346, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1369.610, + "Actual Total Time": 1369.612, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4120.278, + "Actual Total Time": 4120.280, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 834.831, + "Actual Total Time": 834.834, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 263.200, + "Actual Total Time": 263.202, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 109.542, + "Actual Total Time": 109.547, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3024.146, + "Actual Total Time": 3024.148, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 57953.93, + "Plan Rows": 112211, + "Plan Width": 48, + "Actual Startup Time": 14.695, + "Actual Total Time": 1536.988, + "Actual Rows": 98185, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.772, + "Actual Total Time": 2248.063, + "Actual Rows": 137541, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.120, + "Actual Total Time": 1307.886, + "Actual Rows": 84039, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.661, + "Actual Total Time": 3921.768, + "Actual Rows": 282572, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.103, + "Actual Total Time": 796.911, + "Actual Rows": 38887, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.310, + "Actual Total Time": 251.629, + "Actual Rows": 11270, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 109.536, + "Actual Total Time": 109.540, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.360, + "Actual Total Time": 2877.036, + "Actual Rows": 194141, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 7510.92, + "Plan Rows": 112211, + "Plan Width": 37, + "Actual Startup Time": 14.635, + "Actual Total Time": 501.994, + "Actual Rows": 98185, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.716, + "Actual Total Time": 778.604, + "Actual Rows": 137541, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.066, + "Actual Total Time": 425.375, + "Actual Rows": 84039, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.589, + "Actual Total Time": 1209.818, + "Actual Rows": 282572, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.038, + "Actual Total Time": 242.686, + "Actual Rows": 38887, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.249, + "Actual Total Time": 76.335, + "Actual Rows": 11270, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 109.536, + "Actual Total Time": 109.538, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.283, + "Actual Total Time": 915.764, + "Actual Rows": 194141, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3866.24, + "Plan Rows": 2024, + "Plan Width": 41, + "Actual Startup Time": 14.568, + "Actual Total Time": 90.278, + "Actual Rows": 1771, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.673, + "Actual Total Time": 175.509, + "Actual Rows": 3124, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.980, + "Actual Total Time": 61.292, + "Actual Rows": 2120, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.501, + "Actual Total Time": 163.671, + "Actual Rows": 4387, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.950, + "Actual Total Time": 38.826, + "Actual Rows": 745, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.185, + "Actual Total Time": 8.025, + "Actual Rows": 155, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 109.535, + "Actual Total Time": 109.537, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.181, + "Actual Total Time": 105.262, + "Actual Rows": 2965, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1528.09, + "Plan Rows": 5078, + "Plan Width": 20, + "Actual Startup Time": 14.492, + "Actual Total Time": 34.202, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.623, + "Actual Total Time": 42.344, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.903, + "Actual Total Time": 14.468, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.412, + "Actual Total Time": 47.672, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.785, + "Actual Total Time": 10.649, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.112, + "Actual Total Time": 2.906, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 109.535, + "Actual Total Time": 109.536, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.092, + "Actual Total Time": 31.625, + "Actual Rows": 6011, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 14.389, + "Actual Total Time": 14.420, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.506, + "Actual Total Time": 1.528, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.781, + "Actual Total Time": 0.795, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.291, + "Actual Total Time": 0.342, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.654, + "Actual Total Time": 0.690, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.049, + "Actual Total Time": 1.079, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 109.534, + "Actual Total Time": 109.535, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.958, + "Actual Total Time": 1.025, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.30, + "Plan Rows": 4444, + "Plan Width": 8, + "Actual Startup Time": 0.103, + "Actual Total Time": 18.145, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.110, + "Actual Total Time": 37.145, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.117, + "Actual Total Time": 12.168, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.081, + "Actual Total Time": 21.894, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.126, + "Actual Total Time": 9.154, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 1.671, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.129, + "Actual Total Time": 28.336, + "Actual Rows": 6011, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 10544 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 4196 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 248 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 6011 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 54, + "Plan Width": 8, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.212, + "Actual Rows": 55, + "Actual Loops": 14165, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.176, + "Actual Rows": 44, + "Actual Loops": 3124 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.157, + "Actual Rows": 40, + "Actual Loops": 2120 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.218, + "Actual Rows": 64, + "Actual Loops": 4387 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.248, + "Actual Rows": 52, + "Actual Loops": 745 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.404, + "Actual Rows": 73, + "Actual Loops": 155 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.251, + "Actual Rows": 65, + "Actual Loops": 2965 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 785477, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 137541 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 84039 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 282572 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 38887 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 11270 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 194141 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4608735958739764665, + "Planning Time": 14.695, + "Triggers": [ + ], + "Execution Time": 4175.040, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -4608735958739764665, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(n.name) AS of_person,
       MIN(t.title) AS biography_movie
FROM aka_name AS an,
     cast_info AS ci,
     info_type AS it,
     link_type AS lt,
     movie_link AS ml,
     name AS n,
     person_info AS pi,
     title AS t
WHERE an.name LIKE '%a%'
  AND it.info ='mini biography'
  AND lt.link ='features'
  AND n.name_pcode_cf BETWEEN 'A' AND 'F'
  AND (n.gender='m'
       OR (n.gender = 'f'
           AND n.name LIKE 'B%'))
  AND pi.note ='Volker Boehm'
  AND t.production_year BETWEEN 1980 AND 1995
  AND n.id = an.person_id
  AND n.id = pi.person_id
  AND ci.person_id = n.id
  AND t.id = ci.movie_id
  AND ml.linked_movie_id = t.id
  AND lt.id = ml.link_type_id
  AND it.id = pi.info_type_id
  AND pi.person_id = an.person_id
  AND pi.person_id = ci.person_id
  AND an.person_id = ci.person_id
  AND ci.movie_id = ml.linked_movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 15114.58, + "Total Cost": 15114.59, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 709.018, + "Actual Total Time": 720.089, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 15114.54, + "Total Cost": 15114.55, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 708.997, + "Actual Total Time": 720.075, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 15113.54, + "Total Cost": 15113.55, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 653.847, + "Actual Total Time": 653.853, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 651.251, + "Actual Total Time": 651.257, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 659.996, + "Actual Total Time": 660.001, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 618.237, + "Actual Total Time": 618.244, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 677.230, + "Actual Total Time": 677.236, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 608.646, + "Actual Total Time": 608.652, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.43, + "Total Cost": 15113.51, + "Plan Rows": 6, + "Plan Width": 32, + "Actual Startup Time": 509.981, + "Actual Total Time": 653.826, + "Actual Rows": 5, + "Actual Loops": 6, + "Output": ["n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 568.900, + "Actual Total Time": 651.234, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 659.990, + "Actual Total Time": 659.995, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 618.231, + "Actual Total Time": 618.238, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 548.737, + "Actual Total Time": 677.200, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 243.234, + "Actual Total Time": 608.589, + "Actual Rows": 20, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 15112.04, + "Plan Rows": 3, + "Plan Width": 44, + "Actual Startup Time": 509.826, + "Actual Total Time": 653.515, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.person_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(pi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 568.853, + "Actual Total Time": 651.182, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 659.989, + "Actual Total Time": 659.993, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 618.231, + "Actual Total Time": 618.236, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 548.675, + "Actual Total Time": 676.849, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 242.684, + "Actual Total Time": 607.614, + "Actual Rows": 9, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.17, + "Total Cost": 15110.19, + "Plan Rows": 3, + "Plan Width": 48, + "Actual Startup Time": 509.614, + "Actual Total Time": 653.286, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.person_id", "pi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 568.757, + "Actual Total Time": 651.080, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 659.871, + "Actual Total Time": 659.874, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 618.112, + "Actual Total Time": 618.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 548.537, + "Actual Total Time": 676.694, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 242.548, + "Actual Total Time": 607.428, + "Actual Rows": 9, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 12706.91, + "Plan Rows": 3512, + "Plan Width": 40, + "Actual Startup Time": 2.508, + "Actual Total Time": 436.714, + "Actual Rows": 2926, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.152, + "Actual Total Time": 439.308, + "Actual Rows": 2832, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.316, + "Actual Total Time": 445.122, + "Actual Rows": 2735, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.860, + "Actual Total Time": 411.635, + "Actual Rows": 2606, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.594, + "Actual Total Time": 430.548, + "Actual Rows": 2811, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.947, + "Actual Total Time": 412.467, + "Actual Rows": 2748, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 2980.11, + "Plan Rows": 21052, + "Plan Width": 21, + "Actual Startup Time": 2.238, + "Actual Total Time": 155.621, + "Actual Rows": 17544, + "Actual Loops": 6, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.853, + "Actual Total Time": 150.331, + "Actual Rows": 18683, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.205, + "Actual Total Time": 161.782, + "Actual Rows": 17187, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.740, + "Actual Total Time": 150.363, + "Actual Rows": 16812, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.503, + "Actual Total Time": 159.138, + "Actual Rows": 16066, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.034, + "Actual Total Time": 150.020, + "Actual Rows": 16014, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2170.77, + "Plan Rows": 293, + "Plan Width": 25, + "Actual Startup Time": 1.935, + "Actual Total Time": 45.936, + "Actual Rows": 244, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.565, + "Actual Total Time": 41.831, + "Actual Rows": 237, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.785, + "Actual Total Time": 47.956, + "Actual Rows": 264, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.338, + "Actual Total Time": 48.705, + "Actual Rows": 211, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.135, + "Actual Total Time": 46.769, + "Actual Rows": 235, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.907, + "Actual Total Time": 43.060, + "Actual Rows": 297, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 632.40, + "Plan Rows": 1037, + "Plan Width": 4, + "Actual Startup Time": 0.321, + "Actual Total Time": 19.036, + "Actual Rows": 864, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.367, + "Actual Total Time": 16.302, + "Actual Rows": 862, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.345, + "Actual Total Time": 19.363, + "Actual Rows": 901, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.190, + "Actual Total Time": 19.941, + "Actual Rows": 934, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.275, + "Actual Total Time": 21.512, + "Actual Rows": 861, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.359, + "Actual Total Time": 18.140, + "Actual Rows": 962, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.122, + "Actual Total Time": 11.606, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.055, + "Actual Total Time": 9.667, + "Actual Rows": 4382, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.212, + "Actual Total Time": 11.714, + "Actual Rows": 5035, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.071, + "Actual Total Time": 11.734, + "Actual Rows": 5900, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.187, + "Actual Total Time": 13.372, + "Actual Rows": 5301, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.135, + "Actual Total Time": 10.804, + "Actual Rows": 5213, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 4150, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4382, + "Cache Hits": 4366, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5035, + "Cache Hits": 5019, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5900, + "Cache Hits": 5884, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5301, + "Cache Hits": 5285, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5213, + "Cache Hits": 5197, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = 'features'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 5186, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1980) AND (t.production_year <= 1995))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 862 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 901 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 934 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 861 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 962 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 2.04, + "Plan Rows": 72, + "Plan Width": 8, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.419, + "Actual Rows": 72, + "Actual Loops": 1467, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.427, + "Actual Rows": 79, + "Actual Loops": 237 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.403, + "Actual Rows": 65, + "Actual Loops": 264 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.451, + "Actual Rows": 80, + "Actual Loops": 211 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.449, + "Actual Rows": 68, + "Actual Loops": 235 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.338, + "Actual Rows": 54, + "Actual Loops": 297 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 105262, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((n.name_pcode_cf)::text >= 'A'::text) AND ((n.name_pcode_cf)::text <= 'F'::text) AND (((n.gender)::text = 'm'::text) OR (((n.gender)::text = 'f'::text) AND (n.name ~~ 'B%'::text))))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 18683 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 17187 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 16812 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 16066 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 16014 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.67, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.073, + "Actual Rows": 0, + "Actual Loops": 17559, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(pi.note = 'Volker Boehm'::text)", + "Rows Removed by Filter": 20, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.074, + "Actual Rows": 0, + "Actual Loops": 2832 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.078, + "Actual Rows": 0, + "Actual Loops": 2735 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.078, + "Actual Rows": 0, + "Actual Loops": 2606 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.087, + "Actual Rows": 0, + "Actual Loops": 2811 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.070, + "Actual Rows": 0, + "Actual Loops": 2748 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.093, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'mini biography'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.093, + "Actual Total Time": 0.128, + "Actual Rows": 2, + "Actual Loops": 14, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(an.name ~~ '%a%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.048, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.109, + "Actual Total Time": 0.112, + "Actual Rows": 2, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.104, + "Actual Rows": 2, + "Actual Loops": 9 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7100159318594498086, + "Planning Time": 77.480, + "Triggers": [ + ], + "Execution Time": 724.955, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 7100159318594498086, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(n.name) AS of_person,
       MIN(t.title) AS biography_movie
FROM aka_name AS an,
     cast_info AS ci,
     info_type AS it,
     link_type AS lt,
     movie_link AS ml,
     name AS n,
     person_info AS pi,
     title AS t
WHERE an.name LIKE '%a%'
  AND it.info ='mini biography'
  AND lt.link ='features'
  AND n.name_pcode_cf LIKE 'D%'
  AND n.gender='m'
  AND pi.note ='Volker Boehm'
  AND t.production_year BETWEEN 1980 AND 1984
  AND n.id = an.person_id
  AND n.id = pi.person_id
  AND ci.person_id = n.id
  AND t.id = ci.movie_id
  AND ml.linked_movie_id = t.id
  AND lt.id = ml.link_type_id
  AND it.id = pi.info_type_id
  AND pi.person_id = an.person_id
  AND pi.person_id = ci.person_id
  AND an.person_id = ci.person_id
  AND ci.movie_id = ml.linked_movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5897.30, + "Total Cost": 5897.31, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 221.250, + "Actual Total Time": 221.397, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5897.26, + "Total Cost": 5897.27, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 221.229, + "Actual Total Time": 221.384, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5896.26, + "Total Cost": 5896.27, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 152.443, + "Actual Total Time": 152.449, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 141.976, + "Actual Total Time": 141.983, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 136.022, + "Actual Total Time": 136.026, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 134.700, + "Actual Total Time": 134.704, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 135.541, + "Actual Total Time": 135.546, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 146.470, + "Actual Total Time": 146.478, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.74, + "Total Cost": 5896.25, + "Plan Rows": 3, + "Plan Width": 32, + "Actual Startup Time": 113.219, + "Actual Total Time": 152.432, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 78.171, + "Actual Total Time": 141.932, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 136.017, + "Actual Total Time": 136.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 134.694, + "Actual Total Time": 134.698, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 135.536, + "Actual Total Time": 135.541, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 146.463, + "Actual Total Time": 146.470, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.32, + "Total Cost": 5895.27, + "Plan Rows": 2, + "Plan Width": 44, + "Actual Startup Time": 113.200, + "Actual Total Time": 152.382, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 78.111, + "Actual Total Time": 141.716, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 136.016, + "Actual Total Time": 136.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 134.694, + "Actual Total Time": 134.697, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 135.535, + "Actual Total Time": 135.539, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 146.462, + "Actual Total Time": 146.468, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.17, + "Total Cost": 5893.95, + "Plan Rows": 2, + "Plan Width": 48, + "Actual Startup Time": 113.180, + "Actual Total Time": 152.354, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.person_id", "pi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 78.052, + "Actual Total Time": 141.624, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 136.016, + "Actual Total Time": 136.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 134.693, + "Actual Total Time": 134.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 135.535, + "Actual Total Time": 135.538, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 146.461, + "Actual Total Time": 146.466, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 5746.83, + "Plan Rows": 215, + "Plan Width": 40, + "Actual Startup Time": 7.143, + "Actual Total Time": 147.239, + "Actual Rows": 179, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.750, + "Actual Total Time": 137.797, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.838, + "Actual Total Time": 130.412, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.204, + "Actual Total Time": 130.783, + "Actual Rows": 163, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.181, + "Actual Total Time": 131.436, + "Actual Rows": 127, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.027, + "Actual Total Time": 141.032, + "Actual Rows": 139, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 2709.16, + "Plan Rows": 6683, + "Plan Width": 21, + "Actual Startup Time": 3.149, + "Actual Total Time": 56.525, + "Actual Rows": 5569, + "Actual Loops": 6, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.668, + "Actual Total Time": 52.909, + "Actual Rows": 4536, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.214, + "Actual Total Time": 52.062, + "Actual Rows": 5300, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.545, + "Actual Total Time": 55.337, + "Actual Rows": 4847, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.160, + "Actual Total Time": 46.971, + "Actual Rows": 4586, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.679, + "Actual Total Time": 62.034, + "Actual Rows": 4128, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2170.77, + "Plan Rows": 87, + "Plan Width": 25, + "Actual Startup Time": 3.072, + "Actual Total Time": 31.226, + "Actual Rows": 72, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.609, + "Actual Total Time": 29.121, + "Actual Rows": 60, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.091, + "Actual Total Time": 30.385, + "Actual Rows": 73, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.474, + "Actual Total Time": 33.522, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.078, + "Actual Total Time": 22.025, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.610, + "Actual Total Time": 38.617, + "Actual Rows": 87, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 632.40, + "Plan Rows": 1037, + "Plan Width": 4, + "Actual Startup Time": 0.304, + "Actual Total Time": 17.005, + "Actual Rows": 864, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.152, + "Actual Total Time": 16.494, + "Actual Rows": 697, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.343, + "Actual Total Time": 16.901, + "Actual Rows": 921, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.152, + "Actual Total Time": 17.971, + "Actual Rows": 976, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.659, + "Actual Total Time": 11.447, + "Actual Rows": 604, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.269, + "Actual Total Time": 20.437, + "Actual Rows": 1044, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.064, + "Actual Total Time": 9.910, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.108, + "Actual Total Time": 9.675, + "Actual Rows": 4472, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.079, + "Actual Total Time": 9.855, + "Actual Rows": 5659, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 10.612, + "Actual Rows": 5738, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 6.695, + "Actual Rows": 3194, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 11.850, + "Actual Rows": 5445, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 5473, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4472, + "Cache Hits": 4456, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5659, + "Cache Hits": 5643, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5738, + "Cache Hits": 5722, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3194, + "Cache Hits": 3178, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5445, + "Cache Hits": 5429, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = 'features'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 5186, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1980) AND (t.production_year <= 1984))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 697 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 921 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 976 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 604 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1044 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 5.42, + "Plan Rows": 77, + "Plan Width": 8, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.317, + "Actual Rows": 77, + "Actual Loops": 435, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.362, + "Actual Rows": 76, + "Actual Loops": 60 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.271, + "Actual Rows": 73, + "Actual Loops": 73 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.255, + "Actual Rows": 62, + "Actual Loops": 78 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.466, + "Actual Rows": 94, + "Actual Loops": 49 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.247, + "Actual Rows": 47, + "Actual Loops": 87 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 33415, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((n.name_pcode_cf)::text ~~ 'D%'::text) AND ((n.gender)::text = 'm'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 4536 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 5300 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 4847 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 4586 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 4128 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.67, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1076, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(pi.note = 'Volker Boehm'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 118 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 162 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 163 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 127 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 139 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.64, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["it.id"], + "Cache Key": "pi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 6, + "Cache Hits": 5, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.63, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["it.id"], + "Index Cond": "(it.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'mini biography'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.032, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(an.name ~~ '%a%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.031, + "Actual Rows": 2, + "Actual Loops": 6 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -298514962653462987, + "Planning Time": 71.915, + "Triggers": [ + ], + "Execution Time": 226.852, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -298514962653462987, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(n.name) AS cast_member_name,
       MIN(pi.info) AS cast_member_info
FROM aka_name AS an,
     cast_info AS ci,
     info_type AS it,
     link_type AS lt,
     movie_link AS ml,
     name AS n,
     person_info AS pi,
     title AS t
WHERE an.name IS NOT NULL
  AND (an.name LIKE '%a%'
       OR an.name LIKE 'A%')
  AND it.info ='mini biography'
  AND lt.link IN ('references',
                  'referenced in',
                  'features',
                  'featured in')
  AND n.name_pcode_cf BETWEEN 'A' AND 'F'
  AND (n.gender='m'
       OR (n.gender = 'f'
           AND n.name LIKE 'A%'))
  AND pi.note IS NOT NULL
  AND t.production_year BETWEEN 1980 AND 2010
  AND n.id = an.person_id
  AND n.id = pi.person_id
  AND ci.person_id = n.id
  AND t.id = ci.movie_id
  AND ml.linked_movie_id = t.id
  AND lt.id = ml.link_type_id
  AND it.id = pi.info_type_id
  AND pi.person_id = an.person_id
  AND pi.person_id = ci.person_id
  AND an.person_id = ci.person_id
  AND ci.movie_id = ml.linked_movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 79059.61, + "Total Cost": 79059.62, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 2182.776, + "Actual Total Time": 2271.749, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(pi.info)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 79059.57, + "Total Cost": 79059.58, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 2001.523, + "Actual Total Time": 2271.679, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(pi.info))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 79058.57, + "Total Cost": 79058.58, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 2021.121, + "Actual Total Time": 2021.131, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(pi.info)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2147.489, + "Actual Total Time": 2147.498, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1994.211, + "Actual Total Time": 1994.219, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2002.536, + "Actual Total Time": 2002.544, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1987.189, + "Actual Total Time": 1987.198, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1994.918, + "Actual Total Time": 1994.925, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 78219.50, + "Total Cost": 78990.39, + "Plan Rows": 13637, + "Plan Width": 110, + "Actual Startup Time": 1456.451, + "Actual Total Time": 1838.651, + "Actual Rows": 11364, + "Actual Loops": 6, + "Output": ["n.name", "pi.info"], + "Inner Unique": true, + "Hash Cond": "(pi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1454.627, + "Actual Total Time": 1966.712, + "Actual Rows": 12508, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1454.518, + "Actual Total Time": 1809.039, + "Actual Rows": 12506, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1455.171, + "Actual Total Time": 1801.491, + "Actual Rows": 11115, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1459.010, + "Actual Total Time": 1815.988, + "Actual Rows": 9514, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1454.613, + "Actual Total Time": 1817.316, + "Actual Rows": 10875, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 78217.66, + "Total Cost": 78951.40, + "Plan Rows": 13637, + "Plan Width": 114, + "Actual Startup Time": 1456.176, + "Actual Total Time": 1830.591, + "Actual Rows": 11364, + "Actual Loops": 6, + "Output": ["n.name", "pi.info", "pi.info_type_id"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1454.377, + "Actual Total Time": 1958.913, + "Actual Rows": 12508, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1454.271, + "Actual Total Time": 1801.473, + "Actual Rows": 12506, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1454.924, + "Actual Total Time": 1792.903, + "Actual Rows": 11115, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1458.761, + "Actual Total Time": 1808.485, + "Actual Rows": 9514, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1454.366, + "Actual Total Time": 1808.911, + "Actual Rows": 10875, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 78216.48, + "Total Cost": 78899.61, + "Plan Rows": 15604, + "Plan Width": 118, + "Actual Startup Time": 1455.359, + "Actual Total Time": 1820.642, + "Actual Rows": 12942, + "Actual Loops": 6, + "Output": ["ml.link_type_id", "n.name", "pi.info", "pi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1454.364, + "Actual Total Time": 1949.004, + "Actual Rows": 14226, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1454.258, + "Actual Total Time": 1791.989, + "Actual Rows": 13879, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1454.913, + "Actual Total Time": 1782.554, + "Actual Rows": 12766, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1453.967, + "Actual Total Time": 1799.064, + "Actual Rows": 11604, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1454.357, + "Actual Total Time": 1798.734, + "Actual Rows": 12203, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 78216.05, + "Total Cost": 78756.43, + "Plan Rows": 289, + "Plan Width": 130, + "Actual Startup Time": 1454.821, + "Actual Total Time": 1659.405, + "Actual Rows": 7578, + "Actual Loops": 6, + "Output": ["ci.person_id", "ml.link_type_id", "n.name", "n.id", "pi.info", "pi.person_id", "pi.info_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1454.035, + "Actual Total Time": 1791.014, + "Actual Rows": 8252, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1453.664, + "Actual Total Time": 1630.445, + "Actual Rows": 8454, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1454.158, + "Actual Total Time": 1621.730, + "Actual Rows": 7128, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1453.679, + "Actual Total Time": 1639.039, + "Actual Rows": 6895, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1453.671, + "Actual Total Time": 1641.215, + "Actual Rows": 7078, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 78215.62, + "Total Cost": 78542.69, + "Plan Rows": 471, + "Plan Width": 138, + "Actual Startup Time": 1454.660, + "Actual Total Time": 1512.844, + "Actual Rows": 12232, + "Actual Loops": 6, + "Output": ["ci.person_id", "ci.movie_id", "ml.linked_movie_id", "ml.link_type_id", "n.name", "n.id", "pi.info", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Hash Cond": "(ml.linked_movie_id = ci.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1453.971, + "Actual Total Time": 1631.068, + "Actual Rows": 15409, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1453.594, + "Actual Total Time": 1488.265, + "Actual Rows": 13395, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1453.565, + "Actual Total Time": 1486.100, + "Actual Rows": 10387, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1453.573, + "Actual Total Time": 1489.198, + "Actual Rows": 11262, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1453.595, + "Actual Total Time": 1489.528, + "Actual Rows": 11459, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.00, + "Total Cost": 222.99, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 1.681, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 1.759, + "Actual Rows": 6105, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 1.632, + "Actual Rows": 5920, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 1.551, + "Actual Rows": 4070, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 1.791, + "Actual Rows": 4652, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 1.806, + "Actual Rows": 4810, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 76782.36, + "Total Cost": 76782.36, + "Plan Rows": 114661, + "Plan Width": 130, + "Actual Startup Time": 1451.913, + "Actual Total Time": 1451.916, + "Actual Rows": 152882, + "Actual Loops": 6, + "Output": ["ci.person_id", "ci.movie_id", "n.name", "n.id", "pi.info", "pi.person_id", "pi.info_type_id"], + "Hash Buckets": 1048576, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 759296, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1453.921, + "Actual Total Time": 1453.924, + "Actual Rows": 161520, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1453.546, + "Actual Total Time": 1453.548, + "Actual Rows": 143585, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1453.520, + "Actual Total Time": 1453.523, + "Actual Rows": 144798, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1453.521, + "Actual Total Time": 1453.524, + "Actual Rows": 143314, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1453.550, + "Actual Total Time": 1453.552, + "Actual Rows": 162105, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 76782.36, + "Plan Rows": 114661, + "Plan Width": 130, + "Actual Startup Time": 1.135, + "Actual Total Time": 988.715, + "Actual Rows": 152882, + "Actual Loops": 6, + "Output": ["ci.person_id", "ci.movie_id", "n.name", "n.id", "pi.info", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.143, + "Actual Total Time": 998.987, + "Actual Rows": 161520, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.081, + "Actual Total Time": 990.004, + "Actual Rows": 143585, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.157, + "Actual Total Time": 984.938, + "Actual Rows": 144798, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.152, + "Actual Total Time": 994.263, + "Actual Rows": 143314, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.272, + "Actual Total Time": 971.670, + "Actual Rows": 162105, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 68958.94, + "Plan Rows": 1633, + "Plan Width": 122, + "Actual Startup Time": 0.713, + "Actual Total Time": 635.762, + "Actual Rows": 2177, + "Actual Loops": 6, + "Output": ["n.name", "n.id", "pi.info", "pi.person_id", "pi.info_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.692, + "Actual Total Time": 639.207, + "Actual Rows": 2358, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.227, + "Actual Total Time": 640.521, + "Actual Rows": 2092, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.734, + "Actual Total Time": 635.163, + "Actual Rows": 2109, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.729, + "Actual Total Time": 646.737, + "Actual Rows": 2221, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.167, + "Actual Total Time": 623.686, + "Actual Rows": 1916, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.00, + "Total Cost": 55955.58, + "Plan Rows": 10523, + "Plan Width": 103, + "Actual Startup Time": 0.447, + "Actual Total Time": 397.533, + "Actual Rows": 14030, + "Actual Loops": 6, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Filter": "(pi.note IS NOT NULL)", + "Rows Removed by Filter": 479914, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.610, + "Actual Total Time": 403.404, + "Actual Rows": 14581, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 396.443, + "Actual Rows": 13652, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.656, + "Actual Total Time": 399.455, + "Actual Rows": 13960, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.651, + "Actual Total Time": 403.981, + "Actual Rows": 14637, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 386.376, + "Actual Rows": 13522, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 1.24, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 84183, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = pi.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((n.name_pcode_cf)::text >= 'A'::text) AND ((n.name_pcode_cf)::text <= 'F'::text) AND (((n.gender)::text = 'm'::text) OR (((n.gender)::text = 'f'::text) AND (n.name ~~ 'A%'::text))))",+ "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 14581 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 13652 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 13960 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 14637 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 13522 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.58, + "Plan Rows": 121, + "Plan Width": 8, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.132, + "Actual Rows": 70, + "Actual Loops": 13063, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.125, + "Actual Rows": 68, + "Actual Loops": 2358 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.136, + "Actual Rows": 69, + "Actual Loops": 2092 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.135, + "Actual Rows": 69, + "Actual Loops": 2109 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.127, + "Actual Rows": 65, + "Actual Loops": 2221 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.145, + "Actual Rows": 85, + "Actual Loops": 1916 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 73393, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1980) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 15409 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 13395 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 10387 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 11262 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 11459 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.020, + "Actual Rows": 2, + "Actual Loops": 45471, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((an.name IS NOT NULL) AND ((an.name ~~ '%a%'::text) OR (an.name ~~ 'A%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 8252 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 8454 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.021, + "Actual Rows": 2, + "Actual Loops": 7128 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.022, + "Actual Rows": 2, + "Actual Loops": 6895 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.021, + "Actual Rows": 2, + "Actual Loops": 7078 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.16, + "Total Cost": 1.16, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.16, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.024, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["lt.id"], + "Filter": "((lt.link)::text = ANY ('{references,\"referenced in\",features,\"featured in\"}'::text[]))", + "Rows Removed by Filter": 14, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'mini biography'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7678011977838348522, + "Planning Time": 75.055, + "Triggers": [ + ], + "Execution Time": 2275.821, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -7678011977838348522, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an1.name) AS actress_pseudonym,
       MIN(t.title) AS japanese_movie_dubbed
FROM aka_name AS an1,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n1,
     role_type AS rt,
     title AS t
WHERE ci.note ='(voice: English version)'
  AND cn.country_code ='[jp]'
  AND mc.note LIKE '%(Japan)%'
  AND mc.note NOT LIKE '%(USA)%'
  AND n1.name LIKE '%Yo%'
  AND n1.name NOT LIKE '%Yu%'
  AND rt.role ='actress'
  AND an1.person_id = n1.id
  AND n1.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND an1.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27520.31, + "Total Cost": 27520.32, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1191.919, + "Actual Total Time": 1212.153, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an1.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27520.26, + "Total Cost": 27520.27, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 1191.885, + "Actual Total Time": 1212.130, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an1.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27519.26, + "Total Cost": 27519.27, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1155.219, + "Actual Total Time": 1155.226, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an1.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1157.860, + "Actual Total Time": 1157.867, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1148.661, + "Actual Total Time": 1148.667, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1148.562, + "Actual Total Time": 1148.568, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1148.758, + "Actual Total Time": 1148.766, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1148.877, + "Actual Total Time": 1148.883, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1148.876, + "Actual Total Time": 1148.884, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1149.282, + "Actual Total Time": 1149.289, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 27519.22, + "Plan Rows": 8, + "Plan Width": 33, + "Actual Startup Time": 442.542, + "Actual Total Time": 1155.174, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["an1.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n1.id = an1.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 344.824, + "Actual Total Time": 1157.792, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 290.924, + "Actual Total Time": 1148.608, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 166.818, + "Actual Total Time": 1148.516, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1148.753, + "Actual Total Time": 1148.759, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 694.523, + "Actual Total Time": 1148.840, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 488.247, + "Actual Total Time": 1148.825, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 125.381, + "Actual Total Time": 1149.236, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 27516.00, + "Plan Rows": 5, + "Plan Width": 25, + "Actual Startup Time": 442.389, + "Actual Total Time": 1154.856, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["ci.person_id", "n1.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 344.753, + "Actual Total Time": 1157.560, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 290.649, + "Actual Total Time": 1147.993, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 166.553, + "Actual Total Time": 1148.129, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1148.752, + "Actual Total Time": 1148.758, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 694.443, + "Actual Total Time": 1148.757, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 488.165, + "Actual Total Time": 1148.618, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 124.989, + "Actual Total Time": 1148.367, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 26433.87, + "Plan Rows": 930, + "Plan Width": 21, + "Actual Startup Time": 84.258, + "Actual Total Time": 1140.255, + "Actual Rows": 930, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.529, + "Actual Total Time": 1140.214, + "Actual Rows": 1097, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 282.085, + "Actual Total Time": 1134.431, + "Actual Rows": 866, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.189, + "Actual Total Time": 1135.054, + "Actual Rows": 877, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 77.869, + "Actual Total Time": 1138.117, + "Actual Rows": 686, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.053, + "Actual Total Time": 1136.312, + "Actual Rows": 710, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 95.478, + "Actual Total Time": 1133.906, + "Actual Rows": 993, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 99.377, + "Actual Total Time": 1130.102, + "Actual Rows": 1260, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 26424.07, + "Plan Rows": 2450, + "Plan Width": 25, + "Actual Startup Time": 79.492, + "Actual Total Time": 1138.146, + "Actual Rows": 2450, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.role_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 38.993, + "Actual Total Time": 1137.781, + "Actual Rows": 2932, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 281.373, + "Actual Total Time": 1132.508, + "Actual Rows": 2280, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.633, + "Actual Total Time": 1132.988, + "Actual Rows": 2384, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 77.222, + "Actual Total Time": 1136.527, + "Actual Rows": 1612, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.544, + "Actual Total Time": 1134.462, + "Actual Rows": 2239, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 95.174, + "Actual Total Time": 1131.829, + "Actual Rows": 2538, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.997, + "Actual Total Time": 1127.618, + "Actual Rows": 2942, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 18685.32, + "Plan Rows": 6041, + "Plan Width": 25, + "Actual Startup Time": 0.926, + "Actual Total Time": 200.315, + "Actual Rows": 6041, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.280, + "Actual Total Time": 203.980, + "Actual Rows": 6949, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.230, + "Actual Total Time": 203.035, + "Actual Rows": 5586, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.220, + "Actual Total Time": 205.665, + "Actual Rows": 6775, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.215, + "Actual Total Time": 213.666, + "Actual Rows": 5214, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.221, + "Actual Total Time": 234.765, + "Actual Rows": 5766, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.240, + "Actual Total Time": 187.000, + "Actual Rows": 6907, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.246, + "Actual Total Time": 180.714, + "Actual Rows": 5590, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 7187.79, + "Plan Rows": 6041, + "Plan Width": 4, + "Actual Startup Time": 0.821, + "Actual Total Time": 81.711, + "Actual Rows": 6041, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.195, + "Actual Total Time": 57.799, + "Actual Rows": 6949, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.130, + "Actual Total Time": 102.258, + "Actual Rows": 5586, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.128, + "Actual Total Time": 78.179, + "Actual Rows": 6775, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.128, + "Actual Total Time": 110.033, + "Actual Rows": 5214, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.142, + "Actual Total Time": 111.389, + "Actual Rows": 5766, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.145, + "Actual Total Time": 71.033, + "Actual Rows": 6907, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.162, + "Actual Total Time": 56.615, + "Actual Rows": 5590, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 844, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 12.946, + "Actual Rows": 844, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[jp]'::text)", + "Rows Removed by Filter": 28531, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 2.310, + "Actual Rows": 174, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.042, + "Actual Total Time": 22.365, + "Actual Rows": 1470, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 13.125, + "Actual Rows": 855, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 22.224, + "Actual Rows": 1498, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 21.547, + "Actual Rows": 1393, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 9.507, + "Actual Rows": 581, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.055, + "Actual Total Time": 8.597, + "Actual Rows": 525, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 4.46, + "Plan Rows": 7, + "Plan Width": 8, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.078, + "Actual Rows": 7, + "Actual Loops": 6752, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(Japan)%'::text) AND (mc.note !~~ '%(USA)%'::text))", + "Rows Removed by Filter": 8, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.302, + "Actual Rows": 40, + "Actual Loops": 174 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.052, + "Actual Rows": 4, + "Actual Loops": 1470 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.072, + "Actual Rows": 8, + "Actual Loops": 855 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.056, + "Actual Rows": 3, + "Actual Loops": 1498 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.062, + "Actual Rows": 4, + "Actual Loops": 1393 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.100, + "Actual Rows": 12, + "Actual Loops": 581 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.086, + "Actual Rows": 11, + "Actual Loops": 525 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.90, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 48328, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6949 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 5586 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 6775 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 5214 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 5766 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 6907 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 5590 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.148, + "Actual Total Time": 0.154, + "Actual Rows": 0, + "Actual Loops": 48328, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice: English version)'::text)", + "Rows Removed by Filter": 32, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.128, + "Actual Total Time": 0.133, + "Actual Rows": 0, + "Actual Loops": 6949 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.160, + "Actual Total Time": 0.165, + "Actual Rows": 0, + "Actual Loops": 5586 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.131, + "Actual Total Time": 0.136, + "Actual Rows": 0, + "Actual Loops": 6775 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.171, + "Actual Total Time": 0.176, + "Actual Rows": 0, + "Actual Loops": 5214 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.155, + "Actual Rows": 0, + "Actual Loops": 5766 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.132, + "Actual Total Time": 0.136, + "Actual Rows": 0, + "Actual Loops": 6907 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.159, + "Actual Total Time": 0.168, + "Actual Rows": 1, + "Actual Loops": 5590 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n1", + "Startup Cost": 0.43, + "Total Cost": 1.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 7438, + "Output": ["n1.id", "n1.name", "n1.imdb_index", "n1.imdb_id", "n1.gender", "n1.name_pcode_cf", "n1.name_pcode_nf", "n1.surname_pcode", "n1.md5sum"], + "Index Cond": "(n1.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n1.name ~~ '%Yo%'::text) AND (n1.name !~~ '%Yu%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1097 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 866 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 877 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 686 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 710 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 993 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1260 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an1", + "Startup Cost": 0.42, + "Total Cost": 0.62, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.062, + "Actual Rows": 2, + "Actual Loops": 38, + "Output": ["an1.id", "an1.person_id", "an1.name", "an1.imdb_index", "an1.name_pcode_cf", "an1.name_pcode_nf", "an1.surname_pcode", "an1.md5sum"], + "Index Cond": "(an1.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 2, + "Actual Loops": 9 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.117, + "Actual Rows": 2, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.060, + "Actual Rows": 2, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.076, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.167, + "Actual Total Time": 0.168, + "Actual Rows": 2, + "Actual Loops": 5 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 99813637196177449, + "Planning Time": 46.238, + "Triggers": [ + ], + "Execution Time": 1215.274, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 99813637196177449, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(an.name) AS acress_pseudonym,
       MIN(t.title) AS japanese_anime_movie
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note ='(voice: English version)'
  AND cn.country_code ='[jp]'
  AND mc.note LIKE '%(Japan)%'
  AND mc.note NOT LIKE '%(USA)%'
  AND (mc.note LIKE '%(2006)%'
       OR mc.note LIKE '%(2007)%')
  AND n.name LIKE '%Yo%'
  AND n.name NOT LIKE '%Yu%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2006 AND 2007
  AND (t.title LIKE 'One Piece%'
       OR t.title LIKE 'Dragon Ball Z%')
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9141.96, + "Total Cost": 9141.97, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 107.929, + "Actual Total Time": 120.779, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9141.91, + "Total Cost": 9141.92, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 107.434, + "Actual Total Time": 120.755, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9140.91, + "Total Cost": 9140.92, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 98.985, + "Actual Total Time": 98.993, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.124, + "Actual Total Time": 98.131, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 98.342, + "Actual Total Time": 98.347, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 96.090, + "Actual Total Time": 96.096, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 98.456, + "Actual Total Time": 98.461, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 98.242, + "Actual Total Time": 98.248, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.182, + "Actual Total Time": 98.189, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.447, + "Actual Total Time": 98.452, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.27, + "Total Cost": 9140.91, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 86.863, + "Actual Total Time": 98.982, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.119, + "Actual Total Time": 98.127, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 98.339, + "Actual Total Time": 98.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 96.086, + "Actual Total Time": 96.091, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 98.451, + "Actual Total Time": 98.456, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 98.239, + "Actual Total Time": 98.244, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.178, + "Actual Total Time": 98.185, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.985, + "Actual Total Time": 98.422, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 9139.31, + "Plan Rows": 3, + "Plan Width": 41, + "Actual Startup Time": 86.674, + "Actual Total Time": 98.919, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["an.name", "an.person_id", "ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.119, + "Actual Total Time": 98.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 98.338, + "Actual Total Time": 98.343, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 96.085, + "Actual Total Time": 96.090, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 98.451, + "Actual Total Time": 98.455, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 98.238, + "Actual Total Time": 98.242, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.177, + "Actual Total Time": 98.183, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.735, + "Actual Total Time": 98.212, + "Actual Rows": 9, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.41, + "Total Cost": 9137.42, + "Plan Rows": 3, + "Plan Width": 21, + "Actual Startup Time": 86.656, + "Actual Total Time": 97.370, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.118, + "Actual Total Time": 98.124, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 98.338, + "Actual Total Time": 98.342, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 96.084, + "Actual Total Time": 96.088, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 98.450, + "Actual Total Time": 98.454, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 98.237, + "Actual Total Time": 98.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.176, + "Actual Total Time": 98.182, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.652, + "Actual Total Time": 86.788, + "Actual Rows": 11, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.31, + "Total Cost": 9136.27, + "Plan Rows": 13, + "Plan Width": 25, + "Actual Startup Time": 86.466, + "Actual Total Time": 97.226, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.role_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.023, + "Actual Total Time": 98.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 98.278, + "Actual Total Time": 98.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 95.977, + "Actual Total Time": 95.980, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 98.373, + "Actual Total Time": 98.375, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 98.174, + "Actual Total Time": 98.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.120, + "Actual Total Time": 98.123, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.454, + "Actual Total Time": 86.680, + "Actual Rows": 46, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 9096.90, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 86.421, + "Actual Total Time": 97.087, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.022, + "Actual Total Time": 98.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 98.277, + "Actual Total Time": 98.279, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 95.976, + "Actual Total Time": 95.978, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 98.372, + "Actual Total Time": 98.374, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 98.173, + "Actual Total Time": 98.175, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.119, + "Actual Total Time": 98.122, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.378, + "Actual Total Time": 86.292, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 7352.37, + "Plan Rows": 1062, + "Plan Width": 4, + "Actual Startup Time": 0.446, + "Actual Total Time": 78.111, + "Actual Rows": 1062, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.789, + "Actual Total Time": 76.802, + "Actual Rows": 1273, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.370, + "Actual Total Time": 76.665, + "Actual Rows": 1307, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.215, + "Actual Total Time": 77.943, + "Actual Rows": 1094, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.265, + "Actual Total Time": 79.845, + "Actual Rows": 969, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.235, + "Actual Total Time": 85.266, + "Actual Rows": 604, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.247, + "Actual Total Time": 71.347, + "Actual Rows": 1616, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.328, + "Actual Total Time": 70.735, + "Actual Rows": 792, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 844, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 13.062, + "Actual Rows": 844, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[jp]'::text)", + "Rows Removed by Filter": 28531, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 12.201, + "Actual Rows": 792, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.052, + "Actual Total Time": 12.905, + "Actual Rows": 765, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.055, + "Actual Total Time": 13.595, + "Actual Rows": 860, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.075, + "Actual Total Time": 13.608, + "Actual Rows": 893, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 14.463, + "Actual Rows": 929, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 11.456, + "Actual Rows": 740, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.057, + "Actual Total Time": 12.239, + "Actual Rows": 804, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 4.72, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.076, + "Actual Rows": 1, + "Actual Loops": 6752, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(Japan)%'::text) AND (mc.note !~~ '%(USA)%'::text) AND ((mc.note ~~ '%(2006)%'::text) OR (mc.note ~~ '%(2007)%'::text)))", + "Rows Removed by Filter": 14, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.080, + "Actual Rows": 2, + "Actual Loops": 792 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.082, + "Actual Rows": 2, + "Actual Loops": 765 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.074, + "Actual Rows": 1, + "Actual Loops": 860 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.073, + "Actual Rows": 1, + "Actual Loops": 893 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.075, + "Actual Rows": 1, + "Actual Loops": 929 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.079, + "Actual Rows": 2, + "Actual Loops": 740 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.072, + "Actual Rows": 1, + "Actual Loops": 804 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.44, + "Total Cost": 2.61, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 8495, + "Output": ["t.title", "t.id"], + "Cache Key": "mc.movie_id", + "Cache Mode": "logical", + "Cache Hits": 18, + "Cache Misses": 822, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 55, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1273, + "Cache Hits": 28, + "Cache Misses": 1245, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 83 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1307, + "Cache Hits": 98, + "Cache Misses": 1209, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 81 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1094, + "Cache Hits": 189, + "Cache Misses": 905, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 61 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 969, + "Cache Hits": 15, + "Cache Misses": 954, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 64 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 604, + "Cache Hits": 28, + "Cache Misses": 576, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 39 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1616, + "Cache Hits": 54, + "Cache Misses": 1562, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 104 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 792, + "Cache Hits": 48, + "Cache Misses": 744, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 50 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 2.60, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 8017, + "Output": ["t.title", "t.id"], + "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2006) AND (t.production_year <= 2007) AND ((t.title ~~ 'One Piece%'::text) OR (t.title ~~ 'Dragon Ball Z%'::text)))",+ "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1245 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1209 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 905 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 954 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 576 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1562 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 744 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 39.05, + "Plan Rows": 26, + "Plan Width": 12, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.261, + "Actual Rows": 26, + "Actual Loops": 4, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice: English version)'::text)", + "Rows Removed by Filter": 17, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.181, + "Actual Rows": 23, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.62, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.477, + "Actual Total Time": 0.494, + "Actual Rows": 1, + "Actual Loops": 25, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 1.016, + "Actual Total Time": 1.036, + "Actual Rows": 1, + "Actual Loops": 11 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 24, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Yo%'::text) AND (n.name !~~ '%Yu%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 9 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4954783290691726040, + "Planning Time": 46.034, + "Triggers": [ + ], + "Execution Time": 125.174, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 4954783290691726040, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(a1.name) AS writer_pseudo_name,
       MIN(t.title) AS movie_title
FROM aka_name AS a1,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n1,
     role_type AS rt,
     title AS t
WHERE cn.country_code ='[us]'
  AND rt.role ='writer'
  AND a1.person_id = n1.id
  AND n1.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND a1.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 228558.65, + "Total Cost": 228558.66, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 7687.567, + "Actual Total Time": 7778.409, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(a1.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 228558.60, + "Total Cost": 228558.61, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 7633.840, + "Actual Total Time": 7778.372, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(a1.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 228557.60, + "Total Cost": 228557.61, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 7626.520, + "Actual Total Time": 7630.990, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(a1.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7668.468, + "Actual Total Time": 7668.480, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7618.619, + "Actual Total Time": 7618.627, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7617.092, + "Actual Total Time": 7617.101, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7619.061, + "Actual Total Time": 7619.068, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7618.683, + "Actual Total Time": 7618.691, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7618.087, + "Actual Total Time": 7618.096, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7619.548, + "Actual Total Time": 7619.556, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 214394.40, + "Total Cost": 227933.75, + "Plan Rows": 124770, + "Plan Width": 33, + "Actual Startup Time": 6871.939, + "Actual Total Time": 7464.262, + "Actual Rows": 310951, + "Actual Loops": 8, + "Output": ["a1.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(ci.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6873.186, + "Actual Total Time": 7494.527, + "Actual Rows": 329654, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6868.780, + "Actual Total Time": 7456.904, + "Actual Rows": 292000, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6867.881, + "Actual Total Time": 7452.494, + "Actual Rows": 303017, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6869.492, + "Actual Total Time": 7450.969, + "Actual Rows": 312428, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6868.853, + "Actual Total Time": 7454.269, + "Actual Rows": 338896, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6868.815, + "Actual Total Time": 7450.697, + "Actual Rows": 304566, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6868.944, + "Actual Total Time": 7460.920, + "Actual Rows": 317197, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 147114.44, + "Total Cost": 160215.45, + "Plan Rows": 101458, + "Plan Width": 20, + "Actual Startup Time": 5461.954, + "Actual Total Time": 5767.703, + "Actual Rows": 292966, + "Actual Loops": 8, + "Output": ["a1.name", "ci.movie_id"], + "Inner Unique": false, + "Hash Cond": "(a1.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5461.177, + "Actual Total Time": 5781.915, + "Actual Rows": 278839, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5461.112, + "Actual Total Time": 5765.137, + "Actual Rows": 299723, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5461.226, + "Actual Total Time": 5760.943, + "Actual Rows": 288951, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5461.175, + "Actual Total Time": 5755.865, + "Actual Rows": 280149, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5461.143, + "Actual Total Time": 5761.676, + "Actual Rows": 318032, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5461.159, + "Actual Total Time": 5748.429, + "Actual Rows": 309776, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5461.284, + "Actual Total Time": 5767.126, + "Actual Rows": 294846, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "a1", + "Startup Cost": 0.00, + "Total Cost": 12522.68, + "Plan Rows": 112668, + "Plan Width": 20, + "Actual Startup Time": 0.081, + "Actual Total Time": 95.813, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["a1.id", "a1.person_id", "a1.name", "a1.imdb_index", "a1.name_pcode_cf", "a1.name_pcode_nf", "a1.surname_pcode", "a1.md5sum"],+ "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.054, + "Actual Total Time": 98.568, + "Actual Rows": 109920, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.105, + "Actual Total Time": 94.987, + "Actual Rows": 114465, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 93.770, + "Actual Rows": 118467, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.061, + "Actual Total Time": 96.047, + "Actual Rows": 101668, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 98.829, + "Actual Rows": 127363, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.059, + "Actual Total Time": 81.440, + "Actual Rows": 92848, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.075, + "Actual Total Time": 104.511, + "Actual Rows": 127513, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 139909.69, + "Total Cost": 139909.69, + "Plan Rows": 576380, + "Plan Width": 12, + "Actual Startup Time": 5459.035, + "Actual Total Time": 5463.499, + "Actual Rows": 341118, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 185408, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5460.898, + "Actual Total Time": 5460.903, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5460.867, + "Actual Total Time": 5460.870, + "Actual Rows": 2728943, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5460.914, + "Actual Total Time": 5460.918, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5460.918, + "Actual Total Time": 5460.921, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5460.900, + "Actual Total Time": 5460.903, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5460.898, + "Actual Total Time": 5460.902, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5460.913, + "Actual Total Time": 5460.917, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 45131.29, + "Total Cost": 139909.69, + "Plan Rows": 576380, + "Plan Width": 12, + "Actual Startup Time": 766.703, + "Actual Total Time": 1194.117, + "Actual Rows": 341118, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 765.288, + "Actual Total Time": 765.292, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 776.627, + "Actual Total Time": 4160.239, + "Actual Rows": 2728943, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 765.280, + "Actual Total Time": 765.283, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 765.275, + "Actual Total Time": 765.278, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 765.296, + "Actual Total Time": 765.298, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 765.287, + "Actual Total Time": 765.290, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 765.284, + "Actual Total Time": 765.287, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 93265.85, + "Plan Rows": 576380, + "Plan Width": 8, + "Actual Startup Time": 1.420, + "Actual Total Time": 255.598, + "Actual Rows": 341118, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.345, + "Actual Total Time": 2044.758, + "Actual Rows": 2728943, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id", "rt.role"], + "Filter": "((rt.role)::text = 'writer'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 83466.30, + "Plan Rows": 979846, + "Plan Width": 12, + "Actual Startup Time": 11.313, + "Actual Total Time": 1519.737, + "Actual Rows": 2728943, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.role_id = rt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 11.313, + "Actual Total Time": 1519.737, + "Actual Rows": 2728943, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 38619.15, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 753.775, + "Actual Total Time": 753.776, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 195968, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 765.249, + "Actual Total Time": 765.250, + "Actual Rows": 509106, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 765.233, + "Actual Total Time": 765.233, + "Actual Rows": 507276, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 765.243, + "Actual Total Time": 765.244, + "Actual Rows": 554856, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 765.233, + "Actual Total Time": 765.234, + "Actual Rows": 511302, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 673.506, + "Actual Total Time": 673.506, + "Actual Rows": 555588, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 765.255, + "Actual Total Time": 765.256, + "Actual Rows": 508374, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 765.239, + "Actual Total Time": 765.240, + "Actual Rows": 510936, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n1", + "Startup Cost": 0.43, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 0.296, + "Actual Total Time": 251.190, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.213, + "Actual Total Time": 251.707, + "Actual Rows": 509106, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.454, + "Actual Total Time": 252.364, + "Actual Rows": 507276, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.103, + "Actual Total Time": 248.063, + "Actual Rows": 554856, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.395, + "Actual Total Time": 250.922, + "Actual Rows": 511302, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.140, + "Actual Total Time": 251.040, + "Actual Rows": 555588, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.279, + "Actual Total Time": 250.467, + "Actual Rows": 508374, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.491, + "Actual Total Time": 253.808, + "Actual Rows": 510936, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 65477.14, + "Total Cost": 65477.14, + "Plan Rows": 144225, + "Plan Width": 25, + "Actual Startup Time": 1404.978, + "Actual Total Time": 1404.982, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 2097152, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 87360, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1411.716, + "Actual Total Time": 1411.719, + "Actual Rows": 128744, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1407.369, + "Actual Total Time": 1407.372, + "Actual Rows": 159336, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1406.393, + "Actual Total Time": 1406.397, + "Actual Rows": 138020, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1407.370, + "Actual Total Time": 1407.374, + "Actual Rows": 154101, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1407.384, + "Actual Total Time": 1407.387, + "Actual Rows": 151335, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1407.381, + "Actual Total Time": 1407.384, + "Actual Rows": 138658, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1407.375, + "Actual Total Time": 1407.378, + "Actual Rows": 142039, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 43145.31, + "Total Cost": 65477.14, + "Plan Rows": 144225, + "Plan Width": 25, + "Actual Startup Time": 554.794, + "Actual Total Time": 1216.379, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 554.717, + "Actual Total Time": 1220.605, + "Actual Rows": 128744, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 554.913, + "Actual Total Time": 1223.997, + "Actual Rows": 159336, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 554.751, + "Actual Total Time": 1219.715, + "Actual Rows": 138020, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 554.765, + "Actual Total Time": 1208.097, + "Actual Rows": 154101, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 554.770, + "Actual Total Time": 1206.783, + "Actual Rows": 151335, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 554.715, + "Actual Total Time": 1217.830, + "Actual Rows": 138658, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 554.725, + "Actual Total Time": 1216.488, + "Actual Rows": 142039, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 21953.67, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 0.181, + "Actual Total Time": 489.886, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.113, + "Actual Total Time": 510.015, + "Actual Rows": 128744, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.309, + "Actual Total Time": 463.289, + "Actual Rows": 159336, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.175, + "Actual Total Time": 502.367, + "Actual Rows": 138020, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.157, + "Actual Total Time": 476.422, + "Actual Rows": 154101, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.164, + "Actual Total Time": 475.225, + "Actual Rows": 151335, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.112, + "Actual Total Time": 497.861, + "Actual Rows": 138658, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.118, + "Actual Total Time": 496.190, + "Actual Rows": 142039, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 17.794, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 18.870, + "Actual Rows": 11090, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 15.358, + "Actual Rows": 9319, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 19.664, + "Actual Rows": 11784, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 15.939, + "Actual Rows": 9289, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 16.345, + "Actual Rows": 9646, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 18.988, + "Actual Rows": 11363, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 18.141, + "Actual Rows": 10920, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.61, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.039, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.038, + "Actual Rows": 12, + "Actual Loops": 11090 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.041, + "Actual Rows": 17, + "Actual Loops": 9319 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.036, + "Actual Rows": 12, + "Actual Loops": 11784 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.043, + "Actual Rows": 17, + "Actual Loops": 9289 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.041, + "Actual Rows": 16, + "Actual Loops": 9646 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.037, + "Actual Rows": 12, + "Actual Loops": 11363 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.038, + "Actual Rows": 13, + "Actual Loops": 10920 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 39194.39, + "Total Cost": 39194.39, + "Plan Rows": 316039, + "Plan Width": 21, + "Actual Startup Time": 546.433, + "Actual Total Time": 546.433, + "Actual Rows": 316039, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 174880, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 554.562, + "Actual Total Time": 554.563, + "Actual Rows": 314723, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 554.556, + "Actual Total Time": 554.556, + "Actual Rows": 324842, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 554.541, + "Actual Total Time": 554.542, + "Actual Rows": 298762, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 554.561, + "Actual Total Time": 554.562, + "Actual Rows": 328514, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 554.556, + "Actual Total Time": 554.557, + "Actual Rows": 323627, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 554.559, + "Actual Total Time": 554.560, + "Actual Rows": 300582, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 554.554, + "Actual Total Time": 554.554, + "Actual Rows": 318965, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.00, + "Total Cost": 39194.39, + "Plan Rows": 316039, + "Plan Width": 21, + "Actual Startup Time": 0.302, + "Actual Total Time": 194.776, + "Actual Rows": 316039, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.065, + "Actual Total Time": 196.389, + "Actual Rows": 314723, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.072, + "Actual Total Time": 193.683, + "Actual Rows": 324842, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.995, + "Actual Total Time": 194.864, + "Actual Rows": 298762, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.070, + "Actual Total Time": 192.995, + "Actual Rows": 328514, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.072, + "Actual Total Time": 193.136, + "Actual Rows": 323627, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.981, + "Actual Total Time": 192.863, + "Actual Rows": 300582, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.068, + "Actual Total Time": 199.403, + "Actual Rows": 318965, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2444720784039749802, + "Planning Time": 29.386, + "Triggers": [ + ], + "Execution Time": 7779.961, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -2444720784039749802, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(an1.name) AS costume_designer_pseudo,
       MIN(t.title) AS movie_with_costumes
FROM aka_name AS an1,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n1,
     role_type AS rt,
     title AS t
WHERE cn.country_code ='[us]'
  AND rt.role ='costume designer'
  AND an1.person_id = n1.id
  AND n1.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND an1.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 230681.23, + "Total Cost": 230681.24, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 2876.643, + "Actual Total Time": 2943.416, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an1.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 230681.18, + "Total Cost": 230681.19, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 2829.018, + "Actual Total Time": 2943.377, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an1.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 230680.18, + "Total Cost": 230680.19, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 2821.091, + "Actual Total Time": 2822.238, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an1.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2816.402, + "Actual Total Time": 2816.413, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2816.602, + "Actual Total Time": 2816.611, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2816.481, + "Actual Total Time": 2816.491, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2816.474, + "Actual Total Time": 2816.486, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2816.454, + "Actual Total Time": 2816.464, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2816.499, + "Actual Total Time": 2816.509, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2843.643, + "Actual Total Time": 2843.659, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 216391.49, + "Total Cost": 229996.68, + "Plan Rows": 136700, + "Plan Width": 33, + "Actual Startup Time": 2653.619, + "Actual Total Time": 2797.413, + "Actual Rows": 40376, + "Actual Loops": 8, + "Output": ["an1.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(ci.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2652.110, + "Actual Total Time": 2792.213, + "Actual Rows": 40695, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2651.724, + "Actual Total Time": 2791.284, + "Actual Rows": 44475, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2653.479, + "Actual Total Time": 2793.568, + "Actual Rows": 39128, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2651.959, + "Actual Total Time": 2790.110, + "Actual Rows": 45950, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2652.046, + "Actual Total Time": 2790.013, + "Actual Rows": 35543, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2652.496, + "Actual Total Time": 2795.087, + "Actual Rows": 36289, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2651.837, + "Actual Total Time": 2816.914, + "Actual Rows": 46030, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 149111.54, + "Total Cost": 162229.35, + "Plan Rows": 112808, + "Plan Width": 20, + "Actual Startup Time": 1230.863, + "Actual Total Time": 1331.431, + "Actual Rows": 27371, + "Actual Loops": 8, + "Output": ["an1.name", "ci.movie_id"], + "Inner Unique": false, + "Hash Cond": "(an1.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1230.724, + "Actual Total Time": 1332.612, + "Actual Rows": 26988, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1230.481, + "Actual Total Time": 1328.646, + "Actual Rows": 29403, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1230.520, + "Actual Total Time": 1332.666, + "Actual Rows": 28486, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1230.440, + "Actual Total Time": 1327.749, + "Actual Rows": 27165, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1230.819, + "Actual Total Time": 1323.925, + "Actual Rows": 26391, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1231.276, + "Actual Total Time": 1336.397, + "Actual Rows": 30386, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1230.605, + "Actual Total Time": 1330.662, + "Actual Rows": 29420, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an1", + "Startup Cost": 0.00, + "Total Cost": 12522.68, + "Plan Rows": 112668, + "Plan Width": 20, + "Actual Startup Time": 0.026, + "Actual Total Time": 29.033, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["an1.id", "an1.person_id", "an1.name", "an1.imdb_index", "an1.name_pcode_cf", "an1.name_pcode_nf", "an1.surname_pcode", "an1.md5sum"],+ "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 30.296, + "Actual Rows": 125807, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 28.698, + "Actual Rows": 119262, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 30.013, + "Actual Rows": 122172, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 29.422, + "Actual Rows": 119036, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 26.062, + "Actual Rows": 83760, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 30.694, + "Actual Rows": 127438, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 27.659, + "Actual Rows": 111121, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 141129.71, + "Total Cost": 141129.71, + "Plan Rows": 638546, + "Plan Width": 12, + "Actual Startup Time": 1226.404, + "Actual Total Time": 1227.543, + "Actual Rows": 34550, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 2097152, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 29376, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1230.261, + "Actual Total Time": 1230.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1199.334, + "Actual Total Time": 1199.337, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1230.297, + "Actual Total Time": 1230.301, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1230.239, + "Actual Total Time": 1230.243, + "Actual Rows": 276403, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1230.281, + "Actual Total Time": 1230.284, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1230.258, + "Actual Total Time": 1230.262, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1230.295, + "Actual Total Time": 1230.301, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 45131.29, + "Total Cost": 141129.71, + "Plan Rows": 638546, + "Plan Width": 12, + "Actual Startup Time": 696.745, + "Actual Total Time": 746.295, + "Actual Rows": 34550, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 696.521, + "Actual Total Time": 696.524, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 696.525, + "Actual Total Time": 696.527, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 696.521, + "Actual Total Time": 696.525, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 698.359, + "Actual Total Time": 1085.646, + "Actual Rows": 276403, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 696.519, + "Actual Total Time": 696.521, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 696.494, + "Actual Total Time": 696.498, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 696.523, + "Actual Total Time": 696.528, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 94322.68, + "Plan Rows": 638546, + "Plan Width": 8, + "Actual Startup Time": 0.233, + "Actual Total Time": 27.118, + "Actual Rows": 34550, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.842, + "Actual Total Time": 216.912, + "Actual Rows": 276403, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id", "rt.role"], + "Filter": "((rt.role)::text = 'costume designer'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 83466.30, + "Plan Rows": 1085529, + "Plan Width": 12, + "Actual Startup Time": 1.813, + "Actual Total Time": 159.847, + "Actual Rows": 276403, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.role_id = rt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 1.813, + "Actual Total Time": 159.847, + "Actual Rows": 276403, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 38619.15, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 684.636, + "Actual Total Time": 684.638, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 195904, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 696.461, + "Actual Total Time": 696.462, + "Actual Rows": 525576, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 696.461, + "Actual Total Time": 696.462, + "Actual Rows": 524844, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 696.463, + "Actual Total Time": 696.464, + "Actual Rows": 506027, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 696.457, + "Actual Total Time": 696.458, + "Actual Rows": 524112, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 601.887, + "Actual Total Time": 601.888, + "Actual Rows": 536922, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 696.452, + "Actual Total Time": 696.453, + "Actual Rows": 521550, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 696.457, + "Actual Total Time": 696.459, + "Actual Rows": 505812, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n1", + "Startup Cost": 0.43, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 0.161, + "Actual Total Time": 217.312, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.283, + "Actual Total Time": 217.602, + "Actual Rows": 525576, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.171, + "Actual Total Time": 213.792, + "Actual Rows": 524844, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.070, + "Actual Total Time": 219.606, + "Actual Rows": 506027, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.157, + "Actual Total Time": 218.984, + "Actual Rows": 524112, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.163, + "Actual Total Time": 215.874, + "Actual Rows": 536922, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.205, + "Actual Total Time": 218.653, + "Actual Rows": 521550, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.135, + "Actual Total Time": 217.801, + "Actual Rows": 505812, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 65477.14, + "Total Cost": 65477.14, + "Plan Rows": 144225, + "Plan Width": 25, + "Actual Startup Time": 1417.174, + "Actual Total Time": 1417.178, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 2097152, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 87360, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1420.852, + "Actual Total Time": 1420.856, + "Actual Rows": 150122, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1420.927, + "Actual Total Time": 1420.930, + "Actual Rows": 138045, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1420.893, + "Actual Total Time": 1420.896, + "Actual Rows": 140713, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1420.889, + "Actual Total Time": 1420.893, + "Actual Rows": 150569, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1420.893, + "Actual Total Time": 1420.897, + "Actual Rows": 142753, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1420.889, + "Actual Total Time": 1420.892, + "Actual Rows": 136137, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1420.896, + "Actual Total Time": 1420.901, + "Actual Rows": 142275, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 43145.31, + "Total Cost": 65477.14, + "Plan Rows": 144225, + "Plan Width": 25, + "Actual Startup Time": 556.285, + "Actual Total Time": 1222.891, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 556.270, + "Actual Total Time": 1215.936, + "Actual Rows": 150122, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 556.283, + "Actual Total Time": 1225.606, + "Actual Rows": 138045, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 556.283, + "Actual Total Time": 1224.430, + "Actual Rows": 140713, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 556.262, + "Actual Total Time": 1213.309, + "Actual Rows": 150569, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 556.286, + "Actual Total Time": 1219.921, + "Actual Rows": 142753, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 556.285, + "Actual Total Time": 1225.119, + "Actual Rows": 136137, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 556.266, + "Actual Total Time": 1244.995, + "Actual Rows": 142275, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 21953.67, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 0.099, + "Actual Total Time": 487.016, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.092, + "Actual Total Time": 479.462, + "Actual Rows": 150122, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.106, + "Actual Total Time": 498.603, + "Actual Rows": 138045, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.101, + "Actual Total Time": 495.721, + "Actual Rows": 140713, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.099, + "Actual Total Time": 473.441, + "Actual Rows": 150569, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.099, + "Actual Total Time": 489.738, + "Actual Rows": 142753, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.100, + "Actual Total Time": 500.249, + "Actual Rows": 136137, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.107, + "Actual Total Time": 493.964, + "Actual Rows": 142275, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 19.338, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 19.342, + "Actual Rows": 10532, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 20.000, + "Actual Rows": 11005, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 19.647, + "Actual Rows": 10855, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 17.000, + "Actual Rows": 9285, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 19.389, + "Actual Rows": 10607, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 21.958, + "Actual Rows": 11850, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 20.297, + "Actual Rows": 11121, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.61, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.038, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.038, + "Actual Rows": 14, + "Actual Loops": 10532 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.038, + "Actual Rows": 13, + "Actual Loops": 11005 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.038, + "Actual Rows": 13, + "Actual Loops": 10855 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.042, + "Actual Rows": 16, + "Actual Loops": 9285 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.039, + "Actual Rows": 13, + "Actual Loops": 10607 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.035, + "Actual Rows": 11, + "Actual Loops": 11850 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.037, + "Actual Rows": 13, + "Actual Loops": 11121 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 39194.39, + "Total Cost": 39194.39, + "Plan Rows": 316039, + "Plan Width": 21, + "Actual Startup Time": 546.893, + "Actual Total Time": 546.894, + "Actual Rows": 316039, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 174848, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 556.143, + "Actual Total Time": 556.144, + "Actual Rows": 342910, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 556.124, + "Actual Total Time": 556.125, + "Actual Rows": 304865, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 556.128, + "Actual Total Time": 556.129, + "Actual Rows": 301200, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 556.107, + "Actual Total Time": 556.108, + "Actual Rows": 309248, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 556.132, + "Actual Total Time": 556.133, + "Actual Rows": 309010, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 556.135, + "Actual Total Time": 556.136, + "Actual Rows": 306761, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 556.098, + "Actual Total Time": 556.100, + "Actual Rows": 311484, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.00, + "Total Cost": 39194.39, + "Plan Rows": 316039, + "Plan Width": 21, + "Actual Startup Time": 0.073, + "Actual Total Time": 166.195, + "Actual Rows": 316039, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.057, + "Actual Total Time": 164.375, + "Actual Rows": 342910, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.089, + "Actual Total Time": 164.636, + "Actual Rows": 304865, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.082, + "Actual Total Time": 169.235, + "Actual Rows": 301200, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.069, + "Actual Total Time": 166.741, + "Actual Rows": 309248, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.066, + "Actual Total Time": 165.514, + "Actual Rows": 309010, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.066, + "Actual Total Time": 167.204, + "Actual Rows": 306761, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.067, + "Actual Total Time": 165.804, + "Actual Rows": 311484, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2444720784039749802, + "Planning Time": 35.449, + "Triggers": [ + ], + "Execution Time": 2945.220, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -2444720784039749802, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS character_name,
       MIN(t.title) AS movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND mc.note IS NOT NULL
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND n.gender ='f'
  AND n.name LIKE '%Ang%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2005 AND 2015
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 66255.38, + "Total Cost": 66255.39, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 469.742, + "Actual Total Time": 472.665, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 66255.31, + "Total Cost": 66255.32, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 469.357, + "Actual Total Time": 472.634, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 66254.31, + "Total Cost": 66254.32, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 460.684, + "Actual Total Time": 460.692, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 454.511, + "Actual Total Time": 454.518, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 460.715, + "Actual Total Time": 460.724, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 461.066, + "Actual Total Time": 461.075, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 460.716, + "Actual Total Time": 460.725, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 459.550, + "Actual Total Time": 459.560, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 460.642, + "Actual Total Time": 460.648, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 460.229, + "Actual Total Time": 460.236, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.68, + "Total Cost": 66254.20, + "Plan Rows": 15, + "Plan Width": 49, + "Actual Startup Time": 131.986, + "Actual Total Time": 460.639, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.156, + "Actual Total Time": 454.479, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 460.709, + "Actual Total Time": 460.716, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 54.894, + "Actual Total Time": 460.932, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 59.580, + "Actual Total Time": 460.653, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 77.115, + "Actual Total Time": 459.519, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 70.982, + "Actual Total Time": 460.607, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 165.309, + "Actual Total Time": 460.196, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 66247.38, + "Plan Rows": 15, + "Plan Width": 53, + "Actual Startup Time": 131.917, + "Actual Total Time": 460.348, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "mc.company_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.029, + "Actual Total Time": 454.276, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 460.708, + "Actual Total Time": 460.715, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 54.814, + "Actual Total Time": 460.002, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 59.500, + "Actual Total Time": 460.219, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 77.041, + "Actual Total Time": 459.281, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 70.903, + "Actual Total Time": 460.461, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 165.236, + "Actual Total Time": 459.991, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 66239.26, + "Plan Rows": 16, + "Plan Width": 41, + "Actual Startup Time": 130.922, + "Actual Total Time": 460.030, + "Actual Rows": 16, + "Actual Loops": 8, + "Output": ["an.name", "ci.person_role_id", "mc.company_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.925, + "Actual Total Time": 454.045, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 460.708, + "Actual Total Time": 460.713, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 54.545, + "Actual Total Time": 459.070, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 59.405, + "Actual Total Time": 459.808, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.940, + "Actual Total Time": 459.085, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 63.715, + "Actual Total Time": 460.182, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 165.103, + "Actual Total Time": 459.728, + "Actual Rows": 15, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 66228.67, + "Plan Rows": 19, + "Plan Width": 45, + "Actual Startup Time": 69.179, + "Actual Total Time": 458.905, + "Actual Rows": 19, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.person_role_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.631, + "Actual Total Time": 453.632, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 57.102, + "Actual Total Time": 460.064, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.842, + "Actual Total Time": 456.586, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 58.909, + "Actual Total Time": 458.157, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.854, + "Actual Total Time": 458.435, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 61.884, + "Actual Total Time": 458.247, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 80.236, + "Actual Total Time": 459.342, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 66227.49, + "Plan Rows": 19, + "Plan Width": 49, + "Actual Startup Time": 68.848, + "Actual Total Time": 458.526, + "Actual Rows": 19, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.role_id", "ci.person_role_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.304, + "Actual Total Time": 453.293, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 56.850, + "Actual Total Time": 459.765, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.469, + "Actual Total Time": 456.135, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 58.601, + "Actual Total Time": 457.799, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.527, + "Actual Total Time": 458.073, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 61.605, + "Actual Total Time": 457.893, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 79.929, + "Actual Total Time": 459.014, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 66200.49, + "Plan Rows": 53, + "Plan Width": 28, + "Actual Startup Time": 64.849, + "Actual Total Time": 457.073, + "Actual Rows": 53, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(n.id = ci.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.195, + "Actual Total Time": 452.990, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 56.764, + "Actual Total Time": 457.184, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.366, + "Actual Total Time": 454.876, + "Actual Rows": 58, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 58.489, + "Actual Total Time": 457.068, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 66.043, + "Actual Total Time": 456.669, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.474, + "Actual Total Time": 454.019, + "Actual Rows": 137, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 64.023, + "Actual Total Time": 458.494, + "Actual Rows": 16, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 65429.71, + "Plan Rows": 195, + "Plan Width": 24, + "Actual Startup Time": 47.282, + "Actual Total Time": 430.963, + "Actual Rows": 195, + "Actual Loops": 8, + "Output": ["an.name", "an.person_id", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.073, + "Actual Total Time": 428.982, + "Actual Rows": 141, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.827, + "Actual Total Time": 430.271, + "Actual Rows": 169, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 50.598, + "Actual Total Time": 427.092, + "Actual Rows": 180, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.499, + "Actual Total Time": 435.456, + "Actual Rows": 138, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.477, + "Actual Total Time": 430.004, + "Actual Rows": 180, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 47.110, + "Actual Total Time": 417.499, + "Actual Rows": 469, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 47.036, + "Actual Total Time": 435.125, + "Actual Rows": 158, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 846, + "Plan Width": 4, + "Actual Startup Time": 45.809, + "Actual Total Time": 414.022, + "Actual Rows": 846, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%Ang%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 520090, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 38.815, + "Actual Total Time": 413.044, + "Actual Rows": 705, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.168, + "Actual Total Time": 413.129, + "Actual Rows": 784, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.232, + "Actual Total Time": 413.657, + "Actual Rows": 734, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.399, + "Actual Total Time": 419.452, + "Actual Rows": 697, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.044, + "Actual Total Time": 412.701, + "Actual Rows": 772, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 46.237, + "Actual Total Time": 394.016, + "Actual Rows": 1580, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 46.012, + "Actual Total Time": 419.431, + "Actual Rows": 752, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 2.30, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 6768, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 705 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 784 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 734 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 697 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 772 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1580 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 752 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.94, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.127, + "Actual Total Time": 0.133, + "Actual Rows": 0, + "Actual Loops": 1558, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.166, + "Actual Total Time": 0.169, + "Actual Rows": 0, + "Actual Loops": 141 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.153, + "Actual Total Time": 0.157, + "Actual Rows": 1, + "Actual Loops": 169 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.141, + "Actual Total Time": 0.153, + "Actual Rows": 0, + "Actual Loops": 180 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.154, + "Actual Total Time": 0.155, + "Actual Rows": 0, + "Actual Loops": 138 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.142, + "Actual Total Time": 0.147, + "Actual Rows": 0, + "Actual Loops": 180 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.077, + "Actual Rows": 0, + "Actual Loops": 469 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.144, + "Actual Total Time": 0.146, + "Actual Rows": 0, + "Actual Loops": 158 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 425, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2015))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 7 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 126 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 58 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 17 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 36 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 137 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 155, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note IS NOT NULL) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 5, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.133, + "Actual Rows": 2, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 32 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.069, + "Actual Rows": 2, + "Actual Loops": 35 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.107, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 36 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.045, + "Actual Rows": 2, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 130, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 64 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 18 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 123, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 63 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 18 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 12 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6747521538659772949, + "Planning Time": 95.950, + "Triggers": [ + ], + "Execution Time": 477.870, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -6747521538659772949, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS voiced_character,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS american_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note = '(voice)'
  AND cn.country_code ='[us]'
  AND mc.note LIKE '%(200%)%'
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND n.gender ='f'
  AND n.name LIKE '%Angel%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2007 AND 2010
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51111.13, + "Total Cost": 51111.14, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1794.951, + "Actual Total Time": 1833.464, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51111.04, + "Total Cost": 51111.05, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 1737.259, + "Actual Total Time": 1833.425, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51110.04, + "Total Cost": 51110.05, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1736.801, + "Actual Total Time": 1736.809, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1727.953, + "Actual Total Time": 1727.960, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1785.669, + "Actual Total Time": 1785.675, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1729.304, + "Actual Total Time": 1729.312, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1728.859, + "Actual Total Time": 1728.865, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1728.831, + "Actual Total Time": 1728.838, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1728.795, + "Actual Total Time": 1728.802, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1728.974, + "Actual Total Time": 1728.980, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.69, + "Total Cost": 51109.99, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 918.399, + "Actual Total Time": 1736.770, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1344.029, + "Actual Total Time": 1727.925, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1085.733, + "Actual Total Time": 1785.640, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1004.844, + "Actual Total Time": 1729.278, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 946.085, + "Actual Total Time": 1728.825, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 764.183, + "Actual Total Time": 1728.781, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1728.789, + "Actual Total Time": 1728.796, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 295.128, + "Actual Total Time": 1728.945, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 51108.00, + "Plan Rows": 4, + "Plan Width": 56, + "Actual Startup Time": 788.961, + "Actual Total Time": 1736.659, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["chn.name", "ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1343.974, + "Actual Total Time": 1727.790, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1085.694, + "Actual Total Time": 1785.550, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1004.778, + "Actual Total Time": 1729.161, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 946.026, + "Actual Total Time": 1728.726, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 764.144, + "Actual Total Time": 1728.631, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 693.607, + "Actual Total Time": 1728.767, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 295.092, + "Actual Total Time": 1728.827, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 51105.92, + "Plan Rows": 4, + "Plan Width": 44, + "Actual Startup Time": 788.864, + "Actual Total Time": 1736.408, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.person_role_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1343.866, + "Actual Total Time": 1727.538, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1085.619, + "Actual Total Time": 1785.399, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1004.656, + "Actual Total Time": 1728.956, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 945.902, + "Actual Total Time": 1728.583, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 764.041, + "Actual Total Time": 1728.418, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 693.477, + "Actual Total Time": 1728.636, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 295.017, + "Actual Total Time": 1728.485, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 50573.91, + "Plan Rows": 946, + "Plan Width": 25, + "Actual Startup Time": 19.083, + "Actual Total Time": 1719.724, + "Actual Rows": 946, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.person_role_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.566, + "Actual Total Time": 1714.800, + "Actual Rows": 634, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 39.824, + "Actual Total Time": 1768.702, + "Actual Rows": 1081, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.025, + "Actual Total Time": 1703.820, + "Actual Rows": 1193, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.340, + "Actual Total Time": 1712.531, + "Actual Rows": 1049, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.463, + "Actual Total Time": 1706.300, + "Actual Rows": 1355, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.256, + "Actual Total Time": 1718.911, + "Actual Rows": 456, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 38.753, + "Actual Total Time": 1717.582, + "Actual Rows": 535, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 50560.83, + "Plan Rows": 3374, + "Plan Width": 29, + "Actual Startup Time": 14.848, + "Actual Total Time": 1716.454, + "Actual Rows": 3374, + "Actual Loops": 8, + "Output": ["ci.role_id", "ci.person_id", "ci.person_role_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.295, + "Actual Total Time": 1712.535, + "Actual Rows": 2353, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.366, + "Actual Total Time": 1765.604, + "Actual Rows": 4147, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.260, + "Actual Total Time": 1700.203, + "Actual Rows": 4393, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.910, + "Actual Total Time": 1709.782, + "Actual Rows": 3507, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.056, + "Actual Total Time": 1702.574, + "Actual Rows": 5248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.514, + "Actual Total Time": 1717.142, + "Actual Rows": 1393, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.728, + "Actual Total Time": 1715.636, + "Actual Rows": 1717, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 40022.25, + "Plan Rows": 5876, + "Plan Width": 25, + "Actual Startup Time": 1.403, + "Actual Total Time": 724.010, + "Actual Rows": 5876, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.223, + "Actual Total Time": 811.562, + "Actual Rows": 7377, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.217, + "Actual Total Time": 608.499, + "Actual Rows": 6840, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.420, + "Actual Total Time": 693.252, + "Actual Rows": 6047, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.219, + "Actual Total Time": 702.323, + "Actual Rows": 5169, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.679, + "Actual Total Time": 674.990, + "Actual Rows": 5033, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.138, + "Actual Total Time": 716.807, + "Actual Rows": 6301, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.677, + "Actual Total Time": 757.386, + "Actual Rows": 5361, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 24737.49, + "Plan Rows": 22133, + "Plan Width": 4, + "Actual Startup Time": 0.156, + "Actual Total Time": 411.574, + "Actual Rows": 22133, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.127, + "Actual Total Time": 467.657, + "Actual Rows": 22971, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.074, + "Actual Total Time": 309.747, + "Actual Rows": 22526, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.184, + "Actual Total Time": 370.057, + "Actual Rows": 23161, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.153, + "Actual Total Time": 421.707, + "Actual Rows": 20211, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.396, + "Actual Total Time": 408.799, + "Actual Rows": 18812, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.082, + "Actual Total Time": 397.834, + "Actual Rows": 21733, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.137, + "Actual Total Time": 450.043, + "Actual Rows": 21194, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 16.353, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 20.761, + "Actual Rows": 13462, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 5.693, + "Actual Rows": 2953, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 15.477, + "Actual Rows": 10067, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 18.072, + "Actual Rows": 12097, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 17.608, + "Actual Rows": 11638, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 16.977, + "Actual Rows": 10653, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 18.640, + "Actual Rows": 12102, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 2.00, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.036, + "Actual Rows": 2, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 12, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.032, + "Actual Rows": 2, + "Actual Loops": 13462 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.100, + "Actual Rows": 8, + "Actual Loops": 2953 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.034, + "Actual Rows": 2, + "Actual Loops": 10067 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.032, + "Actual Rows": 2, + "Actual Loops": 12097 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.032, + "Actual Rows": 2, + "Actual Loops": 11638 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.034, + "Actual Rows": 2, + "Actual Loops": 10653 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.034, + "Actual Rows": 2, + "Actual Loops": 12102 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.69, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 177065, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2007) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 22971 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 22526 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 23161 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 20211 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 18812 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 21733 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 21194 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.78, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.152, + "Actual Total Time": 0.168, + "Actual Rows": 1, + "Actual Loops": 47009, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice)'::text)", + "Rows Removed by Filter": 31, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.112, + "Actual Total Time": 0.121, + "Actual Rows": 0, + "Actual Loops": 7377 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.154, + "Actual Total Time": 0.168, + "Actual Rows": 1, + "Actual Loops": 6840 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.165, + "Actual Rows": 1, + "Actual Loops": 6047 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.175, + "Actual Total Time": 0.194, + "Actual Rows": 1, + "Actual Loops": 5169 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.180, + "Actual Total Time": 0.203, + "Actual Rows": 1, + "Actual Loops": 5033 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.158, + "Actual Rows": 0, + "Actual Loops": 6301 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.164, + "Actual Total Time": 0.178, + "Actual Rows": 0, + "Actual Loops": 5361 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.56, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 7565, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Angel%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 634 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1081 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1193 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1049 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1355 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 456 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 535 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 30, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.070, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.125, + "Actual Total Time": 0.125, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 30, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.039, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.042, + "Actual Rows": 5, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.026, + "Actual Rows": 2, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 5 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 316739818532851506, + "Planning Time": 78.185, + "Triggers": [ + ], + "Execution Time": 1838.737, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 316739818532851506, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS voiced_character_name,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS american_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76142.40, + "Total Cost": 76142.41, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 512.210, + "Actual Total Time": 520.244, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76142.31, + "Total Cost": 76142.32, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 511.872, + "Actual Total Time": 520.208, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76141.31, + "Total Cost": 76141.32, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 504.274, + "Actual Total Time": 504.282, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 502.973, + "Actual Total Time": 502.980, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 502.900, + "Actual Total Time": 502.907, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 502.945, + "Actual Total Time": 502.953, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 504.184, + "Actual Total Time": 504.191, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 503.462, + "Actual Total Time": 503.469, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 503.301, + "Actual Total Time": 503.308, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 503.356, + "Actual Total Time": 503.363, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.68, + "Total Cost": 76131.13, + "Plan Rows": 1018, + "Plan Width": 64, + "Actual Startup Time": 30.563, + "Actual Total Time": 502.873, + "Actual Rows": 1018, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Join Filter": "(ci.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.093, + "Actual Total Time": 502.203, + "Actual Rows": 563, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.148, + "Actual Total Time": 500.455, + "Actual Rows": 1813, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.059, + "Actual Total Time": 499.478, + "Actual Rows": 2933, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.638, + "Actual Total Time": 503.350, + "Actual Rows": 530, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.923, + "Actual Total Time": 502.470, + "Actual Rows": 710, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.501, + "Actual Total Time": 502.266, + "Actual Rows": 616, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.679, + "Actual Total Time": 502.678, + "Actual Rows": 432, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.25, + "Total Cost": 75644.41, + "Plan Rows": 1018, + "Plan Width": 55, + "Actual Startup Time": 30.486, + "Actual Total Time": 491.594, + "Actual Rows": 1018, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "chn.name", "mc.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.023, + "Actual Total Time": 495.807, + "Actual Rows": 563, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.047, + "Actual Total Time": 481.518, + "Actual Rows": 1813, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.991, + "Actual Total Time": 470.227, + "Actual Rows": 2933, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.549, + "Actual Total Time": 496.093, + "Actual Rows": 530, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.839, + "Actual Total Time": 494.215, + "Actual Rows": 710, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.423, + "Actual Total Time": 494.594, + "Actual Rows": 616, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.594, + "Actual Total Time": 497.397, + "Actual Rows": 432, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 74631.74, + "Plan Rows": 2293, + "Plan Width": 59, + "Actual Startup Time": 28.452, + "Actual Total Time": 460.985, + "Actual Rows": 2293, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "chn.name", "mc.movie_id", "mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.805, + "Actual Total Time": 477.445, + "Actual Rows": 1214, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.966, + "Actual Total Time": 430.446, + "Actual Rows": 4015, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.179, + "Actual Total Time": 416.634, + "Actual Rows": 4757, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.478, + "Actual Total Time": 465.824, + "Actual Rows": 2177, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.836, + "Actual Total Time": 467.111, + "Actual Rows": 1988, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.585, + "Actual Total Time": 463.271, + "Actual Rows": 2162, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.515, + "Actual Total Time": 483.089, + "Actual Rows": 805, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 74096.88, + "Plan Rows": 966, + "Plan Width": 51, + "Actual Startup Time": 28.357, + "Actual Total Time": 446.497, + "Actual Rows": 966, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "chn.name", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.730, + "Actual Total Time": 470.584, + "Actual Rows": 336, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.727, + "Actual Total Time": 402.467, + "Actual Rows": 2263, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.107, + "Actual Total Time": 394.619, + "Actual Rows": 1465, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.411, + "Actual Total Time": 446.334, + "Actual Rows": 1478, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.766, + "Actual Total Time": 458.610, + "Actual Rows": 315, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.514, + "Actual Total Time": 452.417, + "Actual Rows": 508, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.415, + "Actual Total Time": 472.939, + "Actual Rows": 824, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.97, + "Total Cost": 73576.46, + "Plan Rows": 1026, + "Plan Width": 39, + "Actual Startup Time": 27.962, + "Actual Total Time": 430.070, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.person_role_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.451, + "Actual Total Time": 463.314, + "Actual Rows": 372, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.642, + "Actual Total Time": 372.659, + "Actual Rows": 2371, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.525, + "Actual Total Time": 373.396, + "Actual Rows": 1543, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.319, + "Actual Total Time": 421.741, + "Actual Rows": 1540, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.684, + "Actual Total Time": 449.193, + "Actual Rows": 336, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.430, + "Actual Total Time": 439.289, + "Actual Rows": 546, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.166, + "Actual Total Time": 459.765, + "Actual Rows": 906, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 73571.71, + "Plan Rows": 1026, + "Plan Width": 43, + "Actual Startup Time": 27.673, + "Actual Total Time": 428.549, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.role_id", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = ci.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.202, + "Actual Total Time": 462.486, + "Actual Rows": 372, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.347, + "Actual Total Time": 369.809, + "Actual Rows": 2371, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.228, + "Actual Total Time": 371.283, + "Actual Rows": 1543, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.976, + "Actual Total Time": 419.723, + "Actual Rows": 1540, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.431, + "Actual Total Time": 448.351, + "Actual Rows": 336, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.148, + "Actual Total Time": 438.187, + "Actual Rows": 546, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.867, + "Actual Total Time": 458.429, + "Actual Rows": 906, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 68369.91, + "Plan Rows": 1316, + "Plan Width": 39, + "Actual Startup Time": 24.337, + "Actual Total Time": 302.594, + "Actual Rows": 1316, + "Actual Loops": 8, + "Output": ["an.name", "an.person_id", "n.name", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.504, + "Actual Total Time": 321.649, + "Actual Rows": 1308, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.425, + "Actual Total Time": 270.402, + "Actual Rows": 1220, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.749, + "Actual Total Time": 273.243, + "Actual Rows": 1306, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.790, + "Actual Total Time": 293.289, + "Actual Rows": 1290, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.942, + "Actual Total Time": 317.798, + "Actual Rows": 1267, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.922, + "Actual Total Time": 299.724, + "Actual Rows": 1645, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.754, + "Actual Total Time": 316.249, + "Actual Rows": 1224, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 6251, + "Plan Width": 19, + "Actual Startup Time": 24.068, + "Actual Total Time": 243.511, + "Actual Rows": 6251, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 514685, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.349, + "Actual Total Time": 258.111, + "Actual Rows": 6483, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.193, + "Actual Total Time": 219.471, + "Actual Rows": 5678, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.582, + "Actual Total Time": 224.304, + "Actual Rows": 5927, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.436, + "Actual Total Time": 234.158, + "Actual Rows": 6198, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.389, + "Actual Total Time": 256.032, + "Actual Rows": 6419, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.617, + "Actual Total Time": 235.932, + "Actual Rows": 6986, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.653, + "Actual Total Time": 255.479, + "Actual Rows": 6088, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.77, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 50011, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6483 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 5678 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 5927 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6198 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6419 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 6986 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6088 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.94, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.095, + "Actual Rows": 1, + "Actual Loops": 10525, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.100, + "Actual Total Time": 0.107, + "Actual Rows": 0, + "Actual Loops": 1308 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.080, + "Actual Rows": 2, + "Actual Loops": 1220 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.074, + "Actual Rows": 1, + "Actual Loops": 1306 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.097, + "Actual Rows": 1, + "Actual Loops": 1290 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.102, + "Actual Rows": 0, + "Actual Loops": 1267 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.083, + "Actual Rows": 0, + "Actual Loops": 1645 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.109, + "Actual Total Time": 0.115, + "Actual Rows": 1, + "Actual Loops": 1224 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 8204, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 372 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 2371 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1543 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 1540 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 336 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 546 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 906 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 7726, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.018, + "Actual Rows": 4, + "Actual Loops": 336 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 2263 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 1465 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1478 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.023, + "Actual Rows": 6, + "Actual Loops": 315 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.019, + "Actual Rows": 4, + "Actual Loops": 508 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 824 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 18345, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1214 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 4015 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 4757 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2177 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1988 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2162 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 805 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 8144, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 563 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1813 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 2933 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 530 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 710 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 616 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 432 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -180252288200201541, + "Planning Time": 63.783, + "Triggers": [ + ], + "Execution Time": 524.584, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": -180252288200201541, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS voiced_char_name,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS american_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND n.gender ='f'
  AND rt.role ='actress'
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 210129.50, + "Total Cost": 210129.51, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 9007.982, + "Actual Total Time": 9043.454, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 210129.41, + "Total Cost": 210129.42, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 8550.943, + "Actual Total Time": 9043.383, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 210128.41, + "Total Cost": 210128.42, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 8647.066, + "Actual Total Time": 8647.072, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8534.901, + "Actual Total Time": 8534.907, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8486.766, + "Actual Total Time": 8486.772, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8631.991, + "Actual Total Time": 8631.996, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8682.820, + "Actual Total Time": 8682.825, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8987.149, + "Actual Total Time": 8987.153, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8392.691, + "Actual Total Time": 8392.696, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8910.057, + "Actual Total Time": 8910.062, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 161970.04, + "Total Cost": 209524.56, + "Plan Rows": 60385, + "Plan Width": 64, + "Actual Startup Time": 7424.122, + "Actual Total Time": 8589.480, + "Actual Rows": 60385, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "n.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7422.165, + "Actual Total Time": 8496.236, + "Actual Rows": 37845, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7422.554, + "Actual Total Time": 8450.425, + "Actual Rows": 34567, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7422.263, + "Actual Total Time": 8592.582, + "Actual Rows": 38302, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7422.503, + "Actual Total Time": 8641.224, + "Actual Rows": 42192, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7423.224, + "Actual Total Time": 8833.318, + "Actual Rows": 175142, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7421.430, + "Actual Total Time": 8363.549, + "Actual Rows": 27149, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7428.982, + "Actual Total Time": 8827.338, + "Actual Rows": 91242, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 161969.62, + "Total Cost": 198541.78, + "Plan Rows": 21696, + "Plan Width": 56, + "Actual Startup Time": 7423.146, + "Actual Total Time": 8316.511, + "Actual Rows": 21696, + "Actual Loops": 8, + "Output": ["chn.name", "ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Join Filter": "(ci.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7422.017, + "Actual Total Time": 8259.602, + "Actual Rows": 19930, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7422.528, + "Actual Total Time": 8235.040, + "Actual Rows": 17319, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7422.130, + "Actual Total Time": 8338.860, + "Actual Rows": 21599, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7422.465, + "Actual Total Time": 8371.190, + "Actual Rows": 23927, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7422.296, + "Actual Total Time": 8405.833, + "Actual Rows": 28377, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7421.271, + "Actual Total Time": 8175.063, + "Actual Rows": 15463, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7422.904, + "Actual Total Time": 8474.096, + "Actual Rows": 28042, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 161969.19, + "Total Cost": 188168.59, + "Plan Rows": 21696, + "Plan Width": 47, + "Actual Startup Time": 7423.104, + "Actual Total Time": 8101.350, + "Actual Rows": 21696, + "Actual Loops": 8, + "Output": ["chn.name", "ci.movie_id", "ci.person_id", "mc.movie_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7421.963, + "Actual Total Time": 8058.144, + "Actual Rows": 19930, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7422.480, + "Actual Total Time": 8052.496, + "Actual Rows": 17319, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7422.103, + "Actual Total Time": 8120.494, + "Actual Rows": 21599, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7422.425, + "Actual Total Time": 8136.795, + "Actual Rows": 23927, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7422.239, + "Actual Total Time": 8152.340, + "Actual Rows": 28377, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7421.222, + "Actual Total Time": 8009.758, + "Actual Rows": 15463, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7422.854, + "Actual Total Time": 8211.194, + "Actual Rows": 28042, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 161968.76, + "Total Cost": 176470.07, + "Plan Rows": 21707, + "Plan Width": 28, + "Actual Startup Time": 7423.051, + "Actual Total Time": 7861.746, + "Actual Rows": 21707, + "Actual Loops": 8, + "Output": ["chn.name", "ci.movie_id", "ci.person_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7421.894, + "Actual Total Time": 7834.154, + "Actual Rows": 19943, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7422.412, + "Actual Total Time": 7845.204, + "Actual Rows": 17325, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7422.072, + "Actual Total Time": 7871.286, + "Actual Rows": 21606, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7422.360, + "Actual Total Time": 7873.350, + "Actual Rows": 23940, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7422.173, + "Actual Total Time": 7878.278, + "Actual Rows": 28394, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7421.175, + "Actual Total Time": 7824.959, + "Actual Rows": 15478, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7422.799, + "Actual Total Time": 7914.193, + "Actual Rows": 28050, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 161968.33, + "Total Cost": 164451.73, + "Plan Rows": 23694, + "Plan Width": 16, + "Actual Startup Time": 7422.981, + "Actual Total Time": 7569.264, + "Actual Rows": 23694, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id", "mc.movie_id"], + "Inner Unique": false, + "Merge Cond": "(mc.movie_id = ci.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7421.853, + "Actual Total Time": 7570.980, + "Actual Rows": 22103, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7422.323, + "Actual Total Time": 7570.583, + "Actual Rows": 18691, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7422.029, + "Actual Total Time": 7565.125, + "Actual Rows": 24043, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7422.312, + "Actual Total Time": 7567.382, + "Actual Rows": 26665, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7422.086, + "Actual Total Time": 7558.496, + "Actual Rows": 30124, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7421.050, + "Actual Total Time": 7568.529, + "Actual Rows": 16915, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7422.699, + "Actual Total Time": 7568.750, + "Actual Rows": 30323, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Sort", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 34312.29, + "Total Cost": 34672.85, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 472.728, + "Actual Total Time": 486.160, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Sort Key": ["mc.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 475.627, + "Actual Total Time": 490.680, + "Actual Rows": 157645, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 468.850, + "Actual Total Time": 481.959, + "Actual Rows": 133635, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 466.781, + "Actual Total Time": 479.384, + "Actual Rows": 128944, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 3073, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 470.496, + "Actual Total Time": 482.728, + "Actual Rows": 136583, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 469.813, + "Actual Total Time": 480.833, + "Actual Rows": 137502, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 472.795, + "Actual Total Time": 487.257, + "Actual Rows": 149166, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 6, + "Actual Startup Time": 470.674, + "Actual Total Time": 483.320, + "Actual Rows": 141788, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 21953.67, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 0.095, + "Actual Total Time": 405.228, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.086, + "Actual Total Time": 402.199, + "Actual Rows": 157645, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.083, + "Actual Total Time": 405.630, + "Actual Rows": 133635, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.105, + "Actual Total Time": 406.000, + "Actual Rows": 128944, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.096, + "Actual Total Time": 405.940, + "Actual Rows": 136583, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.078, + "Actual Total Time": 405.256, + "Actual Rows": 137502, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.094, + "Actual Total Time": 404.124, + "Actual Rows": 149166, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.143, + "Actual Total Time": 405.092, + "Actual Rows": 141788, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 15.564, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 15.528, + "Actual Rows": 10737, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 16.433, + "Actual Rows": 11083, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 16.704, + "Actual Rows": 11438, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 14.990, + "Actual Rows": 10372, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 16.445, + "Actual Rows": 11208, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 14.776, + "Actual Rows": 9813, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 15.235, + "Actual Rows": 10449, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.61, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.032, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.031, + "Actual Rows": 15, + "Actual Loops": 10737 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.031, + "Actual Rows": 12, + "Actual Loops": 11083 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.030, + "Actual Rows": 11, + "Actual Loops": 11438 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.033, + "Actual Rows": 13, + "Actual Loops": 10372 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.030, + "Actual Rows": 12, + "Actual Loops": 11208 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.035, + "Actual Rows": 15, + "Actual Loops": 9813 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.033, + "Actual Rows": 14, + "Actual Loops": 10449 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 127656.02, + "Total Cost": 128346.43, + "Plan Rows": 276166, + "Plan Width": 12, + "Actual Startup Time": 6949.950, + "Actual Total Time": 6995.585, + "Actual Rows": 281389, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Sort Key": ["ci.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6945.731, + "Actual Total Time": 6991.243, + "Actual Rows": 282213, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 6953.036, + "Actual Total Time": 6999.838, + "Actual Rows": 279489, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 6954.754, + "Actual Total Time": 7000.249, + "Actual Rows": 280686, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 6951.375, + "Actual Total Time": 6997.709, + "Actual Rows": 281373, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 6952.260, + "Actual Total Time": 6995.380, + "Actual Rows": 285860, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 6947.732, + "Actual Total Time": 6993.350, + "Actual Rows": 279634, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 6, + "Actual Startup Time": 6952.012, + "Actual Total Time": 6997.957, + "Actual Rows": 282807, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 102697.27, + "Plan Rows": 276166, + "Plan Width": 12, + "Actual Startup Time": 2.473, + "Actual Total Time": 6724.967, + "Actual Rows": 276166, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.526, + "Actual Total Time": 6715.657, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.077, + "Actual Total Time": 6729.081, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.377, + "Actual Total Time": 6730.920, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.961, + "Actual Total Time": 6728.859, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.912, + "Actual Total Time": 6726.560, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.574, + "Actual Total Time": 6725.115, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.817, + "Actual Total Time": 6727.467, + "Actual Rows": 276166, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["rt.id", "rt.role"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 99934.46, + "Plan Rows": 276166, + "Plan Width": 16, + "Actual Startup Time": 2.433, + "Actual Total Time": 6649.528, + "Actual Rows": 276166, + "Actual Loops": 8, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.role_id = rt.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 7175807, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.494, + "Actual Total Time": 6641.725, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.025, + "Actual Total Time": 6645.189, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.304, + "Actual Total Time": 6657.438, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.920, + "Actual Total Time": 6655.501, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.879, + "Actual Total Time": 6652.558, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.534, + "Actual Total Time": 6651.187, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.791, + "Actual Total Time": 6653.773, + "Actual Rows": 276166, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 189554, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 22103 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 18691 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 24043 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 26665 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 30124 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 16915 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 30323 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 173657, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'f'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 19943 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 17325 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 21606 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 23940 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 28394 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 15478 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 28050 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 173567, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 19930 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 17319 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 21599 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 23927 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 28377 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 15463 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 28042 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 20, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 173567, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 19930 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 17319 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 2, + "Actual Loops": 21599 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 2, + "Actual Loops": 23927 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.013, + "Actual Rows": 6, + "Actual Loops": 28377 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 15463 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 28042 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7221379846823333251, + "Planning Time": 63.525, + "Triggers": [ + ], + "Execution Time": 9075.150, + "Using aqo": true, + "AQO mode": "LEARN", + "Query hash": 7221379846823333251, + "JOINS": 7 + } + ] (1 row)
