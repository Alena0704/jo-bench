SELECT MIN(chn.name) AS uncredited_voiced_character,
       MIN(t.title) AS russian_movie
FROM char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     company_type AS ct,
     movie_companies AS mc,
     role_type AS rt,
     title AS t
WHERE ci.note LIKE '%(voice)%'
  AND ci.note LIKE '%(uncredited)%'
  AND cn.country_code = '[ru]'
  AND rt.role = 'actor'
  AND t.production_year > 2005
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mc.movie_id
  AND chn.id = ci.person_role_id
  AND rt.id = ci.role_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6816.83, + "Total Cost": 6816.84, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 260.497, + "Actual Total Time": 289.033, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6816.78, + "Total Cost": 6816.79, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 256.784, + "Actual Total Time": 288.997, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6815.78, + "Total Cost": 6815.79, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 248.335, + "Actual Total Time": 248.343, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 246.155, + "Actual Total Time": 246.162, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 246.123, + "Actual Total Time": 246.130, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 246.197, + "Actual Total Time": 246.202, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 246.559, + "Actual Total Time": 246.564, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 246.475, + "Actual Total Time": 246.484, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 252.231, + "Actual Total Time": 252.240, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 246.884, + "Actual Total Time": 246.890, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.97, + "Total Cost": 6815.72, + "Plan Rows": 13, + "Plan Width": 33, + "Actual Startup Time": 32.048, + "Actual Total Time": 248.268, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["chn.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.267, + "Actual Total Time": 246.084, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 93.014, + "Actual Total Time": 246.079, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.235, + "Actual Total Time": 246.159, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.990, + "Actual Total Time": 246.432, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.597, + "Actual Total Time": 246.403, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 61.845, + "Actual Total Time": 252.188, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.207, + "Actual Total Time": 246.811, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 6815.01, + "Plan Rows": 13, + "Plan Width": 37, + "Actual Startup Time": 31.957, + "Actual Total Time": 248.094, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["chn.name", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.159, + "Actual Total Time": 245.884, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.923, + "Actual Total Time": 245.941, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.152, + "Actual Total Time": 246.022, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.886, + "Actual Total Time": 246.181, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.498, + "Actual Total Time": 246.227, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 61.753, + "Actual Total Time": 252.053, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.089, + "Actual Total Time": 246.600, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 6790.20, + "Plan Rows": 14, + "Plan Width": 25, + "Actual Startup Time": 31.862, + "Actual Total Time": 247.421, + "Actual Rows": 14, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.066, + "Actual Total Time": 245.334, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.838, + "Actual Total Time": 245.573, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.021, + "Actual Total Time": 245.664, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.781, + "Actual Total Time": 244.866, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.408, + "Actual Total Time": 245.528, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 61.670, + "Actual Total Time": 251.676, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.986, + "Actual Total Time": 245.543, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 6789.02, + "Plan Rows": 19, + "Plan Width": 29, + "Actual Startup Time": 26.630, + "Actual Total Time": 247.211, + "Actual Rows": 19, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.930, + "Actual Total Time": 245.122, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 60.609, + "Actual Total Time": 245.417, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.225, + "Actual Total Time": 245.516, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.699, + "Actual Total Time": 244.627, + "Actual Rows": 34, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.334, + "Actual Total Time": 245.393, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 61.583, + "Actual Total Time": 251.519, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.894, + "Actual Total Time": 245.365, + "Actual Rows": 24, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 6013.95, + "Plan Rows": 567, + "Plan Width": 29, + "Actual Startup Time": 1.036, + "Actual Total Time": 53.329, + "Actual Rows": 567, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.454, + "Actual Total Time": 60.001, + "Actual Rows": 684, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.388, + "Actual Total Time": 41.146, + "Actual Rows": 552, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.427, + "Actual Total Time": 37.687, + "Actual Rows": 497, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.766, + "Actual Total Time": 47.299, + "Actual Rows": 713, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.400, + "Actual Total Time": 57.573, + "Actual Rows": 590, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.276, + "Actual Total Time": 74.846, + "Actual Rows": 586, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.147, + "Actual Total Time": 46.009, + "Actual Rows": 389, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 5499.49, + "Plan Rows": 1099, + "Plan Width": 8, + "Actual Startup Time": 0.251, + "Actual Total Time": 26.740, + "Actual Rows": 1099, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.287, + "Actual Total Time": 30.444, + "Actual Rows": 1289, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.306, + "Actual Total Time": 17.921, + "Actual Rows": 900, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.318, + "Actual Total Time": 20.795, + "Actual Rows": 748, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.192, + "Actual Total Time": 19.614, + "Actual Rows": 1191, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.237, + "Actual Total Time": 31.352, + "Actual Rows": 1162, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.127, + "Actual Total Time": 34.312, + "Actual Rows": 1482, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.438, + "Actual Total Time": 24.146, + "Actual Rows": 894, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 170, + "Plan Width": 4, + "Actual Startup Time": 0.171, + "Actual Total Time": 14.594, + "Actual Rows": 170, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[ru]'::text)", + "Rows Removed by Filter": 29204, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.185, + "Actual Total Time": 16.948, + "Actual Rows": 201, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.239, + "Actual Total Time": 8.432, + "Actual Rows": 105, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.255, + "Actual Total Time": 12.238, + "Actual Rows": 173, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.098, + "Actual Total Time": 6.356, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.159, + "Actual Total Time": 18.878, + "Actual Rows": 228, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 17.913, + "Actual Rows": 231, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.359, + "Actual Total Time": 13.886, + "Actual Rows": 159, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 12.51, + "Plan Rows": 6, + "Plan Width": 12, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.066, + "Actual Rows": 6, + "Actual Loops": 1361, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.062, + "Actual Rows": 6, + "Actual Loops": 201 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.083, + "Actual Rows": 9, + "Actual Loops": 105 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.045, + "Actual Rows": 4, + "Actual Loops": 173 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.162, + "Actual Rows": 16, + "Actual Loops": 76 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.050, + "Actual Rows": 5, + "Actual Loops": 228 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.065, + "Actual Rows": 6, + "Actual Loops": 231 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.059, + "Actual Rows": 6, + "Actual Loops": 159 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 8790, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1289 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 900 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 748 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1191 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1162 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1482 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 894 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.35, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.320, + "Actual Total Time": 0.340, + "Actual Rows": 0, + "Actual Loops": 4539, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ci.note ~~ '%(voice)%'::text) AND (ci.note ~~ '%(uncredited)%'::text))", + "Rows Removed by Filter": 50, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.257, + "Actual Total Time": 0.269, + "Actual Rows": 0, + "Actual Loops": 684 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.344, + "Actual Total Time": 0.369, + "Actual Rows": 0, + "Actual Loops": 552 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.393, + "Actual Total Time": 0.417, + "Actual Rows": 0, + "Actual Loops": 497 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.252, + "Actual Total Time": 0.275, + "Actual Rows": 0, + "Actual Loops": 713 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.305, + "Actual Total Time": 0.317, + "Actual Rows": 0, + "Actual Loops": 590 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.292, + "Actual Total Time": 0.300, + "Actual Rows": 0, + "Actual Loops": 586 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.477, + "Actual Total Time": 0.511, + "Actual Rows": 0, + "Actual Loops": 389 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actor'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 1.77, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 112, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 17 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 29 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 14 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 104, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 12, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 15, + "Cache Hits": 13, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 8, + "Cache Hits": 7, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6, + "Cache Hits": 4, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 26, + "Cache Hits": 24, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 14, + "Cache Hits": 12, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 7, + "Cache Hits": 6, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 14, + "Cache Hits": 12, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 14, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.078, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6651533820180303979, + "Planning Time": 27.968, + "Triggers": [ + ], + "Execution Time": 289.394, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6651533820180303979, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(chn.name) AS character,
       MIN(t.title) AS russian_mov_with_actor_producer
FROM char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     company_type AS ct,
     movie_companies AS mc,
     role_type AS rt,
     title AS t
WHERE ci.note LIKE '%(producer)%'
  AND cn.country_code = '[ru]'
  AND rt.role = 'actor'
  AND t.production_year > 2010
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mc.movie_id
  AND chn.id = ci.person_role_id
  AND rt.id = ci.role_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6220.74, + "Total Cost": 6220.75, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 117.917, + "Actual Total Time": 137.624, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6220.69, + "Total Cost": 6220.70, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 106.021, + "Actual Total Time": 137.603, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6219.69, + "Total Cost": 6219.70, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 99.561, + "Actual Total Time": 99.568, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.415, + "Actual Total Time": 97.419, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.663, + "Actual Total Time": 96.670, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.693, + "Actual Total Time": 97.697, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.695, + "Actual Total Time": 97.700, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.712, + "Actual Total Time": 97.716, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.938, + "Actual Total Time": 106.945, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 97.453, + "Actual Total Time": 97.459, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.96, + "Total Cost": 6219.68, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 99.556, + "Actual Total Time": 99.562, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["chn.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.411, + "Actual Total Time": 97.415, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.658, + "Actual Total Time": 96.665, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.687, + "Actual Total Time": 97.691, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.690, + "Actual Total Time": 97.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.709, + "Actual Total Time": 97.713, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.930, + "Actual Total Time": 106.936, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 97.448, + "Actual Total Time": 97.453, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 6219.53, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 99.555, + "Actual Total Time": 99.560, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["chn.name", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.410, + "Actual Total Time": 97.414, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.657, + "Actual Total Time": 96.664, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.686, + "Actual Total Time": 97.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.689, + "Actual Total Time": 97.693, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.708, + "Actual Total Time": 97.711, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.929, + "Actual Total Time": 106.934, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 97.447, + "Actual Total Time": 97.451, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 6219.05, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 99.554, + "Actual Total Time": 99.559, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.410, + "Actual Total Time": 97.413, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.656, + "Actual Total Time": 96.661, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.686, + "Actual Total Time": 97.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.688, + "Actual Total Time": 97.691, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.708, + "Actual Total Time": 97.710, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.928, + "Actual Total Time": 106.933, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 97.447, + "Actual Total Time": 97.450, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 6216.79, + "Plan Rows": 327, + "Plan Width": 29, + "Actual Startup Time": 5.121, + "Actual Total Time": 99.016, + "Actual Rows": 327, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.997, + "Actual Total Time": 97.014, + "Actual Rows": 181, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.008, + "Actual Total Time": 96.232, + "Actual Rows": 127, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.702, + "Actual Total Time": 97.173, + "Actual Rows": 399, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.619, + "Actual Total Time": 97.269, + "Actual Rows": 255, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.610, + "Actual Total Time": 97.114, + "Actual Rows": 549, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.590, + "Actual Total Time": 106.349, + "Actual Rows": 289, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.484, + "Actual Total Time": 96.910, + "Actual Rows": 335, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 6013.95, + "Plan Rows": 157, + "Plan Width": 29, + "Actual Startup Time": 4.442, + "Actual Total Time": 52.180, + "Actual Rows": 157, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.850, + "Actual Total Time": 57.901, + "Actual Rows": 103, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.656, + "Actual Total Time": 57.930, + "Actual Rows": 82, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.956, + "Actual Total Time": 53.004, + "Actual Rows": 176, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.937, + "Actual Total Time": 66.428, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.232, + "Actual Total Time": 46.879, + "Actual Rows": 228, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.874, + "Actual Total Time": 9.993, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.308, + "Actual Total Time": 52.553, + "Actual Rows": 171, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 5499.49, + "Plan Rows": 1099, + "Plan Width": 8, + "Actual Startup Time": 0.332, + "Actual Total Time": 25.387, + "Actual Rows": 1099, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.482, + "Actual Total Time": 22.835, + "Actual Rows": 834, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.228, + "Actual Total Time": 39.974, + "Actual Rows": 831, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.345, + "Actual Total Time": 27.744, + "Actual Rows": 1304, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.203, + "Actual Total Time": 31.585, + "Actual Rows": 1455, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.989, + "Actual Total Time": 22.962, + "Actual Rows": 1250, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.131, + "Actual Total Time": 3.478, + "Actual Rows": 287, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.170, + "Actual Total Time": 27.032, + "Actual Rows": 1238, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 170, + "Plan Width": 4, + "Actual Startup Time": 0.248, + "Actual Total Time": 15.148, + "Actual Rows": 170, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[ru]'::text)", + "Rows Removed by Filter": 29204, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.401, + "Actual Total Time": 14.084, + "Actual Rows": 175, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.141, + "Actual Total Time": 30.913, + "Actual Rows": 184, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.282, + "Actual Total Time": 16.628, + "Actual Rows": 210, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.122, + "Actual Total Time": 14.872, + "Actual Rows": 203, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.876, + "Actual Total Time": 13.095, + "Actual Rows": 172, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 1.061, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.090, + "Actual Total Time": 15.695, + "Actual Rows": 194, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 12.51, + "Plan Rows": 6, + "Plan Width": 12, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.056, + "Actual Rows": 6, + "Actual Loops": 1361, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.047, + "Actual Rows": 5, + "Actual Loops": 175 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.046, + "Actual Rows": 5, + "Actual Loops": 184 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.049, + "Actual Rows": 6, + "Actual Loops": 210 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.078, + "Actual Rows": 7, + "Actual Loops": 203 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.053, + "Actual Rows": 7, + "Actual Loops": 172 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.139, + "Actual Rows": 18, + "Actual Loops": 16 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.053, + "Actual Rows": 6, + "Actual Loops": 194 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 8790, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 834 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 831 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1304 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1455 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1250 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 287 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1238 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.175, + "Actual Total Time": 0.294, + "Actual Rows": 2, + "Actual Loops": 1259, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note ~~ '%(producer)%'::text)", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.263, + "Actual Total Time": 0.377, + "Actual Rows": 2, + "Actual Loops": 103 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.345, + "Actual Total Time": 0.464, + "Actual Rows": 2, + "Actual Loops": 82 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.135, + "Actual Total Time": 0.248, + "Actual Rows": 2, + "Actual Loops": 176 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.176, + "Actual Rows": 2, + "Actual Loops": 165 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.126, + "Actual Total Time": 0.217, + "Actual Rows": 2, + "Actual Loops": 228 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.457, + "Actual Total Time": 0.813, + "Actual Rows": 2, + "Actual Loops": 118 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.256, + "Actual Rows": 2, + "Actual Loops": 171 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actor'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 988535410010893112, + "Planning Time": 28.296, + "Triggers": [ + ], + "Execution Time": 138.032, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 988535410010893112, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(chn.name) AS character,
       MIN(t.title) AS movie_with_american_producer
FROM char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     company_type AS ct,
     movie_companies AS mc,
     role_type AS rt,
     title AS t
WHERE ci.note LIKE '%(producer)%'
  AND cn.country_code = '[us]'
  AND t.production_year > 1990
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mc.movie_id
  AND chn.id = ci.person_role_id
  AND rt.id = ci.role_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;
QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 201905.11, + "Total Cost": 201905.12, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 10800.358, + "Actual Total Time": 10848.985, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 42719.93, + "Total Cost": 201905.06, + "Plan Rows": 10, + "Plan Width": 33, + "Actual Startup Time": 10775.811, + "Actual Total Time": 10848.927, + "Actual Rows": 10, + "Actual Loops": 1, + "Output": ["chn.name", "t.title"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42718.93, + "Total Cost": 201904.06, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 7499.110, + "Actual Total Time": 10768.663, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10765.866, + "Actual Total Time": 10765.871, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3006.285, + "Actual Total Time": 10765.895, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4831.088, + "Actual Total Time": 10767.155, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7068.909, + "Actual Total Time": 10760.866, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2017.241, + "Actual Total Time": 10786.003, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10766.500, + "Actual Total Time": 10766.505, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10764.012, + "Actual Total Time": 10764.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42718.79, + "Total Cost": 201903.91, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 7499.079, + "Actual Total Time": 10768.625, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "ci.role_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10765.865, + "Actual Total Time": 10765.870, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3006.222, + "Actual Total Time": 10765.800, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4831.044, + "Actual Total Time": 10767.110, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7068.840, + "Actual Total Time": 10760.778, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2017.176, + "Actual Total Time": 10785.936, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10766.499, + "Actual Total Time": 10766.503, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10764.010, + "Actual Total Time": 10764.015, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42718.66, + "Total Cost": 201903.75, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 7499.048, + "Actual Total Time": 10768.585, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10765.864, + "Actual Total Time": 10765.868, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3006.156, + "Actual Total Time": 10765.691, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4830.995, + "Actual Total Time": 10767.059, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7068.775, + "Actual Total Time": 10760.690, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2017.110, + "Actual Total Time": 10785.869, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10766.498, + "Actual Total Time": 10766.502, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10764.010, + "Actual Total Time": 10764.014, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42718.22, + "Total Cost": 160596.02, + "Plan Rows": 97763, + "Plan Width": 29, + "Actual Startup Time": 374.650, + "Actual Total Time": 10617.019, + "Actual Rows": 97763, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 374.251, + "Actual Total Time": 10599.659, + "Actual Rows": 99339, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 374.016, + "Actual Total Time": 10619.458, + "Actual Rows": 97751, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 373.785, + "Actual Total Time": 10619.603, + "Actual Rows": 94104, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 368.844, + "Actual Total Time": 10612.992, + "Actual Rows": 96768, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 374.572, + "Actual Total Time": 10626.301, + "Actual Rows": 106477, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 374.497, + "Actual Total Time": 10629.579, + "Actual Rows": 89100, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 373.720, + "Actual Total Time": 10611.299, + "Actual Rows": 100095, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42717.78, + "Total Cost": 65235.20, + "Plan Rows": 74531, + "Plan Width": 29, + "Actual Startup Time": 374.402, + "Actual Total Time": 1201.627, + "Actual Rows": 74531, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 374.066, + "Actual Total Time": 1222.915, + "Actual Rows": 74157, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 373.878, + "Actual Total Time": 1205.550, + "Actual Rows": 77171, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 373.420, + "Actual Total Time": 1125.175, + "Actual Rows": 72189, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 368.698, + "Actual Total Time": 1234.367, + "Actual Rows": 73237, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 374.038, + "Actual Total Time": 1154.880, + "Actual Rows": 78503, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 374.202, + "Actual Total Time": 1203.935, + "Actual Rows": 71739, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 373.642, + "Actual Total Time": 1248.607, + "Actual Rows": 74664, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 22139.26, + "Plan Rows": 144225, + "Plan Width": 8, + "Actual Startup Time": 0.105, + "Actual Total Time": 634.951, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.104, + "Actual Total Time": 664.017, + "Actual Rows": 142091, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.073, + "Actual Total Time": 651.255, + "Actual Rows": 136013, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.130, + "Actual Total Time": 555.565, + "Actual Rows": 140784, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.136, + "Actual Total Time": 673.988, + "Actual Rows": 143420, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.108, + "Actual Total Time": 583.436, + "Actual Rows": 125607, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.069, + "Actual Total Time": 651.213, + "Actual Rows": 139141, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.136, + "Actual Total Time": 694.277, + "Actual Rows": 138056, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 26.920, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"],+ "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 28.471, + "Actual Rows": 11208, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 27.334, + "Actual Rows": 10730, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 24.391, + "Actual Rows": 9735, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 28.577, + "Actual Rows": 11309, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 25.653, + "Actual Rows": 10526, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 28.002, + "Actual Rows": 10395, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 30.198, + "Actual Rows": 11829, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 14, + "Plan Width": 12, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.050, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.050, + "Actual Rows": 13, + "Actual Loops": 11208 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.051, + "Actual Rows": 13, + "Actual Loops": 10730 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.047, + "Actual Rows": 14, + "Actual Loops": 9735 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.050, + "Actual Rows": 13, + "Actual Loops": 11309 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.045, + "Actual Rows": 12, + "Actual Loops": 10526 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.052, + "Actual Rows": 13, + "Actual Loops": 10395 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.049, + "Actual Rows": 12, + "Actual Loops": 11829 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 39984.49, + "Total Cost": 39984.49, + "Plan Rows": 218629, + "Plan Width": 21, + "Actual Startup Time": 369.528, + "Actual Total Time": 369.529, + "Actual Rows": 218629, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 2097152, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 114496, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 373.215, + "Actual Total Time": 373.216, + "Actual Rows": 224264, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 373.086, + "Actual Total Time": 373.087, + "Actual Rows": 213402, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 373.130, + "Actual Total Time": 373.131, + "Actual Rows": 224022, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 368.370, + "Actual Total Time": 368.371, + "Actual Rows": 212681, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 373.234, + "Actual Total Time": 373.235, + "Actual Rows": 218029, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 373.342, + "Actual Total Time": 373.343, + "Actual Rows": 209571, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 373.332, + "Actual Total Time": 373.333, + "Actual Rows": 222080, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.00, + "Total Cost": 39984.49, + "Plan Rows": 218629, + "Plan Width": 21, + "Actual Startup Time": 0.065, + "Actual Total Time": 162.508, + "Actual Rows": 218629, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 97410, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.061, + "Actual Total Time": 160.041, + "Actual Rows": 224264, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.063, + "Actual Total Time": 160.976, + "Actual Rows": 213402, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.057, + "Actual Total Time": 163.468, + "Actual Rows": 224022, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 157.238, + "Actual Rows": 212681, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 166.987, + "Actual Rows": 218029, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.057, + "Actual Total Time": 164.317, + "Actual Rows": 209571, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 163.591, + "Actual Rows": 222080, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.124, + "Actual Rows": 1, + "Actual Loops": 596250, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note ~~ '%(producer)%'::text)", + "Rows Removed by Filter": 34, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.124, + "Actual Rows": 1, + "Actual Loops": 74157 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.120, + "Actual Rows": 1, + "Actual Loops": 77171 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.130, + "Actual Rows": 1, + "Actual Loops": 72189 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.126, + "Actual Rows": 1, + "Actual Loops": 73237 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.119, + "Actual Rows": 1, + "Actual Loops": 78503 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.130, + "Actual Rows": 1, + "Actual Loops": 71739 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.123, + "Actual Rows": 1, + "Actual Loops": 74664 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.44, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 782104, + "Output": ["chn.name", "chn.id"], + "Cache Key": "ci.person_role_id", + "Cache Mode": "logical", + "Cache Hits": 98469, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 99339, + "Cache Hits": 99338, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 97751, + "Cache Hits": 97749, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 94104, + "Cache Hits": 94102, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 96768, + "Cache Hits": 96766, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 106477, + "Cache Hits": 106475, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 89100, + "Cache Hits": 89099, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 100095, + "Cache Hits": 100094, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["chn.name", "chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["rt.id"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2494719406442254794, + "Planning Time": 24.453, + "Triggers": [ + ], + "Execution Time": 10851.189, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 2494719406442254794, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(lt.link) AS movie_link_type,
       MIN(t.title) AS non_polish_sequel_movie
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND t.production_year BETWEEN 1950 AND 2000
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1839.86, + "Total Cost": 1839.87, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 66.587, + "Actual Total Time": 67.958, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1839.81, + "Total Cost": 1839.82, + "Plan Rows": 5, + "Plan Width": 96, + "Actual Startup Time": 62.165, + "Actual Total Time": 67.935, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1838.81, + "Total Cost": 1838.82, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 56.033, + "Actual Total Time": 56.040, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 54.433, + "Actual Total Time": 54.439, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 53.886, + "Actual Total Time": 53.893, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 54.056, + "Actual Total Time": 54.062, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 54.256, + "Actual Total Time": 54.262, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 58.198, + "Actual Total Time": 58.204, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1472.04, + "Total Cost": 1838.35, + "Plan Rows": 62, + "Plan Width": 48, + "Actual Startup Time": 52.290, + "Actual Total Time": 55.956, + "Actual Rows": 52, + "Actual Loops": 6, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 47.728, + "Actual Total Time": 54.304, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 53.881, + "Actual Total Time": 53.888, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.417, + "Actual Total Time": 53.962, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 51.064, + "Actual Total Time": 54.246, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 51.280, + "Actual Total Time": 57.957, + "Actual Rows": 182, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.90, + "Total Cost": 1836.98, + "Plan Rows": 66, + "Plan Width": 40, + "Actual Startup Time": 51.975, + "Actual Total Time": 55.604, + "Actual Rows": 55, + "Actual Loops": 6, + "Output": ["cn.name", "ml.link_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 47.419, + "Actual Total Time": 53.917, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 53.612, + "Actual Total Time": 53.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.172, + "Actual Total Time": 53.656, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 50.701, + "Actual Total Time": 53.977, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 51.006, + "Actual Total Time": 57.507, + "Actual Rows": 182, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.48, + "Total Cost": 1770.63, + "Plan Rows": 148, + "Plan Width": 25, + "Actual Startup Time": 49.660, + "Actual Total Time": 53.989, + "Actual Rows": 124, + "Actual Loops": 6, + "Output": ["mc.company_id", "ml.link_type_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 47.328, + "Actual Total Time": 51.266, + "Actual Rows": 185, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.419, + "Actual Total Time": 53.162, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.040, + "Actual Total Time": 51.878, + "Actual Rows": 137, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.375, + "Actual Total Time": 52.999, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 47.037, + "Actual Total Time": 53.742, + "Actual Rows": 335, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.43, + "Total Cost": 1768.67, + "Plan Rows": 169, + "Plan Width": 29, + "Actual Startup Time": 49.634, + "Actual Total Time": 53.849, + "Actual Rows": 141, + "Actual Loops": 6, + "Output": ["mc.company_type_id", "mc.company_id", "ml.link_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 47.316, + "Actual Total Time": 51.065, + "Actual Rows": 205, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.407, + "Actual Total Time": 53.114, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.009, + "Actual Total Time": 51.744, + "Actual Rows": 141, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.348, + "Actual Total Time": 52.905, + "Actual Rows": 103, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 47.024, + "Actual Total Time": 53.436, + "Actual Rows": 354, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.00, + "Total Cost": 1745.93, + "Plan Rows": 40, + "Plan Width": 33, + "Actual Startup Time": 48.484, + "Actual Total Time": 51.980, + "Actual Rows": 33, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 47.225, + "Actual Total Time": 49.894, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.297, + "Actual Total Time": 52.593, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 47.887, + "Actual Total Time": 51.050, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.251, + "Actual Total Time": 51.963, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 46.906, + "Actual Total Time": 51.935, + "Actual Rows": 73, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.57, + "Total Cost": 1722.15, + "Plan Rows": 50, + "Plan Width": 12, + "Actual Startup Time": 48.301, + "Actual Total Time": 51.298, + "Actual Rows": 42, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Hash Cond": "(ml.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 47.127, + "Actual Total Time": 49.107, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.188, + "Actual Total Time": 52.109, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 47.743, + "Actual Total Time": 50.381, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.146, + "Actual Total Time": 51.188, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 46.772, + "Actual Total Time": 50.707, + "Actual Rows": 93, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.00, + "Total Cost": 222.99, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.071, + "Actual Total Time": 1.441, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.079, + "Actual Total Time": 1.132, + "Actual Rows": 3700, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.085, + "Actual Total Time": 2.262, + "Actual Rows": 7427, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.080, + "Actual Total Time": 1.529, + "Actual Rows": 6105, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.079, + "Actual Total Time": 1.873, + "Actual Rows": 6105, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.083, + "Actual Total Time": 1.648, + "Actual Rows": 5365, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1449.75, + "Total Cost": 1449.75, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 47.679, + "Actual Total Time": 47.680, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 544, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 46.226, + "Actual Total Time": 46.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.532, + "Actual Total Time": 46.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 46.666, + "Actual Total Time": 46.667, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 46.583, + "Actual Total Time": 46.584, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 46.537, + "Actual Total Time": 46.539, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1449.75, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 8.170, + "Actual Total Time": 15.894, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.158, + "Actual Total Time": 9.159, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.445, + "Actual Total Time": 9.446, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.588, + "Actual Total Time": 9.589, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.500, + "Actual Total Time": 9.501, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.445, + "Actual Total Time": 9.446, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.153, + "Actual Total Time": 8.155, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 22362, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.157, + "Actual Total Time": 9.157, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.444, + "Actual Total Time": 9.444, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.587, + "Actual Total Time": 9.588, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.499, + "Actual Total Time": 9.499, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.444, + "Actual Total Time": 9.444, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 10544, + "Plan Width": 8, + "Actual Startup Time": 0.090, + "Actual Total Time": 44.078, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 251, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2000))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 42 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 23 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 42 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 40 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 93 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 5, + "Plan Width": 12, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.053, + "Actual Rows": 4, + "Actual Loops": 199, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.024, + "Actual Rows": 5, + "Actual Loops": 42 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 2, + "Actual Loops": 22 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.026, + "Actual Rows": 6, + "Actual Loops": 23 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.023, + "Actual Rows": 3, + "Actual Loops": 37 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.017, + "Actual Rows": 5, + "Actual Loops": 73 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 742, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 185 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 24 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 137 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 59 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 335 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.13, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["lt.link", "lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.043, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["lt.link", "lt.id"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -8754961486292191806, + "Planning Time": 53.503, + "Triggers": [ + ], + "Execution Time": 68.321, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -8754961486292191806, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(lt.link) AS movie_link_type,
       MIN(t.title) AS sequel_movie
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follows%'
  AND mc.note IS NULL
  AND t.production_year = 1998
  AND t.title LIKE '%Money%'
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1078.40, + "Total Cost": 1078.41, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 20.891, + "Actual Total Time": 21.808, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1078.36, + "Total Cost": 1078.37, + "Plan Rows": 4, + "Plan Width": 96, + "Actual Startup Time": 18.859, + "Actual Total Time": 21.798, + "Actual Rows": 5, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 4, + "Workers Launched": 4, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1077.36, + "Total Cost": 1077.37, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 12.402, + "Actual Total Time": 12.407, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.196, + "Actual Total Time": 11.201, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.491, + "Actual Total Time": 12.495, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.042, + "Actual Total Time": 12.046, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.115, + "Actual Total Time": 8.120, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1077.33, + "Plan Rows": 4, + "Plan Width": 48, + "Actual Startup Time": 12.134, + "Actual Total Time": 12.397, + "Actual Rows": 3, + "Actual Loops": 5, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.192, + "Actual Total Time": 11.196, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.487, + "Actual Total Time": 12.491, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.722, + "Actual Total Time": 12.018, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.108, + "Actual Total Time": 8.113, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.57, + "Total Cost": 1076.86, + "Plan Rows": 4, + "Plan Width": 52, + "Actual Startup Time": 12.126, + "Actual Total Time": 12.384, + "Actual Rows": 3, + "Actual Loops": 5, + "Output": ["cn.name", "mc.company_type_id", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.191, + "Actual Total Time": 11.195, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.487, + "Actual Total Time": 12.490, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.684, + "Actual Total Time": 11.959, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.107, + "Actual Total Time": 8.112, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1074.62, + "Plan Rows": 5, + "Plan Width": 37, + "Actual Startup Time": 12.116, + "Actual Total Time": 12.332, + "Actual Rows": 4, + "Actual Loops": 5, + "Output": ["mc.company_type_id", "mc.company_id", "lt.link", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.191, + "Actual Total Time": 11.194, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.486, + "Actual Total Time": 12.489, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.633, + "Actual Total Time": 11.701, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.107, + "Actual Total Time": 8.111, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1073.53, + "Plan Rows": 2, + "Plan Width": 41, + "Actual Startup Time": 12.104, + "Actual Total Time": 12.301, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["mk.movie_id", "ml.movie_id", "lt.link", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.190, + "Actual Total Time": 11.193, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.486, + "Actual Total Time": 12.488, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.576, + "Actual Total Time": 11.550, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.107, + "Actual Total Time": 8.110, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1070.43, + "Plan Rows": 7, + "Plan Width": 45, + "Actual Startup Time": 12.074, + "Actual Total Time": 12.229, + "Actual Rows": 6, + "Actual Loops": 5, + "Output": ["lt.link", "ml.movie_id", "mk.movie_id", "mk.keyword_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.190, + "Actual Total Time": 11.192, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.485, + "Actual Total Time": 12.487, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.428, + "Actual Total Time": 11.196, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.106, + "Actual Total Time": 8.108, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1066.43, + "Plan Rows": 2, + "Plan Width": 37, + "Actual Startup Time": 12.055, + "Actual Total Time": 12.193, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["lt.link", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.189, + "Actual Total Time": 11.191, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.485, + "Actual Total Time": 12.486, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.335, + "Actual Total Time": 11.021, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.105, + "Actual Total Time": 8.107, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 635.96, + "Plan Rows": 290, + "Plan Width": 16, + "Actual Startup Time": 0.843, + "Actual Total Time": 9.396, + "Actual Rows": 232, + "Actual Loops": 5, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.395, + "Actual Total Time": 9.358, + "Actual Rows": 116, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.242, + "Actual Total Time": 9.967, + "Actual Rows": 222, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.216, + "Actual Total Time": 7.888, + "Actual Rows": 261, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.168, + "Actual Total Time": 6.830, + "Actual Rows": 51, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 445.81, + "Plan Rows": 7499, + "Plan Width": 8, + "Actual Startup Time": 0.087, + "Actual Total Time": 3.910, + "Actual Rows": 5999, + "Actual Loops": 5, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.108, + "Actual Total Time": 3.927, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.063, + "Actual Total Time": 4.204, + "Actual Rows": 8632, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.086, + "Actual Total Time": 3.224, + "Actual Rows": 4447, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.130, + "Actual Total Time": 2.790, + "Actual Rows": 2366, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.link", "lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 9144, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 5392, + "Cache Hits": 5376, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 8632, + "Cache Hits": 8616, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 4447, + "Cache Hits": 4431, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2366, + "Cache Hits": 2350, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 80, + "Output": ["lt.link", "lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follows%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1158, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.title ~~ '%Money%'::text) AND (t.production_year = 1998))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 116 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 222 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 261 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 51 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.96, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.022, + "Actual Rows": 4, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.022, + "Actual Rows": 4, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 28, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 28 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 7, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 21, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 21 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 14, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 14, + "Cache Hits": 13, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7102013096890644952, + "Planning Time": 53.403, + "Triggers": [ + ], + "Execution Time": 22.248, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7102013096890644952, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_based_on_book
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '20th Century Fox%'
       OR cn.name LIKE 'Twentieth Century Fox%')
  AND ct.kind != 'production companies'
  AND ct.kind IS NOT NULL
  AND k.keyword IN ('sequel',
                    'revenge',
                    'based-on-novel')
  AND mc.note IS NOT NULL
  AND t.production_year > 1950
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3844.30, + "Total Cost": 3844.31, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 202.609, + "Actual Total Time": 204.894, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mc.note)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3844.25, + "Total Cost": 3844.26, + "Plan Rows": 5, + "Plan Width": 96, + "Actual Startup Time": 142.144, + "Actual Total Time": 204.854, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mc.note))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3843.25, + "Total Cost": 3843.26, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 153.879, + "Actual Total Time": 153.888, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mc.note)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 193.014, + "Actual Total Time": 193.020, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 185.587, + "Actual Total Time": 185.592, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 131.798, + "Actual Total Time": 131.807, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 137.283, + "Actual Total Time": 137.293, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 134.151, + "Actual Total Time": 134.157, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1613.41, + "Total Cost": 3832.83, + "Plan Rows": 1389, + "Plan Width": 60, + "Actual Startup Time": 119.863, + "Actual Total Time": 152.381, + "Actual Rows": 1158, + "Actual Loops": 6, + "Output": ["cn.name", "mc.note", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 107.534, + "Actual Total Time": 188.455, + "Actual Rows": 4794, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 108.512, + "Actual Total Time": 181.406, + "Actual Rows": 1870, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 131.791, + "Actual Total Time": 131.799, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 137.276, + "Actual Total Time": 137.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 113.735, + "Actual Total Time": 134.122, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1612.99, + "Total Cost": 2281.88, + "Plan Rows": 2983, + "Plan Width": 45, + "Actual Startup Time": 109.727, + "Actual Total Time": 125.301, + "Actual Rows": 2486, + "Actual Loops": 6, + "Output": ["mc.note", "mc.company_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 107.476, + "Actual Total Time": 124.940, + "Actual Rows": 8178, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 108.417, + "Actual Total Time": 124.116, + "Actual Rows": 3192, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 106.543, + "Actual Total Time": 121.829, + "Actual Rows": 513, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 110.900, + "Actual Total Time": 126.284, + "Actual Rows": 454, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 108.287, + "Actual Total Time": 125.075, + "Actual Rows": 916, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1611.93, + "Total Cost": 2264.05, + "Plan Rows": 3102, + "Plan Width": 49, + "Actual Startup Time": 109.417, + "Actual Total Time": 122.860, + "Actual Rows": 2585, + "Actual Loops": 6, + "Output": ["mc.note", "mc.company_type_id", "mc.company_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 107.217, + "Actual Total Time": 119.593, + "Actual Rows": 8460, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 108.166, + "Actual Total Time": 119.311, + "Actual Rows": 3303, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 106.078, + "Actual Total Time": 120.586, + "Actual Rows": 543, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 110.596, + "Actual Total Time": 125.137, + "Actual Rows": 561, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.988, + "Actual Total Time": 124.138, + "Actual Rows": 929, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1611.50, + "Total Cost": 2076.09, + "Plan Rows": 292, + "Plan Width": 29, + "Actual Startup Time": 108.835, + "Actual Total Time": 115.133, + "Actual Rows": 243, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 107.140, + "Actual Total Time": 108.855, + "Actual Rows": 141, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 108.069, + "Actual Total Time": 109.525, + "Actual Rows": 56, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 104.959, + "Actual Total Time": 113.777, + "Actual Rows": 239, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 108.830, + "Actual Total Time": 116.873, + "Actual Rows": 221, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.893, + "Actual Total Time": 118.620, + "Actual Rows": 373, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1611.07, + "Total Cost": 1937.99, + "Plan Rows": 292, + "Plan Width": 8, + "Actual Startup Time": 108.741, + "Actual Total Time": 111.762, + "Actual Rows": 243, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.movie_id"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 107.061, + "Actual Total Time": 107.601, + "Actual Rows": 141, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 107.952, + "Actual Total Time": 108.285, + "Actual Rows": 56, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 104.841, + "Actual Total Time": 108.797, + "Actual Rows": 239, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 108.732, + "Actual Total Time": 111.500, + "Actual Rows": 221, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.808, + "Actual Total Time": 114.628, + "Actual Rows": 373, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1609.83, + "Total Cost": 1935.80, + "Plan Rows": 292, + "Plan Width": 12, + "Actual Startup Time": 108.723, + "Actual Total Time": 111.538, + "Actual Rows": 243, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Hash Cond": "(ml.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 107.050, + "Actual Total Time": 107.490, + "Actual Rows": 141, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 107.937, + "Actual Total Time": 108.188, + "Actual Rows": 56, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 104.822, + "Actual Total Time": 108.477, + "Actual Rows": 239, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 108.715, + "Actual Total Time": 111.151, + "Actual Rows": 221, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.795, + "Actual Total Time": 114.387, + "Actual Rows": 373, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.00, + "Total Cost": 222.99, + "Plan Rows": 18930, + "Plan Width": 8, + "Actual Startup Time": 0.031, + "Actual Total Time": 1.080, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.157, + "Actual Rows": 555, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.184, + "Actual Rows": 370, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 1.218, + "Actual Rows": 3515, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 1.159, + "Actual Rows": 2405, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 2.365, + "Actual Rows": 12580, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1525.18, + "Total Cost": 1525.18, + "Plan Rows": 6772, + "Plan Width": 4, + "Actual Startup Time": 108.027, + "Actual Total Time": 108.029, + "Actual Rows": 7900, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2400, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 106.609, + "Actual Total Time": 106.611, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 107.469, + "Actual Total Time": 107.471, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 104.472, + "Actual Total Time": 104.474, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 107.636, + "Actual Total Time": 107.638, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.608, + "Actual Total Time": 107.609, + "Actual Rows": 29440, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1525.18, + "Plan Rows": 6772, + "Plan Width": 4, + "Actual Startup Time": 13.095, + "Actual Total Time": 41.016, + "Actual Rows": 7900, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.434, + "Actual Total Time": 25.435, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.289, + "Actual Total Time": 26.290, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.340, + "Actual Total Time": 23.342, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.653, + "Actual Total Time": 30.757, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.200, + "Actual Total Time": 93.442, + "Actual Rows": 29440, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 12.901, + "Actual Total Time": 12.913, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{sequel,revenge,based-on-novel}'::text[]))", + "Rows Removed by Filter": 22361, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.433, + "Actual Total Time": 25.434, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.288, + "Actual Total Time": 26.288, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.339, + "Actual Total Time": 23.339, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.566, + "Actual Total Time": 0.581, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.097, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.62, + "Plan Rows": 15801, + "Plan Width": 8, + "Actual Startup Time": 0.381, + "Actual Total Time": 52.828, + "Actual Rows": 15801, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.082, + "Actual Total Time": 27.652, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.121, + "Actual Total Time": 87.358, + "Actual Rows": 29440, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.11, + "Total Cost": 1.11, + "Plan Rows": 11, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.11, + "Plan Rows": 11, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.007, + "Actual Rows": 18, + "Actual Loops": 1, + "Output": ["lt.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1460, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1950)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 141 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 56 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 239 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 221 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 373 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 11, + "Plan Width": 36, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.026, + "Actual Rows": 11, + "Actual Loops": 1460, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NOT NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.056, + "Actual Rows": 60, + "Actual Loops": 141 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.129, + "Actual Rows": 59, + "Actual Loops": 56 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.025, + "Actual Rows": 2, + "Actual Loops": 239 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.034, + "Actual Rows": 3, + "Actual Loops": 221 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 373 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.022, + "Actual Rows": 3, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind IS NOT NULL) AND ((ct.kind)::text <> 'production companies'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 14916, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '20th Century Fox%'::text) OR (cn.name ~~ 'Twentieth Century Fox%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 8178 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 3192 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 513 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 454 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 916 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2333270921735776355, + "Planning Time": 48.907, + "Triggers": [ + ], + "Execution Time": 205.306, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 2333270921735776355, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_based_on_book
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND ct.kind != 'production companies'
  AND ct.kind IS NOT NULL
  AND k.keyword IN ('sequel',
                    'revenge',
                    'based-on-novel')
  AND mc.note IS NOT NULL
  AND t.production_year > 1950
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2913.68, + "Total Cost": 2913.69, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 222.426, + "Actual Total Time": 244.359, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mc.note)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2913.61, + "Total Cost": 2913.62, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 190.027, + "Actual Total Time": 244.331, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mc.note))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2912.61, + "Total Cost": 2912.62, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 70.171, + "Actual Total Time": 70.180, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mc.note)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.530, + "Actual Total Time": 8.540, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 214.182, + "Actual Total Time": 214.188, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.974, + "Actual Total Time": 17.981, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.205, + "Actual Total Time": 18.212, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.244, + "Actual Total Time": 18.252, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.303, + "Actual Total Time": 13.311, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 81.680, + "Actual Total Time": 81.687, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.27, + "Total Cost": 2896.65, + "Plan Rows": 2128, + "Plan Width": 60, + "Actual Startup Time": 10.100, + "Actual Total Time": 68.633, + "Actual Rows": 1862, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.521, + "Actual Total Time": 8.530, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.185, + "Actual Total Time": 213.153, + "Actual Rows": 1235, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.969, + "Actual Total Time": 17.976, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.200, + "Actual Total Time": 18.207, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.240, + "Actual Total Time": 18.247, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.297, + "Actual Total Time": 13.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.028, + "Actual Total Time": 81.334, + "Actual Rows": 363, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.85, + "Total Cost": 1952.22, + "Plan Rows": 2131, + "Plan Width": 45, + "Actual Startup Time": 10.083, + "Actual Total Time": 54.924, + "Actual Rows": 1864, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.520, + "Actual Total Time": 8.528, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.132, + "Actual Total Time": 201.376, + "Actual Rows": 1245, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.969, + "Actual Total Time": 17.975, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.200, + "Actual Total Time": 18.206, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.240, + "Actual Total Time": 18.246, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.296, + "Actual Total Time": 13.303, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.982, + "Actual Total Time": 77.647, + "Actual Rows": 363, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.80, + "Total Cost": 1939.19, + "Plan Rows": 2216, + "Plan Width": 49, + "Actual Startup Time": 9.712, + "Actual Total Time": 53.432, + "Actual Rows": 1939, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "mc.company_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.629, + "Actual Total Time": 7.636, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.859, + "Actual Total Time": 200.169, + "Actual Rows": 1363, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.740, + "Actual Total Time": 17.745, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.995, + "Actual Total Time": 18.000, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.019, + "Actual Total Time": 18.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.734, + "Actual Total Time": 12.739, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.737, + "Actual Total Time": 77.095, + "Actual Rows": 409, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.37, + "Total Cost": 1803.40, + "Plan Rows": 209, + "Plan Width": 29, + "Actual Startup Time": 9.632, + "Actual Total Time": 49.361, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.628, + "Actual Total Time": 7.634, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.321, + "Actual Total Time": 190.245, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.740, + "Actual Total Time": 17.743, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.994, + "Actual Total Time": 17.998, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.018, + "Actual Total Time": 18.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.732, + "Actual Total Time": 12.737, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.684, + "Actual Total Time": 72.962, + "Actual Rows": 251, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.94, + "Total Cost": 1690.10, + "Plan Rows": 209, + "Plan Width": 8, + "Actual Startup Time": 9.613, + "Actual Total Time": 47.619, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.628, + "Actual Total Time": 7.632, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.263, + "Actual Total Time": 182.678, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.739, + "Actual Total Time": 17.742, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.994, + "Actual Total Time": 17.997, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.017, + "Actual Total Time": 18.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.731, + "Actual Total Time": 12.735, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.638, + "Actual Total Time": 70.252, + "Actual Rows": 251, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1688.20, + "Plan Rows": 209, + "Plan Width": 12, + "Actual Startup Time": 9.598, + "Actual Total Time": 47.471, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.617, + "Actual Total Time": 7.619, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.248, + "Actual Total Time": 182.116, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.732, + "Actual Total Time": 17.734, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.989, + "Actual Total Time": 17.990, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.012, + "Actual Total Time": 18.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.721, + "Actual Total Time": 12.723, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.623, + "Actual Total Time": 70.029, + "Actual Rows": 251, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1525.18, + "Plan Rows": 423, + "Plan Width": 4, + "Actual Startup Time": 9.578, + "Actual Total Time": 25.704, + "Actual Rows": 5925, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.615, + "Actual Total Time": 7.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.173, + "Actual Total Time": 72.533, + "Actual Rows": 29440, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.731, + "Actual Total Time": 17.732, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.988, + "Actual Total Time": 17.989, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.012, + "Actual Total Time": 18.013, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.720, + "Actual Total Time": 12.721, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.573, + "Actual Total Time": 30.399, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.540, + "Actual Total Time": 9.552, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{sequel,revenge,based-on-novel}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.614, + "Actual Total Time": 7.615, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.099, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.731, + "Actual Total Time": 17.731, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.987, + "Actual Total Time": 17.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.011, + "Actual Total Time": 18.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.719, + "Actual Total Time": 12.720, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.487, + "Actual Total Time": 0.501, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.62, + "Plan Rows": 15801, + "Plan Width": 8, + "Actual Startup Time": 0.094, + "Actual Total Time": 39.307, + "Actual Rows": 15801, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.098, + "Actual Total Time": 65.299, + "Actual Rows": 29440, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.083, + "Actual Total Time": 27.395, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 47403, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 29440 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 10544 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.11, + "Total Cost": 1.11, + "Plan Rows": 9, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.11, + "Plan Rows": 9, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.007, + "Actual Rows": 18, + "Actual Loops": 1, + "Output": ["lt.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1460, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1950)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 753 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 251 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 11, + "Plan Width": 36, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.019, + "Actual Rows": 11, + "Actual Loops": 1460, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NOT NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 753 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 251 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 3, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind IS NOT NULL) AND ((ct.kind)::text <> 'production companies'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 14916, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[pl]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1245 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 363 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5951735317690032369, + "Planning Time": 47.586, + "Triggers": [ + ], + "Execution Time": 244.699, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -5951735317690032369, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS drama_horror_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     title AS t
WHERE cn.country_code = '[us]'
  AND ct.kind = 'production companies'
  AND it1.info = 'genres'
  AND it2.info = 'rating'
  AND mi.info IN ('Drama',
                  'Horror')
  AND mi_idx.info > '8.0'
  AND t.production_year BETWEEN 2005 AND 2008
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND mi.info_type_id = it1.id
  AND mi_idx.info_type_id = it2.id
  AND t.id = mc.movie_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13300.03, + "Total Cost": 13300.04, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 189.091, + "Actual Total Time": 194.111, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13299.96, + "Total Cost": 13299.97, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 189.045, + "Actual Total Time": 194.079, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13298.96, + "Total Cost": 13298.97, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 180.388, + "Actual Total Time": 180.396, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 178.777, + "Actual Total Time": 178.785, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 179.242, + "Actual Total Time": 179.248, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 179.695, + "Actual Total Time": 179.702, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 178.739, + "Actual Total Time": 178.747, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 179.847, + "Actual Total Time": 179.856, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 179.938, + "Actual Total Time": 179.944, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 178.720, + "Actual Total Time": 178.728, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.44, + "Total Cost": 13298.58, + "Plan Rows": 50, + "Plan Width": 41, + "Actual Startup Time": 29.551, + "Actual Total Time": 180.252, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.529, + "Actual Total Time": 178.624, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.645, + "Actual Total Time": 179.124, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.459, + "Actual Total Time": 179.579, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.234, + "Actual Total Time": 178.627, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.315, + "Actual Total Time": 179.720, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.021, + "Actual Total Time": 179.793, + "Actual Rows": 51, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.813, + "Actual Total Time": 178.571, + "Actual Rows": 65, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.60, + "Total Cost": 13296.61, + "Plan Rows": 50, + "Plan Width": 45, + "Actual Startup Time": 29.238, + "Actual Total Time": 179.833, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.247, + "Actual Total Time": 178.227, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.335, + "Actual Total Time": 178.727, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.171, + "Actual Total Time": 179.199, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 32.946, + "Actual Total Time": 178.243, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.000, + "Actual Total Time": 179.312, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.708, + "Actual Total Time": 179.374, + "Actual Rows": 51, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.524, + "Actual Total Time": 178.173, + "Actual Rows": 65, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.18, + "Total Cost": 13257.75, + "Plan Rows": 88, + "Plan Width": 30, + "Actual Startup Time": 19.201, + "Actual Total Time": 176.468, + "Actual Rows": 88, + "Actual Loops": 8, + "Output": ["mc.company_id", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.997, + "Actual Total Time": 174.534, + "Actual Rows": 102, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.273, + "Actual Total Time": 175.061, + "Actual Rows": 85, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.094, + "Actual Total Time": 176.251, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.083, + "Actual Total Time": 175.306, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.916, + "Actual Total Time": 175.884, + "Actual Rows": 84, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.535, + "Actual Total Time": 175.815, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.451, + "Actual Total Time": 175.057, + "Actual Rows": 100, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 13255.40, + "Plan Rows": 242, + "Plan Width": 34, + "Actual Startup Time": 17.436, + "Actual Total Time": 176.217, + "Actual Rows": 242, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mc.company_type_id", "mc.company_id", "mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.964, + "Actual Total Time": 174.277, + "Actual Rows": 234, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.228, + "Actual Total Time": 174.813, + "Actual Rows": 268, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.015, + "Actual Total Time": 176.034, + "Actual Rows": 183, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.043, + "Actual Total Time": 175.109, + "Actual Rows": 172, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.853, + "Actual Total Time": 175.669, + "Actual Rows": 182, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.499, + "Actual Total Time": 175.568, + "Actual Rows": 204, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.705, + "Actual Total Time": 174.772, + "Actual Rows": 354, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 13213.92, + "Plan Rows": 70, + "Plan Width": 38, + "Actual Startup Time": 17.333, + "Actual Total Time": 173.264, + "Actual Rows": 70, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.858, + "Actual Total Time": 170.841, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.101, + "Actual Total Time": 172.148, + "Actual Rows": 60, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.899, + "Actual Total Time": 173.346, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.921, + "Actual Total Time": 172.620, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.738, + "Actual Total Time": 172.806, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.433, + "Actual Total Time": 172.484, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.592, + "Actual Total Time": 171.395, + "Actual Rows": 80, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 12538.65, + "Plan Rows": 506, + "Plan Width": 30, + "Actual Startup Time": 2.941, + "Actual Total Time": 139.503, + "Actual Rows": 506, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.741, + "Actual Total Time": 143.357, + "Actual Rows": 385, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.584, + "Actual Total Time": 132.782, + "Actual Rows": 529, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.250, + "Actual Total Time": 144.669, + "Actual Rows": 390, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.682, + "Actual Total Time": 142.057, + "Actual Rows": 482, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.621, + "Actual Total Time": 141.224, + "Actual Rows": 482, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.185, + "Actual Total Time": 139.415, + "Actual Rows": 523, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.394, + "Actual Total Time": 133.819, + "Actual Rows": 633, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10111.41, + "Plan Rows": 1981, + "Plan Width": 9, + "Actual Startup Time": 0.159, + "Actual Total Time": 102.223, + "Actual Rows": 1981, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.271, + "Actual Total Time": 108.103, + "Actual Rows": 1742, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.483, + "Actual Total Time": 95.223, + "Actual Rows": 1951, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.063, + "Actual Total Time": 107.464, + "Actual Rows": 1913, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.119, + "Actual Total Time": 103.088, + "Actual Rows": 2039, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.084, + "Actual Total Time": 104.469, + "Actual Rows": 1978, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.088, + "Actual Total Time": 102.586, + "Actual Rows": 2181, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.068, + "Actual Total Time": 100.907, + "Actual Rows": 1999, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 10091.30, + "Plan Rows": 6706, + "Plan Width": 13, + "Actual Startup Time": 0.074, + "Actual Total Time": 98.174, + "Actual Rows": 6706, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Filter": "(mi_idx.info > '8.0'::text)", + "Rows Removed by Filter": 165798, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.191, + "Actual Total Time": 104.146, + "Actual Rows": 6227, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.058, + "Actual Total Time": 90.605, + "Actual Rows": 6418, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 103.583, + "Actual Rows": 6795, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.075, + "Actual Total Time": 99.067, + "Actual Rows": 6988, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.064, + "Actual Total Time": 100.467, + "Actual Rows": 7072, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.069, + "Actual Total Time": 98.414, + "Actual Rows": 7383, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 97.212, + "Actual Rows": 6405, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 15849, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2008))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1742 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1951 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1913 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2039 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1978 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2181 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1999 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.32, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.065, + "Actual Rows": 0, + "Actual Loops": 4047, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Drama,Horror}'::text[]))", + "Rows Removed by Filter": 21, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.070, + "Actual Rows": 0, + "Actual Loops": 385 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.073, + "Actual Rows": 0, + "Actual Loops": 529 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.072, + "Actual Rows": 0, + "Actual Loops": 390 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 482 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 482 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 523 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 633 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.56, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.038, + "Actual Rows": 3, + "Actual Loops": 557, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.039, + "Actual Rows": 3, + "Actual Loops": 79 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.040, + "Actual Rows": 4, + "Actual Loops": 60 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.039, + "Actual Rows": 3, + "Actual Loops": 62 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.035, + "Actual Rows": 3, + "Actual Loops": 64 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.036, + "Actual Rows": 3, + "Actual Loops": 72 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.037, + "Actual Rows": 3, + "Actual Loops": 76 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.038, + "Actual Rows": 4, + "Actual Loops": 80 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 708, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 102 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 85 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 79 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 67 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 84 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 94 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 100 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.057, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -9026514954839072455, + "Planning Time": 62.386, + "Triggers": [ + ], + "Execution Time": 194.486, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -9026514954839072455, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi.info) AS budget,
       MIN(t.title) AS unsuccsessful_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind IS NOT NULL
  AND (ct.kind ='production companies'
       OR ct.kind = 'distributors')
  AND it1.info ='budget'
  AND it2.info ='bottom 10 rank'
  AND t.production_year >2000
  AND (t.title LIKE 'Birdemic%'
       OR t.title LIKE '%Movie%')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND mi.info_type_id = it1.id
  AND mi_idx.info_type_id = it2.id
  AND t.id = mc.movie_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10140.14, + "Total Cost": 10140.15, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 108.960, + "Actual Total Time": 115.778, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10140.09, + "Total Cost": 10140.10, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 106.185, + "Actual Total Time": 115.757, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10139.09, + "Total Cost": 10139.10, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 98.403, + "Actual Total Time": 98.412, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.228, + "Actual Total Time": 97.235, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.675, + "Actual Total Time": 96.683, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 99.631, + "Actual Total Time": 99.641, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.252, + "Actual Total Time": 97.260, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.209, + "Actual Total Time": 97.216, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.241, + "Actual Total Time": 97.249, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.819, + "Actual Total Time": 96.826, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.53, + "Total Cost": 10139.08, + "Plan Rows": 1, + "Plan Width": 59, + "Actual Startup Time": 98.174, + "Actual Total Time": 98.403, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.223, + "Actual Total Time": 97.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.673, + "Actual Total Time": 96.679, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.837, + "Actual Total Time": 99.611, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.248, + "Actual Total Time": 97.255, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.202, + "Actual Total Time": 97.209, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.235, + "Actual Total Time": 97.242, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.814, + "Actual Total Time": 96.820, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.40, + "Total Cost": 10138.91, + "Plan Rows": 1, + "Plan Width": 63, + "Actual Startup Time": 98.167, + "Actual Total Time": 98.386, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.222, + "Actual Total Time": 97.227, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.672, + "Actual Total Time": 96.678, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.785, + "Actual Total Time": 99.487, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.247, + "Actual Total Time": 97.253, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.201, + "Actual Total Time": 97.208, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.235, + "Actual Total Time": 97.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.813, + "Actual Total Time": 96.819, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.98, + "Total Cost": 10137.15, + "Plan Rows": 4, + "Plan Width": 67, + "Actual Startup Time": 98.157, + "Actual Total Time": 98.253, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mi.info", "mc.company_type_id", "mc.company_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.221, + "Actual Total Time": 97.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.671, + "Actual Total Time": 96.677, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.707, + "Actual Total Time": 98.430, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.246, + "Actual Total Time": 97.252, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.200, + "Actual Total Time": 97.206, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.234, + "Actual Total Time": 97.239, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.813, + "Actual Total Time": 96.818, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 10136.44, + "Plan Rows": 1, + "Plan Width": 71, + "Actual Startup Time": 98.143, + "Actual Total Time": 98.222, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.221, + "Actual Total Time": 97.225, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.671, + "Actual Total Time": 96.675, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.602, + "Actual Total Time": 98.193, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.246, + "Actual Total Time": 97.250, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.200, + "Actual Total Time": 97.205, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.233, + "Actual Total Time": 97.238, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.812, + "Actual Total Time": 96.816, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 10134.53, + "Plan Rows": 28, + "Plan Width": 75, + "Actual Startup Time": 97.810, + "Actual Total Time": 97.881, + "Actual Rows": 28, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 96.907, + "Actual Total Time": 96.910, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.404, + "Actual Total Time": 96.407, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.281, + "Actual Total Time": 97.827, + "Actual Rows": 221, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.932, + "Actual Total Time": 96.935, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 96.885, + "Actual Total Time": 96.889, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 96.919, + "Actual Total Time": 96.922, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.543, + "Actual Total Time": 96.546, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10132.19, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 97.796, + "Actual Total Time": 97.814, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 96.906, + "Actual Total Time": 96.908, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.403, + "Actual Total Time": 96.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.176, + "Actual Total Time": 97.297, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.931, + "Actual Total Time": 96.933, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 96.885, + "Actual Total Time": 96.887, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 96.918, + "Actual Total Time": 96.921, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.542, + "Actual Total Time": 96.544, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 97.746, + "Actual Total Time": 97.756, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 96.905, + "Actual Total Time": 96.907, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.403, + "Actual Total Time": 96.404, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 96.785, + "Actual Total Time": 96.845, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.930, + "Actual Total Time": 96.931, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 96.884, + "Actual Total Time": 96.886, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 96.918, + "Actual Total Time": 96.919, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.541, + "Actual Total Time": 96.543, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.017, + "Actual Total Time": 38.374, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 37.942, + "Actual Rows": 177399, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 38.146, + "Actual Rows": 165419, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 36.934, + "Actual Rows": 170017, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 38.454, + "Actual Rows": 170113, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 37.847, + "Actual Rows": 176356, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 38.085, + "Actual Rows": 176169, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 38.895, + "Actual Rows": 153946, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'bottom 10 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 10, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2000) AND ((t.title ~~ 'Birdemic%'::text) OR (t.title ~~ '%Movie%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 110, + "Plan Width": 50, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.184, + "Actual Rows": 110, + "Actual Loops": 2, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.184, + "Actual Rows": 110, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.076, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'budget'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 16, + "Plan Width": 12, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.098, + "Actual Rows": 16, + "Actual Loops": 2, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.098, + "Actual Rows": 16, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 33, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 33 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind IS NOT NULL) AND (((ct.kind)::text = 'production companies'::text) OR ((ct.kind)::text = 'distributors'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 10 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5632455736553151255, + "Planning Time": 53.440, + "Triggers": [ + ], + "Execution Time": 116.150, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 5632455736553151255, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS mainstream_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     title AS t
WHERE cn.country_code = '[us]'
  AND ct.kind = 'production companies'
  AND it1.info = 'genres'
  AND it2.info = 'rating'
  AND mi.info IN ('Drama',
                  'Horror',
                  'Western',
                  'Family')
  AND mi_idx.info > '7.0'
  AND t.production_year BETWEEN 2000 AND 2010
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND mi.info_type_id = it1.id
  AND mi_idx.info_type_id = it2.id
  AND t.id = mc.movie_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29629.56, + "Total Cost": 29629.57, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 686.704, + "Actual Total Time": 706.483, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29629.49, + "Total Cost": 29629.50, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 685.400, + "Actual Total Time": 706.453, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29628.49, + "Total Cost": 29628.50, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 678.108, + "Actual Total Time": 678.115, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 676.443, + "Actual Total Time": 676.448, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 678.092, + "Actual Total Time": 678.099, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 676.773, + "Actual Total Time": 676.782, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 677.643, + "Actual Total Time": 677.649, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 677.618, + "Actual Total Time": 677.624, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 676.296, + "Actual Total Time": 676.302, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 677.415, + "Actual Total Time": 677.421, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.44, + "Total Cost": 29624.07, + "Plan Rows": 589, + "Plan Width": 41, + "Actual Startup Time": 4.788, + "Actual Total Time": 676.396, + "Actual Rows": 589, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.692, + "Actual Total Time": 675.298, + "Actual Rows": 612, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.733, + "Actual Total Time": 676.996, + "Actual Rows": 584, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.961, + "Actual Total Time": 671.071, + "Actual Rows": 544, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.860, + "Actual Total Time": 676.594, + "Actual Rows": 629, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.696, + "Actual Total Time": 675.938, + "Actual Rows": 633, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.141, + "Actual Total Time": 675.284, + "Actual Rows": 607, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.970, + "Actual Total Time": 676.396, + "Actual Rows": 586, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.60, + "Total Cost": 29620.63, + "Plan Rows": 589, + "Plan Width": 45, + "Actual Startup Time": 4.505, + "Actual Total Time": 675.319, + "Actual Rows": 589, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.424, + "Actual Total Time": 674.239, + "Actual Rows": 612, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.468, + "Actual Total Time": 675.919, + "Actual Rows": 584, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.710, + "Actual Total Time": 670.120, + "Actual Rows": 544, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.564, + "Actual Total Time": 675.432, + "Actual Rows": 629, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.357, + "Actual Total Time": 674.751, + "Actual Rows": 633, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.896, + "Actual Total Time": 674.264, + "Actual Rows": 607, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.707, + "Actual Total Time": 675.271, + "Actual Rows": 586, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.18, + "Total Cost": 28762.97, + "Plan Rows": 1942, + "Plan Width": 30, + "Actual Startup Time": 1.878, + "Actual Total Time": 640.162, + "Actual Rows": 1942, + "Actual Loops": 8, + "Output": ["mc.company_id", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.375, + "Actual Total Time": 637.326, + "Actual Rows": 1999, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.094, + "Actual Total Time": 642.434, + "Actual Rows": 1720, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.652, + "Actual Total Time": 634.486, + "Actual Rows": 1984, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.796, + "Actual Total Time": 640.113, + "Actual Rows": 1994, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.634, + "Actual Total Time": 637.322, + "Actual Rows": 2134, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.962, + "Actual Total Time": 640.000, + "Actual Rows": 1917, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.647, + "Actual Total Time": 639.776, + "Actual Rows": 1957, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 28731.52, + "Plan Rows": 5626, + "Plan Width": 34, + "Actual Startup Time": 1.841, + "Actual Total Time": 636.824, + "Actual Rows": 5626, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mc.company_type_id", "mc.company_id", "mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.362, + "Actual Total Time": 633.886, + "Actual Rows": 6163, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.067, + "Actual Total Time": 639.128, + "Actual Rows": 5153, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.559, + "Actual Total Time": 631.193, + "Actual Rows": 5729, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.767, + "Actual Total Time": 636.756, + "Actual Rows": 5690, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.600, + "Actual Total Time": 633.757, + "Actual Rows": 6030, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.936, + "Actual Total Time": 636.706, + "Actual Rows": 5866, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.624, + "Actual Total Time": 636.410, + "Actual Rows": 5448, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 28146.98, + "Plan Rows": 996, + "Plan Width": 38, + "Actual Startup Time": 1.763, + "Actual Total Time": 606.399, + "Actual Rows": 996, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.301, + "Actual Total Time": 603.016, + "Actual Rows": 997, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.968, + "Actual Total Time": 608.746, + "Actual Rows": 964, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.510, + "Actual Total Time": 600.246, + "Actual Rows": 985, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.684, + "Actual Total Time": 606.322, + "Actual Rows": 1041, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.516, + "Actual Total Time": 601.677, + "Actual Rows": 1026, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.857, + "Actual Total Time": 607.037, + "Actual Rows": 1003, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.532, + "Actual Total Time": 606.732, + "Actual Rows": 961, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 20739.59, + "Plan Rows": 6538, + "Plan Width": 30, + "Actual Startup Time": 0.206, + "Actual Total Time": 296.430, + "Actual Rows": 6538, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.086, + "Actual Total Time": 296.983, + "Actual Rows": 6155, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.129, + "Actual Total Time": 291.918, + "Actual Rows": 6677, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.411, + "Actual Total Time": 288.177, + "Actual Rows": 6500, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.463, + "Actual Total Time": 296.835, + "Actual Rows": 7068, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.240, + "Actual Total Time": 300.576, + "Actual Rows": 6430, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.086, + "Actual Total Time": 301.401, + "Actual Rows": 6339, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.090, + "Actual Total Time": 291.361, + "Actual Rows": 6152, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10159.15, + "Plan Rows": 15196, + "Plan Width": 9, + "Actual Startup Time": 0.042, + "Actual Total Time": 106.371, + "Actual Rows": 15196, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 104.287, + "Actual Rows": 15188, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.042, + "Actual Total Time": 103.993, + "Actual Rows": 14751, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 102.857, + "Actual Rows": 15218, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 107.607, + "Actual Rows": 15676, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 107.702, + "Actual Rows": 15698, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 113.948, + "Actual Rows": 15494, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 105.023, + "Actual Rows": 13850, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 10091.30, + "Plan Rows": 24237, + "Plan Width": 13, + "Actual Startup Time": 0.023, + "Actual Total Time": 88.919, + "Actual Rows": 24237, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Filter": "(mi_idx.info > '7.0'::text)", + "Rows Removed by Filter": 148268, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 87.118, + "Actual Rows": 24271, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 86.741, + "Actual Rows": 23532, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 86.026, + "Actual Rows": 23956, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 89.787, + "Actual Rows": 25089, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 90.163, + "Actual Rows": 24658, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 96.566, + "Actual Rows": 24768, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 86.731, + "Actual Rows": 22646, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.70, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 121572, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 15188 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 14751 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15218 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15676 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15698 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 15494 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 13850 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.12, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 52304, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Drama,Horror,Western,Family}'::text[]))", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 6155 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 6677 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 6500 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 7068 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 6430 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 6339 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 6152 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 6, + "Plan Width": 12, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.027, + "Actual Rows": 6, + "Actual Loops": 7964, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.027, + "Actual Rows": 6, + "Actual Loops": 997 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.028, + "Actual Rows": 5, + "Actual Loops": 964 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.028, + "Actual Rows": 6, + "Actual Loops": 985 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.026, + "Actual Rows": 5, + "Actual Loops": 1041 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.028, + "Actual Rows": 6, + "Actual Loops": 1026 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.026, + "Actual Rows": 6, + "Actual Loops": 1003 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.027, + "Actual Rows": 6, + "Actual Loops": 961 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 15537, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1999 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1720 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1984 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1994 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2134 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1917 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1957 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6417179009749033666, + "Planning Time": 48.869, + "Triggers": [ + ], + "Execution Time": 706.842, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 6417179009749033666, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS german_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[de]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 16839.06, + "Total Cost": 16839.07, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 540.550, + "Actual Total Time": 562.075, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 16838.99, + "Total Cost": 16839.00, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 521.873, + "Actual Total Time": 562.012, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 16837.99, + "Total Cost": 16838.00, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 511.655, + "Actual Total Time": 511.664, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 511.142, + "Actual Total Time": 511.148, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 507.041, + "Actual Total Time": 507.047, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 507.252, + "Actual Total Time": 507.259, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 513.925, + "Actual Total Time": 513.935, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 507.124, + "Actual Total Time": 507.130, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 512.644, + "Actual Total Time": 512.654, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 513.244, + "Actual Total Time": 513.253, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.52, + "Total Cost": 16733.83, + "Plan Rows": 13888, + "Plan Width": 64, + "Actual Startup Time": 4.009, + "Actual Total Time": 499.266, + "Actual Rows": 13888, + "Actual Loops": 8, + "Output": ["mi.info", "miidx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.485, + "Actual Total Time": 497.766, + "Actual Rows": 14944, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.277, + "Actual Total Time": 494.348, + "Actual Rows": 14806, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.768, + "Actual Total Time": 495.607, + "Actual Rows": 13276, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.345, + "Actual Total Time": 502.295, + "Actual Rows": 13436, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.479, + "Actual Total Time": 494.368, + "Actual Rows": 14459, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.074, + "Actual Total Time": 500.933, + "Actual Rows": 13451, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.525, + "Actual Total Time": 500.642, + "Actual Rows": 14287, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.67, + "Total Cost": 16556.21, + "Plan Rows": 64541, + "Plan Width": 68, + "Actual Startup Time": 3.388, + "Actual Total Time": 472.947, + "Actual Rows": 64541, + "Actual Loops": 8, + "Output": ["mi.info", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.147, + "Actual Total Time": 471.979, + "Actual Rows": 65084, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.701, + "Actual Total Time": 467.624, + "Actual Rows": 67406, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.167, + "Actual Total Time": 471.504, + "Actual Rows": 60757, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.085, + "Actual Total Time": 476.017, + "Actual Rows": 68557, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.624, + "Actual Total Time": 465.983, + "Actual Rows": 68919, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.525, + "Actual Total Time": 474.913, + "Actual Rows": 65991, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.273, + "Actual Total Time": 474.761, + "Actual Rows": 64272, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.24, + "Total Cost": 14086.72, + "Plan Rows": 2059, + "Plan Width": 34, + "Actual Startup Time": 3.270, + "Actual Total Time": 323.628, + "Actual Rows": 2059, + "Actual Loops": 8, + "Output": ["mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.060, + "Actual Total Time": 323.572, + "Actual Rows": 2170, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.539, + "Actual Total Time": 326.051, + "Actual Rows": 2076, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.017, + "Actual Total Time": 320.437, + "Actual Rows": 1973, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.991, + "Actual Total Time": 325.595, + "Actual Rows": 2048, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.469, + "Actual Total Time": 316.424, + "Actual Rows": 2009, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.371, + "Actual Total Time": 309.630, + "Actual Rows": 2150, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.208, + "Actual Total Time": 332.440, + "Actual Rows": 2046, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.39, + "Total Cost": 14068.04, + "Plan Rows": 6181, + "Plan Width": 38, + "Actual Startup Time": 3.236, + "Actual Total Time": 320.293, + "Actual Rows": 6181, + "Actual Loops": 8, + "Output": ["mc.movie_id", "miidx.info", "miidx.movie_id", "miidx.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = miidx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.044, + "Actual Total Time": 320.160, + "Actual Rows": 6512, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.509, + "Actual Total Time": 322.742, + "Actual Rows": 6236, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.988, + "Actual Total Time": 317.305, + "Actual Rows": 5925, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.976, + "Actual Total Time": 322.344, + "Actual Rows": 6153, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.425, + "Actual Total Time": 313.148, + "Actual Rows": 6032, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.339, + "Actual Total Time": 306.232, + "Actual Rows": 6453, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.194, + "Actual Total Time": 329.139, + "Actual Rows": 6142, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.97, + "Total Cost": 12023.76, + "Plan Rows": 4107, + "Plan Width": 25, + "Actual Startup Time": 1.042, + "Actual Total Time": 255.733, + "Actual Rows": 4107, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.265, + "Actual Total Time": 256.028, + "Actual Rows": 4269, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.579, + "Actual Total Time": 257.265, + "Actual Rows": 4270, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.743, + "Actual Total Time": 251.481, + "Actual Rows": 4290, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.677, + "Actual Total Time": 256.428, + "Actual Rows": 4463, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.297, + "Actual Total Time": 255.074, + "Actual Rows": 3645, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.190, + "Actual Total Time": 245.755, + "Actual Rows": 3829, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.234, + "Actual Total Time": 255.721, + "Actual Rows": 4696, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.90, + "Total Cost": 11985.14, + "Plan Rows": 8912, + "Plan Width": 29, + "Actual Startup Time": 0.533, + "Actual Total Time": 250.445, + "Actual Rows": 8912, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.255, + "Actual Total Time": 250.734, + "Actual Rows": 9113, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.559, + "Actual Total Time": 252.130, + "Actual Rows": 8702, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.725, + "Actual Total Time": 246.603, + "Actual Rows": 7656, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.227, + "Actual Total Time": 251.037, + "Actual Rows": 8957, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.821, + "Actual Total Time": 249.652, + "Actual Rows": 10232, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.171, + "Actual Total Time": 240.723, + "Actual Rows": 8780, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.226, + "Actual Total Time": 250.400, + "Actual Rows": 8461, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 7835.58, + "Plan Rows": 8912, + "Plan Width": 4, + "Actual Startup Time": 0.429, + "Actual Total Time": 115.441, + "Actual Rows": 8912, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.161, + "Actual Total Time": 119.270, + "Actual Rows": 9113, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.424, + "Actual Total Time": 123.040, + "Actual Rows": 8702, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.591, + "Actual Total Time": 120.503, + "Actual Rows": 7656, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.159, + "Actual Total Time": 121.354, + "Actual Rows": 8957, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.668, + "Actual Total Time": 101.395, + "Actual Rows": 10232, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.057, + "Actual Total Time": 112.098, + "Actual Rows": 8780, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.159, + "Actual Total Time": 122.511, + "Actual Rows": 8461, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 7734.43, + "Plan Rows": 18516, + "Plan Width": 8, + "Actual Startup Time": 0.209, + "Actual Total Time": 104.719, + "Actual Rows": 18516, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.125, + "Actual Total Time": 108.312, + "Actual Rows": 19776, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.252, + "Actual Total Time": 112.580, + "Actual Rows": 19392, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.240, + "Actual Total Time": 111.101, + "Actual Rows": 17001, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.122, + "Actual Total Time": 108.046, + "Actual Rows": 23831, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.428, + "Actual Total Time": 90.871, + "Actual Rows": 16928, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.246, + "Actual Total Time": 102.203, + "Actual Rows": 16849, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.126, + "Actual Total Time": 112.424, + "Actual Rows": 17998, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1222, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 14.042, + "Actual Rows": 1222, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[de]'::text)", + "Rows Removed by Filter": 28153, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 13.973, + "Actual Rows": 1343, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.053, + "Actual Total Time": 16.484, + "Actual Rows": 1457, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 14.217, + "Actual Rows": 1232, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 11.093, + "Actual Rows": 967, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.120, + "Actual Total Time": 13.706, + "Actual Rows": 1202, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.045, + "Actual Total Time": 14.172, + "Actual Rows": 1205, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 14.989, + "Actual Rows": 1361, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 3.43, + "Plan Rows": 15, + "Plan Width": 12, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.067, + "Actual Rows": 15, + "Actual Loops": 9775, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.064, + "Actual Rows": 15, + "Actual Loops": 1343 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.060, + "Actual Rows": 13, + "Actual Loops": 1457 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.072, + "Actual Rows": 14, + "Actual Loops": 1232 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.090, + "Actual Rows": 25, + "Actual Loops": 967 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.058, + "Actual Rows": 14, + "Actual Loops": 1202 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.067, + "Actual Rows": 14, + "Actual Loops": 1205 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.065, + "Actual Rows": 13, + "Actual Loops": 1361 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 71294, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 9113 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 8702 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 7656 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 8957 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 10232 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 8780 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 8461 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 32853, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Index Cond": "(miidx.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 4269 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 4270 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 4290 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 4463 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 3645 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 3829 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 4696 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.90, + "Plan Rows": 30, + "Plan Width": 50, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.060, + "Actual Rows": 31, + "Actual Loops": 16470, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.056, + "Actual Rows": 30, + "Actual Loops": 2170 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.055, + "Actual Rows": 32, + "Actual Loops": 2076 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.064, + "Actual Rows": 31, + "Actual Loops": 1973 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.060, + "Actual Rows": 33, + "Actual Loops": 2048 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.060, + "Actual Rows": 34, + "Actual Loops": 2009 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.064, + "Actual Rows": 31, + "Actual Loops": 2150 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.057, + "Actual Rows": 31, + "Actual Loops": 2046 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.075, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1829334865866162189, + "Planning Time": 61.597, + "Triggers": [ + ], + "Execution Time": 562.472, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1829334865866162189, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS movie_about_winning
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND t.title != ''
  AND (t.title LIKE '%Champion%'
       OR t.title LIKE '%Loser%')
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38276.92, + "Total Cost": 38276.93, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 911.045, + "Actual Total Time": 928.833, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38276.85, + "Total Cost": 38276.86, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 910.090, + "Actual Total Time": 928.804, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38275.85, + "Total Cost": 38275.86, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 899.061, + "Actual Total Time": 899.070, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 894.217, + "Actual Total Time": 894.225, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 901.449, + "Actual Total Time": 901.456, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 901.043, + "Actual Total Time": 901.052, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 893.727, + "Actual Total Time": 893.739, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 895.327, + "Actual Total Time": 895.335, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 901.343, + "Actual Total Time": 901.353, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 896.173, + "Actual Total Time": 896.182, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.61, + "Total Cost": 38275.71, + "Plan Rows": 19, + "Plan Width": 41, + "Actual Startup Time": 542.927, + "Actual Total Time": 898.999, + "Actual Rows": 46, + "Actual Loops": 8, + "Output": ["cn.name", "miidx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 752.785, + "Actual Total Time": 894.213, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 719.941, + "Actual Total Time": 901.292, + "Actual Rows": 180, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 625.209, + "Actual Total Time": 901.032, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 437.629, + "Actual Total Time": 893.671, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 507.711, + "Actual Total Time": 895.299, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 394.885, + "Actual Total Time": 901.281, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 440.170, + "Actual Total Time": 896.087, + "Actual Rows": 45, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.76, + "Total Cost": 38273.56, + "Plan Rows": 112, + "Plan Width": 45, + "Actual Startup Time": 542.784, + "Actual Total Time": 898.761, + "Actual Rows": 265, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 752.662, + "Actual Total Time": 894.088, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 719.868, + "Actual Total Time": 900.856, + "Actual Rows": 1096, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 625.153, + "Actual Total Time": 900.961, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 437.498, + "Actual Total Time": 893.429, + "Actual Rows": 198, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 507.551, + "Actual Total Time": 895.145, + "Actual Rows": 73, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 394.804, + "Actual Total Time": 901.110, + "Actual Rows": 249, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 440.028, + "Actual Total Time": 895.861, + "Actual Rows": 158, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.33, + "Total Cost": 38268.65, + "Plan Rows": 4, + "Plan Width": 53, + "Actual Startup Time": 542.673, + "Actual Total Time": 897.704, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 752.547, + "Actual Total Time": 893.962, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 719.761, + "Actual Total Time": 899.262, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 625.071, + "Actual Total Time": 900.804, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 437.433, + "Actual Total Time": 892.972, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 507.464, + "Actual Total Time": 894.559, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 394.500, + "Actual Total Time": 899.961, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 439.944, + "Actual Total Time": 895.437, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.91, + "Total Cost": 38264.67, + "Plan Rows": 9, + "Plan Width": 38, + "Actual Startup Time": 479.001, + "Actual Total Time": 897.307, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 559.187, + "Actual Total Time": 893.849, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 406.781, + "Actual Total Time": 898.888, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 625.027, + "Actual Total Time": 900.732, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 437.380, + "Actual Total Time": 892.723, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 507.408, + "Actual Total Time": 894.333, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 391.712, + "Actual Total Time": 899.235, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 439.888, + "Actual Total Time": 895.175, + "Actual Rows": 9, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.77, + "Total Cost": 38263.61, + "Plan Rows": 25, + "Plan Width": 42, + "Actual Startup Time": 478.939, + "Actual Total Time": 897.178, + "Actual Rows": 39, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 559.145, + "Actual Total Time": 893.777, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 406.716, + "Actual Total Time": 898.739, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 624.958, + "Actual Total Time": 900.672, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 437.332, + "Actual Total Time": 892.631, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 507.340, + "Actual Total Time": 894.222, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 391.643, + "Actual Total Time": 899.045, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 439.844, + "Actual Total Time": 895.070, + "Actual Rows": 18, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.34, + "Total Cost": 38260.27, + "Plan Rows": 6, + "Plan Width": 30, + "Actual Startup Time": 478.851, + "Actual Total Time": 896.773, + "Actual Rows": 11, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 559.078, + "Actual Total Time": 893.626, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 406.646, + "Actual Total Time": 898.309, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 624.852, + "Actual Total Time": 900.492, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 437.237, + "Actual Total Time": 892.275, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 507.236, + "Actual Total Time": 893.883, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 391.518, + "Actual Total Time": 898.315, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 439.757, + "Actual Total Time": 894.800, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 38259.11, + "Plan Rows": 22, + "Plan Width": 34, + "Actual Startup Time": 20.636, + "Actual Total Time": 896.698, + "Actual Rows": 44, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.928, + "Actual Total Time": 893.572, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.649, + "Actual Total Time": 898.243, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.216, + "Actual Total Time": 900.450, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.657, + "Actual Total Time": 892.196, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 31.475, + "Actual Total Time": 893.812, + "Actual Rows": 51, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.325, + "Actual Total Time": 898.202, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 41.742, + "Actual Total Time": 894.744, + "Actual Rows": 39, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 57491, + "Plan Width": 9, + "Actual Startup Time": 0.056, + "Actual Total Time": 155.005, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.076, + "Actual Total Time": 151.163, + "Actual Rows": 58736, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 178.394, + "Actual Rows": 58287, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 145.411, + "Actual Rows": 58556, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.067, + "Actual Total Time": 146.784, + "Actual Rows": 52408, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.072, + "Actual Total Time": 147.472, + "Actual Rows": 57960, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 159.882, + "Actual Rows": 60391, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.076, + "Actual Total Time": 153.073, + "Actual Rows": 51312, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 13, + "Actual Startup Time": 0.023, + "Actual Total Time": 43.597, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 43.019, + "Actual Rows": 176178, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 45.330, + "Actual Rows": 175002, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 42.021, + "Actual Rows": 175758, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 42.572, + "Actual Rows": 157229, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 42.657, + "Actual Rows": 173905, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 43.690, + "Actual Rows": 181206, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 43.482, + "Actual Rows": 153933, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 459925, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.title <> ''::text) AND ((t.title ~~ '%Champion%'::text) OR (t.title ~~ '%Loser%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 58736 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 58287 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 58556 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 52408 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 57960 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 60391 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 51312 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.031, + "Actual Rows": 3, + "Actual Loops": 90, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.045, + "Actual Rows": 2, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.026, + "Actual Rows": 4, + "Actual Loops": 14 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.046, + "Actual Rows": 3, + "Actual Loops": 7 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.038, + "Actual Rows": 4, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.047, + "Actual Rows": 4, + "Actual Loops": 14 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.040, + "Actual Rows": 3, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 313, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 120, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 6, + "Cache Hits": 4, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 59, + "Cache Hits": 57, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 1, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 23, + "Cache Hits": 21, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 30, + "Cache Hits": 28, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 52, + "Cache Hits": 50, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 18, + "Cache Hits": 16, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 16, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 117, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 9 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 29 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 9 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 21, + "Plan Width": 8, + "Actual Startup Time": 0.088, + "Actual Total Time": 0.119, + "Actual Rows": 35, + "Actual Loops": 61, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.109, + "Actual Total Time": 0.115, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.099, + "Actual Rows": 100, + "Actual Loops": 11 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.067, + "Actual Rows": 15, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.068, + "Actual Rows": 40, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.179, + "Actual Rows": 24, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.069, + "Actual Rows": 18, + "Actual Loops": 14 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.052, + "Actual Rows": 26, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4778871310081631647, + "Planning Time": 70.151, + "Triggers": [ + ], + "Execution Time": 929.231, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 4778871310081631647, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS movie_about_winning
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND t.title != ''
  AND (t.title LIKE 'Champion%'
       OR t.title LIKE 'Loser%')
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38276.92, + "Total Cost": 38276.93, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 852.159, + "Actual Total Time": 873.892, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38276.85, + "Total Cost": 38276.86, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 851.482, + "Actual Total Time": 873.868, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38275.85, + "Total Cost": 38275.86, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 842.097, + "Actual Total Time": 842.105, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 841.618, + "Actual Total Time": 841.627, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 841.877, + "Actual Total Time": 841.886, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 837.784, + "Actual Total Time": 837.792, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 842.725, + "Actual Total Time": 842.734, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 842.043, + "Actual Total Time": 842.051, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 838.391, + "Actual Total Time": 838.398, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 841.878, + "Actual Total Time": 841.886, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.61, + "Total Cost": 38275.71, + "Plan Rows": 19, + "Plan Width": 41, + "Actual Startup Time": 756.713, + "Actual Total Time": 842.088, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["cn.name", "miidx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 841.613, + "Actual Total Time": 841.620, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 411.189, + "Actual Total Time": 841.823, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 837.779, + "Actual Total Time": 837.786, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 842.719, + "Actual Total Time": 842.727, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 842.039, + "Actual Total Time": 842.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 838.386, + "Actual Total Time": 838.392, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 841.873, + "Actual Total Time": 841.881, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.76, + "Total Cost": 38273.56, + "Plan Rows": 112, + "Plan Width": 45, + "Actual Startup Time": 756.603, + "Actual Total Time": 841.965, + "Actual Rows": 27, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 841.561, + "Actual Total Time": 841.567, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 411.126, + "Actual Total Time": 841.694, + "Actual Rows": 159, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 837.674, + "Actual Total Time": 837.680, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 842.652, + "Actual Total Time": 842.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 841.974, + "Actual Total Time": 841.980, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 838.256, + "Actual Total Time": 838.261, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 841.823, + "Actual Total Time": 841.830, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.33, + "Total Cost": 38268.65, + "Plan Rows": 4, + "Plan Width": 53, + "Actual Startup Time": 756.591, + "Actual Total Time": 841.895, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 841.560, + "Actual Total Time": 841.566, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 411.071, + "Actual Total Time": 841.335, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 837.672, + "Actual Total Time": 837.678, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 842.651, + "Actual Total Time": 842.657, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 841.974, + "Actual Total Time": 841.979, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 838.255, + "Actual Total Time": 838.259, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 841.823, + "Actual Total Time": 841.829, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.91, + "Total Cost": 38264.67, + "Plan Rows": 9, + "Plan Width": 38, + "Actual Startup Time": 756.580, + "Actual Total Time": 841.799, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 841.560, + "Actual Total Time": 841.565, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 411.023, + "Actual Total Time": 840.918, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 837.672, + "Actual Total Time": 837.677, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 842.650, + "Actual Total Time": 842.656, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 841.973, + "Actual Total Time": 841.978, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 838.254, + "Actual Total Time": 838.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 841.822, + "Actual Total Time": 841.827, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.77, + "Total Cost": 38263.61, + "Plan Rows": 25, + "Plan Width": 42, + "Actual Startup Time": 756.557, + "Actual Total Time": 841.768, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 841.559, + "Actual Total Time": 841.563, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 410.934, + "Actual Total Time": 840.786, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 837.671, + "Actual Total Time": 837.675, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 842.650, + "Actual Total Time": 842.654, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 841.972, + "Actual Total Time": 841.976, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 838.254, + "Actual Total Time": 838.257, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 841.822, + "Actual Total Time": 841.826, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.34, + "Total Cost": 38260.27, + "Plan Rows": 6, + "Plan Width": 30, + "Actual Startup Time": 756.542, + "Actual Total Time": 841.695, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 841.558, + "Actual Total Time": 841.562, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 410.854, + "Actual Total Time": 840.430, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 837.671, + "Actual Total Time": 837.674, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 842.649, + "Actual Total Time": 842.653, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 841.972, + "Actual Total Time": 841.975, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 838.253, + "Actual Total Time": 838.255, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 841.821, + "Actual Total Time": 841.824, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 38259.11, + "Plan Rows": 22, + "Plan Width": 34, + "Actual Startup Time": 156.741, + "Actual Total Time": 841.674, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.235, + "Actual Total Time": 841.553, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.457, + "Actual Total Time": 840.391, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.776, + "Actual Total Time": 837.659, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 92.260, + "Actual Total Time": 842.626, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 841.967, + "Actual Total Time": 841.969, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 46.611, + "Actual Total Time": 838.243, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 44.280, + "Actual Total Time": 841.818, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 57491, + "Plan Width": 9, + "Actual Startup Time": 0.046, + "Actual Total Time": 153.691, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 156.721, + "Actual Rows": 57974, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 151.160, + "Actual Rows": 55949, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.065, + "Actual Total Time": 152.358, + "Actual Rows": 57057, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 152.503, + "Actual Rows": 58371, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 152.957, + "Actual Rows": 58327, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.082, + "Actual Total Time": 150.694, + "Actual Rows": 56292, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 153.932, + "Actual Rows": 58281, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 13, + "Actual Startup Time": 0.018, + "Actual Total Time": 43.858, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 43.626, + "Actual Rows": 173916, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 43.901, + "Actual Rows": 167840, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 43.882, + "Actual Rows": 171327, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 44.113, + "Actual Rows": 175141, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 43.821, + "Actual Rows": 174969, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 43.325, + "Actual Rows": 168880, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 45.056, + "Actual Rows": 174921, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 459925, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.title <> ''::text) AND ((t.title ~~ 'Champion%'::text) OR (t.title ~~ 'Loser%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 57974 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 55949 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 57057 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 58371 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 58327 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 56292 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 58281 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 29, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 17 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 95, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 41, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 52, + "Cache Hits": 50, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 4, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 32, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 17 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 21, + "Plan Width": 8, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.030, + "Actual Rows": 16, + "Actual Loops": 14, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.038, + "Actual Rows": 23, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4778871310081631647, + "Planning Time": 86.140, + "Triggers": [ + ], + "Execution Time": 874.355, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 4778871310081631647, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 64070.98, + "Total Cost": 64070.99, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2404.875, + "Actual Total Time": 2445.132, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 64070.91, + "Total Cost": 64070.92, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 2398.257, + "Actual Total Time": 2445.091, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 64069.91, + "Total Cost": 64069.92, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2390.460, + "Actual Total Time": 2390.470, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2388.288, + "Actual Total Time": 2388.295, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2393.973, + "Actual Total Time": 2393.988, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2388.869, + "Actual Total Time": 2388.879, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2388.202, + "Actual Total Time": 2388.211, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2389.446, + "Actual Total Time": 2389.453, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2388.749, + "Actual Total Time": 2388.756, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2388.809, + "Actual Total Time": 2388.818, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10855.58, + "Total Cost": 63441.41, + "Plan Rows": 83799, + "Plan Width": 41, + "Actual Startup Time": 175.655, + "Actual Total Time": 2320.335, + "Actual Rows": 83799, + "Actual Loops": 8, + "Output": ["cn.name", "miidx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 172.561, + "Actual Total Time": 2294.433, + "Actual Rows": 98190, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 175.617, + "Actual Total Time": 2327.658, + "Actual Rows": 82959, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 178.287, + "Actual Total Time": 2325.321, + "Actual Rows": 72913, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 173.113, + "Actual Total Time": 2320.626, + "Actual Rows": 86109, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 174.362, + "Actual Total Time": 2316.167, + "Actual Rows": 91067, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 175.301, + "Actual Total Time": 2331.628, + "Actual Rows": 70500, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 175.507, + "Actual Total Time": 2315.332, + "Actual Rows": 92334, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10853.74, + "Total Cost": 61970.07, + "Plan Rows": 539573, + "Plan Width": 45, + "Actual Startup Time": 175.226, + "Actual Total Time": 2125.875, + "Actual Rows": 539573, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 172.394, + "Actual Total Time": 2044.336, + "Actual Rows": 688592, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 175.327, + "Actual Total Time": 2146.313, + "Actual Rows": 515228, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 178.069, + "Actual Total Time": 2152.166, + "Actual Rows": 463549, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 172.862, + "Actual Total Time": 2125.452, + "Actual Rows": 567461, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 172.920, + "Actual Total Time": 2115.109, + "Actual Rows": 588219, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 175.018, + "Actual Total Time": 2173.418, + "Actual Rows": 448774, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 175.080, + "Actual Total Time": 2113.670, + "Actual Rows": 564115, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10853.30, + "Total Cost": 48664.36, + "Plan Rows": 10912, + "Plan Width": 53, + "Actual Startup Time": 174.613, + "Actual Total Time": 1217.349, + "Actual Rows": 10912, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 172.335, + "Actual Total Time": 940.290, + "Actual Rows": 11633, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 174.324, + "Actual Total Time": 1278.462, + "Actual Rows": 10679, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 177.802, + "Actual Total Time": 1304.139, + "Actual Rows": 10760, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 172.787, + "Actual Total Time": 1195.455, + "Actual Rows": 10908, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 172.833, + "Actual Total Time": 1139.555, + "Actual Rows": 11490, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 173.450, + "Actual Total Time": 1436.950, + "Actual Rows": 9523, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 173.293, + "Actual Total Time": 1195.952, + "Actual Rows": 11268, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10852.24, + "Total Cost": 48532.36, + "Plan Rows": 31069, + "Plan Width": 57, + "Actual Startup Time": 173.879, + "Actual Total Time": 1201.066, + "Actual Rows": 31069, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 172.325, + "Actual Total Time": 924.129, + "Actual Rows": 26700, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 172.963, + "Actual Total Time": 1263.001, + "Actual Rows": 30678, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 174.628, + "Actual Total Time": 1288.605, + "Actual Rows": 29298, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 172.773, + "Actual Total Time": 1179.332, + "Actual Rows": 32642, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 172.818, + "Actual Total Time": 1125.561, + "Actual Rows": 25191, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 172.702, + "Actual Total Time": 1419.829, + "Actual Rows": 37114, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 172.773, + "Actual Total Time": 1179.268, + "Actual Rows": 32740, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10851.81, + "Total Cost": 34066.17, + "Plan Rows": 31069, + "Plan Width": 32, + "Actual Startup Time": 173.814, + "Actual Total Time": 811.150, + "Actual Rows": 31069, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 172.258, + "Actual Total Time": 588.906, + "Actual Rows": 26700, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 172.908, + "Actual Total Time": 874.891, + "Actual Rows": 30678, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 174.559, + "Actual Total Time": 905.437, + "Actual Rows": 29298, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 172.702, + "Actual Total Time": 786.827, + "Actual Rows": 32642, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 172.745, + "Actual Total Time": 793.187, + "Actual Rows": 25191, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 172.644, + "Actual Total Time": 964.183, + "Actual Rows": 37114, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 172.702, + "Actual Total Time": 772.459, + "Actual Rows": 32740, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10850.77, + "Total Cost": 33673.10, + "Plan Rows": 72514, + "Plan Width": 36, + "Actual Startup Time": 173.514, + "Actual Total Time": 775.249, + "Actual Rows": 72514, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "miidx.info", "miidx.movie_id"], + "Inner Unique": false, + "Hash Cond": "(mc.movie_id = miidx.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 172.250, + "Actual Total Time": 565.035, + "Actual Rows": 43062, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 172.890, + "Actual Total Time": 838.029, + "Actual Rows": 77041, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 172.433, + "Actual Total Time": 869.905, + "Actual Rows": 73006, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 172.694, + "Actual Total Time": 753.464, + "Actual Rows": 65749, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 172.736, + "Actual Total Time": 761.431, + "Actual Rows": 73268, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 172.508, + "Actual Total Time": 909.354, + "Actual Rows": 103373, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 172.681, + "Actual Total Time": 738.368, + "Actual Rows": 71674, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 22139.26, + "Plan Rows": 144225, + "Plan Width": 27, + "Actual Startup Time": 0.144, + "Actual Total Time": 461.497, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.115, + "Actual Total Time": 311.202, + "Actual Rows": 79908, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.194, + "Actual Total Time": 510.523, + "Actual Rows": 147058, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.121, + "Actual Total Time": 522.594, + "Actual Rows": 167132, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.165, + "Actual Total Time": 450.586, + "Actual Rows": 141782, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.181, + "Actual Total Time": 452.121, + "Actual Rows": 152314, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.128, + "Actual Total Time": 548.688, + "Actual Rows": 206650, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.167, + "Actual Total Time": 439.328, + "Actual Rows": 129962, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 23, + "Actual Startup Time": 0.026, + "Actual Total Time": 18.990, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 16.271, + "Actual Rows": 8856, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 22.572, + "Actual Rows": 12353, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 19.620, + "Actual Rows": 10969, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 17.396, + "Actual Rows": 9924, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 18.015, + "Actual Rows": 10388, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 20.320, + "Actual Rows": 11041, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 20.077, + "Actual Rows": 10909, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 14, + "Plan Width": 12, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.036, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.029, + "Actual Rows": 9, + "Actual Loops": 8856 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.034, + "Actual Rows": 12, + "Actual Loops": 12353 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.039, + "Actual Rows": 15, + "Actual Loops": 10969 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.037, + "Actual Rows": 14, + "Actual Loops": 9924 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.035, + "Actual Rows": 15, + "Actual Loops": 10388 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.040, + "Actual Rows": 19, + "Actual Loops": 11041 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.033, + "Actual Rows": 12, + "Actual Loops": 10909 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 10131.70, + "Total Cost": 10131.70, + "Plan Rows": 57491, + "Plan Width": 9, + "Actual Startup Time": 172.278, + "Actual Total Time": 172.282, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Hash Buckets": 524288, + "Original Hash Buckets": 524288, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 22272, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 172.017, + "Actual Total Time": 172.019, + "Actual Rows": 55883, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 172.580, + "Actual Total Time": 172.584, + "Actual Rows": 63822, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 172.208, + "Actual Total Time": 172.211, + "Actual Rows": 55661, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 172.475, + "Actual Total Time": 172.478, + "Actual Rows": 57507, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 172.499, + "Actual Total Time": 172.502, + "Actual Rows": 51857, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 172.294, + "Actual Total Time": 172.297, + "Actual Rows": 56004, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 172.475, + "Actual Total Time": 172.478, + "Actual Rows": 55764, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 57491, + "Plan Width": 9, + "Actual Startup Time": 0.151, + "Actual Total Time": 127.063, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.149, + "Actual Total Time": 128.111, + "Actual Rows": 55883, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.150, + "Actual Total Time": 128.414, + "Actual Rows": 63822, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.141, + "Actual Total Time": 125.792, + "Actual Rows": 55661, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.153, + "Actual Total Time": 129.442, + "Actual Rows": 57507, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.150, + "Actual Total Time": 118.592, + "Actual Rows": 51857, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.144, + "Actual Total Time": 128.241, + "Actual Rows": 56004, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.153, + "Actual Total Time": 128.465, + "Actual Rows": 55764, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 13, + "Actual Startup Time": 0.018, + "Actual Total Time": 39.877, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 39.488, + "Actual Rows": 167664, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 39.406, + "Actual Rows": 191490, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 38.973, + "Actual Rows": 166972, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 40.006, + "Actual Rows": 172540, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 36.961, + "Actual Rows": 155690, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 39.124, + "Actual Rows": 167999, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 41.748, + "Actual Rows": 167405, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.093, + "Actual Total Time": 0.094, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.098, + "Actual Total Time": 0.099, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.093, + "Actual Total Time": 0.094, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.092, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.094, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 14, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 248554, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 26700 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 30678 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 29298 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 32642 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 25191 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 37114 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 32740 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.90, + "Plan Rows": 32, + "Plan Width": 8, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.065, + "Actual Rows": 49, + "Actual Loops": 87293, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.073, + "Actual Rows": 59, + "Actual Loops": 11633 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.063, + "Actual Rows": 48, + "Actual Loops": 10679 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.062, + "Actual Rows": 43, + "Actual Loops": 10760 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.066, + "Actual Rows": 52, + "Actual Loops": 10908 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.067, + "Actual Rows": 51, + "Actual Loops": 11490 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.059, + "Actual Rows": 47, + "Actual Loops": 9523 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.063, + "Actual Rows": 50, + "Actual Loops": 11268 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2434959201386717317, + "Planning Time": 68.728, + "Triggers": [ + ], + "Execution Time": 2445.505, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 2434959201386717317, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS northern_dark_movie
FROM info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind = 'movie'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2010
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4298.01, + "Total Cost": 4298.02, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 323.986, + "Actual Total Time": 357.538, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4297.96, + "Total Cost": 4297.97, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 190.312, + "Actual Total Time": 357.511, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4296.96, + "Total Cost": 4296.97, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 95.170, + "Actual Total Time": 95.180, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.243, + "Actual Total Time": 14.252, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 182.575, + "Actual Total Time": 182.581, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.844, + "Actual Total Time": 14.852, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 315.552, + "Actual Total Time": 315.558, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.817, + "Actual Total Time": 14.825, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.871, + "Actual Total Time": 14.880, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.940, + "Actual Total Time": 14.949, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.48, + "Total Cost": 4296.42, + "Plan Rows": 109, + "Plan Width": 22, + "Actual Startup Time": 19.284, + "Actual Total Time": 95.088, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.239, + "Actual Total Time": 14.247, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.069, + "Actual Total Time": 182.362, + "Actual Rows": 235, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.840, + "Actual Total Time": 14.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.670, + "Actual Total Time": 315.264, + "Actual Rows": 346, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.813, + "Actual Total Time": 14.821, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.867, + "Actual Total Time": 14.876, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.935, + "Actual Total Time": 14.943, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.63, + "Total Cost": 4294.23, + "Plan Rows": 125, + "Plan Width": 26, + "Actual Startup Time": 18.996, + "Actual Total Time": 94.716, + "Actual Rows": 110, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.994, + "Actual Total Time": 14.000, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.759, + "Actual Total Time": 181.850, + "Actual Rows": 271, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.561, + "Actual Total Time": 14.567, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.381, + "Actual Total Time": 314.683, + "Actual Rows": 398, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.542, + "Actual Total Time": 14.548, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.587, + "Actual Total Time": 14.594, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.647, + "Actual Total Time": 14.654, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.20, + "Total Cost": 4105.33, + "Plan Rows": 164, + "Plan Width": 34, + "Actual Startup Time": 18.880, + "Actual Total Time": 82.077, + "Actual Rows": 143, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.994, + "Actual Total Time": 13.999, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.655, + "Actual Total Time": 149.863, + "Actual Rows": 346, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.561, + "Actual Total Time": 14.566, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.282, + "Actual Total Time": 271.960, + "Actual Rows": 512, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.541, + "Actual Total Time": 14.547, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.587, + "Actual Total Time": 14.592, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.646, + "Actual Total Time": 14.652, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.35, + "Total Cost": 4102.17, + "Plan Rows": 486, + "Plan Width": 38, + "Actual Startup Time": 18.793, + "Actual Total Time": 81.875, + "Actual Rows": 425, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.989, + "Actual Total Time": 13.993, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.639, + "Actual Total Time": 149.387, + "Actual Rows": 1028, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.555, + "Actual Total Time": 14.559, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.270, + "Actual Total Time": 271.317, + "Actual Rows": 1515, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.534, + "Actual Total Time": 14.538, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.581, + "Actual Total Time": 14.585, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.640, + "Actual Total Time": 14.645, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 3957.30, + "Plan Rows": 281, + "Plan Width": 25, + "Actual Startup Time": 18.730, + "Actual Total Time": 78.266, + "Actual Rows": 246, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.989, + "Actual Total Time": 13.992, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.286, + "Actual Total Time": 140.374, + "Actual Rows": 573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.554, + "Actual Total Time": 14.557, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.184, + "Actual Total Time": 258.917, + "Actual Rows": 903, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.533, + "Actual Total Time": 14.537, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.580, + "Actual Total Time": 14.584, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.639, + "Actual Total Time": 14.643, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3954.68, + "Plan Rows": 369, + "Plan Width": 29, + "Actual Startup Time": 9.783, + "Actual Total Time": 77.950, + "Actual Rows": 323, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.980, + "Actual Total Time": 13.982, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.919, + "Actual Total Time": 139.655, + "Actual Rows": 710, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.545, + "Actual Total Time": 14.546, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.491, + "Actual Total Time": 257.827, + "Actual Rows": 1236, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.523, + "Actual Total Time": 14.525, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.570, + "Actual Total Time": 14.572, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.629, + "Actual Total Time": 14.630, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.77, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 9.517, + "Actual Total Time": 31.082, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.980, + "Actual Total Time": 13.981, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.262, + "Actual Total Time": 48.604, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.544, + "Actual Total Time": 14.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.466, + "Actual Total Time": 73.018, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.522, + "Actual Total Time": 14.523, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.569, + "Actual Total Time": 14.570, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.628, + "Actual Total Time": 14.629, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.468, + "Actual Total Time": 9.475, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.979, + "Actual Total Time": 13.979, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.125, + "Actual Total Time": 0.134, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.543, + "Actual Total Time": 14.543, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.330, + "Actual Total Time": 0.336, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.521, + "Actual Total Time": 14.522, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.568, + "Actual Total Time": 14.569, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.627, + "Actual Total Time": 14.628, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.62, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.123, + "Actual Total Time": 54.540, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.134, + "Actual Total Time": 46.264, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.132, + "Actual Total Time": 68.118, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 1966, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 573 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 903 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.087, + "Actual Rows": 1, + "Actual Loops": 1147, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 69, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.091, + "Actual Rows": 1, + "Actual Loops": 346 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.082, + "Actual Rows": 1, + "Actual Loops": 512 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 274192810335693858, + "Planning Time": 52.179, + "Triggers": [ + ], + "Execution Time": 357.982, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 274192810335693858, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_dark_production
FROM info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title')
  AND kt.kind = 'movie'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info > '6.0'
  AND t.production_year > 2010
  AND (t.title LIKE '%murder%'
       OR t.title LIKE '%Murder%'
       OR t.title LIKE '%Mord%')
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2848.57, + "Total Cost": 2848.58, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 299.048, + "Actual Total Time": 299.205, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2848.52, + "Total Cost": 2848.53, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 299.026, + "Actual Total Time": 299.193, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2847.52, + "Total Cost": 2847.53, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 46.255, + "Actual Total Time": 46.260, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.692, + "Actual Total Time": 2.697, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.095, + "Actual Total Time": 13.101, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.558, + "Actual Total Time": 7.563, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.562, + "Actual Total Time": 8.569, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.348, + "Actual Total Time": 13.354, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.554, + "Actual Total Time": 13.559, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.115, + "Actual Total Time": 13.120, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 2847.52, + "Plan Rows": 1, + "Plan Width": 22, + "Actual Startup Time": 33.981, + "Actual Total Time": 46.254, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.686, + "Actual Total Time": 2.691, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.089, + "Actual Total Time": 13.094, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.554, + "Actual Total Time": 7.558, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.556, + "Actual Total Time": 8.562, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.343, + "Actual Total Time": 13.348, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.550, + "Actual Total Time": 13.555, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.111, + "Actual Total Time": 13.116, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.01, + "Total Cost": 2847.33, + "Plan Rows": 1, + "Plan Width": 26, + "Actual Startup Time": 33.978, + "Actual Total Time": 46.250, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.685, + "Actual Total Time": 2.690, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.089, + "Actual Total Time": 13.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.553, + "Actual Total Time": 7.557, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.555, + "Actual Total Time": 8.560, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.342, + "Actual Total Time": 13.347, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.550, + "Actual Total Time": 13.554, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.110, + "Actual Total Time": 13.114, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.58, + "Total Cost": 2846.83, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 15.763, + "Actual Total Time": 46.231, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.684, + "Actual Total Time": 2.688, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.088, + "Actual Total Time": 13.092, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.552, + "Actual Total Time": 7.556, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.554, + "Actual Total Time": 8.559, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.341, + "Actual Total Time": 13.345, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.549, + "Actual Total Time": 13.553, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.109, + "Actual Total Time": 13.113, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.43, + "Total Cost": 2846.65, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 15.758, + "Actual Total Time": 46.220, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.684, + "Actual Total Time": 2.687, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.088, + "Actual Total Time": 13.091, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.551, + "Actual Total Time": 7.554, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.554, + "Actual Total Time": 8.557, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.340, + "Actual Total Time": 13.343, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.548, + "Actual Total Time": 13.551, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.109, + "Actual Total Time": 13.111, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.00, + "Total Cost": 2845.50, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 15.747, + "Actual Total Time": 46.159, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.683, + "Actual Total Time": 2.685, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.087, + "Actual Total Time": 13.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.551, + "Actual Total Time": 7.553, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.553, + "Actual Total Time": 8.555, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.340, + "Actual Total Time": 13.342, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.548, + "Actual Total Time": 13.550, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.108, + "Actual Total Time": 13.110, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2845.16, + "Plan Rows": 2, + "Plan Width": 29, + "Actual Startup Time": 9.827, + "Actual Total Time": 46.137, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.682, + "Actual Total Time": 2.684, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.086, + "Actual Total Time": 13.087, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.550, + "Actual Total Time": 7.551, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.552, + "Actual Total Time": 8.554, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.339, + "Actual Total Time": 13.341, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.547, + "Actual Total Time": 13.549, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.107, + "Actual Total Time": 13.109, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1539.59, + "Plan Rows": 2790, + "Plan Width": 4, + "Actual Startup Time": 9.442, + "Actual Total Time": 17.651, + "Actual Rows": 2441, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.682, + "Actual Total Time": 2.683, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.085, + "Actual Total Time": 13.086, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.549, + "Actual Total Time": 7.550, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.551, + "Actual Total Time": 8.552, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.338, + "Actual Total Time": 13.339, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.546, + "Actual Total Time": 13.547, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.107, + "Actual Total Time": 13.107, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.428, + "Actual Total Time": 9.430, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.680, + "Actual Total Time": 2.681, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.084, + "Actual Total Time": 13.084, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.548, + "Actual Total Time": 7.548, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.550, + "Actual Total Time": 8.550, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.337, + "Actual Total Time": 13.338, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.545, + "Actual Total Time": 13.546, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.105, + "Actual Total Time": 13.105, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 19528, + "Plan Width": 8, + "Actual Startup Time": 0.090, + "Actual Total Time": 59.548, + "Actual Rows": 19528, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 19528, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2010) AND ((t.title ~~ '%murder%'::text) OR (t.title ~~ '%Murder%'::text) OR (t.title ~~ '%Mord%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 15, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 12, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 5, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '6.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4506995590541967356, + "Planning Time": 66.532, + "Triggers": [ + ], + "Execution Time": 299.600, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -4506995590541967356, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS north_european_dark_production
FROM info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IS NOT NULL
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5551.56, + "Total Cost": 5551.57, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 465.614, + "Actual Total Time": 501.371, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5551.52, + "Total Cost": 5551.53, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 293.088, + "Actual Total Time": 501.341, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5550.52, + "Total Cost": 5550.53, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 143.601, + "Actual Total Time": 143.610, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 326.971, + "Actual Total Time": 326.976, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 456.961, + "Actual Total Time": 456.967, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.480, + "Actual Total Time": 14.488, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.585, + "Actual Total Time": 14.593, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.444, + "Actual Total Time": 14.452, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.520, + "Actual Total Time": 14.528, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.633, + "Actual Total Time": 14.641, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.48, + "Total Cost": 5547.58, + "Plan Rows": 588, + "Plan Width": 22, + "Actual Startup Time": 9.854, + "Actual Total Time": 143.261, + "Actual Rows": 514, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.899, + "Actual Total Time": 326.052, + "Actual Rows": 1382, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.978, + "Actual Total Time": 455.787, + "Actual Rows": 1772, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.477, + "Actual Total Time": 14.483, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.580, + "Actual Total Time": 14.587, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.440, + "Actual Total Time": 14.447, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.516, + "Actual Total Time": 14.524, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.629, + "Actual Total Time": 14.637, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.63, + "Total Cost": 5543.90, + "Plan Rows": 673, + "Plan Width": 26, + "Actual Startup Time": 9.564, + "Actual Total Time": 142.609, + "Actual Rows": 589, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.590, + "Actual Total Time": 324.761, + "Actual Rows": 1574, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.709, + "Actual Total Time": 454.297, + "Actual Rows": 2007, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.227, + "Actual Total Time": 14.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.345, + "Actual Total Time": 14.351, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.171, + "Actual Total Time": 14.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.235, + "Actual Total Time": 14.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.394, + "Actual Total Time": 14.400, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.20, + "Total Cost": 4564.82, + "Plan Rows": 850, + "Plan Width": 34, + "Actual Startup Time": 9.531, + "Actual Total Time": 81.233, + "Actual Rows": 744, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.492, + "Actual Total Time": 153.893, + "Actual Rows": 1969, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.644, + "Actual Total Time": 267.731, + "Actual Rows": 2608, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.226, + "Actual Total Time": 14.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.344, + "Actual Total Time": 14.350, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.171, + "Actual Total Time": 14.175, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.234, + "Actual Total Time": 14.240, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.393, + "Actual Total Time": 14.398, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.35, + "Total Cost": 4556.02, + "Plan Rows": 2556, + "Plan Width": 38, + "Actual Startup Time": 9.515, + "Actual Total Time": 80.403, + "Actual Rows": 2236, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.481, + "Actual Total Time": 151.639, + "Actual Rows": 5901, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.632, + "Actual Total Time": 264.965, + "Actual Rows": 7869, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.222, + "Actual Total Time": 14.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.339, + "Actual Total Time": 14.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.165, + "Actual Total Time": 14.169, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.229, + "Actual Total Time": 14.233, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.388, + "Actual Total Time": 14.393, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 3961.61, + "Plan Rows": 1153, + "Plan Width": 25, + "Actual Startup Time": 9.489, + "Actual Total Time": 66.811, + "Actual Rows": 1009, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.407, + "Actual Total Time": 115.139, + "Actual Rows": 2502, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.579, + "Actual Total Time": 220.439, + "Actual Rows": 3653, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.221, + "Actual Total Time": 14.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.339, + "Actual Total Time": 14.343, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.165, + "Actual Total Time": 14.167, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.229, + "Actual Total Time": 14.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.388, + "Actual Total Time": 14.391, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3954.68, + "Plan Rows": 1391, + "Plan Width": 29, + "Actual Startup Time": 9.417, + "Actual Total Time": 65.947, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.287, + "Actual Total Time": 113.011, + "Actual Rows": 3009, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.293, + "Actual Total Time": 217.432, + "Actual Rows": 4326, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.211, + "Actual Total Time": 14.213, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.330, + "Actual Total Time": 14.332, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.155, + "Actual Total Time": 14.156, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.219, + "Actual Total Time": 14.221, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.380, + "Actual Total Time": 14.382, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.77, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 9.394, + "Actual Total Time": 22.292, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.220, + "Actual Total Time": 27.167, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.232, + "Actual Total Time": 47.833, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.211, + "Actual Total Time": 14.211, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.329, + "Actual Total Time": 14.330, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.154, + "Actual Total Time": 14.155, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.219, + "Actual Total Time": 14.220, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.380, + "Actual Total Time": 14.380, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.352, + "Actual Total Time": 9.358, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "((k.keyword IS NOT NULL) AND (k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[])))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.116, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.114, + "Actual Total Time": 0.119, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.210, + "Actual Total Time": 14.210, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.329, + "Actual Total Time": 14.329, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.154, + "Actual Total Time": 14.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.218, + "Actual Total Time": 14.218, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.379, + "Actual Total Time": 14.380, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.62, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.107, + "Actual Total Time": 31.718, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.111, + "Actual Total Time": 25.103, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.113, + "Actual Total Time": 43.484, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 8073, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 2502 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 3653 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.082, + "Actual Rows": 1, + "Actual Loops": 5949, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 71, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.086, + "Actual Rows": 1, + "Actual Loops": 1969 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 2608 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 299267792258938541, + "Planning Time": 60.343, + "Triggers": [ + ], + "Execution Time": 501.801, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 299267792258938541, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(t.title) AS internet_movie
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND mc.note LIKE '%(200%)%'
  AND mc.note LIKE '%(worldwide)%'
  AND mi.note LIKE '%internet%'
  AND mi.info LIKE 'USA:% 200%'
  AND t.production_year > 2000
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27897.64, + "Total Cost": 27897.65, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 570.385, + "Actual Total Time": 595.315, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27897.59, + "Total Cost": 27897.60, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 569.931, + "Actual Total Time": 595.282, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27896.59, + "Total Cost": 27896.60, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 557.840, + "Actual Total Time": 557.848, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 554.127, + "Actual Total Time": 554.134, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 554.793, + "Actual Total Time": 554.800, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 555.207, + "Actual Total Time": 555.214, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 555.243, + "Actual Total Time": 555.251, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 561.515, + "Actual Total Time": 561.521, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 556.517, + "Actual Total Time": 556.523, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 556.189, + "Actual Total Time": 556.198, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.85, + "Total Cost": 27896.38, + "Plan Rows": 41, + "Plan Width": 59, + "Actual Startup Time": 152.182, + "Actual Total Time": 557.788, + "Actual Rows": 41, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 159.926, + "Actual Total Time": 554.115, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 179.541, + "Actual Total Time": 554.784, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 150.155, + "Actual Total Time": 555.177, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.801, + "Actual Total Time": 555.235, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 561.509, + "Actual Total Time": 561.515, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.874, + "Actual Total Time": 556.447, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 46.560, + "Actual Total Time": 556.062, + "Actual Rows": 95, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.43, + "Total Cost": 27878.44, + "Plan Rows": 41, + "Plan Width": 63, + "Actual Startup Time": 152.110, + "Actual Total Time": 557.193, + "Actual Rows": 41, + "Actual Loops": 8, + "Output": ["mi.info", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 159.864, + "Actual Total Time": 554.018, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 179.474, + "Actual Total Time": 554.706, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 150.079, + "Actual Total Time": 554.850, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.719, + "Actual Total Time": 555.135, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 561.508, + "Actual Total Time": 561.514, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.717, + "Actual Total Time": 555.716, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 46.477, + "Actual Total Time": 554.702, + "Actual Rows": 95, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.00, + "Total Cost": 27871.13, + "Plan Rows": 7, + "Plan Width": 75, + "Actual Startup Time": 151.908, + "Actual Total Time": 556.785, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 159.795, + "Actual Total Time": 553.895, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 179.203, + "Actual Total Time": 554.333, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 150.005, + "Actual Total Time": 554.717, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.816, + "Actual Total Time": 554.149, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 561.508, + "Actual Total Time": 561.513, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.537, + "Actual Total Time": 555.160, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 46.404, + "Actual Total Time": 554.127, + "Actual Rows": 18, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.86, + "Total Cost": 27869.87, + "Plan Rows": 7, + "Plan Width": 79, + "Actual Startup Time": 151.878, + "Actual Total Time": 556.689, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 159.771, + "Actual Total Time": 553.845, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 179.178, + "Actual Total Time": 554.258, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 149.970, + "Actual Total Time": 554.667, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.779, + "Actual Total Time": 554.022, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 561.507, + "Actual Total Time": 561.511, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.473, + "Actual Total Time": 555.029, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 46.373, + "Actual Total Time": 553.925, + "Actual Rows": 18, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 27869.33, + "Plan Rows": 7, + "Plan Width": 83, + "Actual Startup Time": 151.804, + "Actual Total Time": 556.579, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 159.681, + "Actual Total Time": 553.738, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 179.089, + "Actual Total Time": 554.139, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 149.885, + "Actual Total Time": 554.571, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.679, + "Actual Total Time": 553.873, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 561.506, + "Actual Total Time": 561.509, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.375, + "Actual Total Time": 554.895, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 46.282, + "Actual Total Time": 553.752, + "Actual Rows": 18, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.28, + "Total Cost": 27172.60, + "Plan Rows": 642, + "Plan Width": 33, + "Actual Startup Time": 3.721, + "Actual Total Time": 503.598, + "Actual Rows": 642, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.816, + "Actual Total Time": 518.376, + "Actual Rows": 502, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.080, + "Actual Total Time": 502.299, + "Actual Rows": 632, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.969, + "Actual Total Time": 435.960, + "Actual Rows": 885, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.787, + "Actual Total Time": 516.106, + "Actual Rows": 596, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.576, + "Actual Total Time": 525.933, + "Actual Rows": 579, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.197, + "Actual Total Time": 521.357, + "Actual Rows": 564, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.371, + "Actual Total Time": 498.898, + "Actual Rows": 681, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 26178.35, + "Plan Rows": 1712, + "Plan Width": 12, + "Actual Startup Time": 3.260, + "Actual Total Time": 480.864, + "Actual Rows": 1712, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.703, + "Actual Total Time": 502.571, + "Actual Rows": 1106, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.955, + "Actual Total Time": 484.603, + "Actual Rows": 1242, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.920, + "Actual Total Time": 418.002, + "Actual Rows": 1243, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.659, + "Actual Total Time": 452.071, + "Actual Rows": 5659, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.510, + "Actual Total Time": 509.440, + "Actual Rows": 1156, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.079, + "Actual Total Time": 506.904, + "Actual Rows": 938, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.344, + "Actual Total Time": 482.402, + "Actual Rows": 1059, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 23517.91, + "Plan Rows": 5480, + "Plan Width": 8, + "Actual Startup Time": 0.472, + "Actual Total Time": 419.434, + "Actual Rows": 5480, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.159, + "Actual Total Time": 442.607, + "Actual Rows": 5375, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.328, + "Actual Total Time": 419.435, + "Actual Rows": 6569, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.105, + "Actual Total Time": 366.060, + "Actual Rows": 4197, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.379, + "Actual Total Time": 370.350, + "Actual Rows": 7891, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.356, + "Actual Total Time": 456.882, + "Actual Rows": 4484, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.913, + "Actual Total Time": 458.492, + "Actual Rows": 4601, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.159, + "Actual Total Time": 412.389, + "Actual Rows": 5618, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 16.474, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 16.430, + "Actual Rows": 10642, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 17.173, + "Actual Rows": 11089, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 15.674, + "Actual Rows": 10155, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.077, + "Actual Total Time": 15.336, + "Actual Rows": 9997, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 18.453, + "Actual Rows": 11813, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.076, + "Actual Total Time": 15.573, + "Actual Rows": 9730, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 16.503, + "Actual Rows": 10607, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.89, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND (mc.note ~~ '%(worldwide)%'::text))", + "Rows Removed by Filter": 13, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 10642 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 11089 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 10155 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 9997 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 11813 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 9730 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 10607 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_aka_title", + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.42, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 43837, + "Output": ["at.movie_id"], + "Index Cond": "(at.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 5375 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6569 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 4197 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 7891 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 4484 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 4601 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 5618 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 13699, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1106 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1242 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1243 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 5659 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1156 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 938 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1059 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.08, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.082, + "Actual Rows": 0, + "Actual Loops": 5134, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note ~~ '%internet%'::text) AND (mi.info ~~ 'USA:% 200%'::text))", + "Rows Removed by Filter": 72, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.069, + "Actual Rows": 0, + "Actual Loops": 502 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.081, + "Actual Rows": 0, + "Actual Loops": 632 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.133, + "Actual Total Time": 0.133, + "Actual Rows": 0, + "Actual Loops": 885 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 596 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 579 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 564 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.080, + "Actual Rows": 0, + "Actual Loops": 681 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 57, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 11, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 6, + "Cache Hits": 5, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 10, + "Cache Hits": 9, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6, + "Cache Hits": 5, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 18, + "Cache Hits": 17, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.072, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.072, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.069, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.079, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.075, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.074, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 57, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 18 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 6, + "Plan Width": 8, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.053, + "Actual Rows": 6, + "Actual Loops": 57, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.059, + "Actual Rows": 10, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.096, + "Actual Total Time": 0.097, + "Actual Rows": 0, + "Actual Loops": 10 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.086, + "Actual Rows": 5, + "Actual Loops": 6 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.028, + "Actual Rows": 5, + "Actual Loops": 18 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 328, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 20 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 28 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 95 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -460740518707800565, + "Planning Time": 114.812, + "Triggers": [ + ], + "Execution Time": 595.709, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -460740518707800565, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(t.title) AS youtube_movie
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND cn.name = 'YouTube'
  AND it1.info = 'release dates'
  AND mc.note LIKE '%(200%)%'
  AND mc.note LIKE '%(worldwide)%'
  AND mi.note LIKE '%internet%'
  AND mi.info LIKE 'USA:% 200%'
  AND t.production_year BETWEEN 2005 AND 2010
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3507.02, + "Total Cost": 3507.03, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 43.101, + "Actual Total Time": 47.385, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3506.97, + "Total Cost": 3506.98, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 42.748, + "Actual Total Time": 47.367, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3505.97, + "Total Cost": 3505.98, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 28.841, + "Actual Total Time": 28.850, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.670, + "Actual Total Time": 24.678, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.493, + "Actual Total Time": 32.502, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.498, + "Actual Total Time": 25.507, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.083, + "Actual Total Time": 26.093, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.157, + "Actual Total Time": 26.166, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.029, + "Actual Total Time": 27.038, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.996, + "Actual Total Time": 27.005, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.85, + "Total Cost": 3505.95, + "Plan Rows": 5, + "Plan Width": 59, + "Actual Startup Time": 26.885, + "Actual Total Time": 28.837, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.664, + "Actual Total Time": 24.672, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.489, + "Actual Total Time": 32.496, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.490, + "Actual Total Time": 25.499, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.075, + "Actual Total Time": 26.084, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.149, + "Actual Total Time": 26.158, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.020, + "Actual Total Time": 27.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.991, + "Actual Total Time": 26.998, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.43, + "Total Cost": 3503.76, + "Plan Rows": 5, + "Plan Width": 63, + "Actual Startup Time": 26.877, + "Actual Total Time": 28.771, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mi.info", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.663, + "Actual Total Time": 24.670, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.488, + "Actual Total Time": 32.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.489, + "Actual Total Time": 25.496, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.074, + "Actual Total Time": 26.081, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.148, + "Actual Total Time": 26.156, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.019, + "Actual Total Time": 27.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.989, + "Actual Total Time": 26.996, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.00, + "Total Cost": 3502.63, + "Plan Rows": 1, + "Plan Width": 75, + "Actual Startup Time": 26.159, + "Actual Total Time": 28.752, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.662, + "Actual Total Time": 24.668, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.487, + "Actual Total Time": 32.493, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.489, + "Actual Total Time": 25.495, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.073, + "Actual Total Time": 26.080, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.147, + "Actual Total Time": 26.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.018, + "Actual Total Time": 27.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.988, + "Actual Total Time": 26.994, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.57, + "Total Cost": 3502.05, + "Plan Rows": 1, + "Plan Width": 54, + "Actual Startup Time": 26.152, + "Actual Total Time": 28.736, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.661, + "Actual Total Time": 24.666, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.487, + "Actual Total Time": 32.491, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.488, + "Actual Total Time": 25.493, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.072, + "Actual Total Time": 26.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.146, + "Actual Total Time": 26.152, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.017, + "Actual Total Time": 27.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.987, + "Actual Total Time": 26.992, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.44, + "Total Cost": 3501.89, + "Plan Rows": 1, + "Plan Width": 58, + "Actual Startup Time": 26.149, + "Actual Total Time": 28.728, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.660, + "Actual Total Time": 24.664, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.486, + "Actual Total Time": 32.490, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.487, + "Actual Total Time": 25.491, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.072, + "Actual Total Time": 26.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.146, + "Actual Total Time": 26.151, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.017, + "Actual Total Time": 27.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.987, + "Actual Total Time": 26.990, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 3501.70, + "Plan Rows": 1, + "Plan Width": 62, + "Actual Startup Time": 26.143, + "Actual Total Time": 28.718, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.659, + "Actual Total Time": 24.662, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.485, + "Actual Total Time": 32.488, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.486, + "Actual Total Time": 25.489, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.071, + "Actual Total Time": 26.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.144, + "Actual Total Time": 26.148, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.016, + "Actual Total Time": 27.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.986, + "Actual Total Time": 26.988, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 3497.21, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 25.534, + "Actual Total Time": 28.555, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.657, + "Actual Total Time": 24.659, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.485, + "Actual Total Time": 32.487, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.485, + "Actual Total Time": 25.487, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.070, + "Actual Total Time": 26.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.144, + "Actual Total Time": 26.147, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.015, + "Actual Total Time": 27.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.985, + "Actual Total Time": 26.987, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3478.68, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 25.366, + "Actual Total Time": 28.060, + "Actual Rows": 35, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.657, + "Actual Total Time": 24.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.484, + "Actual Total Time": 32.486, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.484, + "Actual Total Time": 25.485, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.069, + "Actual Total Time": 26.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.143, + "Actual Total Time": 26.145, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.014, + "Actual Total Time": 27.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.984, + "Actual Total Time": 26.985, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3435.62, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 25.346, + "Actual Total Time": 26.843, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "(((cn.country_code)::text = '[us]'::text) AND (cn.name = 'YouTube'::text))", + "Rows Removed by Filter": 29374, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.655, + "Actual Total Time": 24.656, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.484, + "Actual Total Time": 32.485, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.483, + "Actual Total Time": 25.483, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.068, + "Actual Total Time": 26.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.142, + "Actual Total Time": 26.143, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.013, + "Actual Total Time": 27.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.983, + "Actual Total Time": 26.984, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 40.28, + "Plan Rows": 278, + "Plan Width": 12, + "Actual Startup Time": 0.142, + "Actual Total Time": 9.604, + "Actual Rows": 278, + "Actual Loops": 1, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND (mc.note ~~ '%(worldwide)%'::text))", + "Rows Removed by Filter": 1180, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_aka_title", + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.42, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 278, + "Output": ["at.movie_id"], + "Index Cond": "(at.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.49, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 27, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note ~~ '%internet%'::text) AND (mi.info ~~ 'USA:% 200%'::text))", + "Rows Removed by Filter": 19, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.19, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.01, + "Plan Rows": 12, + "Plan Width": 8, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.040, + "Actual Rows": 12, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 37, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4209927756710409746, + "Planning Time": 123.144, + "Triggers": [ + ], + "Execution Time": 47.826, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -4209927756710409746, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(t.title) AS modern_american_internet_movie
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND mi.note LIKE '%internet%'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'USA:% 199%'
       OR mi.info LIKE 'USA:% 200%')
  AND t.production_year > 1990
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 56000.41, + "Total Cost": 56000.42, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1517.812, + "Actual Total Time": 1538.257, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 56000.36, + "Total Cost": 56000.37, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 1509.544, + "Actual Total Time": 1538.210, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 55999.36, + "Total Cost": 55999.37, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1496.098, + "Actual Total Time": 1496.107, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1498.128, + "Actual Total Time": 1498.138, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1487.244, + "Actual Total Time": 1487.253, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1499.588, + "Actual Total Time": 1499.597, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1495.772, + "Actual Total Time": 1495.781, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1488.088, + "Actual Total Time": 1488.097, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1505.043, + "Actual Total Time": 1505.052, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1486.393, + "Actual Total Time": 1486.402, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.97, + "Total Cost": 55997.74, + "Plan Rows": 324, + "Plan Width": 59, + "Actual Startup Time": 92.069, + "Actual Total Time": 1495.793, + "Actual Rows": 284, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.109, + "Actual Total Time": 1497.495, + "Actual Rows": 538, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.297, + "Actual Total Time": 1486.867, + "Actual Rows": 383, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 120.793, + "Actual Total Time": 1499.317, + "Actual Rows": 269, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 40.813, + "Actual Total Time": 1495.408, + "Actual Rows": 399, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 349.030, + "Actual Total Time": 1487.804, + "Actual Rows": 262, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 141.498, + "Actual Total Time": 1504.931, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.474, + "Actual Total Time": 1486.238, + "Actual Rows": 144, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 55855.96, + "Plan Rows": 324, + "Plan Width": 63, + "Actual Startup Time": 91.980, + "Actual Total Time": 1492.658, + "Actual Rows": 284, + "Actual Loops": 8, + "Output": ["mi.info", "mk.keyword_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.017, + "Actual Total Time": 1491.619, + "Actual Rows": 538, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.212, + "Actual Total Time": 1482.214, + "Actual Rows": 383, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 120.682, + "Actual Total Time": 1496.085, + "Actual Rows": 269, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 40.653, + "Actual Total Time": 1491.237, + "Actual Rows": 399, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 348.961, + "Actual Total Time": 1485.185, + "Actual Rows": 262, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 141.431, + "Actual Total Time": 1503.981, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.394, + "Actual Total Time": 1484.789, + "Actual Rows": 144, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 55853.23, + "Plan Rows": 324, + "Plan Width": 67, + "Actual Startup Time": 91.787, + "Actual Total Time": 1492.163, + "Actual Rows": 284, + "Actual Loops": 8, + "Output": ["mi.info", "mi.info_type_id", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.910, + "Actual Total Time": 1490.881, + "Actual Rows": 538, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.034, + "Actual Total Time": 1481.662, + "Actual Rows": 383, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 120.581, + "Actual Total Time": 1495.740, + "Actual Rows": 269, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 40.457, + "Actual Total Time": 1490.674, + "Actual Rows": 399, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 348.762, + "Actual Total Time": 1484.708, + "Actual Rows": 262, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 141.329, + "Actual Total Time": 1503.753, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.196, + "Actual Total Time": 1484.442, + "Actual Rows": 144, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 55809.83, + "Plan Rows": 41, + "Plan Width": 79, + "Actual Startup Time": 50.104, + "Actual Total Time": 1490.712, + "Actual Rows": 36, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.171, + "Actual Total Time": 1488.600, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 23.948, + "Actual Total Time": 1480.349, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.675, + "Actual Total Time": 1494.498, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 39.936, + "Actual Total Time": 1489.337, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 124.741, + "Actual Total Time": 1483.246, + "Actual Rows": 56, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 141.251, + "Actual Total Time": 1503.266, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.133, + "Actual Total Time": 1483.805, + "Actual Rows": 24, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.14, + "Total Cost": 55808.47, + "Plan Rows": 41, + "Plan Width": 83, + "Actual Startup Time": 50.039, + "Actual Total Time": 1490.512, + "Actual Rows": 36, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.098, + "Actual Total Time": 1488.318, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 23.871, + "Actual Total Time": 1480.164, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.608, + "Actual Total Time": 1494.283, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 39.862, + "Actual Total Time": 1489.193, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 124.669, + "Actual Total Time": 1482.977, + "Actual Rows": 56, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 141.186, + "Actual Total Time": 1503.123, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.060, + "Actual Total Time": 1483.643, + "Actual Rows": 24, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 55783.30, + "Plan Rows": 57, + "Plan Width": 87, + "Actual Startup Time": 49.969, + "Actual Total Time": 1489.394, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.027, + "Actual Total Time": 1486.648, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 23.804, + "Actual Total Time": 1479.391, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.551, + "Actual Total Time": 1492.702, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 39.786, + "Actual Total Time": 1488.381, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 124.602, + "Actual Total Time": 1481.551, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 141.081, + "Actual Total Time": 1502.547, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.994, + "Actual Total Time": 1483.148, + "Actual Rows": 24, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 55774.02, + "Plan Rows": 17, + "Plan Width": 75, + "Actual Startup Time": 36.696, + "Actual Total Time": 1488.708, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["at.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.945, + "Actual Total Time": 1485.911, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 23.695, + "Actual Total Time": 1478.780, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.216, + "Actual Total Time": 1491.764, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 39.680, + "Actual Total Time": 1487.956, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 124.393, + "Actual Total Time": 1480.709, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.917, + "Actual Total Time": 1502.064, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.879, + "Actual Total Time": 1482.642, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 33422.65, + "Plan Rows": 20139, + "Plan Width": 25, + "Actual Startup Time": 0.345, + "Actual Total Time": 550.548, + "Actual Rows": 17622, + "Actual Loops": 8, + "Output": ["at.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.133, + "Actual Total Time": 547.849, + "Actual Rows": 17223, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.351, + "Actual Total Time": 561.193, + "Actual Rows": 18251, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.209, + "Actual Total Time": 518.191, + "Actual Rows": 16870, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.269, + "Actual Total Time": 550.577, + "Actual Rows": 18200, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.586, + "Actual Total Time": 585.562, + "Actual Rows": 18125, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.254, + "Actual Total Time": 540.479, + "Actual Rows": 16888, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.295, + "Actual Total Time": 547.275, + "Actual Rows": 17849, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_aka_title", + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.42, + "Total Cost": 3432.97, + "Plan Rows": 51639, + "Plan Width": 4, + "Actual Startup Time": 0.097, + "Actual Total Time": 32.676, + "Actual Rows": 45184, + "Actual Loops": 8, + "Output": ["at.movie_id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.066, + "Actual Total Time": 31.169, + "Actual Rows": 43983, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.128, + "Actual Total Time": 32.647, + "Actual Rows": 47136, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.066, + "Actual Total Time": 29.255, + "Actual Rows": 42977, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.131, + "Actual Total Time": 31.418, + "Actual Rows": 45857, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.132, + "Actual Total Time": 33.629, + "Actual Rows": 46705, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.074, + "Actual Total Time": 30.423, + "Actual Rows": 44331, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.134, + "Actual Total Time": 40.761, + "Actual Rows": 44811, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 361472, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 43983 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 47136 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 42977 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 45857 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 46705 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 44331 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 44811 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.10, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 140974, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND (mi.note ~~ '%internet%'::text) AND ((mi.info ~~ 'USA:% 199%'::text) OR (mi.info ~~ 'USA:% 200%'::text)))", + "Rows Removed by Filter": 38, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 17223 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 18251 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 16870 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 18200 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 18125 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 16888 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 17849 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.041, + "Actual Rows": 3, + "Actual Loops": 120, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.036, + "Actual Rows": 4, + "Actual Loops": 18 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.043, + "Actual Rows": 2, + "Actual Loops": 13 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.042, + "Actual Rows": 5, + "Actual Loops": 20 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.048, + "Actual Rows": 4, + "Actual Loops": 8 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.038, + "Actual Rows": 4, + "Actual Loops": 20 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.044, + "Actual Rows": 2, + "Actual Loops": 10 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.033, + "Actual Rows": 2, + "Actual Loops": 14 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 400, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 72 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 28 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 95 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 29 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 71 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 23 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 24 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 284, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 36, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 55, + "Cache Hits": 53, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 24, + "Cache Hits": 22, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 52, + "Cache Hits": 50, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 15, + "Cache Hits": 13, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 56, + "Cache Hits": 54, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 20, + "Cache Hits": 18, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 24, + "Cache Hits": 22, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 8, + "Plan Width": 8, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.036, + "Actual Rows": 8, + "Actual Loops": 284, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.036, + "Actual Rows": 10, + "Actual Loops": 55 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.047, + "Actual Rows": 16, + "Actual Loops": 24 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.021, + "Actual Rows": 5, + "Actual Loops": 52 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.076, + "Actual Rows": 27, + "Actual Loops": 15 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.023, + "Actual Rows": 5, + "Actual Loops": 56 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.021, + "Actual Rows": 4, + "Actual Loops": 20 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.023, + "Actual Rows": 6, + "Actual Loops": 24 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.068, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 2271, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 538 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 383 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 269 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 399 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 262 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 88 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 144 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4486446217020337985, + "Planning Time": 116.257, + "Triggers": [ + ], + "Execution Time": 1538.762, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 4486446217020337985, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(at.title) AS aka_title,
       MIN(t.title) AS internet_movie_title
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND mi.note LIKE '%internet%'
  AND t.production_year > 1990
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51413.69, + "Total Cost": 51413.70, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1511.001, + "Actual Total Time": 1560.190, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(at.title)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51413.64, + "Total Cost": 51413.65, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 1510.975, + "Actual Total Time": 1560.170, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(at.title))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51412.64, + "Total Cost": 51412.65, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1501.409, + "Actual Total Time": 1501.417, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(at.title)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1500.200, + "Actual Total Time": 1500.207, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1501.478, + "Actual Total Time": 1501.485, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1495.652, + "Actual Total Time": 1495.661, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1500.816, + "Actual Total Time": 1500.824, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1501.334, + "Actual Total Time": 1501.341, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1500.559, + "Actual Total Time": 1500.568, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1501.239, + "Actual Total Time": 1501.247, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.46, + "Total Cost": 51405.55, + "Plan Rows": 1418, + "Plan Width": 38, + "Actual Startup Time": 45.552, + "Actual Total Time": 1500.309, + "Actual Rows": 1418, + "Actual Loops": 8, + "Output": ["at.title", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 36.902, + "Actual Total Time": 1499.253, + "Actual Rows": 1188, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.763, + "Actual Total Time": 1499.927, + "Actual Rows": 2141, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.426, + "Actual Total Time": 1494.411, + "Actual Rows": 1695, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.364, + "Actual Total Time": 1499.847, + "Actual Rows": 1240, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.907, + "Actual Total Time": 1499.492, + "Actual Rows": 2338, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 130.158, + "Actual Total Time": 1499.682, + "Actual Rows": 1137, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 73.612, + "Actual Total Time": 1500.721, + "Actual Rows": 554, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.04, + "Total Cost": 50785.00, + "Plan Rows": 1418, + "Plan Width": 42, + "Actual Startup Time": 45.475, + "Actual Total Time": 1487.218, + "Actual Rows": 1418, + "Actual Loops": 8, + "Output": ["at.title", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 36.808, + "Actual Total Time": 1488.222, + "Actual Rows": 1188, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.699, + "Actual Total Time": 1481.172, + "Actual Rows": 2141, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.328, + "Actual Total Time": 1480.057, + "Actual Rows": 1695, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.293, + "Actual Total Time": 1485.473, + "Actual Rows": 1240, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.818, + "Actual Total Time": 1478.329, + "Actual Rows": 2338, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 130.071, + "Actual Total Time": 1489.830, + "Actual Rows": 1137, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 73.539, + "Actual Total Time": 1495.116, + "Actual Rows": 554, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.61, + "Total Cost": 50664.18, + "Plan Rows": 109, + "Plan Width": 54, + "Actual Startup Time": 23.707, + "Actual Total Time": 1482.522, + "Actual Rows": 109, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mc.movie_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.444, + "Actual Total Time": 1482.851, + "Actual Rows": 111, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.625, + "Actual Total Time": 1476.749, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 35.431, + "Actual Total Time": 1476.081, + "Actual Rows": 151, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.198, + "Actual Total Time": 1482.570, + "Actual Rows": 81, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.743, + "Actual Total Time": 1473.368, + "Actual Rows": 131, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.889, + "Actual Total Time": 1486.476, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.153, + "Actual Total Time": 1485.375, + "Actual Rows": 80, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.56, + "Total Cost": 50662.55, + "Plan Rows": 109, + "Plan Width": 58, + "Actual Startup Time": 23.326, + "Actual Total Time": 1481.914, + "Actual Rows": 109, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.123, + "Actual Total Time": 1482.290, + "Actual Rows": 111, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.139, + "Actual Total Time": 1476.023, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 35.108, + "Actual Total Time": 1475.489, + "Actual Rows": 151, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.874, + "Actual Total Time": 1482.060, + "Actual Rows": 81, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.260, + "Actual Total Time": 1472.612, + "Actual Rows": 131, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.610, + "Actual Total Time": 1485.991, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.871, + "Actual Total Time": 1484.912, + "Actual Rows": 80, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 50546.84, + "Plan Rows": 262, + "Plan Width": 62, + "Actual Startup Time": 18.535, + "Actual Total Time": 1477.416, + "Actual Rows": 262, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.063, + "Actual Total Time": 1477.561, + "Actual Rows": 254, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.076, + "Actual Total Time": 1471.484, + "Actual Rows": 265, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 35.040, + "Actual Total Time": 1470.588, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.649, + "Actual Total Time": 1478.219, + "Actual Rows": 234, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.183, + "Actual Total Time": 1466.856, + "Actual Rows": 341, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.042, + "Actual Total Time": 1482.553, + "Actual Rows": 206, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.796, + "Actual Total Time": 1481.159, + "Actual Rows": 211, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 50506.25, + "Plan Rows": 73, + "Plan Width": 50, + "Actual Startup Time": 16.909, + "Actual Total Time": 1475.015, + "Actual Rows": 73, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.963, + "Actual Total Time": 1474.913, + "Actual Rows": 82, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.968, + "Actual Total Time": 1469.036, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.727, + "Actual Total Time": 1467.930, + "Actual Rows": 81, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.534, + "Actual Total Time": 1476.145, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.073, + "Actual Total Time": 1464.458, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.944, + "Actual Total Time": 1480.427, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.691, + "Actual Total Time": 1478.765, + "Actual Rows": 73, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 50504.18, + "Plan Rows": 83, + "Plan Width": 54, + "Actual Startup Time": 16.877, + "Actual Total Time": 1474.611, + "Actual Rows": 83, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.943, + "Actual Total Time": 1474.488, + "Actual Rows": 90, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.946, + "Actual Total Time": 1468.653, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.704, + "Actual Total Time": 1467.497, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.511, + "Actual Total Time": 1475.782, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.050, + "Actual Total Time": 1464.106, + "Actual Rows": 73, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.925, + "Actual Total Time": 1480.090, + "Actual Rows": 70, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.669, + "Actual Total Time": 1478.340, + "Actual Rows": 84, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 32884.74, + "Plan Rows": 17622, + "Plan Width": 46, + "Actual Startup Time": 0.164, + "Actual Total Time": 652.445, + "Actual Rows": 17622, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.147, + "Actual Total Time": 656.078, + "Actual Rows": 17882, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.403, + "Actual Total Time": 646.630, + "Actual Rows": 18041, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.117, + "Actual Total Time": 645.009, + "Actual Rows": 17799, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.096, + "Actual Total Time": 660.152, + "Actual Rows": 16864, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.154, + "Actual Total Time": 644.461, + "Actual Rows": 17152, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.107, + "Actual Total Time": 662.963, + "Actual Rows": 17453, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.169, + "Actual Total Time": 656.937, + "Actual Rows": 17437, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.00, + "Total Cost": 6643.84, + "Plan Rows": 45184, + "Plan Width": 25, + "Actual Startup Time": 0.033, + "Actual Total Time": 64.321, + "Actual Rows": 45184, + "Actual Loops": 8, + "Output": ["at.id", "at.movie_id", "at.title", "at.imdb_index", "at.kind_id", "at.production_year", "at.phonetic_code", "at.episode_of_id", "at.season_nr", "at.episode_nr", "at.note", "at.md5sum"],+ "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 53.029, + "Actual Rows": 45700, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 50.857, + "Actual Rows": 46243, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 52.999, + "Actual Rows": 45624, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 83.721, + "Actual Rows": 43377, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 60.896, + "Actual Rows": 44077, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 90.334, + "Actual Rows": 45087, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.042, + "Actual Total Time": 72.232, + "Actual Rows": 44954, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 361472, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"], + "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 45700 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 46243 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 45624 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 43377 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 44077 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 45087 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 44954 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.99, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 140974, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.note ~~ '%internet%'::text)", + "Rows Removed by Filter": 38, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 17882 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 18041 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 17799 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 16864 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 17152 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 17453 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 17437 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.028, + "Actual Rows": 4, + "Actual Loops": 584, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.028, + "Actual Rows": 3, + "Actual Loops": 82 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.027, + "Actual Rows": 3, + "Actual Loops": 76 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.028, + "Actual Rows": 4, + "Actual Loops": 81 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.028, + "Actual Rows": 4, + "Actual Loops": 62 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.031, + "Actual Rows": 5, + "Actual Loops": 64 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.028, + "Actual Rows": 3, + "Actual Loops": 65 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.028, + "Actual Rows": 3, + "Actual Loops": 73 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2099, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 254 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 265 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 301 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 234 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 341 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 206 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 211 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.02, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.048, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["ct.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 13, + "Plan Width": 8, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.037, + "Actual Rows": 13, + "Actual Loops": 875, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.043, + "Actual Rows": 11, + "Actual Loops": 111 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.030, + "Actual Rows": 18, + "Actual Loops": 118 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.021, + "Actual Rows": 11, + "Actual Loops": 151 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.029, + "Actual Rows": 15, + "Actual Loops": 81 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.030, + "Actual Rows": 18, + "Actual Loops": 131 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.028, + "Actual Rows": 11, + "Actual Loops": 101 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.112, + "Actual Total Time": 0.117, + "Actual Rows": 7, + "Actual Loops": 80 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 11347, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1188 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 2141 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1695 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1240 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 2338 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1137 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 554 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -321921298358758659, + "Planning Time": 135.820, + "Triggers": [ + ], + "Execution Time": 1560.605, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -321921298358758659, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND t.episode_nr >= 50
  AND t.episode_nr < 100
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4593.25, + "Total Cost": 4593.26, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 508.479, + "Actual Total Time": 508.633, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4593.21, + "Total Cost": 4593.22, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 508.459, + "Actual Total Time": 508.622, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4592.21, + "Total Cost": 4592.22, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 69.850, + "Actual Total Time": 69.856, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.708, + "Actual Total Time": 6.714, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.935, + "Actual Total Time": 8.940, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.795, + "Actual Total Time": 5.801, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.034, + "Actual Total Time": 6.039, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.602, + "Actual Total Time": 8.607, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.179, + "Actual Total Time": 6.185, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.387, + "Actual Total Time": 9.394, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 4591.93, + "Plan Rows": 55, + "Plan Width": 33, + "Actual Startup Time": 8.719, + "Actual Total Time": 69.811, + "Actual Rows": 48, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.704, + "Actual Total Time": 6.710, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.929, + "Actual Total Time": 8.933, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.791, + "Actual Total Time": 5.797, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.030, + "Actual Total Time": 6.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.597, + "Actual Total Time": 8.602, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.174, + "Actual Total Time": 6.180, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.383, + "Actual Total Time": 9.389, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 4570.18, + "Plan Rows": 46, + "Plan Width": 25, + "Actual Startup Time": 8.712, + "Actual Total Time": 68.146, + "Actual Rows": 40, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.703, + "Actual Total Time": 6.708, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.928, + "Actual Total Time": 8.931, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.791, + "Actual Total Time": 5.796, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.030, + "Actual Total Time": 6.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.596, + "Actual Total Time": 8.600, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.173, + "Actual Total Time": 6.178, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.382, + "Actual Total Time": 9.388, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 4549.58, + "Plan Rows": 46, + "Plan Width": 21, + "Actual Startup Time": 8.704, + "Actual Total Time": 67.587, + "Actual Rows": 40, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.703, + "Actual Total Time": 6.707, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.927, + "Actual Total Time": 8.930, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.790, + "Actual Total Time": 5.794, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.029, + "Actual Total Time": 6.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.596, + "Actual Total Time": 8.599, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.173, + "Actual Total Time": 6.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.381, + "Actual Total Time": 9.387, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 4544.17, + "Plan Rows": 4, + "Plan Width": 29, + "Actual Startup Time": 8.696, + "Actual Total Time": 67.165, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.702, + "Actual Total Time": 6.706, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.926, + "Actual Total Time": 8.929, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.789, + "Actual Total Time": 5.793, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.028, + "Actual Total Time": 6.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.595, + "Actual Total Time": 8.598, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.172, + "Actual Total Time": 6.176, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.380, + "Actual Total Time": 9.384, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 4540.64, + "Plan Rows": 8, + "Plan Width": 33, + "Actual Startup Time": 8.642, + "Actual Total Time": 67.040, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.701, + "Actual Total Time": 6.704, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.926, + "Actual Total Time": 8.928, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.789, + "Actual Total Time": 5.791, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.028, + "Actual Total Time": 6.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.594, + "Actual Total Time": 8.596, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.171, + "Actual Total Time": 6.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.380, + "Actual Total Time": 9.382, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4529.75, + "Plan Rows": 21, + "Plan Width": 25, + "Actual Startup Time": 7.984, + "Actual Total Time": 66.828, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.701, + "Actual Total Time": 6.703, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.925, + "Actual Total Time": 8.927, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.788, + "Actual Total Time": 5.790, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.027, + "Actual Total Time": 6.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.594, + "Actual Total Time": 8.595, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.171, + "Actual Total Time": 6.173, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.379, + "Actual Total Time": 9.381, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.71, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.676, + "Actual Total Time": 19.723, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.700, + "Actual Total Time": 6.701, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.924, + "Actual Total Time": 8.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.787, + "Actual Total Time": 5.788, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.027, + "Actual Total Time": 6.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.593, + "Actual Total Time": 8.594, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.170, + "Actual Total Time": 6.171, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.378, + "Actual Total Time": 9.379, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.661, + "Actual Total Time": 6.662, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.699, + "Actual Total Time": 6.700, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.923, + "Actual Total Time": 8.924, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.786, + "Actual Total Time": 5.787, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.026, + "Actual Total Time": 6.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.592, + "Actual Total Time": 8.593, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.169, + "Actual Total Time": 6.170, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.377, + "Actual Total Time": 9.378, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.100, + "Actual Total Time": 94.833, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.episode_nr >= 50) AND (t.episode_nr < 100))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 146, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 54, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 18, + "Plan Width": 8, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.126, + "Actual Rows": 13, + "Actual Loops": 25, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 323, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 323, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 816913887554954199, + "Planning Time": 55.394, + "Triggers": [ + ], + "Execution Time": 509.111, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 816913887554954199, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 93521.27, + "Total Cost": 93521.28, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 11059.003, + "Actual Total Time": 11118.691, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 93521.22, + "Total Cost": 93521.23, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 11058.950, + "Actual Total Time": 11118.663, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 93520.22, + "Total Cost": 93520.23, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 11010.411, + "Actual Total Time": 11010.421, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11001.840, + "Actual Total Time": 11001.850, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11004.300, + "Actual Total Time": 11004.311, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11004.286, + "Actual Total Time": 11004.295, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11004.267, + "Actual Total Time": 11004.278, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11001.875, + "Actual Total Time": 11001.885, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11004.335, + "Actual Total Time": 11004.344, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11004.281, + "Actual Total Time": 11004.291, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 78146.51, + "Total Cost": 91201.10, + "Plan Rows": 463824, + "Plan Width": 33, + "Actual Startup Time": 10343.670, + "Actual Total Time": 10749.283, + "Actual Rows": 463824, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(an.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10340.300, + "Actual Total Time": 10741.397, + "Actual Rows": 457517, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10342.841, + "Actual Total Time": 10746.923, + "Actual Rows": 472289, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10342.887, + "Actual Total Time": 10744.217, + "Actual Rows": 445610, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10342.697, + "Actual Total Time": 10734.155, + "Actual Rows": 485351, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10340.429, + "Actual Total Time": 10745.089, + "Actual Rows": 464910, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10342.873, + "Actual Total Time": 10745.975, + "Actual Rows": 467358, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10342.896, + "Actual Total Time": 10743.975, + "Actual Rows": 448359, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.00, + "Total Cost": 12522.68, + "Plan Rows": 112668, + "Plan Width": 20, + "Actual Startup Time": 0.072, + "Actual Total Time": 40.954, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.075, + "Actual Total Time": 41.194, + "Actual Rows": 111037, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.103, + "Actual Total Time": 43.487, + "Actual Rows": 118532, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.076, + "Actual Total Time": 40.925, + "Actual Rows": 106929, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.063, + "Actual Total Time": 34.605, + "Actual Rows": 112915, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.073, + "Actual Total Time": 41.357, + "Actual Rows": 112728, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.065, + "Actual Total Time": 42.710, + "Actual Rows": 117690, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.066, + "Actual Total Time": 41.088, + "Actual Rows": 105229, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 73088.38, + "Total Cost": 73088.38, + "Plan Rows": 404651, + "Plan Width": 25, + "Actual Startup Time": 10334.669, + "Actual Total Time": 10334.678, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 209760, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10339.452, + "Actual Total Time": 10339.460, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10342.406, + "Actual Total Time": 10342.415, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10342.204, + "Actual Total Time": 10342.211, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10342.167, + "Actual Total Time": 10342.176, + "Actual Rows": 2832555, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10339.613, + "Actual Total Time": 10339.621, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10342.406, + "Actual Total Time": 10342.415, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10342.403, + "Actual Total Time": 10342.411, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 48627.33, + "Total Cost": 73088.38, + "Plan Rows": 404651, + "Plan Width": 25, + "Actual Startup Time": 773.147, + "Actual Total Time": 1791.364, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 773.847, + "Actual Total Time": 773.855, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 773.852, + "Actual Total Time": 773.860, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 773.888, + "Actual Total Time": 773.895, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 768.124, + "Actual Total Time": 8913.800, + "Actual Rows": 2832555, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 773.849, + "Actual Total Time": 773.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 773.814, + "Actual Total Time": 773.823, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 773.847, + "Actual Total Time": 773.854, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3496.48, + "Total Cost": 26895.32, + "Plan Rows": 404651, + "Plan Width": 21, + "Actual Startup Time": 31.387, + "Actual Total Time": 836.085, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.104, + "Actual Total Time": 32.110, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.098, + "Actual Total Time": 32.104, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.123, + "Actual Total Time": 32.128, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.380, + "Actual Total Time": 6463.922, + "Actual Rows": 2832555, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.108, + "Actual Total Time": 32.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.075, + "Actual Total Time": 32.082, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.113, + "Actual Total Time": 32.118, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3496.04, + "Total Cost": 11343.99, + "Plan Rows": 9759, + "Plan Width": 29, + "Actual Startup Time": 31.308, + "Actual Total Time": 155.884, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.103, + "Actual Total Time": 32.108, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.096, + "Actual Total Time": 32.101, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.121, + "Actual Total Time": 32.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.760, + "Actual Total Time": 1022.327, + "Actual Rows": 68316, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.107, + "Actual Total Time": 32.112, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.074, + "Actual Total Time": 32.079, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.111, + "Actual Total Time": 32.116, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 7793.53, + "Plan Rows": 21222, + "Plan Width": 33, + "Actual Startup Time": 6.263, + "Actual Total Time": 119.756, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.062, + "Actual Total Time": 7.065, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.063, + "Actual Total Time": 7.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.077, + "Actual Total Time": 7.080, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.641, + "Actual Total Time": 908.572, + "Actual Rows": 148552, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.074, + "Actual Total Time": 7.077, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.046, + "Actual Total Time": 7.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.081, + "Actual Total Time": 7.083, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4499.86, + "Plan Rows": 5977, + "Plan Width": 25, + "Actual Startup Time": 6.241, + "Actual Total Time": 62.898, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.061, + "Actual Total Time": 7.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.062, + "Actual Total Time": 7.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.076, + "Actual Total Time": 7.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.477, + "Actual Total Time": 453.720, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.073, + "Actual Total Time": 7.075, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.044, + "Actual Total Time": 7.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.079, + "Actual Total Time": 7.081, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.71, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.232, + "Actual Total Time": 17.652, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.060, + "Actual Total Time": 7.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.061, + "Actual Total Time": 7.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.075, + "Actual Total Time": 7.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.409, + "Actual Total Time": 91.768, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.072, + "Actual Total Time": 7.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.043, + "Actual Total Time": 7.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.078, + "Actual Total Time": 7.080, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.214, + "Actual Total Time": 6.215, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.059, + "Actual Total Time": 7.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.060, + "Actual Total Time": 7.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.074, + "Actual Total Time": 7.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.278, + "Actual Total Time": 0.285, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.070, + "Actual Total Time": 7.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.042, + "Actual Total Time": 7.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.078, + "Actual Total Time": 7.078, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.125, + "Actual Total Time": 81.918, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.125, + "Actual Total Time": 81.918, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 4, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 24.795, + "Actual Total Time": 24.796, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4512, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.991, + "Actual Total Time": 24.992, + "Actual Rows": 10710, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.989, + "Actual Total Time": 24.990, + "Actual Rows": 10561, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.990, + "Actual Total Time": 24.991, + "Actual Rows": 10774, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.992, + "Actual Total Time": 24.994, + "Actual Rows": 10099, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.432, + "Actual Total Time": 23.433, + "Actual Rows": 10779, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 24.986, + "Actual Total Time": 24.987, + "Actual Rows": 10696, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.984, + "Actual Total Time": 24.985, + "Actual Rows": 10475, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 16.960, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 16.911, + "Actual Rows": 10710, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 16.888, + "Actual Rows": 10561, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 16.964, + "Actual Rows": 10774, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.066, + "Actual Total Time": 17.296, + "Actual Rows": 10099, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 16.812, + "Actual Rows": 10779, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.055, + "Actual Total Time": 16.863, + "Actual Rows": 10696, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 17.093, + "Actual Rows": 10475, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.18, + "Plan Rows": 41, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.071, + "Actual Rows": 41, + "Actual Loops": 68316, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.071, + "Actual Rows": 41, + "Actual Loops": 68316 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 38619.15, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 732.192, + "Actual Total Time": 732.193, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 195936, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 741.705, + "Actual Total Time": 741.706, + "Actual Rows": 511302, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 741.717, + "Actual Total Time": 741.719, + "Actual Rows": 502518, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 741.732, + "Actual Total Time": 741.733, + "Actual Rows": 553392, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 741.699, + "Actual Total Time": 741.700, + "Actual Rows": 512766, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 741.702, + "Actual Total Time": 741.702, + "Actual Rows": 503616, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 741.705, + "Actual Total Time": 741.706, + "Actual Rows": 508955, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 741.695, + "Actual Total Time": 741.696, + "Actual Rows": 522648, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 0.404, + "Actual Total Time": 243.089, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.719, + "Actual Total Time": 240.046, + "Actual Rows": 511302, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.560, + "Actual Total Time": 239.557, + "Actual Rows": 502518, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.135, + "Actual Total Time": 239.886, + "Actual Rows": 553392, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.273, + "Actual Total Time": 253.421, + "Actual Rows": 512766, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.652, + "Actual Total Time": 246.823, + "Actual Rows": 503616, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.447, + "Actual Total Time": 241.325, + "Actual Rows": 508955, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.362, + "Actual Total Time": 241.832, + "Actual Rows": 522648, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3350265702090035455, + "Planning Time": 59.357, + "Triggers": [ + ], + "Execution Time": 11119.016, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3350265702090035455, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND t.episode_nr < 100
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 35270.23, + "Total Cost": 35270.24, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3078.405, + "Actual Total Time": 3081.051, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 35270.18, + "Total Cost": 35270.19, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 3074.344, + "Actual Total Time": 3081.019, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 35269.18, + "Total Cost": 35269.19, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3065.319, + "Actual Total Time": 3065.329, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3064.788, + "Actual Total Time": 3064.796, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3060.778, + "Actual Total Time": 3060.786, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3064.740, + "Actual Total Time": 3064.748, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3064.768, + "Actual Total Time": 3064.776, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3061.489, + "Actual Total Time": 3061.499, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3067.820, + "Actual Total Time": 3067.834, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3064.813, + "Actual Total Time": 3064.820, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 22115.48, + "Total Cost": 35069.22, + "Plan Rows": 39992, + "Plan Width": 33, + "Actual Startup Time": 2904.459, + "Actual Total Time": 3038.432, + "Actual Rows": 39992, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(an.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2904.330, + "Actual Total Time": 3040.467, + "Actual Rows": 48931, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2900.394, + "Actual Total Time": 3036.962, + "Actual Rows": 32458, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2904.350, + "Actual Total Time": 3037.516, + "Actual Rows": 36038, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2904.174, + "Actual Total Time": 3037.806, + "Actual Rows": 38686, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2901.016, + "Actual Total Time": 3030.470, + "Actual Rows": 34329, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2904.481, + "Actual Total Time": 3041.960, + "Actual Rows": 36807, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2904.275, + "Actual Total Time": 3037.754, + "Actual Rows": 37622, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.00, + "Total Cost": 12522.68, + "Plan Rows": 112668, + "Plan Width": 20, + "Actual Startup Time": 0.077, + "Actual Total Time": 44.334, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.070, + "Actual Total Time": 43.801, + "Actual Rows": 146553, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.114, + "Actual Total Time": 55.340, + "Actual Rows": 94238, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.090, + "Actual Total Time": 43.337, + "Actual Rows": 102566, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.069, + "Actual Total Time": 43.702, + "Actual Rows": 104777, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.086, + "Actual Total Time": 42.476, + "Actual Rows": 94664, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.067, + "Actual Total Time": 44.613, + "Actual Rows": 110546, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.096, + "Actual Total Time": 43.799, + "Actual Rows": 101543, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 21719.76, + "Total Cost": 21719.76, + "Plan Rows": 31658, + "Plan Width": 25, + "Actual Startup Time": 2903.048, + "Actual Total Time": 2903.055, + "Actual Rows": 27701, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Hash Buckets": 262144, + "Original Hash Buckets": 262144, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 16512, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2903.481, + "Actual Total Time": 2903.487, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2899.451, + "Actual Total Time": 2899.458, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2903.693, + "Actual Total Time": 2903.698, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2903.480, + "Actual Total Time": 2903.485, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2900.236, + "Actual Total Time": 2900.244, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2903.480, + "Actual Total Time": 2903.489, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2903.698, + "Actual Total Time": 2903.703, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 21719.76, + "Plan Rows": 31658, + "Plan Width": 25, + "Actual Startup Time": 7.342, + "Actual Total Time": 353.245, + "Actual Rows": 27701, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.969, + "Actual Total Time": 8.975, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.698, + "Actual Total Time": 4.705, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.992, + "Actual Total Time": 8.997, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.988, + "Actual Total Time": 8.993, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.465, + "Actual Total Time": 5.472, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.960, + "Actual Total Time": 8.968, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.010, + "Actual Total Time": 9.015, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 7541.82, + "Plan Rows": 31658, + "Plan Width": 21, + "Actual Startup Time": 7.336, + "Actual Total Time": 158.166, + "Actual Rows": 27701, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.968, + "Actual Total Time": 8.973, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.697, + "Actual Total Time": 4.702, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.990, + "Actual Total Time": 8.994, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.987, + "Actual Total Time": 8.991, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.464, + "Actual Total Time": 5.470, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.959, + "Actual Total Time": 8.966, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.009, + "Actual Total Time": 9.013, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 5771.93, + "Plan Rows": 1220, + "Plan Width": 29, + "Actual Startup Time": 7.328, + "Actual Total Time": 82.896, + "Actual Rows": 1067, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.967, + "Actual Total Time": 8.971, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.696, + "Actual Total Time": 4.701, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.989, + "Actual Total Time": 8.992, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.987, + "Actual Total Time": 8.990, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.463, + "Actual Total Time": 5.468, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.958, + "Actual Total Time": 8.965, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.008, + "Actual Total Time": 9.012, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 5052.50, + "Plan Rows": 1629, + "Plan Width": 33, + "Actual Startup Time": 7.202, + "Actual Total Time": 71.458, + "Actual Rows": 1426, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.966, + "Actual Total Time": 8.969, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.695, + "Actual Total Time": 4.698, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.988, + "Actual Total Time": 8.991, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.985, + "Actual Total Time": 8.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.462, + "Actual Total Time": 5.466, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.958, + "Actual Total Time": 8.962, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.007, + "Actual Total Time": 9.010, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4514.81, + "Plan Rows": 989, + "Plan Width": 25, + "Actual Startup Time": 7.179, + "Actual Total Time": 62.735, + "Actual Rows": 866, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.966, + "Actual Total Time": 8.968, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.694, + "Actual Total Time": 4.696, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.987, + "Actual Total Time": 8.989, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.985, + "Actual Total Time": 8.987, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.461, + "Actual Total Time": 5.464, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.957, + "Actual Total Time": 8.960, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.006, + "Actual Total Time": 9.008, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.71, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 7.173, + "Actual Total Time": 18.356, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.965, + "Actual Total Time": 8.966, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.693, + "Actual Total Time": 4.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.987, + "Actual Total Time": 8.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.984, + "Actual Total Time": 8.985, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.460, + "Actual Total Time": 5.462, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.956, + "Actual Total Time": 8.958, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.005, + "Actual Total Time": 9.006, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 7.160, + "Actual Total Time": 7.161, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.964, + "Actual Total Time": 8.964, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.692, + "Actual Total Time": 4.693, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.986, + "Actual Total Time": 8.986, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.983, + "Actual Total Time": 8.983, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.459, + "Actual Total Time": 5.460, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.955, + "Actual Total Time": 8.956, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.004, + "Actual Total Time": 9.004, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.092, + "Actual Total Time": 80.670, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.episode_nr < 100)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 2, + "Actual Loops": 6926, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 11406, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 26, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.062, + "Actual Rows": 26, + "Actual Loops": 8538, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 221609, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 607840843579539521, + "Planning Time": 54.947, + "Triggers": [ + ], + "Execution Time": 3081.444, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 607840843579539521, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND t.episode_nr >= 5
  AND t.episode_nr < 100
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29114.37, + "Total Cost": 29114.38, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3780.775, + "Actual Total Time": 3780.923, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29114.32, + "Total Cost": 29114.33, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 3780.754, + "Actual Total Time": 3780.912, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29113.32, + "Total Cost": 29113.33, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 478.382, + "Actual Total Time": 478.388, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.183, + "Actual Total Time": 5.190, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.866, + "Actual Total Time": 5.871, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.320, + "Actual Total Time": 8.326, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.078, + "Actual Total Time": 7.084, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.652, + "Actual Total Time": 6.659, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.040, + "Actual Total Time": 7.047, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.020, + "Actual Total Time": 7.026, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 28935.99, + "Plan Rows": 35466, + "Plan Width": 33, + "Actual Startup Time": 6.243, + "Actual Total Time": 464.211, + "Actual Rows": 31182, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.177, + "Actual Total Time": 5.183, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.860, + "Actual Total Time": 5.864, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.315, + "Actual Total Time": 8.320, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.073, + "Actual Total Time": 7.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.647, + "Actual Total Time": 6.654, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.036, + "Actual Total Time": 7.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.017, + "Actual Total Time": 7.022, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 17552.54, + "Plan Rows": 24070, + "Plan Width": 25, + "Actual Startup Time": 6.234, + "Actual Total Time": 269.874, + "Actual Rows": 21159, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.177, + "Actual Total Time": 5.182, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.859, + "Actual Total Time": 5.863, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.314, + "Actual Total Time": 8.319, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.073, + "Actual Total Time": 7.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.646, + "Actual Total Time": 6.652, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.035, + "Actual Total Time": 7.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.016, + "Actual Total Time": 7.020, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 6772.87, + "Plan Rows": 24070, + "Plan Width": 21, + "Actual Startup Time": 6.228, + "Actual Total Time": 116.554, + "Actual Rows": 21159, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.176, + "Actual Total Time": 5.180, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.859, + "Actual Total Time": 5.862, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.313, + "Actual Total Time": 8.317, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.072, + "Actual Total Time": 7.075, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.646, + "Actual Total Time": 6.651, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.034, + "Actual Total Time": 7.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.015, + "Actual Total Time": 7.019, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 5472.11, + "Plan Rows": 963, + "Plan Width": 29, + "Actual Startup Time": 6.217, + "Actual Total Time": 69.025, + "Actual Rows": 846, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.175, + "Actual Total Time": 5.179, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.858, + "Actual Total Time": 5.861, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.313, + "Actual Total Time": 8.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.071, + "Actual Total Time": 7.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.645, + "Actual Total Time": 6.649, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.034, + "Actual Total Time": 7.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.014, + "Actual Total Time": 7.017, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 4927.58, + "Plan Rows": 1233, + "Plan Width": 33, + "Actual Startup Time": 6.128, + "Actual Total Time": 60.324, + "Actual Rows": 1083, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.174, + "Actual Total Time": 5.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.857, + "Actual Total Time": 5.860, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.312, + "Actual Total Time": 8.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.071, + "Actual Total Time": 7.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.645, + "Actual Total Time": 6.648, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.033, + "Actual Total Time": 7.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.013, + "Actual Total Time": 7.016, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4529.75, + "Plan Rows": 767, + "Plan Width": 25, + "Actual Startup Time": 6.111, + "Actual Total Time": 53.900, + "Actual Rows": 673, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.174, + "Actual Total Time": 5.176, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.857, + "Actual Total Time": 5.859, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.312, + "Actual Total Time": 8.313, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.070, + "Actual Total Time": 7.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.644, + "Actual Total Time": 6.646, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.033, + "Actual Total Time": 7.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.013, + "Actual Total Time": 7.014, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.71, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.104, + "Actual Total Time": 13.076, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.173, + "Actual Total Time": 5.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.856, + "Actual Total Time": 5.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.311, + "Actual Total Time": 8.312, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.069, + "Actual Total Time": 7.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.643, + "Actual Total Time": 6.644, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.032, + "Actual Total Time": 7.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.012, + "Actual Total Time": 7.013, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.091, + "Actual Total Time": 6.092, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.172, + "Actual Total Time": 5.173, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.855, + "Actual Total Time": 5.856, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.310, + "Actual Total Time": 8.311, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.069, + "Actual Total Time": 7.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.642, + "Actual Total Time": 6.643, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.031, + "Actual Total Time": 7.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.011, + "Actual Total Time": 7.011, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.092, + "Actual Total Time": 47.201, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.episode_nr >= 5) AND (t.episode_nr < 100))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 2, + "Actual Loops": 5385, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 8661, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 18, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.048, + "Actual Rows": 25, + "Actual Loops": 6766, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 169273, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 169273, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 816913887554954199, + "Planning Time": 49.713, + "Triggers": [ + ], + "Execution Time": 3781.273, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 816913887554954199, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_american_movie,
       MIN(n.name) AS a1
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND n.name LIKE 'B%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 88028.23, + "Total Cost": 88028.24, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 6053.323, + "Actual Total Time": 6108.298, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 88028.20, + "Total Cost": 88028.21, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 306.658, + "Actual Total Time": 6108.276, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 88027.20, + "Total Cost": 88027.21, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1017.105, + "Actual Total Time": 1017.117, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 297.686, + "Actual Total Time": 297.693, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 298.162, + "Actual Total Time": 298.171, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6042.726, + "Actual Total Time": 6042.737, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 298.076, + "Actual Total Time": 298.084, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 298.222, + "Actual Total Time": 298.231, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 298.058, + "Actual Total Time": 298.066, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 298.076, + "Actual Total Time": 298.085, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 66208.74, + "Total Cost": 87934.96, + "Plan Rows": 36898, + "Plan Width": 15, + "Actual Startup Time": 298.534, + "Actual Total Time": 1006.261, + "Actual Rows": 32286, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 297.682, + "Actual Total Time": 297.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 298.159, + "Actual Total Time": 298.166, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 294.181, + "Actual Total Time": 5955.920, + "Actual Rows": 258289, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 298.072, + "Actual Total Time": 298.080, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 298.217, + "Actual Total Time": 298.225, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 298.054, + "Actual Total Time": 298.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 298.072, + "Actual Total Time": 298.080, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62714.00, + "Total Cost": 84176.64, + "Plan Rows": 100407, + "Plan Width": 19, + "Actual Startup Time": 273.523, + "Actual Total Time": 952.669, + "Actual Rows": 87856, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 274.120, + "Actual Total Time": 274.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 274.120, + "Actual Total Time": 274.126, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 269.354, + "Actual Total Time": 5702.461, + "Actual Rows": 702849, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 274.105, + "Actual Total Time": 274.111, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 274.108, + "Actual Total Time": 274.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 274.130, + "Actual Total Time": 274.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 274.117, + "Actual Total Time": 274.123, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62713.57, + "Total Cost": 76595.57, + "Plan Rows": 13331, + "Plan Width": 27, + "Actual Startup Time": 273.252, + "Actual Total Time": 796.919, + "Actual Rows": 11664, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 274.119, + "Actual Total Time": 274.123, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 274.119, + "Actual Total Time": 274.124, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 267.189, + "Actual Total Time": 4456.474, + "Actual Rows": 93315, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 274.104, + "Actual Total Time": 274.109, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 274.107, + "Actual Total Time": 274.113, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 274.130, + "Actual Total Time": 274.134, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 274.116, + "Actual Total Time": 274.121, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 13493.91, + "Plan Rows": 148342, + "Plan Width": 16, + "Actual Startup Time": 5.602, + "Actual Total Time": 468.593, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.770, + "Actual Total Time": 3.772, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.597, + "Actual Total Time": 7.599, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.659, + "Actual Total Time": 3704.552, + "Actual Rows": 1038393, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.588, + "Actual Total Time": 7.591, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.582, + "Actual Total Time": 7.586, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.605, + "Actual Total Time": 7.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.405, + "Actual Total Time": 2.408, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4447.49, + "Plan Rows": 5977, + "Plan Width": 8, + "Actual Startup Time": 5.589, + "Actual Total Time": 50.909, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.768, + "Actual Total Time": 3.770, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.595, + "Actual Total Time": 7.597, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.568, + "Actual Total Time": 363.106, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.587, + "Actual Total Time": 7.589, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.581, + "Actual Total Time": 7.584, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.603, + "Actual Total Time": 7.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.404, + "Actual Total Time": 2.407, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.71, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 5.577, + "Actual Total Time": 15.332, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.767, + "Actual Total Time": 3.768, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.594, + "Actual Total Time": 7.596, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.477, + "Actual Total Time": 78.501, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.586, + "Actual Total Time": 7.588, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.580, + "Actual Total Time": 7.582, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.602, + "Actual Total Time": 7.604, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.403, + "Actual Total Time": 2.405, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.561, + "Actual Total Time": 5.563, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.766, + "Actual Total Time": 3.767, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.593, + "Actual Total Time": 7.593, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.357, + "Actual Total Time": 0.365, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.585, + "Actual Total Time": 7.586, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.579, + "Actual Total Time": 7.580, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.601, + "Actual Total Time": 7.602, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.402, + "Actual Total Time": 2.403, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.114, + "Actual Total Time": 69.005, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.114, + "Actual Total Time": 69.005, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id"], + "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.18, + "Plan Rows": 33, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.074, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.074, + "Actual Rows": 25, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 62175.70, + "Total Cost": 62175.70, + "Plan Rows": 42925, + "Plan Width": 19, + "Actual Startup Time": 265.352, + "Actual Total Time": 265.353, + "Actual Rows": 42925, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 524288, + "Original Hash Buckets": 524288, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 22816, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 266.487, + "Actual Total Time": 266.488, + "Actual Rows": 44446, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 266.470, + "Actual Total Time": 266.471, + "Actual Rows": 39873, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 266.467, + "Actual Total Time": 266.468, + "Actual Rows": 41274, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 266.461, + "Actual Total Time": 266.462, + "Actual Rows": 44989, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 266.475, + "Actual Total Time": 266.476, + "Actual Rows": 41810, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 266.467, + "Actual Total Time": 266.468, + "Actual Rows": 44157, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 257.529, + "Actual Total Time": 257.530, + "Actual Rows": 48192, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 62175.70, + "Plan Rows": 42925, + "Plan Width": 19, + "Actual Startup Time": 0.055, + "Actual Total Time": 221.464, + "Actual Rows": 42925, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Filter": "(n.name ~~ 'B%'::text)", + "Rows Removed by Filter": 478012, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.050, + "Actual Total Time": 220.608, + "Actual Rows": 44446, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.055, + "Actual Total Time": 224.228, + "Actual Rows": 39873, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.049, + "Actual Total Time": 221.285, + "Actual Rows": 41274, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 217.998, + "Actual Rows": 44989, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 223.012, + "Actual Rows": 41810, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.045, + "Actual Total Time": 221.469, + "Actual Rows": 44157, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.096, + "Actual Total Time": 218.028, + "Actual Rows": 48192, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.011, + "Actual Rows": 8, + "Actual Loops": 93315, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.011, + "Actual Rows": 8, + "Actual Loops": 93315 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 24.288, + "Actual Total Time": 24.291, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4480, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.256, + "Actual Total Time": 23.257, + "Actual Rows": 10085, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 23.738, + "Actual Total Time": 23.739, + "Actual Rows": 10284, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.645, + "Actual Total Time": 23.646, + "Actual Rows": 10269, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.686, + "Actual Total Time": 23.687, + "Actual Rows": 10273, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.811, + "Actual Total Time": 23.812, + "Actual Rows": 10720, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.645, + "Actual Total Time": 23.646, + "Actual Rows": 10210, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.675, + "Actual Total Time": 23.676, + "Actual Rows": 10337, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 17.132, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 16.511, + "Actual Rows": 10085, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 16.592, + "Actual Rows": 10284, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 16.615, + "Actual Rows": 10269, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 16.508, + "Actual Rows": 10273, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 17.058, + "Actual Rows": 10720, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 16.695, + "Actual Rows": 10210, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 16.584, + "Actual Rows": 10337, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -917204397272063480, + "Planning Time": 32.522, + "Triggers": [ + ], + "Execution Time": 6108.626, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -917204397272063480, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie,
       MIN(n.name) AS a1
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE 'Z%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76574.27, + "Total Cost": 76574.28, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 4460.719, + "Actual Total Time": 4516.341, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76574.24, + "Total Cost": 76574.25, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 270.255, + "Actual Total Time": 4516.312, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76573.24, + "Total Cost": 76573.25, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 786.032, + "Actual Total Time": 786.042, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4449.134, + "Actual Total Time": 4449.143, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 260.912, + "Actual Total Time": 260.919, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 261.180, + "Actual Total Time": 261.188, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 263.223, + "Actual Total Time": 263.234, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 260.832, + "Actual Total Time": 260.841, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 261.910, + "Actual Total Time": 261.918, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 261.706, + "Actual Total Time": 261.713, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 65135.98, + "Total Cost": 76554.59, + "Plan Rows": 7462, + "Plan Width": 15, + "Actual Startup Time": 261.857, + "Actual Total Time": 783.323, + "Actual Rows": 6538, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 255.763, + "Actual Total Time": 4427.436, + "Actual Rows": 52306, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 260.908, + "Actual Total Time": 260.914, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 261.175, + "Actual Total Time": 261.182, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 263.216, + "Actual Total Time": 263.225, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 260.827, + "Actual Total Time": 260.836, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 261.906, + "Actual Total Time": 261.914, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 261.702, + "Actual Total Time": 261.709, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62233.92, + "Total Cost": 73632.92, + "Plan Rows": 7472, + "Plan Width": 19, + "Actual Startup Time": 226.276, + "Actual Total Time": 742.153, + "Actual Rows": 6538, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 222.329, + "Actual Total Time": 4349.294, + "Actual Rows": 52306, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 226.438, + "Actual Total Time": 226.443, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 226.412, + "Actual Total Time": 226.418, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 229.280, + "Actual Total Time": 229.287, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 226.447, + "Actual Total Time": 226.453, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 226.428, + "Actual Total Time": 226.433, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 226.416, + "Actual Total Time": 226.421, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62233.49, + "Total Cost": 73091.26, + "Plan Rows": 949, + "Plan Width": 27, + "Actual Startup Time": 226.264, + "Actual Total Time": 726.001, + "Actual Rows": 830, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 222.241, + "Actual Total Time": 4220.092, + "Actual Rows": 6642, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 226.437, + "Actual Total Time": 226.440, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 226.411, + "Actual Total Time": 226.416, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 229.279, + "Actual Total Time": 229.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 226.445, + "Actual Total Time": 226.451, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 226.427, + "Actual Total Time": 226.431, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 226.415, + "Actual Total Time": 226.419, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62233.06, + "Total Cost": 72666.83, + "Plan Rows": 948, + "Plan Width": 23, + "Actual Startup Time": 226.245, + "Actual Total Time": 717.834, + "Actual Rows": 830, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 222.089, + "Actual Total Time": 4154.771, + "Actual Rows": 6642, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 226.435, + "Actual Total Time": 226.438, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 226.410, + "Actual Total Time": 226.414, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 229.277, + "Actual Total Time": 229.283, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 226.444, + "Actual Total Time": 226.448, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 226.426, + "Actual Total Time": 226.430, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 226.414, + "Actual Total Time": 226.418, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 10045.24, + "Plan Rows": 148342, + "Plan Width": 12, + "Actual Startup Time": 8.336, + "Actual Total Time": 449.127, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.765, + "Actual Total Time": 3527.080, + "Actual Rows": 1038393, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.498, + "Actual Total Time": 9.500, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.336, + "Actual Total Time": 8.338, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.324, + "Actual Total Time": 12.327, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.510, + "Actual Total Time": 9.512, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.366, + "Actual Total Time": 8.367, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.384, + "Actual Total Time": 8.387, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.71, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 8.323, + "Actual Total Time": 19.233, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.673, + "Actual Total Time": 87.943, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.496, + "Actual Total Time": 9.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.335, + "Actual Total Time": 8.336, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.323, + "Actual Total Time": 12.325, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.509, + "Actual Total Time": 9.510, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.364, + "Actual Total Time": 8.365, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.383, + "Actual Total Time": 8.385, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.302, + "Actual Total Time": 8.304, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.519, + "Actual Total Time": 0.526, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.495, + "Actual Total Time": 9.496, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.333, + "Actual Total Time": 8.334, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.321, + "Actual Total Time": 12.322, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.508, + "Actual Total Time": 9.508, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.363, + "Actual Total Time": 8.363, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.382, + "Actual Total Time": 8.383, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.147, + "Actual Total Time": 77.327, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.147, + "Actual Total Time": 77.327, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 26, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.075, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.075, + "Actual Rows": 25, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 62175.70, + "Total Cost": 62175.70, + "Plan Rows": 4519, + "Plan Width": 19, + "Actual Startup Time": 216.751, + "Actual Total Time": 216.752, + "Actual Rows": 4522, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2560, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 216.190, + "Actual Total Time": 216.192, + "Actual Rows": 7049, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 216.819, + "Actual Total Time": 216.820, + "Actual Rows": 4203, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 216.833, + "Actual Total Time": 216.834, + "Actual Rows": 5263, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 216.811, + "Actual Total Time": 216.812, + "Actual Rows": 3814, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 216.811, + "Actual Total Time": 216.812, + "Actual Rows": 3845, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 216.901, + "Actual Total Time": 216.902, + "Actual Rows": 2907, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 216.827, + "Actual Total Time": 216.828, + "Actual Rows": 5563, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 62175.70, + "Plan Rows": 4519, + "Plan Width": 19, + "Actual Startup Time": 86.192, + "Actual Total Time": 211.725, + "Actual Rows": 4522, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Filter": "(n.name ~~ 'Z%'::text)", + "Rows Removed by Filter": 516415, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 80.417, + "Actual Total Time": 208.091, + "Actual Rows": 7049, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 79.887, + "Actual Total Time": 213.280, + "Actual Rows": 4203, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 79.923, + "Actual Total Time": 209.442, + "Actual Rows": 5263, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 79.698, + "Actual Total Time": 213.295, + "Actual Rows": 3814, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 79.976, + "Actual Total Time": 213.113, + "Actual Rows": 3845, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 79.800, + "Actual Total Time": 213.994, + "Actual Rows": 2907, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 80.278, + "Actual Total Time": 209.363, + "Actual Rows": 5563, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 6642, + "Output": ["t.id"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 6642 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 7, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.017, + "Actual Rows": 8, + "Actual Loops": 6642, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.017, + "Actual Rows": 8, + "Actual Loops": 6642 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 2482.42, + "Total Cost": 2482.42, + "Plan Rows": 33571, + "Plan Width": 4, + "Actual Startup Time": 34.673, + "Actual Total Time": 34.674, + "Actual Rows": 29375, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 262144, + "Original Hash Buckets": 262144, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 11360, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.138, + "Actual Total Time": 33.138, + "Actual Rows": 28072, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.197, + "Actual Total Time": 34.198, + "Actual Rows": 28060, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 34.485, + "Actual Total Time": 34.486, + "Actual Rows": 28383, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.588, + "Actual Total Time": 33.589, + "Actual Rows": 29857, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.105, + "Actual Total Time": 34.106, + "Actual Rows": 28815, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.206, + "Actual Total Time": 35.207, + "Actual Rows": 27790, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 35.020, + "Actual Total Time": 35.021, + "Actual Rows": 30029, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 2482.42, + "Plan Rows": 33571, + "Plan Width": 4, + "Actual Startup Time": 0.070, + "Actual Total Time": 13.797, + "Actual Rows": 29375, + "Actual Loops": 8, + "Output": ["cn.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.063, + "Actual Total Time": 12.669, + "Actual Rows": 28072, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.066, + "Actual Total Time": 13.622, + "Actual Rows": 28060, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.077, + "Actual Total Time": 14.331, + "Actual Rows": 28383, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.069, + "Actual Total Time": 13.114, + "Actual Rows": 29857, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.075, + "Actual Total Time": 13.471, + "Actual Rows": 28815, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.073, + "Actual Total Time": 14.208, + "Actual Rows": 27790, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.072, + "Actual Total Time": 14.144, + "Actual Rows": 30029, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5459870143170781696, + "Planning Time": 34.831, + "Triggers": [ + ], + "Execution Time": 4516.747, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -5459870143170781696, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie,
       MIN(n.name) AS a1
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE 'X%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 72879.41, + "Total Cost": 72879.42, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 4064.157, + "Actual Total Time": 4113.637, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 72879.39, + "Total Cost": 72879.40, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 237.553, + "Actual Total Time": 4113.609, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 72878.39, + "Total Cost": 72878.40, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 707.069, + "Actual Total Time": 707.077, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 229.127, + "Actual Total Time": 229.134, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 229.015, + "Actual Total Time": 229.022, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 222.907, + "Actual Total Time": 222.913, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 228.926, + "Actual Total Time": 228.934, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 229.125, + "Actual Total Time": 229.132, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 225.246, + "Actual Total Time": 225.252, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4055.462, + "Actual Total Time": 4055.468, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62182.02, + "Total Cost": 72877.70, + "Plan Rows": 274, + "Plan Width": 15, + "Actual Startup Time": 234.160, + "Actual Total Time": 706.860, + "Actual Rows": 240, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 229.123, + "Actual Total Time": 229.129, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 229.009, + "Actual Total Time": 229.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 222.902, + "Actual Total Time": 222.908, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 228.921, + "Actual Total Time": 228.928, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 229.121, + "Actual Total Time": 229.128, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 225.239, + "Actual Total Time": 225.245, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 272.224, + "Actual Total Time": 4053.769, + "Actual Rows": 1918, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62181.59, + "Total Cost": 72755.03, + "Plan Rows": 274, + "Plan Width": 27, + "Actual Startup Time": 234.153, + "Actual Total Time": 705.118, + "Actual Rows": 240, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 229.122, + "Actual Total Time": 229.127, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 229.009, + "Actual Total Time": 229.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 222.901, + "Actual Total Time": 222.906, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 228.920, + "Actual Total Time": 228.927, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 229.120, + "Actual Total Time": 229.126, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 225.238, + "Actual Total Time": 225.243, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 272.168, + "Actual Total Time": 4039.847, + "Actual Rows": 1918, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62181.17, + "Total Cost": 72635.05, + "Plan Rows": 274, + "Plan Width": 31, + "Actual Startup Time": 234.143, + "Actual Total Time": 703.106, + "Actual Rows": 240, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mc.company_id", "mk.movie_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 229.121, + "Actual Total Time": 229.126, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 229.008, + "Actual Total Time": 229.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 222.900, + "Actual Total Time": 222.905, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 228.920, + "Actual Total Time": 228.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 229.120, + "Actual Total Time": 229.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 225.237, + "Actual Total Time": 225.242, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 272.098, + "Actual Total Time": 4023.758, + "Actual Rows": 1918, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62180.74, + "Total Cost": 72614.50, + "Plan Rows": 36, + "Plan Width": 23, + "Actual Startup Time": 234.130, + "Actual Total Time": 702.175, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 229.121, + "Actual Total Time": 229.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 229.007, + "Actual Total Time": 229.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 222.900, + "Actual Total Time": 222.903, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 228.919, + "Actual Total Time": 228.923, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 229.119, + "Actual Total Time": 229.123, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 225.236, + "Actual Total Time": 225.240, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 271.999, + "Actual Total Time": 4016.325, + "Actual Rows": 250, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 10045.24, + "Plan Rows": 148342, + "Plan Width": 12, + "Actual Startup Time": 8.157, + "Actual Total Time": 442.686, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.879, + "Actual Total Time": 9.881, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.825, + "Actual Total Time": 9.827, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.553, + "Actual Total Time": 6.555, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.880, + "Actual Total Time": 9.882, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.844, + "Actual Total Time": 9.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.972, + "Actual Total Time": 11.973, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.687, + "Actual Total Time": 3476.900, + "Actual Rows": 1038393, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.71, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 8.144, + "Actual Total Time": 18.794, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.877, + "Actual Total Time": 9.879, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.822, + "Actual Total Time": 9.823, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.552, + "Actual Total Time": 6.553, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.879, + "Actual Total Time": 9.880, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.843, + "Actual Total Time": 9.844, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.971, + "Actual Total Time": 11.972, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.591, + "Actual Total Time": 85.786, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.124, + "Actual Total Time": 8.126, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.876, + "Actual Total Time": 9.877, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.821, + "Actual Total Time": 9.821, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.551, + "Actual Total Time": 6.551, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.878, + "Actual Total Time": 9.878, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.841, + "Actual Total Time": 9.842, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.970, + "Actual Total Time": 11.970, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.441, + "Actual Total Time": 0.451, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.144, + "Actual Total Time": 75.474, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.144, + "Actual Total Time": 75.474, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 26, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.074, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.074, + "Actual Rows": 25, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 62175.70, + "Total Cost": 62175.70, + "Plan Rows": 333, + "Plan Width": 19, + "Actual Startup Time": 218.189, + "Actual Total Time": 218.190, + "Actual Rows": 333, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 4096, + "Original Hash Buckets": 4096, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 288, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 218.922, + "Actual Total Time": 218.923, + "Actual Rows": 1141, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 218.527, + "Actual Total Time": 218.528, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 212.416, + "Actual Total Time": 212.417, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 218.707, + "Actual Total Time": 218.708, + "Actual Rows": 257, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 218.950, + "Actual Total Time": 218.950, + "Actual Rows": 605, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 212.602, + "Actual Total Time": 212.603, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 218.933, + "Actual Total Time": 218.934, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 62175.70, + "Plan Rows": 333, + "Plan Width": 19, + "Actual Startup Time": 152.940, + "Actual Total Time": 217.755, + "Actual Rows": 333, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Filter": "(n.name ~~ 'X%'::text)", + "Rows Removed by Filter": 520603, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 82.354, + "Actual Total Time": 217.976, + "Actual Rows": 1141, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 218.317, + "Actual Total Time": 218.317, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 144.466, + "Actual Total Time": 211.982, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 149.925, + "Actual Total Time": 218.236, + "Actual Rows": 257, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 131.250, + "Actual Total Time": 218.335, + "Actual Rows": 605, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.679, + "Actual Total Time": 212.397, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 210.813, + "Actual Total Time": 218.734, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 7, + "Plan Width": 8, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.025, + "Actual Rows": 8, + "Actual Loops": 250, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.025, + "Actual Rows": 8, + "Actual Loops": 250 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1918, + "Output": ["cn.id"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1918 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 1918, + "Output": ["t.id"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 1918 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5459870143170781696, + "Planning Time": 33.475, + "Triggers": [ + ], + "Execution Time": 4114.004, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -5459870143170781696, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE '%Bert%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73630.08, + "Total Cost": 73630.09, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 3995.353, + "Actual Total Time": 4044.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73630.06, + "Total Cost": 73630.07, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 261.982, + "Actual Total Time": 4044.000, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73629.06, + "Total Cost": 73629.07, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 720.525, + "Actual Total Time": 720.533, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 253.420, + "Actual Total Time": 253.427, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3986.509, + "Actual Total Time": 3986.515, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 254.586, + "Actual Total Time": 254.593, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 250.051, + "Actual Total Time": 250.059, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 254.101, + "Actual Total Time": 254.109, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 253.956, + "Actual Total Time": 253.964, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 250.226, + "Actual Total Time": 250.234, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62186.01, + "Total Cost": 73624.93, + "Plan Rows": 1649, + "Plan Width": 15, + "Actual Startup Time": 256.426, + "Actual Total Time": 719.759, + "Actual Rows": 1442, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 253.416, + "Actual Total Time": 253.423, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 273.753, + "Actual Total Time": 3980.356, + "Actual Rows": 11538, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 254.581, + "Actual Total Time": 254.588, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 250.046, + "Actual Total Time": 250.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 254.097, + "Actual Total Time": 254.104, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 253.950, + "Actual Total Time": 253.958, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 250.222, + "Actual Total Time": 250.230, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62185.59, + "Total Cost": 72902.88, + "Plan Rows": 1649, + "Plan Width": 19, + "Actual Startup Time": 256.420, + "Actual Total Time": 709.421, + "Actual Rows": 1442, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 253.415, + "Actual Total Time": 253.421, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 273.707, + "Actual Total Time": 3897.666, + "Actual Rows": 11538, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 254.580, + "Actual Total Time": 254.586, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 250.045, + "Actual Total Time": 250.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 254.096, + "Actual Total Time": 254.102, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 253.949, + "Actual Total Time": 253.956, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 250.221, + "Actual Total Time": 250.227, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62185.16, + "Total Cost": 72744.75, + "Plan Rows": 282, + "Plan Width": 27, + "Actual Startup Time": 256.410, + "Actual Total Time": 704.479, + "Actual Rows": 246, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 253.415, + "Actual Total Time": 253.420, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 273.637, + "Actual Total Time": 3858.147, + "Actual Rows": 1972, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 254.580, + "Actual Total Time": 254.585, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 250.044, + "Actual Total Time": 250.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 254.095, + "Actual Total Time": 254.100, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 253.948, + "Actual Total Time": 253.955, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 250.220, + "Actual Total Time": 250.225, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62184.73, + "Total Cost": 72618.49, + "Plan Rows": 282, + "Plan Width": 23, + "Actual Startup Time": 256.398, + "Actual Total Time": 701.874, + "Actual Rows": 246, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 253.414, + "Actual Total Time": 253.419, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 273.546, + "Actual Total Time": 3837.311, + "Actual Rows": 1972, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 254.579, + "Actual Total Time": 254.583, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 250.044, + "Actual Total Time": 250.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 254.094, + "Actual Total Time": 254.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 253.948, + "Actual Total Time": 253.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 250.219, + "Actual Total Time": 250.223, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 10045.24, + "Plan Rows": 148342, + "Plan Width": 12, + "Actual Startup Time": 6.839, + "Actual Total Time": 415.877, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.726, + "Actual Total Time": 7.729, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.611, + "Actual Total Time": 3272.893, + "Actual Rows": 1038393, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.727, + "Actual Total Time": 7.729, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.707, + "Actual Total Time": 7.709, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.724, + "Actual Total Time": 7.726, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.740, + "Actual Total Time": 7.742, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.729, + "Actual Total Time": 7.731, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.71, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.826, + "Actual Total Time": 16.769, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.725, + "Actual Total Time": 7.727, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.511, + "Actual Total Time": 80.047, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.726, + "Actual Total Time": 7.727, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.706, + "Actual Total Time": 7.707, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.722, + "Actual Total Time": 7.724, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.739, + "Actual Total Time": 7.740, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.727, + "Actual Total Time": 7.729, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.806, + "Actual Total Time": 6.807, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.725, + "Actual Total Time": 7.725, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.358, + "Actual Total Time": 0.367, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.725, + "Actual Total Time": 7.725, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.705, + "Actual Total Time": 7.706, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.721, + "Actual Total Time": 7.722, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.737, + "Actual Total Time": 7.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.726, + "Actual Total Time": 7.727, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.147, + "Actual Total Time": 70.623, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.147, + "Actual Total Time": 70.623, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 26, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.070, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.070, + "Actual Rows": 25, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 62175.70, + "Total Cost": 62175.70, + "Plan Rows": 652, + "Plan Width": 19, + "Actual Startup Time": 245.804, + "Actual Total Time": 245.805, + "Actual Rows": 652, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 8192, + "Original Hash Buckets": 8192, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 448, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 245.439, + "Actual Total Time": 245.440, + "Actual Rows": 382, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 245.366, + "Actual Total Time": 245.366, + "Actual Rows": 327, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 246.583, + "Actual Total Time": 246.584, + "Actual Rows": 857, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 241.848, + "Actual Total Time": 241.849, + "Actual Rows": 329, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 246.134, + "Actual Total Time": 246.135, + "Actual Rows": 375, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 245.923, + "Actual Total Time": 245.925, + "Actual Rows": 413, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 241.948, + "Actual Total Time": 241.949, + "Actual Rows": 955, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 62175.70, + "Plan Rows": 652, + "Plan Width": 19, + "Actual Startup Time": 0.528, + "Actual Total Time": 244.823, + "Actual Rows": 652, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Filter": "(n.name ~~ '%Bert%'::text)", + "Rows Removed by Filter": 520284, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.211, + "Actual Total Time": 244.812, + "Actual Rows": 382, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.385, + "Actual Total Time": 244.736, + "Actual Rows": 327, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.114, + "Actual Total Time": 245.654, + "Actual Rows": 857, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.753, + "Actual Total Time": 241.212, + "Actual Rows": 329, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.128, + "Actual Total Time": 245.461, + "Actual Rows": 375, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.077, + "Actual Total Time": 245.224, + "Actual Rows": 413, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.338, + "Actual Total Time": 240.160, + "Actual Rows": 955, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1972, + "Output": ["t.id"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1972 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 6, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.018, + "Actual Rows": 6, + "Actual Loops": 1972, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.018, + "Actual Rows": 6, + "Actual Loops": 1972 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 11538, + "Output": ["cn.id"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 11538 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3199076743843001296, + "Planning Time": 48.362, + "Triggers": [ + ], + "Execution Time": 4044.315, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3199076743843001296, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 96302.88, + "Total Cost": 96302.89, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 9592.969, + "Actual Total Time": 9644.637, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 96302.85, + "Total Cost": 96302.86, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 768.320, + "Actual Total Time": 9644.611, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 96301.85, + "Total Cost": 96301.86, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1858.397, + "Actual Total Time": 1858.406, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 755.023, + "Actual Total Time": 755.030, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 755.011, + "Actual Total Time": 755.020, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 755.053, + "Actual Total Time": 755.061, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9569.342, + "Actual Total Time": 9569.351, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 755.047, + "Actual Total Time": 755.055, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 755.058, + "Actual Total Time": 755.067, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 755.008, + "Actual Total Time": 755.017, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 70881.54, + "Total Cost": 95290.22, + "Plan Rows": 404651, + "Plan Width": 15, + "Actual Startup Time": 755.975, + "Actual Total Time": 1760.773, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 755.017, + "Actual Total Time": 755.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 755.007, + "Actual Total Time": 755.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 755.047, + "Actual Total Time": 755.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 750.003, + "Actual Total Time": 8788.322, + "Actual Rows": 2832555, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 755.043, + "Actual Total Time": 755.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 755.055, + "Actual Total Time": 755.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 755.004, + "Actual Total Time": 755.012, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3496.48, + "Total Cost": 26842.95, + "Plan Rows": 404651, + "Plan Width": 4, + "Actual Startup Time": 28.167, + "Actual Total Time": 807.904, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.801, + "Actual Total Time": 28.807, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.825, + "Actual Total Time": 28.830, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.836, + "Actual Total Time": 28.842, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.552, + "Actual Total Time": 6261.405, + "Actual Rows": 2832555, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.837, + "Actual Total Time": 28.843, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.851, + "Actual Total Time": 28.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.823, + "Actual Total Time": 28.829, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3496.04, + "Total Cost": 11291.62, + "Plan Rows": 9759, + "Plan Width": 12, + "Actual Startup Time": 28.101, + "Actual Total Time": 149.105, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.800, + "Actual Total Time": 28.805, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.823, + "Actual Total Time": 28.828, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.835, + "Actual Total Time": 28.840, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.032, + "Actual Total Time": 991.029, + "Actual Rows": 68316, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.836, + "Actual Total Time": 28.841, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.849, + "Actual Total Time": 28.854, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.822, + "Actual Total Time": 28.828, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 7741.16, + "Plan Rows": 21222, + "Plan Width": 16, + "Actual Startup Time": 5.777, + "Actual Total Time": 115.315, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.486, + "Actual Total Time": 6.488, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.518, + "Actual Total Time": 6.521, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.517, + "Actual Total Time": 6.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.652, + "Actual Total Time": 876.931, + "Actual Rows": 148552, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.519, + "Actual Total Time": 6.522, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.525, + "Actual Total Time": 6.528, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.505, + "Actual Total Time": 6.508, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4447.49, + "Plan Rows": 5977, + "Plan Width": 8, + "Actual Startup Time": 5.761, + "Actual Total Time": 55.062, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.485, + "Actual Total Time": 6.487, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.517, + "Actual Total Time": 6.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.515, + "Actual Total Time": 6.517, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.526, + "Actual Total Time": 394.920, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.518, + "Actual Total Time": 6.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.524, + "Actual Total Time": 6.526, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.504, + "Actual Total Time": 6.506, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.71, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 5.750, + "Actual Total Time": 17.506, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.484, + "Actual Total Time": 6.485, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.516, + "Actual Total Time": 6.517, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.515, + "Actual Total Time": 6.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.445, + "Actual Total Time": 94.485, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.517, + "Actual Total Time": 6.518, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.523, + "Actual Total Time": 6.524, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.503, + "Actual Total Time": 6.504, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.730, + "Actual Total Time": 5.732, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.482, + "Actual Total Time": 6.483, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.515, + "Actual Total Time": 6.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.513, + "Actual Total Time": 6.514, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.299, + "Actual Total Time": 0.305, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.515, + "Actual Total Time": 6.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.522, + "Actual Total Time": 6.522, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.502, + "Actual Total Time": 6.503, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.140, + "Actual Total Time": 84.600, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.140, + "Actual Total Time": 84.600, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id"], + "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 22.152, + "Actual Total Time": 22.153, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4480, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.283, + "Actual Total Time": 22.284, + "Actual Rows": 10970, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.280, + "Actual Total Time": 22.281, + "Actual Rows": 10961, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.288, + "Actual Total Time": 22.289, + "Actual Rows": 10294, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.283, + "Actual Total Time": 22.284, + "Actual Rows": 9925, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.242, + "Actual Total Time": 21.243, + "Actual Rows": 11449, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.284, + "Actual Total Time": 22.285, + "Actual Rows": 9004, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.285, + "Actual Total Time": 22.286, + "Actual Rows": 11099, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 15.218, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.066, + "Actual Total Time": 15.174, + "Actual Rows": 10970, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.058, + "Actual Total Time": 15.210, + "Actual Rows": 10961, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.061, + "Actual Total Time": 15.661, + "Actual Rows": 10294, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.067, + "Actual Total Time": 13.850, + "Actual Rows": 9925, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 15.228, + "Actual Rows": 11449, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.066, + "Actual Total Time": 16.368, + "Actual Rows": 9004, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.057, + "Actual Total Time": 15.213, + "Actual Rows": 11099, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.18, + "Plan Rows": 41, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.069, + "Actual Rows": 41, + "Actual Loops": 68316, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.069, + "Actual Rows": 41, + "Actual Loops": 68316 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 60873.36, + "Total Cost": 60873.36, + "Plan Rows": 520936, + "Plan Width": 19, + "Actual Startup Time": 719.694, + "Actual Total Time": 719.696, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 259072, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 725.922, + "Actual Total Time": 725.922, + "Actual Rows": 533759, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 725.889, + "Actual Total Time": 725.891, + "Actual Rows": 532153, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 725.914, + "Actual Total Time": 725.916, + "Actual Rows": 492987, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 726.162, + "Actual Total Time": 726.163, + "Actual Rows": 530769, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 725.920, + "Actual Total Time": 725.921, + "Actual Rows": 517631, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 725.914, + "Actual Total Time": 725.915, + "Actual Rows": 486650, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 725.890, + "Actual Total Time": 725.891, + "Actual Rows": 538092, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 60873.36, + "Plan Rows": 520936, + "Plan Width": 19, + "Actual Startup Time": 0.062, + "Actual Total Time": 228.082, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.093, + "Actual Total Time": 227.861, + "Actual Rows": 533759, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.052, + "Actual Total Time": 227.685, + "Actual Rows": 532153, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.053, + "Actual Total Time": 229.592, + "Actual Rows": 492987, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 222.924, + "Actual Rows": 530769, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 221.629, + "Actual Rows": 517631, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.052, + "Actual Total Time": 235.819, + "Actual Rows": 486650, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.063, + "Actual Total Time": 230.451, + "Actual Rows": 538092, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1944885556475480423, + "Planning Time": 34.537, + "Triggers": [ + ], + "Execution Time": 9644.935, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1944885556475480423, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE '%B%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 92201.14, + "Total Cost": 92201.15, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 7835.217, + "Actual Total Time": 7885.086, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 92201.11, + "Total Cost": 92201.12, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 446.320, + "Actual Total Time": 7885.062, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 92200.11, + "Total Cost": 92200.12, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1360.994, + "Actual Total Time": 1361.004, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 437.485, + "Actual Total Time": 437.493, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7822.762, + "Actual Total Time": 7822.771, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 435.030, + "Actual Total Time": 435.041, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 436.116, + "Actual Total Time": 436.127, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 437.550, + "Actual Total Time": 437.560, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 437.271, + "Actual Total Time": 437.279, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 436.430, + "Actual Total Time": 436.439, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 65917.56, + "Total Cost": 91803.05, + "Plan Rows": 158824, + "Plan Width": 15, + "Actual Startup Time": 436.983, + "Actual Total Time": 1323.398, + "Actual Rows": 139140, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 437.480, + "Actual Total Time": 437.488, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 430.714, + "Actual Total Time": 7521.965, + "Actual Rows": 1113120, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 435.025, + "Actual Total Time": 435.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 436.110, + "Actual Total Time": 436.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 437.544, + "Actual Total Time": 437.554, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 437.266, + "Actual Total Time": 437.273, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 436.425, + "Actual Total Time": 436.434, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 63015.51, + "Total Cost": 88484.08, + "Plan Rows": 158824, + "Plan Width": 19, + "Actual Startup Time": 392.345, + "Actual Total Time": 1207.726, + "Actual Rows": 139140, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 393.111, + "Actual Total Time": 393.118, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 386.879, + "Actual Total Time": 6909.880, + "Actual Rows": 1113120, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 393.105, + "Actual Total Time": 393.113, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 393.133, + "Actual Total Time": 393.140, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 393.188, + "Actual Total Time": 393.195, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 393.110, + "Actual Total Time": 393.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 393.121, + "Actual Total Time": 393.128, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 63015.08, + "Total Cost": 76521.71, + "Plan Rows": 21332, + "Plan Width": 27, + "Actual Startup Time": 392.175, + "Actual Total Time": 955.518, + "Actual Rows": 18687, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 393.110, + "Actual Total Time": 393.115, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 385.535, + "Actual Total Time": 4892.230, + "Actual Rows": 149494, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 393.102, + "Actual Total Time": 393.109, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 393.131, + "Actual Total Time": 393.138, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 393.186, + "Actual Total Time": 393.192, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 393.109, + "Actual Total Time": 393.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 393.120, + "Actual Total Time": 393.126, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 13118.53, + "Plan Rows": 148342, + "Plan Width": 16, + "Actual Startup Time": 7.017, + "Actual Total Time": 501.441, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.440, + "Actual Total Time": 8.444, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.843, + "Actual Total Time": 3956.209, + "Actual Rows": 1038393, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.421, + "Actual Total Time": 8.425, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.307, + "Actual Total Time": 6.311, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.816, + "Actual Total Time": 6.820, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.427, + "Actual Total Time": 8.430, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.442, + "Actual Total Time": 8.445, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4447.49, + "Plan Rows": 5977, + "Plan Width": 8, + "Actual Startup Time": 7.001, + "Actual Total Time": 57.703, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.439, + "Actual Total Time": 8.442, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.730, + "Actual Total Time": 406.324, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.419, + "Actual Total Time": 8.422, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.304, + "Actual Total Time": 6.307, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.814, + "Actual Total Time": 6.816, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.426, + "Actual Total Time": 8.428, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.441, + "Actual Total Time": 8.443, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.71, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.987, + "Actual Total Time": 18.186, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.437, + "Actual Total Time": 8.439, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.627, + "Actual Total Time": 90.204, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.418, + "Actual Total Time": 8.420, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.303, + "Actual Total Time": 6.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.812, + "Actual Total Time": 6.814, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.424, + "Actual Total Time": 8.426, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.439, + "Actual Total Time": 8.441, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.965, + "Actual Total Time": 6.967, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.436, + "Actual Total Time": 8.436, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.461, + "Actual Total Time": 0.467, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.417, + "Actual Total Time": 8.417, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.302, + "Actual Total Time": 6.303, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.811, + "Actual Total Time": 6.811, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.423, + "Actual Total Time": 8.423, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.438, + "Actual Total Time": 8.439, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.159, + "Actual Total Time": 78.710, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.159, + "Actual Total Time": 78.710, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id"], + "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 26, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.076, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.076, + "Actual Rows": 25, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 62175.70, + "Total Cost": 62175.70, + "Plan Rows": 67046, + "Plan Width": 19, + "Actual Startup Time": 382.275, + "Actual Total Time": 382.277, + "Actual Rows": 67090, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 1048576, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 37536, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 384.517, + "Actual Total Time": 384.517, + "Actual Rows": 59580, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 384.641, + "Actual Total Time": 384.642, + "Actual Rows": 73754, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 384.520, + "Actual Total Time": 384.521, + "Actual Rows": 66899, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 366.335, + "Actual Total Time": 366.336, + "Actual Rows": 69578, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 384.535, + "Actual Total Time": 384.536, + "Actual Rows": 64994, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 384.636, + "Actual Total Time": 384.637, + "Actual Rows": 62918, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 384.525, + "Actual Total Time": 384.527, + "Actual Rows": 68767, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 62175.70, + "Plan Rows": 67046, + "Plan Width": 19, + "Actual Startup Time": 0.063, + "Actual Total Time": 286.239, + "Actual Rows": 67090, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Filter": "(n.name ~~ '%B%'::text)", + "Rows Removed by Filter": 453847, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.063, + "Actual Total Time": 274.676, + "Actual Rows": 59580, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.057, + "Actual Total Time": 295.353, + "Actual Rows": 73754, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 296.711, + "Actual Rows": 66899, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.117, + "Actual Total Time": 279.484, + "Actual Rows": 69578, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 282.642, + "Actual Rows": 64994, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.060, + "Actual Total Time": 275.339, + "Actual Rows": 62918, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.060, + "Actual Total Time": 291.288, + "Actual Rows": 68767, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 6, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.011, + "Actual Rows": 7, + "Actual Loops": 149494, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.011, + "Actual Rows": 7, + "Actual Loops": 149494 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 2482.42, + "Total Cost": 2482.42, + "Plan Rows": 33571, + "Plan Width": 4, + "Actual Startup Time": 42.853, + "Actual Total Time": 42.854, + "Actual Rows": 29375, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 262144, + "Original Hash Buckets": 262144, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 11360, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 44.042, + "Actual Total Time": 44.042, + "Actual Rows": 29153, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 43.466, + "Actual Total Time": 43.467, + "Actual Rows": 29076, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.660, + "Actual Total Time": 41.661, + "Actual Rows": 29711, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.749, + "Actual Total Time": 42.750, + "Actual Rows": 27055, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.039, + "Actual Total Time": 44.040, + "Actual Rows": 31881, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 43.851, + "Actual Total Time": 43.852, + "Actual Rows": 31504, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 43.013, + "Actual Total Time": 43.014, + "Actual Rows": 28458, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 2482.42, + "Plan Rows": 33571, + "Plan Width": 4, + "Actual Startup Time": 0.178, + "Actual Total Time": 17.182, + "Actual Rows": 29375, + "Actual Loops": 8, + "Output": ["cn.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.163, + "Actual Total Time": 14.595, + "Actual Rows": 29153, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.067, + "Actual Total Time": 18.487, + "Actual Rows": 29076, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.235, + "Actual Total Time": 18.201, + "Actual Rows": 29711, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.336, + "Actual Total Time": 19.918, + "Actual Rows": 27055, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.087, + "Actual Total Time": 17.291, + "Actual Rows": 31881, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.205, + "Actual Total Time": 14.958, + "Actual Rows": 31504, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.271, + "Actual Total Time": 18.506, + "Actual Rows": 28458, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3199076743843001296, + "Planning Time": 34.477, + "Triggers": [ + ], + "Execution Time": 7885.560, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3199076743843001296, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(t.title) AS movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     name AS n,
     title AS t
WHERE ci.note IN ('(producer)',
                  '(executive producer)')
  AND it1.info = 'budget'
  AND it2.info = 'votes'
  AND n.gender = 'm'
  AND n.name LIKE '%Tim%'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 87221.80, + "Total Cost": 87221.81, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 401.933, + "Actual Total Time": 408.813, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 87221.73, + "Total Cost": 87221.74, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 400.996, + "Actual Total Time": 408.779, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 87220.73, + "Total Cost": 87220.74, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 392.626, + "Actual Total Time": 392.634, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 389.251, + "Actual Total Time": 389.259, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 391.960, + "Actual Total Time": 391.969, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 392.127, + "Actual Total Time": 392.134, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 393.057, + "Actual Total Time": 393.062, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 392.123, + "Actual Total Time": 392.131, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 390.207, + "Actual Total Time": 390.215, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 392.263, + "Actual Total Time": 392.268, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.42, + "Total Cost": 87220.35, + "Plan Rows": 51, + "Plan Width": 64, + "Actual Startup Time": 13.004, + "Actual Total Time": 392.440, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.266, + "Actual Total Time": 389.106, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.622, + "Actual Total Time": 391.791, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.537, + "Actual Total Time": 391.971, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.030, + "Actual Total Time": 392.899, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.362, + "Actual Total Time": 391.863, + "Actual Rows": 82, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.529, + "Actual Total Time": 389.927, + "Actual Rows": 86, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.137, + "Actual Total Time": 392.119, + "Actual Rows": 32, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.99, + "Total Cost": 87197.36, + "Plan Rows": 51, + "Plan Width": 59, + "Actual Startup Time": 12.905, + "Actual Total Time": 390.523, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.153, + "Actual Total Time": 387.759, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.523, + "Actual Total Time": 390.211, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.441, + "Actual Total Time": 390.121, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.938, + "Actual Total Time": 391.477, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.268, + "Actual Total Time": 388.677, + "Actual Rows": 82, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.408, + "Actual Total Time": 386.887, + "Actual Rows": 86, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.020, + "Actual Total Time": 390.845, + "Actual Rows": 32, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 87167.47, + "Plan Rows": 10301, + "Plan Width": 63, + "Actual Startup Time": 4.527, + "Actual Total Time": 386.859, + "Actual Rows": 10301, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.059, + "Actual Total Time": 385.388, + "Actual Rows": 6138, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.833, + "Actual Total Time": 388.700, + "Actual Rows": 3557, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.166, + "Actual Total Time": 386.919, + "Actual Rows": 8995, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.434, + "Actual Total Time": 387.248, + "Actual Rows": 12433, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.680, + "Actual Total Time": 380.380, + "Actual Rows": 25399, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.677, + "Actual Total Time": 381.409, + "Actual Rows": 15497, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.762, + "Actual Total Time": 388.510, + "Actual Rows": 6057, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 86671.80, + "Plan Rows": 429, + "Plan Width": 13, + "Actual Startup Time": 4.378, + "Actual Total Time": 363.212, + "Actual Rows": 429, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.973, + "Actual Total Time": 370.140, + "Actual Rows": 347, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.747, + "Actual Total Time": 378.229, + "Actual Rows": 228, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.072, + "Actual Total Time": 365.264, + "Actual Rows": 372, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.337, + "Actual Total Time": 360.874, + "Actual Rows": 533, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.583, + "Actual Total Time": 336.364, + "Actual Rows": 388, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.109, + "Actual Total Time": 342.555, + "Actual Rows": 782, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.652, + "Actual Total Time": 371.042, + "Actual Rows": 432, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 86666.45, + "Plan Rows": 1289, + "Plan Width": 17, + "Actual Startup Time": 4.345, + "Actual Total Time": 362.266, + "Actual Rows": 1289, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.946, + "Actual Total Time": 369.386, + "Actual Rows": 1042, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.721, + "Actual Total Time": 377.653, + "Actual Rows": 684, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.045, + "Actual Total Time": 364.439, + "Actual Rows": 1117, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.314, + "Actual Total Time": 359.731, + "Actual Rows": 1599, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.557, + "Actual Total Time": 335.494, + "Actual Rows": 1166, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.082, + "Actual Total Time": 340.934, + "Actual Rows": 2347, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.624, + "Actual Total Time": 370.114, + "Actual Rows": 1296, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 86241.52, + "Plan Rows": 840, + "Plan Width": 4, + "Actual Startup Time": 2.605, + "Actual Total Time": 347.509, + "Actual Rows": 840, + "Actual Loops": 8, + "Output": ["ci.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.847, + "Actual Total Time": 357.534, + "Actual Rows": 683, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.373, + "Actual Total Time": 367.956, + "Actual Rows": 532, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.884, + "Actual Total Time": 351.219, + "Actual Rows": 663, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.077, + "Actual Total Time": 345.156, + "Actual Rows": 808, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.455, + "Actual Total Time": 320.583, + "Actual Rows": 708, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.250, + "Actual Total Time": 317.331, + "Actual Rows": 1367, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.533, + "Actual Total Time": 354.297, + "Actual Rows": 1054, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 1133, + "Plan Width": 4, + "Actual Startup Time": 0.143, + "Actual Total Time": 279.736, + "Actual Rows": 1133, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%Tim%'::text) AND ((n.gender)::text = 'm'::text))", + "Rows Removed by Filter": 519804, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.062, + "Actual Total Time": 287.624, + "Actual Rows": 1122, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.050, + "Actual Total Time": 292.351, + "Actual Rows": 1204, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.095, + "Actual Total Time": 287.457, + "Actual Rows": 1120, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.052, + "Actual Total Time": 280.283, + "Actual Rows": 928, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.357, + "Actual Total Time": 268.470, + "Actual Rows": 850, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.125, + "Actual Total Time": 242.972, + "Actual Rows": 1624, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.334, + "Actual Total Time": 288.903, + "Actual Rows": 1015, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 20.08, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 9062, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(producer),\"(executive producer)\"}'::text[]))", + "Rows Removed by Filter": 10, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.061, + "Actual Rows": 1, + "Actual Loops": 1122 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1204 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 1120 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.068, + "Actual Rows": 1, + "Actual Loops": 928 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.060, + "Actual Rows": 1, + "Actual Loops": 850 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 1624 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 1015 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 6719, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 683 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 532 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 663 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 808 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 2, + "Actual Loops": 708 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 1367 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1054 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 19, + "Plan Width": 50, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.044, + "Actual Rows": 24, + "Actual Loops": 3435, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.036, + "Actual Rows": 18, + "Actual Loops": 347 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.038, + "Actual Rows": 16, + "Actual Loops": 228 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.047, + "Actual Rows": 24, + "Actual Loops": 372 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.039, + "Actual Rows": 23, + "Actual Loops": 533 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.086, + "Actual Rows": 65, + "Actual Loops": 388 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.040, + "Actual Rows": 20, + "Actual Loops": 782 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.034, + "Actual Rows": 14, + "Actual Loops": 432 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'budget'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 410, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 36 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 43 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 49 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 36 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 82 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 86 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 32 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3485514449383768787, + "Planning Time": 37.515, + "Triggers": [ + ], + "Execution Time": 409.130, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -3485514449383768787, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(t.title) AS movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'rating'
  AND mi.info IN ('Horror',
                  'Thriller')
  AND mi.note IS NULL
  AND mi_idx.info > '8.0'
  AND n.gender IS NOT NULL
  AND n.gender = 'f'
  AND t.production_year BETWEEN 2008 AND 2014
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13510.67, + "Total Cost": 13510.68, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 214.535, + "Actual Total Time": 226.920, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13510.60, + "Total Cost": 13510.61, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 213.962, + "Actual Total Time": 226.886, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13509.60, + "Total Cost": 13509.61, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 204.538, + "Actual Total Time": 204.548, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 202.967, + "Actual Total Time": 202.975, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 203.144, + "Actual Total Time": 203.150, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 199.921, + "Actual Total Time": 199.929, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 204.584, + "Actual Total Time": 204.589, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 204.672, + "Actual Total Time": 204.678, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 204.658, + "Actual Total Time": 204.665, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 203.963, + "Actual Total Time": 203.985, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.73, + "Total Cost": 13509.60, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 157.566, + "Actual Total Time": 204.532, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 100.714, + "Actual Total Time": 202.960, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 177.914, + "Actual Total Time": 203.133, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.855, + "Actual Total Time": 199.902, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 191.696, + "Actual Total Time": 204.566, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 204.666, + "Actual Total Time": 204.672, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 161.178, + "Actual Total Time": 204.650, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 203.957, + "Actual Total Time": 203.978, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 13509.41, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 157.517, + "Actual Total Time": 204.476, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 100.638, + "Actual Total Time": 202.882, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 177.840, + "Actual Total Time": 203.053, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.801, + "Actual Total Time": 199.828, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 191.620, + "Actual Total Time": 204.483, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 204.665, + "Actual Total Time": 204.670, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 161.107, + "Actual Total Time": 204.577, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 203.956, + "Actual Total Time": 203.975, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 13492.09, + "Plan Rows": 34, + "Plan Width": 72, + "Actual Startup Time": 75.338, + "Actual Total Time": 203.125, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 95.821, + "Actual Total Time": 201.769, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.285, + "Actual Total Time": 201.637, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.135, + "Actual Total Time": 198.664, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.752, + "Actual Total Time": 203.018, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.982, + "Actual Total Time": 203.753, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 43.988, + "Actual Total Time": 202.390, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 110.161, + "Actual Total Time": 202.937, + "Actual Rows": 24, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 13415.47, + "Plan Rows": 45, + "Plan Width": 80, + "Actual Startup Time": 34.679, + "Actual Total Time": 186.177, + "Actual Rows": 45, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.208, + "Actual Total Time": 182.817, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.630, + "Actual Total Time": 192.276, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.400, + "Actual Total Time": 184.040, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.129, + "Actual Total Time": 185.554, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.588, + "Actual Total Time": 180.700, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 37.880, + "Actual Total Time": 177.832, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.589, + "Actual Total Time": 190.289, + "Actual Rows": 41, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 12538.65, + "Plan Rows": 769, + "Plan Width": 30, + "Actual Startup Time": 1.862, + "Actual Total Time": 143.448, + "Actual Rows": 769, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.645, + "Actual Total Time": 137.142, + "Actual Rows": 822, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.843, + "Actual Total Time": 151.706, + "Actual Rows": 882, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.296, + "Actual Total Time": 134.336, + "Actual Rows": 656, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.835, + "Actual Total Time": 146.451, + "Actual Rows": 724, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.267, + "Actual Total Time": 135.732, + "Actual Rows": 705, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.545, + "Actual Total Time": 135.007, + "Actual Rows": 822, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.340, + "Actual Total Time": 148.150, + "Actual Rows": 679, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10111.41, + "Plan Rows": 1981, + "Plan Width": 9, + "Actual Startup Time": 0.289, + "Actual Total Time": 103.309, + "Actual Rows": 1981, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.123, + "Actual Total Time": 99.648, + "Actual Rows": 1936, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.149, + "Actual Total Time": 101.959, + "Actual Rows": 2402, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.202, + "Actual Total Time": 91.283, + "Actual Rows": 1635, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.149, + "Actual Total Time": 108.532, + "Actual Rows": 1698, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.136, + "Actual Total Time": 103.056, + "Actual Rows": 1729, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.695, + "Actual Total Time": 96.483, + "Actual Rows": 2391, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.248, + "Actual Total Time": 106.686, + "Actual Rows": 2059, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 10091.30, + "Plan Rows": 6706, + "Plan Width": 13, + "Actual Startup Time": 0.054, + "Actual Total Time": 98.936, + "Actual Rows": 6706, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Filter": "(mi_idx.info > '8.0'::text)", + "Rows Removed by Filter": 165798, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 95.538, + "Actual Rows": 6721, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.053, + "Actual Total Time": 97.316, + "Actual Rows": 7343, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.052, + "Actual Total Time": 87.837, + "Actual Rows": 5614, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.049, + "Actual Total Time": 103.818, + "Actual Rows": 6293, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 99.009, + "Actual Rows": 6770, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.077, + "Actual Total Time": 91.898, + "Actual Rows": 6986, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.045, + "Actual Total Time": 102.190, + "Actual Rows": 6907, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 15849, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2008) AND (t.production_year <= 2014))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1936 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2402 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1635 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1698 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1729 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2391 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2059 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 6152, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note IS NULL) AND (mi.info = ANY ('{Horror,Thriller}'::text[])))", + "Rows Removed by Filter": 18, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 822 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 882 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.075, + "Actual Rows": 0, + "Actual Loops": 656 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 724 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 705 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 822 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 679 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.69, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.292, + "Actual Total Time": 0.375, + "Actual Rows": 1, + "Actual Loops": 358, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 34, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.331, + "Actual Total Time": 0.392, + "Actual Rows": 1, + "Actual Loops": 48 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.173, + "Actual Total Time": 0.210, + "Actual Rows": 1, + "Actual Loops": 44 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.266, + "Actual Total Time": 0.371, + "Actual Rows": 1, + "Actual Loops": 39 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.378, + "Actual Total Time": 0.422, + "Actual Rows": 1, + "Actual Loops": 41 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.342, + "Actual Total Time": 0.546, + "Actual Rows": 1, + "Actual Loops": 42 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.411, + "Actual Total Time": 0.581, + "Actual Rows": 1, + "Actual Loops": 42 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.272, + "Actual Total Time": 0.305, + "Actual Rows": 1, + "Actual Loops": 41 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 268, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender IS NOT NULL) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 28 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 32 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 27 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 35 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 29 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 57 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 24 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 11, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.069, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2924466581088026648, + "Planning Time": 47.672, + "Triggers": [ + ], + "Execution Time": 227.280, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2924466581088026648, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(t.title) AS movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 100469.54, + "Total Cost": 100469.55, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4516.714, + "Actual Total Time": 4553.483, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 100469.47, + "Total Cost": 100469.48, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 4500.362, + "Actual Total Time": 4553.447, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 100468.47, + "Total Cost": 100468.48, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4491.752, + "Actual Total Time": 4491.760, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4489.609, + "Actual Total Time": 4489.616, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4494.172, + "Actual Total Time": 4494.178, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4490.097, + "Actual Total Time": 4490.103, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4488.906, + "Actual Total Time": 4488.912, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4488.177, + "Actual Total Time": 4488.184, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4493.770, + "Actual Total Time": 4493.776, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4489.942, + "Actual Total Time": 4489.948, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.42, + "Total Cost": 100442.15, + "Plan Rows": 3509, + "Plan Width": 64, + "Actual Startup Time": 37.920, + "Actual Total Time": 4483.259, + "Actual Rows": 3509, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.203, + "Actual Total Time": 4481.226, + "Actual Rows": 3384, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 63.526, + "Actual Total Time": 4485.748, + "Actual Rows": 3509, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.656, + "Actual Total Time": 4481.498, + "Actual Rows": 3480, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 58.345, + "Actual Total Time": 4480.845, + "Actual Rows": 3504, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.071, + "Actual Total Time": 4480.016, + "Actual Rows": 3464, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 52.759, + "Actual Total Time": 4485.500, + "Actual Rows": 3457, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 41.565, + "Actual Total Time": 4481.624, + "Actual Rows": 3511, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.99, + "Total Cost": 98707.83, + "Plan Rows": 3509, + "Plan Width": 59, + "Actual Startup Time": 37.814, + "Actual Total Time": 4423.514, + "Actual Rows": 3509, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.095, + "Actual Total Time": 4422.595, + "Actual Rows": 3384, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 63.393, + "Actual Total Time": 4427.856, + "Actual Rows": 3509, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.540, + "Actual Total Time": 4420.635, + "Actual Rows": 3480, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 58.235, + "Actual Total Time": 4424.448, + "Actual Rows": 3504, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.015, + "Actual Total Time": 4417.076, + "Actual Rows": 3464, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 52.614, + "Actual Total Time": 4425.989, + "Actual Rows": 3457, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 41.445, + "Actual Total Time": 4422.440, + "Actual Rows": 3511, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.56, + "Total Cost": 95258.32, + "Plan Rows": 6769, + "Plan Width": 63, + "Actual Startup Time": 15.405, + "Actual Total Time": 4280.502, + "Actual Rows": 6769, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.880, + "Actual Total Time": 4281.893, + "Actual Rows": 6567, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.063, + "Actual Total Time": 4282.556, + "Actual Rows": 6642, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.403, + "Actual Total Time": 4270.254, + "Actual Rows": 6727, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.534, + "Actual Total Time": 4286.046, + "Actual Rows": 6904, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.944, + "Actual Total Time": 4279.069, + "Actual Rows": 6625, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.692, + "Actual Total Time": 4277.163, + "Actual Rows": 6681, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 19.667, + "Actual Total Time": 4282.098, + "Actual Rows": 6784, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.12, + "Total Cost": 75732.10, + "Plan Rows": 12814, + "Plan Width": 55, + "Actual Startup Time": 2.604, + "Actual Total Time": 2186.983, + "Actual Rows": 12814, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.149, + "Actual Total Time": 2194.391, + "Actual Rows": 12508, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.735, + "Actual Total Time": 2207.952, + "Actual Rows": 13071, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.273, + "Actual Total Time": 2210.009, + "Actual Rows": 12523, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.414, + "Actual Total Time": 2169.689, + "Actual Rows": 12684, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.411, + "Actual Total Time": 2226.606, + "Actual Rows": 12570, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.588, + "Actual Total Time": 2109.673, + "Actual Rows": 13035, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.604, + "Actual Total Time": 2208.781, + "Actual Rows": 12828, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 75694.55, + "Plan Rows": 13112, + "Plan Width": 59, + "Actual Startup Time": 2.303, + "Actual Total Time": 2167.820, + "Actual Rows": 13112, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.880, + "Actual Total Time": 2175.219, + "Actual Rows": 12705, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.453, + "Actual Total Time": 2189.405, + "Actual Rows": 13339, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.986, + "Actual Total Time": 2191.956, + "Actual Rows": 12793, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.114, + "Actual Total Time": 2146.189, + "Actual Rows": 12943, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.166, + "Actual Total Time": 2208.132, + "Actual Rows": 12855, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.318, + "Actual Total Time": 2091.137, + "Actual Rows": 13436, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.286, + "Actual Total Time": 2190.873, + "Actual Rows": 13166, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 57491, + "Plan Width": 9, + "Actual Startup Time": 0.046, + "Actual Total Time": 170.289, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 166.755, + "Actual Rows": 56117, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 170.331, + "Actual Rows": 59999, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 175.898, + "Actual Rows": 57047, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 173.415, + "Actual Rows": 57801, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 174.174, + "Actual Rows": 58440, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 165.675, + "Actual Rows": 53042, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.043, + "Actual Total Time": 168.279, + "Actual Rows": 58622, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 13, + "Actual Startup Time": 0.020, + "Actual Total Time": 51.905, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 50.510, + "Actual Rows": 168353, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 51.695, + "Actual Rows": 179996, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 62.561, + "Actual Rows": 171146, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 49.692, + "Actual Rows": 173586, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 52.370, + "Actual Rows": 175422, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 48.535, + "Actual Rows": 159133, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 50.333, + "Actual Rows": 175844, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 459925, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 15, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 56117 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 59999 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 57047 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 57801 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 58440 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 53042 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 58622 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.51, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.162, + "Actual Rows": 1, + "Actual Loops": 102516, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 39, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.142, + "Actual Total Time": 0.165, + "Actual Rows": 1, + "Actual Loops": 12508 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.135, + "Actual Total Time": 0.157, + "Actual Rows": 1, + "Actual Loops": 13071 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.163, + "Actual Rows": 1, + "Actual Loops": 12523 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.142, + "Actual Total Time": 0.165, + "Actual Rows": 1, + "Actual Loops": 12684 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.138, + "Actual Total Time": 0.162, + "Actual Rows": 1, + "Actual Loops": 12570 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.142, + "Actual Total Time": 0.165, + "Actual Rows": 1, + "Actual Loops": 13035 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.136, + "Actual Total Time": 0.160, + "Actual Rows": 1, + "Actual Loops": 12828 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 54155, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6567 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 6642 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 6727 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 6904 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6625 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 6681 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6784 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 28073, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 3384 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 3509 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 3480 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3504 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 3464 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 3457 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3511 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1168076528610430802, + "Planning Time": 38.998, + "Triggers": [ + ], + "Execution Time": 4553.842, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1168076528610430802, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND mc.note IS NOT NULL
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%Ang%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2005 AND 2009
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 65088.60, + "Total Cost": 65088.61, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 339.330, + "Actual Total Time": 343.787, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 65088.55, + "Total Cost": 65088.56, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 338.713, + "Actual Total Time": 343.762, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 65087.55, + "Total Cost": 65087.56, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 328.299, + "Actual Total Time": 328.310, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 329.123, + "Actual Total Time": 329.134, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 329.570, + "Actual Total Time": 329.580, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 324.868, + "Actual Total Time": 324.876, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 325.185, + "Actual Total Time": 325.195, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 329.514, + "Actual Total Time": 329.526, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 325.188, + "Actual Total Time": 325.197, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 325.194, + "Actual Total Time": 325.205, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.95, + "Total Cost": 65087.44, + "Plan Rows": 23, + "Plan Width": 32, + "Actual Startup Time": 186.607, + "Actual Total Time": 328.265, + "Actual Rows": 23, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 126.058, + "Actual Total Time": 329.028, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 329.565, + "Actual Total Time": 329.575, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 134.355, + "Actual Total Time": 324.827, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 150.166, + "Actual Total Time": 325.123, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 144.860, + "Actual Total Time": 329.486, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 325.183, + "Actual Total Time": 325.191, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 148.950, + "Actual Total Time": 325.154, + "Actual Rows": 28, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.53, + "Total Cost": 65076.71, + "Plan Rows": 24, + "Plan Width": 36, + "Actual Startup Time": 186.541, + "Actual Total Time": 327.870, + "Actual Rows": 24, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 125.973, + "Actual Total Time": 327.986, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 329.565, + "Actual Total Time": 329.574, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 134.268, + "Actual Total Time": 324.326, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 150.068, + "Actual Total Time": 324.617, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 144.777, + "Actual Total Time": 329.239, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 325.182, + "Actual Total Time": 325.190, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 148.822, + "Actual Total Time": 324.557, + "Actual Rows": 38, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.10, + "Total Cost": 65076.14, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 163.092, + "Actual Total Time": 327.329, + "Actual Rows": 11, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 125.882, + "Actual Total Time": 326.247, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 154.772, + "Actual Total Time": 329.474, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 134.179, + "Actual Total Time": 323.694, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 137.716, + "Actual Total Time": 324.000, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 144.688, + "Actual Total Time": 328.866, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 325.182, + "Actual Total Time": 325.189, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 148.721, + "Actual Total Time": 324.086, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.67, + "Total Cost": 65075.68, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 139.225, + "Actual Total Time": 327.079, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_role_id", "mi.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 125.799, + "Actual Total Time": 325.757, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 153.480, + "Actual Total Time": 329.312, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 134.091, + "Actual Total Time": 323.462, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 137.628, + "Actual Total Time": 323.648, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 144.583, + "Actual Total Time": 328.576, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 136.090, + "Actual Total Time": 325.172, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 148.586, + "Actual Total Time": 323.752, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.57, + "Total Cost": 65074.54, + "Plan Rows": 12, + "Plan Width": 52, + "Actual Startup Time": 138.797, + "Actual Total Time": 326.629, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "mi.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 125.572, + "Actual Total Time": 325.496, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 153.208, + "Actual Total Time": 328.991, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 133.560, + "Actual Total Time": 322.917, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 137.021, + "Actual Total Time": 323.017, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 144.342, + "Actual Total Time": 328.305, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 135.521, + "Actual Total Time": 324.600, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 147.971, + "Actual Total Time": 323.120, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 65072.66, + "Plan Rows": 12, + "Plan Width": 56, + "Actual Startup Time": 138.765, + "Actual Total Time": 326.562, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "mi.movie_id", "mi.info_type_id", "n.name", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 125.548, + "Actual Total Time": 325.412, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 153.182, + "Actual Total Time": 328.903, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 133.533, + "Actual Total Time": 322.866, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 136.994, + "Actual Total Time": 322.949, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 144.318, + "Actual Total Time": 328.247, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 135.495, + "Actual Total Time": 324.568, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 147.927, + "Actual Total Time": 323.048, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 65056.02, + "Plan Rows": 14, + "Plan Width": 48, + "Actual Startup Time": 134.466, + "Actual Total Time": 325.246, + "Actual Rows": 14, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 125.439, + "Actual Total Time": 322.412, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 153.062, + "Actual Total Time": 327.558, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 133.434, + "Actual Total Time": 322.224, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 136.889, + "Actual Total Time": 321.183, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 136.943, + "Actual Total Time": 326.744, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 135.382, + "Actual Total Time": 324.439, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 121.544, + "Actual Total Time": 322.336, + "Actual Rows": 30, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 65029.12, + "Plan Rows": 53, + "Plan Width": 27, + "Actual Startup Time": 127.441, + "Actual Total Time": 323.996, + "Actual Rows": 53, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = ci.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 125.316, + "Actual Total Time": 321.344, + "Actual Rows": 51, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 129.189, + "Actual Total Time": 326.564, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 133.262, + "Actual Total Time": 321.698, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 133.068, + "Actual Total Time": 320.321, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 128.329, + "Actual Total Time": 324.319, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 116.019, + "Actual Total Time": 324.128, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 121.437, + "Actual Total Time": 321.035, + "Actual Rows": 61, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 64262.73, + "Plan Rows": 195, + "Plan Width": 23, + "Actual Startup Time": 117.728, + "Actual Total Time": 309.610, + "Actual Rows": 195, + "Actual Loops": 8, + "Output": ["an.person_id", "n.name", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 118.816, + "Actual Total Time": 311.357, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 119.251, + "Actual Total Time": 313.731, + "Actual Rows": 149, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 115.131, + "Actual Total Time": 309.119, + "Actual Rows": 187, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 113.850, + "Actual Total Time": 308.948, + "Actual Rows": 197, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 119.956, + "Actual Total Time": 298.239, + "Actual Rows": 406, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 113.217, + "Actual Total Time": 309.914, + "Actual Rows": 197, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 113.743, + "Actual Total Time": 310.054, + "Actual Rows": 161, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 846, + "Plan Width": 19, + "Actual Startup Time": 116.929, + "Actual Total Time": 299.460, + "Actual Rows": 846, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%Ang%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 520090, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.882, + "Actual Total Time": 302.582, + "Actual Rows": 746, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 117.445, + "Actual Total Time": 303.790, + "Actual Rows": 704, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 113.129, + "Actual Total Time": 299.479, + "Actual Rows": 806, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 113.614, + "Actual Total Time": 299.458, + "Actual Rows": 795, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 118.875, + "Actual Total Time": 281.188, + "Actual Rows": 1466, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 113.007, + "Actual Total Time": 300.448, + "Actual Rows": 835, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 113.663, + "Actual Total Time": 301.229, + "Actual Rows": 754, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 6768, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 746 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 704 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 806 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 795 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1466 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 835 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 754 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.92, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.072, + "Actual Rows": 0, + "Actual Loops": 1558, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.072, + "Actual Rows": 0, + "Actual Loops": 136 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.084, + "Actual Rows": 0, + "Actual Loops": 149 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 187 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 197 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 406 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.071, + "Actual Rows": 0, + "Actual Loops": 197 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 161 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 425, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2009))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 51 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 43 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 13 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 30 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 93 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 61 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.16, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.089, + "Actual Rows": 1, + "Actual Loops": 115, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 42, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.246, + "Actual Rows": 2, + "Actual Loops": 12 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.144, + "Actual Total Time": 0.147, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.098, + "Actual Total Time": 0.124, + "Actual Rows": 2, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.086, + "Actual Rows": 1, + "Actual Loops": 20 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 27 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.061, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 30 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 99, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 29 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 17 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 13 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 14 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.046, + "Actual Rows": 2, + "Actual Loops": 89, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note IS NOT NULL) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 11, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.057, + "Actual Rows": 2, + "Actual Loops": 29 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.055, + "Actual Rows": 3, + "Actual Loops": 11 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.041, + "Actual Rows": 2, + "Actual Loops": 14 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.031, + "Actual Rows": 3, + "Actual Loops": 14 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 194, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 71 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 28 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 30 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 38 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2080431693778951356, + "Planning Time": 224.131, + "Triggers": [ + ], + "Execution Time": 344.263, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2080431693778951356, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS kung_fu_panda
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note = '(voice)'
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND mc.note LIKE '%(200%)%'
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%2007%'
       OR mi.info LIKE 'USA:%2008%')
  AND n.gender ='f'
  AND n.name LIKE '%Angel%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2007 AND 2008
  AND t.title LIKE '%Kung%Fu%Panda%'
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 40352.11, + "Total Cost": 40352.12, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 870.256, + "Actual Total Time": 897.506, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 40352.06, + "Total Cost": 40352.07, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 855.291, + "Actual Total Time": 897.473, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 40351.06, + "Total Cost": 40351.07, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 841.358, + "Actual Total Time": 841.367, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 834.679, + "Actual Total Time": 834.687, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 843.891, + "Actual Total Time": 843.898, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 846.340, + "Actual Total Time": 846.351, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 836.571, + "Actual Total Time": 836.580, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 836.145, + "Actual Total Time": 836.153, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 844.298, + "Actual Total Time": 844.306, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 835.516, + "Actual Total Time": 835.524, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.27, + "Total Cost": 40351.05, + "Plan Rows": 2, + "Plan Width": 32, + "Actual Startup Time": 751.050, + "Actual Total Time": 841.356, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 834.673, + "Actual Total Time": 834.680, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 843.886, + "Actual Total Time": 843.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 394.085, + "Actual Total Time": 846.323, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 566.398, + "Actual Total Time": 836.560, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 836.140, + "Actual Total Time": 836.148, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 844.294, + "Actual Total Time": 844.301, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 835.511, + "Actual Total Time": 835.518, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.85, + "Total Cost": 40350.53, + "Plan Rows": 1, + "Plan Width": 40, + "Actual Startup Time": 751.036, + "Actual Total Time": 841.337, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 834.672, + "Actual Total Time": 834.679, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 843.885, + "Actual Total Time": 843.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 394.032, + "Actual Total Time": 846.241, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 566.340, + "Actual Total Time": 836.497, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 836.139, + "Actual Total Time": 836.146, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 844.293, + "Actual Total Time": 844.300, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 835.510, + "Actual Total Time": 835.517, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.70, + "Total Cost": 40350.35, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 751.022, + "Actual Total Time": 841.321, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info_type_id", "n.name", "n.id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 834.671, + "Actual Total Time": 834.676, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 843.885, + "Actual Total Time": 843.890, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 393.973, + "Actual Total Time": 846.170, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 566.295, + "Actual Total Time": 836.450, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 836.139, + "Actual Total Time": 836.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 844.292, + "Actual Total Time": 844.298, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 835.510, + "Actual Total Time": 835.515, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 40349.13, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 750.991, + "Actual Total Time": 841.130, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "n.name", "n.id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 834.670, + "Actual Total Time": 834.675, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 843.884, + "Actual Total Time": 843.888, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 393.842, + "Actual Total Time": 845.156, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 566.182, + "Actual Total Time": 835.944, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 836.138, + "Actual Total Time": 836.143, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 844.292, + "Actual Total Time": 844.296, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 835.509, + "Actual Total Time": 835.514, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 40348.66, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 750.971, + "Actual Total Time": 841.107, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id", "mc.movie_id", "n.name", "n.id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 834.669, + "Actual Total Time": 834.673, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 843.883, + "Actual Total Time": 843.887, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 393.772, + "Actual Total Time": 845.065, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 566.096, + "Actual Total Time": 835.857, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 836.137, + "Actual Total Time": 836.142, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 844.291, + "Actual Total Time": 844.295, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 835.508, + "Actual Total Time": 835.513, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 40346.99, + "Plan Rows": 3, + "Plan Width": 37, + "Actual Startup Time": 749.686, + "Actual Total Time": 841.028, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 834.668, + "Actual Total Time": 834.672, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 843.882, + "Actual Total Time": 843.886, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 393.597, + "Actual Total Time": 844.757, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 555.995, + "Actual Total Time": 835.541, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 836.136, + "Actual Total Time": 836.140, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 844.290, + "Actual Total Time": 844.294, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 835.507, + "Actual Total Time": 835.511, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 40345.85, + "Plan Rows": 12, + "Plan Width": 41, + "Actual Startup Time": 749.494, + "Actual Total Time": 840.859, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 834.520, + "Actual Total Time": 834.523, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 843.811, + "Actual Total Time": 843.813, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 393.336, + "Actual Total Time": 844.589, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 555.667, + "Actual Total Time": 835.317, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 836.000, + "Actual Total Time": 836.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 844.224, + "Actual Total Time": 844.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 835.370, + "Actual Total Time": 835.372, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 40342.73, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 749.471, + "Actual Total Time": 840.482, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 834.520, + "Actual Total Time": 834.521, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 843.811, + "Actual Total Time": 843.812, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 393.218, + "Actual Total Time": 842.724, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 555.603, + "Actual Total Time": 834.172, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 835.999, + "Actual Total Time": 836.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 844.224, + "Actual Total Time": 844.225, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 835.370, + "Actual Total Time": 835.371, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 25002.61, + "Plan Rows": 22133, + "Plan Width": 4, + "Actual Startup Time": 0.310, + "Actual Total Time": 492.745, + "Actual Rows": 22133, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.812, + "Actual Total Time": 499.516, + "Actual Rows": 21173, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.185, + "Actual Total Time": 488.470, + "Actual Rows": 21073, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.187, + "Actual Total Time": 470.586, + "Actual Rows": 24922, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.316, + "Actual Total Time": 484.134, + "Actual Rows": 23175, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.307, + "Actual Total Time": 513.128, + "Actual Rows": 22130, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.263, + "Actual Total Time": 495.341, + "Actual Rows": 22365, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.296, + "Actual Total Time": 495.192, + "Actual Rows": 22091, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.067, + "Actual Total Time": 18.287, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.080, + "Actual Total Time": 20.747, + "Actual Rows": 12087, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 17.327, + "Actual Rows": 10391, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 14.129, + "Actual Rows": 7909, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.098, + "Actual Total Time": 17.370, + "Actual Rows": 10389, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.097, + "Actual Total Time": 18.179, + "Actual Rows": 11243, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.052, + "Actual Total Time": 18.093, + "Actual Rows": 10787, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.086, + "Actual Total Time": 19.224, + "Actual Rows": 11802, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 2.02, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.043, + "Actual Rows": 2, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 12, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.038, + "Actual Rows": 2, + "Actual Loops": 12087 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.044, + "Actual Rows": 2, + "Actual Loops": 10391 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.056, + "Actual Rows": 3, + "Actual Loops": 7909 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.043, + "Actual Rows": 2, + "Actual Loops": 10389 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.043, + "Actual Rows": 2, + "Actual Loops": 11243 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.043, + "Actual Rows": 2, + "Actual Loops": 10787 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.039, + "Actual Rows": 2, + "Actual Loops": 11802 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.69, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 177065, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2007) AND (t.production_year <= 2008) AND (t.title ~~ '%Kung%Fu%Panda%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 21173 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 21073 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 24922 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 23175 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 22130 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 22365 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 22091 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 2.81, + "Plan Rows": 25, + "Plan Width": 16, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.733, + "Actual Rows": 25, + "Actual Loops": 4, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice)'::text)", + "Rows Removed by Filter": 127, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.911, + "Actual Rows": 26, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.554, + "Actual Rows": 24, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.56, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 24, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Angel%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 12 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 12 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.082, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.21, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.501, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%2007%'::text) OR (mi.info ~~ 'USA:%2008%'::text)))", + "Rows Removed by Filter": 372, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.105, + "Actual Total Time": 0.502, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.500, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.042, + "Actual Rows": 5, + "Actual Loops": 3, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.035, + "Actual Rows": 5, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.057, + "Actual Rows": 5, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2216088972165640435, + "Planning Time": 237.542, + "Triggers": [ + ], + "Execution Time": 898.121, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2216088972165640435, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS jap_engl_voiced_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year > 2000
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73519.49, + "Total Cost": 73519.50, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 789.689, + "Actual Total Time": 797.772, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73519.44, + "Total Cost": 73519.45, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 788.836, + "Actual Total Time": 797.741, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73518.44, + "Total Cost": 73518.45, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 778.109, + "Actual Total Time": 778.123, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 770.429, + "Actual Total Time": 770.444, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 779.223, + "Actual Total Time": 779.236, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 778.636, + "Actual Total Time": 778.650, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 779.239, + "Actual Total Time": 779.251, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 772.052, + "Actual Total Time": 772.065, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 779.157, + "Actual Total Time": 779.170, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 778.300, + "Actual Total Time": 778.313, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.95, + "Total Cost": 73516.20, + "Plan Rows": 447, + "Plan Width": 32, + "Actual Startup Time": 151.446, + "Actual Total Time": 777.523, + "Actual Rows": 447, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 152.375, + "Actual Total Time": 770.008, + "Actual Rows": 337, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 166.672, + "Actual Total Time": 778.432, + "Actual Rows": 599, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 154.225, + "Actual Total Time": 778.121, + "Actual Rows": 381, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 171.722, + "Actual Total Time": 778.107, + "Actual Rows": 951, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 121.725, + "Actual Total Time": 771.808, + "Actual Rows": 154, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 139.300, + "Actual Total Time": 778.559, + "Actual Rows": 367, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 144.707, + "Actual Total Time": 777.770, + "Actual Rows": 408, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.52, + "Total Cost": 73269.16, + "Plan Rows": 514, + "Plan Width": 27, + "Actual Startup Time": 147.983, + "Actual Total Time": 770.290, + "Actual Rows": 514, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 152.299, + "Actual Total Time": 764.930, + "Actual Rows": 352, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 150.058, + "Actual Total Time": 767.079, + "Actual Rows": 815, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 154.154, + "Actual Total Time": 772.590, + "Actual Rows": 381, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 171.654, + "Actual Total Time": 765.044, + "Actual Rows": 996, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 121.639, + "Actual Total Time": 766.766, + "Actual Rows": 316, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 139.220, + "Actual Total Time": 773.291, + "Actual Rows": 371, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 134.059, + "Actual Total Time": 770.689, + "Actual Rows": 496, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.10, + "Total Cost": 73268.28, + "Plan Rows": 2, + "Plan Width": 31, + "Actual Startup Time": 147.695, + "Actual Total Time": 746.888, + "Actual Rows": 1678, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mc.company_id", "mi.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 152.225, + "Actual Total Time": 749.881, + "Actual Rows": 1038, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 149.063, + "Actual Total Time": 723.262, + "Actual Rows": 3277, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 153.761, + "Actual Total Time": 752.718, + "Actual Rows": 1464, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 171.582, + "Actual Total Time": 735.781, + "Actual Rows": 2181, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 121.276, + "Actual Total Time": 750.529, + "Actual Rows": 961, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 138.929, + "Actual Total Time": 759.551, + "Actual Rows": 958, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 133.994, + "Actual Total Time": 742.623, + "Actual Rows": 2011, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 73265.89, + "Plan Rows": 200, + "Plan Width": 35, + "Actual Startup Time": 147.288, + "Actual Total Time": 744.404, + "Actual Rows": 1678, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mc.company_id", "mi.movie_id", "mi.info_type_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 151.526, + "Actual Total Time": 747.939, + "Actual Rows": 1038, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 148.743, + "Actual Total Time": 719.018, + "Actual Rows": 3277, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 153.464, + "Actual Total Time": 750.480, + "Actual Rows": 1464, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 171.263, + "Actual Total Time": 732.831, + "Actual Rows": 2181, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 120.626, + "Actual Total Time": 748.544, + "Actual Rows": 961, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 138.632, + "Actual Total Time": 757.995, + "Actual Rows": 958, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 133.712, + "Actual Total Time": 739.869, + "Actual Rows": 2011, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 72984.21, + "Plan Rows": 277, + "Plan Width": 27, + "Actual Startup Time": 129.418, + "Actual Total Time": 485.303, + "Actual Rows": 2293, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.466, + "Actual Total Time": 491.362, + "Actual Rows": 1503, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 128.158, + "Actual Total Time": 444.276, + "Actual Rows": 4929, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 133.537, + "Actual Total Time": 434.233, + "Actual Rows": 1264, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 132.003, + "Actual Total Time": 534.890, + "Actual Rows": 3836, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 120.500, + "Actual Total Time": 510.893, + "Actual Rows": 1078, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 132.118, + "Actual Total Time": 471.883, + "Actual Rows": 2362, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 129.276, + "Actual Total Time": 406.825, + "Actual Rows": 2119, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 72450.45, + "Plan Rows": 966, + "Plan Width": 19, + "Actual Startup Time": 129.341, + "Actual Total Time": 467.715, + "Actual Rows": 966, + "Actual Loops": 8, + "Output": ["ci.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.388, + "Actual Total Time": 480.518, + "Actual Rows": 477, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 128.084, + "Actual Total Time": 400.053, + "Actual Rows": 2656, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 133.459, + "Actual Total Time": 428.684, + "Actual Rows": 194, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 131.911, + "Actual Total Time": 509.601, + "Actual Rows": 1471, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 120.418, + "Actual Total Time": 495.379, + "Actual Rows": 1041, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 132.042, + "Actual Total Time": 454.276, + "Actual Rows": 1056, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 129.191, + "Actual Total Time": 395.233, + "Actual Rows": 425, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.97, + "Total Cost": 71980.00, + "Plan Rows": 1026, + "Plan Width": 23, + "Actual Startup Time": 129.254, + "Actual Total Time": 455.391, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_role_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.298, + "Actual Total Time": 473.469, + "Actual Rows": 507, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 127.998, + "Actual Total Time": 368.893, + "Actual Rows": 2727, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 133.394, + "Actual Total Time": 425.649, + "Actual Rows": 206, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 131.790, + "Actual Total Time": 491.156, + "Actual Rows": 1548, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 120.328, + "Actual Total Time": 482.340, + "Actual Rows": 1114, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 131.963, + "Actual Total Time": 441.116, + "Actual Rows": 1124, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 129.085, + "Actual Total Time": 388.698, + "Actual Rows": 497, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 71975.25, + "Plan Rows": 1026, + "Plan Width": 27, + "Actual Startup Time": 129.229, + "Actual Total Time": 454.051, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = ci.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.270, + "Actual Total Time": 472.701, + "Actual Rows": 507, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 127.980, + "Actual Total Time": 365.753, + "Actual Rows": 2727, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 133.373, + "Actual Total Time": 425.252, + "Actual Rows": 206, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 131.764, + "Actual Total Time": 489.216, + "Actual Rows": 1548, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 120.301, + "Actual Total Time": 480.859, + "Actual Rows": 1114, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 131.944, + "Actual Total Time": 439.641, + "Actual Rows": 1124, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 129.062, + "Actual Total Time": 387.917, + "Actual Rows": 497, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 66803.05, + "Plan Rows": 1316, + "Plan Width": 23, + "Actual Startup Time": 125.867, + "Actual Total Time": 363.327, + "Actual Rows": 1316, + "Actual Loops": 8, + "Output": ["an.person_id", "n.name", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.033, + "Actual Total Time": 378.552, + "Actual Rows": 1197, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 126.439, + "Actual Total Time": 282.290, + "Actual Rows": 1289, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 132.964, + "Actual Total Time": 359.047, + "Actual Rows": 872, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 126.509, + "Actual Total Time": 393.475, + "Actual Rows": 1228, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 118.793, + "Actual Total Time": 381.871, + "Actual Rows": 1373, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 126.028, + "Actual Total Time": 355.130, + "Actual Rows": 1274, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 124.782, + "Actual Total Time": 303.702, + "Actual Rows": 1343, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 6251, + "Plan Width": 19, + "Actual Startup Time": 125.656, + "Actual Total Time": 301.615, + "Actual Rows": 6251, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 514685, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 116.855, + "Actual Total Time": 320.655, + "Actual Rows": 5823, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 126.348, + "Actual Total Time": 230.033, + "Actual Rows": 5551, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 132.825, + "Actual Total Time": 313.564, + "Actual Rows": 4509, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 126.109, + "Actual Total Time": 332.615, + "Actual Rows": 5618, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 118.571, + "Actual Total Time": 317.958, + "Actual Rows": 6596, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 125.882, + "Actual Total Time": 296.900, + "Actual Rows": 6151, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 124.530, + "Actual Total Time": 238.957, + "Actual Rows": 6452, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 50011, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 5823 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 5551 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 4509 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 5618 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6596 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6151 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6452 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.92, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 10525, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.077, + "Actual Rows": 0, + "Actual Loops": 1197 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.063, + "Actual Rows": 2, + "Actual Loops": 1289 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.075, + "Actual Rows": 0, + "Actual Loops": 872 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.076, + "Actual Rows": 1, + "Actual Loops": 1228 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 1373 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.065, + "Actual Rows": 1, + "Actual Loops": 1274 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1343 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 8204, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 507 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 2727 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 206 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1548 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1114 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1124 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 497 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 7726, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.020, + "Actual Rows": 3, + "Actual Loops": 477 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 2656 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.024, + "Actual Rows": 7, + "Actual Loops": 194 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 1471 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1041 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 1056 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.022, + "Actual Rows": 5, + "Actual Loops": 425 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.01, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.112, + "Actual Rows": 1, + "Actual Loops": 18345, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 77, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.142, + "Actual Total Time": 0.169, + "Actual Rows": 1, + "Actual Loops": 1503 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 4929 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.153, + "Actual Total Time": 0.249, + "Actual Rows": 1, + "Actual Loops": 1264 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 3836 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.219, + "Actual Rows": 1, + "Actual Loops": 1078 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.120, + "Actual Rows": 0, + "Actual Loops": 2362 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.156, + "Actual Rows": 1, + "Actual Loops": 2119 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 13425, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1038 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 3277 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1464 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 2181 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 961 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 958 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2011 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 4113, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 352 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 815 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 381 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 996 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 316 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 371 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 496 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5068614643165729469, + "Planning Time": 200.189, + "Triggers": [ + ], + "Execution Time": 798.198, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 5068614643165729469, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS jap_engl_voiced_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND n.gender ='f'
  AND rt.role ='actress'
  AND t.production_year > 2000
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 184622.41, + "Total Cost": 184622.42, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 10304.461, + "Actual Total Time": 10349.536, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 184622.36, + "Total Cost": 184622.37, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 10265.758, + "Actual Total Time": 10349.497, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 184621.36, + "Total Cost": 184621.37, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 10255.878, + "Actual Total Time": 10255.893, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10282.174, + "Actual Total Time": 10282.189, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10254.832, + "Actual Total Time": 10254.846, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10248.792, + "Actual Total Time": 10248.806, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10248.929, + "Actual Total Time": 10248.943, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10248.931, + "Actual Total Time": 10248.945, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10249.258, + "Actual Total Time": 10249.271, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10249.371, + "Actual Total Time": 10249.387, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 174465.87, + "Total Cost": 183520.96, + "Plan Rows": 220081, + "Plan Width": 32, + "Actual Startup Time": 9975.460, + "Actual Total Time": 10141.794, + "Actual Rows": 220081, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(an.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9969.853, + "Actual Total Time": 10137.005, + "Actual Rows": 283654, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9976.754, + "Actual Total Time": 10152.428, + "Actual Rows": 165671, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9970.659, + "Actual Total Time": 10134.324, + "Actual Rows": 202747, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9971.033, + "Actual Total Time": 10143.513, + "Actual Rows": 242658, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9970.964, + "Actual Total Time": 10140.891, + "Actual Rows": 203402, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9971.342, + "Actual Total Time": 10138.973, + "Actual Rows": 208533, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9986.340, + "Actual Total Time": 10138.772, + "Actual Rows": 252600, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 8730.32, + "Plan Rows": 81581, + "Plan Width": 4, + "Actual Startup Time": 0.232, + "Actual Total Time": 56.966, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["an.person_id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.294, + "Actual Total Time": 31.765, + "Actual Rows": 65419, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.326, + "Actual Total Time": 79.549, + "Actual Rows": 117519, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.191, + "Actual Total Time": 51.096, + "Actual Rows": 110381, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.364, + "Actual Total Time": 60.158, + "Actual Rows": 140146, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.262, + "Actual Total Time": 59.639, + "Actual Rows": 127157, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.211, + "Actual Total Time": 56.331, + "Actual Rows": 116894, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.127, + "Actual Total Time": 63.225, + "Actual Rows": 116815, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 173235.70, + "Total Cost": 173235.70, + "Plan Rows": 98380, + "Plan Width": 40, + "Actual Startup Time": 9927.065, + "Actual Total Time": 9927.079, + "Actual Rows": 98380, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Hash Buckets": 1048576, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 69376, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9925.625, + "Actual Total Time": 9925.637, + "Actual Rows": 112504, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9932.795, + "Actual Total Time": 9932.808, + "Actual Rows": 90567, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9926.562, + "Actual Total Time": 9926.575, + "Actual Rows": 72390, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9926.761, + "Actual Total Time": 9926.774, + "Actual Rows": 69069, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9926.697, + "Actual Total Time": 9926.709, + "Actual Rows": 157803, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9926.964, + "Actual Total Time": 9926.975, + "Actual Rows": 65425, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9926.934, + "Actual Total Time": 9926.949, + "Actual Rows": 91964, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42148.12, + "Total Cost": 173235.70, + "Plan Rows": 98380, + "Plan Width": 40, + "Actual Startup Time": 443.388, + "Actual Total Time": 9815.418, + "Actual Rows": 98380, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 444.666, + "Actual Total Time": 9795.427, + "Actual Rows": 112504, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 449.576, + "Actual Total Time": 9810.623, + "Actual Rows": 90567, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 433.239, + "Actual Total Time": 9838.358, + "Actual Rows": 72390, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 451.856, + "Actual Total Time": 9849.282, + "Actual Rows": 69069, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 436.742, + "Actual Total Time": 9763.798, + "Actual Rows": 157803, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 435.888, + "Actual Total Time": 9841.577, + "Actual Rows": 65425, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 451.820, + "Actual Total Time": 9843.025, + "Actual Rows": 91964, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42146.28, + "Total Cost": 171726.82, + "Plan Rows": 553355, + "Plan Width": 44, + "Actual Startup Time": 443.314, + "Actual Total Time": 9602.770, + "Actual Rows": 553355, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info_type_id", "n.name", "n.id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 444.572, + "Actual Total Time": 9559.548, + "Actual Rows": 619571, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 449.492, + "Actual Total Time": 9621.478, + "Actual Rows": 453385, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 433.143, + "Actual Total Time": 9672.681, + "Actual Rows": 421470, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 451.833, + "Actual Total Time": 9703.909, + "Actual Rows": 374141, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 436.691, + "Actual Total Time": 9431.152, + "Actual Rows": 870351, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 435.828, + "Actual Total Time": 9669.210, + "Actual Rows": 478428, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 451.793, + "Actual Total Time": 9652.478, + "Actual Rows": 499901, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42145.84, + "Total Cost": 157429.87, + "Plan Rows": 12165, + "Plan Width": 52, + "Actual Startup Time": 443.225, + "Actual Total Time": 8822.585, + "Actual Rows": 12165, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "n.name", "n.id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 444.473, + "Actual Total Time": 8673.127, + "Actual Rows": 14252, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 449.390, + "Actual Total Time": 8991.384, + "Actual Rows": 9319, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 433.039, + "Actual Total Time": 9011.397, + "Actual Rows": 14058, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 451.768, + "Actual Total Time": 9141.040, + "Actual Rows": 9363, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 436.595, + "Actual Total Time": 8225.574, + "Actual Rows": 19395, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 435.708, + "Actual Total Time": 9006.852, + "Actual Rows": 10012, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 451.709, + "Actual Total Time": 8955.683, + "Actual Rows": 10835, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42145.41, + "Total Cost": 150906.13, + "Plan Rows": 12173, + "Plan Width": 33, + "Actual Startup Time": 443.123, + "Actual Total Time": 8626.182, + "Actual Rows": 12173, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 444.350, + "Actual Total Time": 8445.069, + "Actual Rows": 14262, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 449.294, + "Actual Total Time": 8837.989, + "Actual Rows": 9331, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 432.924, + "Actual Total Time": 8797.513, + "Actual Rows": 14065, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 451.687, + "Actual Total Time": 8979.126, + "Actual Rows": 9368, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 436.465, + "Actual Total Time": 7938.302, + "Actual Rows": 19411, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 435.603, + "Actual Total Time": 8836.292, + "Actual Rows": 10018, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 451.601, + "Actual Total Time": 8777.644, + "Actual Rows": 10838, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42144.98, + "Total Cost": 144922.78, + "Plan Rows": 13049, + "Plan Width": 37, + "Actual Startup Time": 442.509, + "Actual Total Time": 8437.081, + "Actual Rows": 13049, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 440.207, + "Actual Total Time": 8239.407, + "Actual Rows": 15208, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 449.169, + "Actual Total Time": 8698.149, + "Actual Rows": 9891, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 432.792, + "Actual Total Time": 8557.933, + "Actual Rows": 15237, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 451.600, + "Actual Total Time": 8823.314, + "Actual Rows": 10181, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 436.339, + "Actual Total Time": 7660.175, + "Actual Rows": 20646, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 435.475, + "Actual Total Time": 8673.863, + "Actual Rows": 10631, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 451.480, + "Actual Total Time": 8620.350, + "Actual Rows": 11773, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42143.88, + "Total Cost": 144763.08, + "Plan Rows": 44650, + "Plan Width": 41, + "Actual Startup Time": 440.633, + "Actual Total Time": 8408.812, + "Actual Rows": 44650, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 435.652, + "Actual Total Time": 8198.014, + "Actual Rows": 54262, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 442.301, + "Actual Total Time": 8676.842, + "Actual Rows": 34330, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 432.253, + "Actual Total Time": 8527.325, + "Actual Rows": 52632, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 451.333, + "Actual Total Time": 8800.650, + "Actual Rows": 37372, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 436.123, + "Actual Total Time": 7620.735, + "Actual Rows": 61661, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 435.239, + "Actual Total Time": 8651.095, + "Actual Rows": 38537, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 449.378, + "Actual Total Time": 8595.376, + "Actual Rows": 42099, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42143.44, + "Total Cost": 64660.86, + "Plan Rows": 58598, + "Plan Width": 25, + "Actual Startup Time": 431.387, + "Actual Total Time": 1168.018, + "Actual Rows": 58598, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 431.324, + "Actual Total Time": 1162.715, + "Actual Rows": 59179, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 431.396, + "Actual Total Time": 1072.587, + "Actual Rows": 59671, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 431.596, + "Actual Total Time": 1231.795, + "Actual Rows": 58948, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 431.342, + "Actual Total Time": 1216.737, + "Actual Rows": 61684, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 431.324, + "Actual Total Time": 1058.885, + "Actual Rows": 51844, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 431.318, + "Actual Total Time": 1198.634, + "Actual Rows": 60706, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 431.337, + "Actual Total Time": 1211.869, + "Actual Rows": 60619, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 22139.26, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 0.095, + "Actual Total Time": 575.020, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.110, + "Actual Total Time": 565.935, + "Actual Rows": 143966, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.096, + "Actual Total Time": 500.309, + "Actual Rows": 120470, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.078, + "Actual Total Time": 628.200, + "Actual Rows": 169066, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.107, + "Actual Total Time": 616.290, + "Actual Rows": 131779, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.106, + "Actual Total Time": 492.161, + "Actual Rows": 106339, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.084, + "Actual Total Time": 592.902, + "Actual Rows": 170645, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.104, + "Actual Total Time": 613.872, + "Actual Rows": 141099, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 23.982, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 23.439, + "Actual Rows": 10591, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 23.324, + "Actual Rows": 10558, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 24.499, + "Actual Rows": 10363, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 24.142, + "Actual Rows": 10645, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 24.056, + "Actual Rows": 10047, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 23.069, + "Actual Rows": 10415, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 26.596, + "Actual Rows": 12019, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.046, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.045, + "Actual Rows": 14, + "Actual Loops": 10591 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.040, + "Actual Rows": 11, + "Actual Loops": 10558 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.051, + "Actual Rows": 16, + "Actual Loops": 10363 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.050, + "Actual Rows": 12, + "Actual Loops": 10645 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.041, + "Actual Rows": 11, + "Actual Loops": 10047 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.048, + "Actual Rows": 16, + "Actual Loops": 10415 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.043, + "Actual Rows": 12, + "Actual Loops": 12019 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 39984.49, + "Total Cost": 39984.49, + "Plan Rows": 172682, + "Plan Width": 21, + "Actual Startup Time": 426.864, + "Actual Total Time": 426.865, + "Actual Rows": 172682, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 2097152, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 93952, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 431.155, + "Actual Total Time": 431.156, + "Actual Rows": 163029, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 396.718, + "Actual Total Time": 396.719, + "Actual Rows": 182809, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 431.172, + "Actual Total Time": 431.173, + "Actual Rows": 175476, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 431.175, + "Actual Total Time": 431.177, + "Actual Rows": 176825, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 431.159, + "Actual Total Time": 431.160, + "Actual Rows": 152376, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 431.172, + "Actual Total Time": 431.173, + "Actual Rows": 173138, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 431.171, + "Actual Total Time": 431.172, + "Actual Rows": 160216, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.00, + "Total Cost": 39984.49, + "Plan Rows": 172682, + "Plan Width": 21, + "Actual Startup Time": 0.101, + "Actual Total Time": 201.059, + "Actual Rows": 172682, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 143357, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.106, + "Actual Total Time": 217.152, + "Actual Rows": 163029, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.240, + "Actual Total Time": 195.031, + "Actual Rows": 182809, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.077, + "Actual Total Time": 196.155, + "Actual Rows": 175476, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.059, + "Actual Total Time": 211.905, + "Actual Rows": 176825, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.098, + "Actual Total Time": 200.942, + "Actual Rows": 152376, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.086, + "Actual Total Time": 200.460, + "Actual Rows": 173138, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.099, + "Actual Total Time": 182.797, + "Actual Rows": 160216, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.35, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.122, + "Actual Rows": 1, + "Actual Loops": 468787, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))",+ "Rows Removed by Filter": 34, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.117, + "Actual Rows": 1, + "Actual Loops": 59179 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.126, + "Actual Rows": 1, + "Actual Loops": 59671 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.122, + "Actual Rows": 1, + "Actual Loops": 58948 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.107, + "Actual Total Time": 0.121, + "Actual Rows": 1, + "Actual Loops": 61684 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.105, + "Actual Total Time": 0.125, + "Actual Rows": 1, + "Actual Loops": 51844 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.121, + "Actual Rows": 1, + "Actual Loops": 60706 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.104, + "Actual Total Time": 0.120, + "Actual Rows": 1, + "Actual Loops": 60619 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.098, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.100, + "Actual Total Time": 0.101, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.086, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.100, + "Actual Total Time": 0.100, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.109, + "Actual Total Time": 0.110, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.077, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.090, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.111, + "Actual Total Time": 0.112, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 104391, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 15208 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 9891 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 15237 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 10181 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 20646 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 10631 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 11773 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 97386, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'f'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 14262 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 9331 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 14065 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 9368 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 19411 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 10018 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 10838 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 21, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.046, + "Actual Rows": 45, + "Actual Loops": 97320, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.044, + "Actual Rows": 43, + "Actual Loops": 14252 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.048, + "Actual Rows": 49, + "Actual Loops": 9319 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.035, + "Actual Rows": 30, + "Actual Loops": 14058 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.044, + "Actual Rows": 40, + "Actual Loops": 9363 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.045, + "Actual Rows": 45, + "Actual Loops": 19395 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.048, + "Actual Rows": 48, + "Actual Loops": 10012 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.046, + "Actual Rows": 46, + "Actual Loops": 10835 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 56, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7915967579038312663, + "Planning Time": 198.943, + "Triggers": [ + ], + "Execution Time": 10349.982, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7915967579038312663, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'top 250 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND (mc.note LIKE '%(co-production)%'
       OR mc.note LIKE '%(presents)%')
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10160.05, + "Total Cost": 10160.06, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 116.165, + "Actual Total Time": 119.283, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10159.98, + "Total Cost": 10159.99, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 101.969, + "Actual Total Time": 119.259, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10158.98, + "Total Cost": 10158.99, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 93.270, + "Actual Total Time": 93.275, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.625, + "Actual Total Time": 90.630, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.165, + "Actual Total Time": 92.169, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 92.247, + "Actual Total Time": 92.252, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.644, + "Actual Total Time": 90.651, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 83.701, + "Actual Total Time": 83.707, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 100.971, + "Actual Total Time": 100.975, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 94.873, + "Actual Total Time": 94.876, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10158.84, + "Plan Rows": 18, + "Plan Width": 45, + "Actual Startup Time": 90.603, + "Actual Total Time": 93.247, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Join Filter": "(mc.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.619, + "Actual Total Time": 90.624, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.160, + "Actual Total Time": 92.163, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 92.240, + "Actual Total Time": 92.245, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.638, + "Actual Total Time": 90.644, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 83.695, + "Actual Total Time": 83.701, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 93.313, + "Actual Total Time": 100.896, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 81.234, + "Actual Total Time": 94.768, + "Actual Rows": 95, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.41, + "Total Cost": 10149.94, + "Plan Rows": 18, + "Plan Width": 32, + "Actual Startup Time": 90.581, + "Actual Total Time": 92.882, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mc.note", "mc.movie_id", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.619, + "Actual Total Time": 90.623, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.159, + "Actual Total Time": 92.162, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 92.238, + "Actual Total Time": 92.243, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.637, + "Actual Total Time": 90.642, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 83.694, + "Actual Total Time": 83.699, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 93.216, + "Actual Total Time": 99.742, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 81.164, + "Actual Total Time": 93.017, + "Actual Rows": 95, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10149.07, + "Plan Rows": 18, + "Plan Width": 36, + "Actual Startup Time": 90.564, + "Actual Total Time": 92.834, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "mc.note", "mc.company_type_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.618, + "Actual Total Time": 90.621, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.158, + "Actual Total Time": 92.160, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 92.238, + "Actual Total Time": 92.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.636, + "Actual Total Time": 90.640, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 83.694, + "Actual Total Time": 83.696, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 93.138, + "Actual Total Time": 99.558, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 81.111, + "Actual Total Time": 92.825, + "Actual Rows": 95, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 31, + "Plan Width": 4, + "Actual Startup Time": 90.502, + "Actual Total Time": 90.550, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 90.618, + "Actual Total Time": 90.619, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.157, + "Actual Total Time": 92.159, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 92.237, + "Actual Total Time": 92.240, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.635, + "Actual Total Time": 90.638, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 83.692, + "Actual Total Time": 83.694, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.903, + "Actual Total Time": 93.040, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 80.848, + "Actual Total Time": 81.081, + "Actual Rows": 162, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.032, + "Actual Total Time": 36.899, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 38.694, + "Actual Rows": 182259, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 38.582, + "Actual Rows": 187165, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 38.713, + "Actual Rows": 187159, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 30.947, + "Actual Rows": 147647, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 33.213, + "Actual Rows": 161404, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 39.200, + "Actual Rows": 188104, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 33.853, + "Actual Rows": 147322, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.094, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'top 250 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.072, + "Actual Rows": 1, + "Actual Loops": 250, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text) AND ((mc.note ~~ '%(co-production)%'::text) OR (mc.note ~~ '%(presents)%'::text)))", + "Rows Removed by Filter": 33, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.073, + "Actual Rows": 1, + "Actual Loops": 88 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.072, + "Actual Rows": 1, + "Actual Loops": 162 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 147, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 52, + "Cache Hits": 50, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 95, + "Cache Hits": 94, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 142, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 47 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 95 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1116224040252844741, + "Planning Time": 17.534, + "Triggers": [ + ], + "Execution Time": 119.551, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1116224040252844741, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'bottom 10 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND t.production_year BETWEEN 2005 AND 2010
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10134.58, + "Total Cost": 10134.59, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 108.255, + "Actual Total Time": 113.841, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10134.51, + "Total Cost": 10134.52, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 106.690, + "Actual Total Time": 113.819, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10133.51, + "Total Cost": 10133.52, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 100.297, + "Actual Total Time": 100.303, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.858, + "Actual Total Time": 98.863, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.751, + "Actual Total Time": 99.756, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.981, + "Actual Total Time": 98.986, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 100.699, + "Actual Total Time": 100.706, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.361, + "Actual Total Time": 99.366, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 99.919, + "Actual Total Time": 99.923, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.917, + "Actual Total Time": 98.923, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10133.50, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 100.284, + "Actual Total Time": 100.295, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.853, + "Actual Total Time": 98.858, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.746, + "Actual Total Time": 99.750, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.977, + "Actual Total Time": 98.982, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 100.637, + "Actual Total Time": 100.686, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.355, + "Actual Total Time": 99.359, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 99.914, + "Actual Total Time": 99.918, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.911, + "Actual Total Time": 98.916, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 10132.89, + "Plan Rows": 8, + "Plan Width": 49, + "Actual Startup Time": 100.204, + "Actual Total Time": 100.272, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "t.title", "t.production_year"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.852, + "Actual Total Time": 98.856, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.746, + "Actual Total Time": 99.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.976, + "Actual Total Time": 98.980, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.998, + "Actual Total Time": 100.520, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.354, + "Actual Total Time": 99.358, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 99.913, + "Actual Total Time": 99.916, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.911, + "Actual Total Time": 98.914, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10132.18, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 100.188, + "Actual Total Time": 100.217, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.production_year", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.852, + "Actual Total Time": 98.855, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.745, + "Actual Total Time": 99.747, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.976, + "Actual Total Time": 98.979, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.877, + "Actual Total Time": 100.086, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.353, + "Actual Total Time": 99.356, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 99.912, + "Actual Total Time": 99.915, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.910, + "Actual Total Time": 98.913, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 100.134, + "Actual Total Time": 100.144, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.851, + "Actual Total Time": 98.853, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.744, + "Actual Total Time": 99.746, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.975, + "Actual Total Time": 98.977, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.454, + "Actual Total Time": 99.513, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.352, + "Actual Total Time": 99.355, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 99.912, + "Actual Total Time": 99.913, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.909, + "Actual Total Time": 98.911, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.014, + "Actual Total Time": 38.843, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 38.194, + "Actual Rows": 164367, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 43.255, + "Actual Rows": 189573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 38.173, + "Actual Rows": 166948, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 38.322, + "Actual Rows": 168102, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 36.038, + "Actual Rows": 156182, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 38.549, + "Actual Rows": 198477, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 37.896, + "Actual Rows": 164005, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'bottom 10 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 10, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 16, + "Plan Width": 32, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.101, + "Actual Rows": 16, + "Actual Loops": 4, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.101, + "Actual Rows": 16, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 66, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 66, + "Cache Hits": 64, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4074774145614403639, + "Planning Time": 14.372, + "Triggers": [ + ], + "Execution Time": 114.108, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -4074774145614403639, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'top 250 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND (mc.note LIKE '%(co-production)%')
  AND t.production_year >2010
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10149.06, + "Total Cost": 10149.07, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 97.530, + "Actual Total Time": 102.847, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10148.99, + "Total Cost": 10149.00, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 90.334, + "Actual Total Time": 102.827, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10147.99, + "Total Cost": 10148.00, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 84.703, + "Actual Total Time": 84.708, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 82.392, + "Actual Total Time": 82.397, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.177, + "Actual Total Time": 85.181, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 82.816, + "Actual Total Time": 82.819, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 89.786, + "Actual Total Time": 89.791, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 82.800, + "Actual Total Time": 82.805, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 82.813, + "Actual Total Time": 82.818, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 82.383, + "Actual Total Time": 82.389, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10147.99, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 84.181, + "Actual Total Time": 84.700, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 82.387, + "Actual Total Time": 82.391, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.172, + "Actual Total Time": 85.176, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 82.812, + "Actual Total Time": 82.815, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 85.644, + "Actual Total Time": 89.764, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 82.796, + "Actual Total Time": 82.800, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 82.808, + "Actual Total Time": 82.813, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 82.377, + "Actual Total Time": 82.383, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 10147.82, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 84.171, + "Actual Total Time": 84.688, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "t.title", "t.production_year"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 82.386, + "Actual Total Time": 82.390, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.172, + "Actual Total Time": 85.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 82.811, + "Actual Total Time": 82.814, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 85.571, + "Actual Total Time": 89.682, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 82.795, + "Actual Total Time": 82.798, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 82.807, + "Actual Total Time": 82.811, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 82.377, + "Actual Total Time": 82.380, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10146.71, + "Plan Rows": 2, + "Plan Width": 29, + "Actual Startup Time": 83.826, + "Actual Total Time": 84.542, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.production_year", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 82.385, + "Actual Total Time": 82.388, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 83.686, + "Actual Total Time": 84.807, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 82.811, + "Actual Total Time": 82.813, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 84.304, + "Actual Total Time": 88.888, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 82.794, + "Actual Total Time": 82.797, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 82.807, + "Actual Total Time": 82.810, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 82.376, + "Actual Total Time": 82.379, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 31, + "Plan Width": 4, + "Actual Startup Time": 83.518, + "Actual Total Time": 83.574, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 82.385, + "Actual Total Time": 82.387, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 82.764, + "Actual Total Time": 82.865, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 82.810, + "Actual Total Time": 82.812, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 82.765, + "Actual Total Time": 83.099, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 82.794, + "Actual Total Time": 82.795, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 82.806, + "Actual Total Time": 82.808, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 82.375, + "Actual Total Time": 82.378, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.015, + "Actual Total Time": 32.422, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 32.381, + "Actual Rows": 167302, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 32.156, + "Actual Rows": 171579, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 32.138, + "Actual Rows": 172532, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 32.042, + "Actual Rows": 170628, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 32.244, + "Actual Rows": 169764, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 32.003, + "Actual Rows": 173066, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 31.963, + "Actual Rows": 170276, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'top 250 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 250, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 88 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 162 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.095, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text) AND (mc.note ~~ '%(co-production)%'::text))", + "Rows Removed by Filter": 31, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.128, + "Actual Total Time": 0.129, + "Actual Rows": 0, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 946838174961328458, + "Planning Time": 13.460, + "Triggers": [ + ], + "Execution Time": 103.139, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 946838174961328458, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'bottom 10 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND t.production_year >2000
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10134.59, + "Total Cost": 10134.60, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 102.196, + "Actual Total Time": 107.692, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10134.51, + "Total Cost": 10134.53, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 100.532, + "Actual Total Time": 107.669, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10133.51, + "Total Cost": 10133.52, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 92.552, + "Actual Total Time": 92.559, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 83.689, + "Actual Total Time": 83.695, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.194, + "Actual Total Time": 92.199, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.692, + "Actual Total Time": 91.697, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.156, + "Actual Total Time": 93.160, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.309, + "Actual Total Time": 93.315, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 93.171, + "Actual Total Time": 93.176, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 93.313, + "Actual Total Time": 93.320, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10133.51, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 92.517, + "Actual Total Time": 92.550, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 83.683, + "Actual Total Time": 83.688, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.189, + "Actual Total Time": 92.193, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.686, + "Actual Total Time": 91.691, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.152, + "Actual Total Time": 93.156, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.304, + "Actual Total Time": 93.309, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 93.167, + "Actual Total Time": 93.172, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 93.066, + "Actual Total Time": 93.294, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 10132.84, + "Plan Rows": 10, + "Plan Width": 49, + "Actual Startup Time": 92.431, + "Actual Total Time": 92.525, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "t.title", "t.production_year"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 83.682, + "Actual Total Time": 83.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.188, + "Actual Total Time": 92.192, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.686, + "Actual Total Time": 91.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.152, + "Actual Total Time": 93.155, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.303, + "Actual Total Time": 93.307, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 93.166, + "Actual Total Time": 93.169, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.384, + "Actual Total Time": 93.108, + "Actual Rows": 78, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10132.18, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 92.399, + "Actual Total Time": 92.439, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.production_year", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 83.682, + "Actual Total Time": 83.685, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.188, + "Actual Total Time": 92.191, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.685, + "Actual Total Time": 91.688, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.151, + "Actual Total Time": 93.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.302, + "Actual Total Time": 93.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 93.165, + "Actual Total Time": 93.168, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.136, + "Actual Total Time": 92.427, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 92.379, + "Actual Total Time": 92.389, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 83.681, + "Actual Total Time": 83.684, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.187, + "Actual Total Time": 92.190, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.685, + "Actual Total Time": 91.687, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.150, + "Actual Total Time": 93.152, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.301, + "Actual Total Time": 93.304, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 93.164, + "Actual Total Time": 93.166, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.980, + "Actual Total Time": 92.041, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.014, + "Actual Total Time": 35.707, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 32.185, + "Actual Rows": 152545, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 35.802, + "Actual Rows": 191483, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 35.365, + "Actual Rows": 154971, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 36.040, + "Actual Rows": 170445, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 36.100, + "Actual Rows": 177759, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 36.209, + "Actual Rows": 194293, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 35.480, + "Actual Rows": 154199, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.068, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'bottom 10 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 13, + "Plan Width": 32, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.107, + "Actual Rows": 13, + "Actual Loops": 6, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.107, + "Actual Rows": 13, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 78, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 78, + "Cache Hits": 76, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6885312641126422993, + "Planning Time": 13.431, + "Triggers": [ + ], + "Execution Time": 107.898, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6885312641126422993, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS complete_downey_ironman_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     keyword AS k,
     kind_type AS kt,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name NOT LIKE '%Sherlock%'
  AND (chn.name LIKE '%Tony%Stark%'
       OR chn.name LIKE '%Iron%Man%')
  AND k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND kt.kind = 'movie'
  AND t.production_year > 1950
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND ci.movie_id = cc.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 31090.33, + "Total Cost": 31090.34, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 4125.068, + "Actual Total Time": 4169.891, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 31090.31, + "Total Cost": 31090.32, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 4111.680, + "Actual Total Time": 4169.873, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 31089.31, + "Total Cost": 31089.32, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 4088.575, + "Actual Total Time": 4088.585, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4109.195, + "Actual Total Time": 4109.204, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4092.922, + "Actual Total Time": 4092.931, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4074.060, + "Actual Total Time": 4074.068, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4076.794, + "Actual Total Time": 4076.802, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4081.975, + "Actual Total Time": 4081.985, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4084.779, + "Actual Total Time": 4084.788, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4078.044, + "Actual Total Time": 4078.052, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.83, + "Total Cost": 31089.29, + "Plan Rows": 5, + "Plan Width": 17, + "Actual Startup Time": 3344.616, + "Actual Total Time": 4088.566, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4109.188, + "Actual Total Time": 4109.196, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4092.916, + "Actual Total Time": 4092.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4074.054, + "Actual Total Time": 4074.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4076.788, + "Actual Total Time": 4076.795, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4081.969, + "Actual Total Time": 4081.978, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4084.774, + "Actual Total Time": 4084.782, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1360.500, + "Actual Total Time": 4077.952, + "Actual Rows": 32, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.40, + "Total Cost": 31087.05, + "Plan Rows": 5, + "Plan Width": 21, + "Actual Startup Time": 3344.599, + "Actual Total Time": 4088.487, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4109.187, + "Actual Total Time": 4109.194, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4092.916, + "Actual Total Time": 4092.924, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4074.053, + "Actual Total Time": 4074.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4076.787, + "Actual Total Time": 4076.794, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4081.969, + "Actual Total Time": 4081.977, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4084.773, + "Actual Total Time": 4084.781, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1360.425, + "Actual Total Time": 4077.394, + "Actual Rows": 32, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.98, + "Total Cost": 31076.75, + "Plan Rows": 23, + "Plan Width": 25, + "Actual Startup Time": 3344.417, + "Actual Total Time": 4085.905, + "Actual Rows": 164, + "Actual Loops": 8, + "Output": ["ci.person_id", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4109.186, + "Actual Total Time": 4109.193, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4092.915, + "Actual Total Time": 4092.922, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4074.053, + "Actual Total Time": 4074.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4076.786, + "Actual Total Time": 4076.793, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4081.968, + "Actual Total Time": 4081.976, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4084.773, + "Actual Total Time": 4084.779, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1360.091, + "Actual Total Time": 4060.736, + "Actual Rows": 1157, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.55, + "Total Cost": 31075.41, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 3344.368, + "Actual Total Time": 4085.453, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "ci.movie_id", "ci.person_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4109.186, + "Actual Total Time": 4109.192, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4092.914, + "Actual Total Time": 4092.921, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4074.052, + "Actual Total Time": 4074.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4076.786, + "Actual Total Time": 4076.791, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4081.967, + "Actual Total Time": 4081.974, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4084.772, + "Actual Total Time": 4084.778, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1360.004, + "Actual Total Time": 4057.709, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.41, + "Total Cost": 31074.94, + "Plan Rows": 4, + "Plan Width": 37, + "Actual Startup Time": 3294.801, + "Actual Total Time": 4085.415, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "ci.movie_id", "ci.person_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4109.185, + "Actual Total Time": 4109.190, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4092.914, + "Actual Total Time": 4092.920, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4074.051, + "Actual Total Time": 4074.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3680.388, + "Actual Total Time": 4076.694, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4081.967, + "Actual Total Time": 4081.973, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4084.772, + "Actual Total Time": 4084.777, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1359.920, + "Actual Total Time": 4057.583, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.98, + "Total Cost": 11302.83, + "Plan Rows": 43325, + "Plan Width": 41, + "Actual Startup Time": 0.695, + "Actual Total Time": 1676.669, + "Actual Rows": 268787, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "ci.movie_id", "ci.person_role_id", "ci.person_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.557, + "Actual Total Time": 1693.945, + "Actual Rows": 266851, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.394, + "Actual Total Time": 1650.127, + "Actual Rows": 277964, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.686, + "Actual Total Time": 1697.160, + "Actual Rows": 265949, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.881, + "Actual Total Time": 1653.917, + "Actual Rows": 262737, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.439, + "Actual Total Time": 1657.963, + "Actual Rows": 269291, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.279, + "Actual Total Time": 1680.849, + "Actual Rows": 263279, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.648, + "Actual Total Time": 1668.412, + "Actual Rows": 264535, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.54, + "Total Cost": 8785.34, + "Plan Rows": 1248, + "Plan Width": 29, + "Actual Startup Time": 0.571, + "Actual Total Time": 285.654, + "Actual Rows": 5146, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.385, + "Actual Total Time": 286.812, + "Actual Rows": 5163, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.294, + "Actual Total Time": 270.008, + "Actual Rows": 5314, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.519, + "Actual Total Time": 282.464, + "Actual Rows": 4985, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.730, + "Actual Total Time": 322.628, + "Actual Rows": 5061, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.340, + "Actual Total Time": 291.576, + "Actual Rows": 5120, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.208, + "Actual Total Time": 277.490, + "Actual Rows": 5055, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.467, + "Actual Total Time": 275.885, + "Actual Rows": 5135, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 8747.45, + "Plan Rows": 8737, + "Plan Width": 33, + "Actual Startup Time": 0.351, + "Actual Total Time": 272.143, + "Actual Rows": 14328, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.247, + "Actual Total Time": 272.996, + "Actual Rows": 14063, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.147, + "Actual Total Time": 256.940, + "Actual Rows": 13624, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.266, + "Actual Total Time": 269.593, + "Actual Rows": 13862, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.271, + "Actual Total Time": 308.702, + "Actual Rows": 16130, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.153, + "Actual Total Time": 277.431, + "Actual Rows": 15421, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.131, + "Actual Total Time": 264.267, + "Actual Rows": 13780, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.309, + "Actual Total Time": 262.457, + "Actual Rows": 13689, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 9649, + "Plan Width": 8, + "Actual Startup Time": 0.224, + "Actual Total Time": 36.392, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.093, + "Actual Total Time": 35.153, + "Actual Rows": 16650, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.057, + "Actual Total Time": 34.165, + "Actual Rows": 16280, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.097, + "Actual Total Time": 35.185, + "Actual Rows": 16280, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.109, + "Actual Total Time": 46.494, + "Actual Rows": 18870, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.065, + "Actual Total Time": 36.058, + "Actual Rows": 17945, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.051, + "Actual Total Time": 34.496, + "Actual Rows": 16316, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.121, + "Actual Total Time": 33.952, + "Actual Rows": 16095, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.085, + "Actual Total Time": 10.169, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.060, + "Actual Total Time": 8.901, + "Actual Rows": 16650, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 8.641, + "Actual Rows": 16280, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.066, + "Actual Total Time": 9.124, + "Actual Rows": 16280, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.074, + "Actual Total Time": 18.973, + "Actual Rows": 18870, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 9.184, + "Actual Rows": 17945, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 8.754, + "Actual Rows": 16316, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.084, + "Actual Total Time": 8.622, + "Actual Rows": 16095, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.112, + "Actual Total Time": 0.113, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.864, + "Actual Total Time": 0.867, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 135086, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1950)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 16650 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 16280 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 16280 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 18870 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 17945 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 16316 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 16095 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.071, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.20, + "Plan Rows": 82, + "Plan Width": 12, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.243, + "Actual Rows": 52, + "Actual Loops": 41167, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.245, + "Actual Rows": 52, + "Actual Loops": 5163 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.234, + "Actual Rows": 52, + "Actual Loops": 5314 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.252, + "Actual Rows": 53, + "Actual Loops": 4985 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.237, + "Actual Rows": 52, + "Actual Loops": 5061 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.241, + "Actual Rows": 53, + "Actual Loops": 5120 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.252, + "Actual Rows": 52, + "Actual Loops": 5055 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.246, + "Actual Rows": 52, + "Actual Loops": 5135 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 2150293, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name !~~ '%Sherlock%'::text) AND ((chn.name ~~ '%Tony%Stark%'::text) OR (chn.name ~~ '%Iron%Man%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 266851 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 277964 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 265949 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 262737 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 269291 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 263279 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 264535 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.093, + "Actual Rows": 0, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 7, + "Cache Hits": 6, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.068, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.087, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.073, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.96, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.200, + "Actual Total Time": 0.315, + "Actual Rows": 146, + "Actual Loops": 9, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.211, + "Actual Total Time": 0.337, + "Actual Rows": 165, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1314, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1157 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 33, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 32 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2202723705874175045, + "Planning Time": 110.016, + "Triggers": [ + ], + "Execution Time": 4170.315, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2202723705874175045, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(t.title) AS complete_downey_ironman_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     keyword AS k,
     kind_type AS kt,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name NOT LIKE '%Sherlock%'
  AND (chn.name LIKE '%Tony%Stark%'
       OR chn.name LIKE '%Iron%Man%')
  AND k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND kt.kind = 'movie'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND ci.movie_id = cc.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7303.88, + "Total Cost": 7303.89, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 2471.508, + "Actual Total Time": 2519.632, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7303.85, + "Total Cost": 7303.86, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 2446.270, + "Actual Total Time": 2519.595, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7302.85, + "Total Cost": 7302.86, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 2439.221, + "Actual Total Time": 2439.232, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2437.338, + "Actual Total Time": 2437.347, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2435.844, + "Actual Total Time": 2435.853, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2443.096, + "Actual Total Time": 2443.106, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2460.483, + "Actual Total Time": 2460.493, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2425.255, + "Actual Total Time": 2425.265, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2429.912, + "Actual Total Time": 2429.921, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2436.872, + "Actual Total Time": 2436.879, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1595.71, + "Total Cost": 7302.84, + "Plan Rows": 2, + "Plan Width": 17, + "Actual Startup Time": 2128.543, + "Actual Total Time": 2439.215, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2437.331, + "Actual Total Time": 2437.340, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2435.837, + "Actual Total Time": 2435.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2443.090, + "Actual Total Time": 2443.099, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2460.476, + "Actual Total Time": 2460.485, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1501.056, + "Actual Total Time": 2425.239, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2429.906, + "Actual Total Time": 2429.914, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2436.868, + "Actual Total Time": 2436.875, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1595.58, + "Total Cost": 7302.52, + "Plan Rows": 2, + "Plan Width": 21, + "Actual Startup Time": 2128.533, + "Actual Total Time": 2439.188, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2437.330, + "Actual Total Time": 2437.338, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2435.836, + "Actual Total Time": 2435.844, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2443.089, + "Actual Total Time": 2443.097, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2460.475, + "Actual Total Time": 2460.484, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1501.006, + "Actual Total Time": 2425.156, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2429.905, + "Actual Total Time": 2429.912, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2436.868, + "Actual Total Time": 2436.874, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1595.45, + "Total Cost": 7302.20, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 2128.525, + "Actual Total Time": 2439.161, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["cc.subject_id", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2437.330, + "Actual Total Time": 2437.337, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2435.836, + "Actual Total Time": 2435.843, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2443.089, + "Actual Total Time": 2443.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2460.474, + "Actual Total Time": 2460.483, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1500.970, + "Actual Total Time": 2425.085, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2429.904, + "Actual Total Time": 2429.911, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2436.867, + "Actual Total Time": 2436.873, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1595.02, + "Total Cost": 7301.74, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 2128.510, + "Actual Total Time": 2439.114, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2437.329, + "Actual Total Time": 2437.335, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2435.835, + "Actual Total Time": 2435.842, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2443.088, + "Actual Total Time": 2443.094, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2460.474, + "Actual Total Time": 2460.481, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1500.905, + "Actual Total Time": 2424.961, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2429.904, + "Actual Total Time": 2429.910, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2436.866, + "Actual Total Time": 2436.872, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1594.59, + "Total Cost": 7301.28, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 1167.750, + "Actual Total Time": 2438.910, + "Actual Rows": 6, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "ci.movie_id", "ci.person_role_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2230.438, + "Actual Total Time": 2437.204, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1637.660, + "Actual Total Time": 2435.785, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 375.515, + "Actual Total Time": 2442.845, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1062.809, + "Actual Total Time": 2460.329, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1500.797, + "Actual Total Time": 2424.678, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 742.429, + "Actual Total Time": 2429.708, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1680.361, + "Actual Total Time": 2436.690, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1594.16, + "Total Cost": 7261.96, + "Plan Rows": 87, + "Plan Width": 24, + "Actual Startup Time": 103.710, + "Actual Total Time": 794.943, + "Actual Rows": 114198, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "ci.movie_id", "ci.person_role_id", "ci.person_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 99.192, + "Actual Total Time": 771.005, + "Actual Rows": 115844, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.320, + "Actual Total Time": 778.498, + "Actual Rows": 116892, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 100.578, + "Actual Total Time": 822.277, + "Actual Rows": 113904, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 111.669, + "Actual Total Time": 806.316, + "Actual Rows": 113660, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 95.892, + "Actual Total Time": 765.016, + "Actual Rows": 113577, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 103.827, + "Actual Total Time": 813.060, + "Actual Rows": 110269, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 103.491, + "Actual Total Time": 791.935, + "Actual Rows": 114815, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1593.12, + "Total Cost": 7259.98, + "Plan Rows": 173, + "Plan Width": 28, + "Actual Startup Time": 103.205, + "Actual Total Time": 688.919, + "Actual Rows": 114198, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "ci.movie_id", "ci.person_role_id", "ci.person_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.514, + "Actual Total Time": 664.606, + "Actual Rows": 115844, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.059, + "Actual Total Time": 672.974, + "Actual Rows": 116892, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 100.235, + "Actual Total Time": 707.805, + "Actual Rows": 113904, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 111.371, + "Actual Total Time": 703.646, + "Actual Rows": 113660, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 95.495, + "Actual Total Time": 661.625, + "Actual Rows": 113577, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 103.535, + "Actual Total Time": 708.440, + "Actual Rows": 110269, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 103.222, + "Actual Total Time": 687.590, + "Actual Rows": 114815, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1592.68, + "Total Cost": 2619.59, + "Plan Rows": 1830, + "Plan Width": 16, + "Actual Startup Time": 101.941, + "Actual Total Time": 120.468, + "Actual Rows": 1601, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.385, + "Actual Total Time": 115.650, + "Actual Rows": 1585, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.943, + "Actual Total Time": 121.068, + "Actual Rows": 1666, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 100.098, + "Actual Total Time": 118.531, + "Actual Rows": 1676, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 102.152, + "Actual Total Time": 122.857, + "Actual Rows": 1626, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 95.369, + "Actual Total Time": 114.611, + "Actual Rows": 1566, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 103.451, + "Actual Total Time": 122.201, + "Actual Rows": 1525, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 103.029, + "Actual Total Time": 120.722, + "Actual Rows": 1592, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.081, + "Actual Total Time": 5.208, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.064, + "Actual Total Time": 5.176, + "Actual Rows": 17020, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.042, + "Actual Total Time": 5.108, + "Actual Rows": 16131, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.077, + "Actual Total Time": 5.087, + "Actual Rows": 16650, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.064, + "Actual Total Time": 5.748, + "Actual Rows": 19425, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.089, + "Actual Total Time": 5.500, + "Actual Rows": 18130, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.207, + "Actual Total Time": 5.388, + "Actual Rows": 16835, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.068, + "Actual Total Time": 5.029, + "Actual Rows": 16280, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1529.20, + "Total Cost": 1529.20, + "Plan Rows": 5078, + "Plan Width": 4, + "Actual Startup Time": 101.651, + "Actual Total Time": 101.653, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2016, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.206, + "Actual Total Time": 97.208, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.795, + "Actual Total Time": 102.797, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 99.979, + "Actual Total Time": 99.981, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 101.952, + "Actual Total Time": 101.954, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 95.197, + "Actual Total Time": 95.199, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 103.156, + "Actual Total Time": 103.158, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 102.856, + "Actual Total Time": 102.858, + "Actual Rows": 10824, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1529.20, + "Plan Rows": 5078, + "Plan Width": 4, + "Actual Startup Time": 5.968, + "Actual Total Time": 48.684, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.389, + "Actual Total Time": 31.177, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.848, + "Actual Total Time": 49.686, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.171, + "Actual Total Time": 62.643, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 38.915, + "Actual Total Time": 38.916, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.231, + "Actual Total Time": 31.101, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.878, + "Actual Total Time": 39.004, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.769, + "Actual Total Time": 91.569, + "Actual Rows": 10824, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.830, + "Actual Total Time": 17.105, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.175, + "Actual Total Time": 11.852, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.702, + "Actual Total Time": 0.784, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.020, + "Actual Total Time": 1.044, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 38.914, + "Actual Total Time": 38.914, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.070, + "Actual Total Time": 27.488, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.742, + "Actual Total Time": 26.625, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.604, + "Actual Total Time": 2.734, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.42, + "Plan Rows": 4444, + "Plan Width": 8, + "Actual Startup Time": 0.145, + "Actual Total Time": 29.925, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.207, + "Actual Total Time": 18.037, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.141, + "Actual Total Time": 46.911, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.144, + "Actual Total Time": 58.552, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.152, + "Actual Total Time": 3.508, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.130, + "Actual Total Time": 11.821, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.134, + "Actual Total Time": 41.686, + "Actual Rows": 5412, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 141, + "Plan Width": 12, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.318, + "Actual Rows": 71, + "Actual Loops": 12810, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.309, + "Actual Rows": 73, + "Actual Loops": 1585 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.296, + "Actual Rows": 70, + "Actual Loops": 1666 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.311, + "Actual Rows": 68, + "Actual Loops": 1676 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.322, + "Actual Rows": 70, + "Actual Loops": 1626 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.313, + "Actual Rows": 73, + "Actual Loops": 1566 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.343, + "Actual Rows": 72, + "Actual Loops": 1525 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.320, + "Actual Rows": 72, + "Actual Loops": 1592 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.143, + "Actual Total Time": 0.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.045, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 913582, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 115844 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 116892 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 113904 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 113660 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 113577 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 110269 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 114815 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 51, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name !~~ '%Sherlock%'::text) AND ((chn.name ~~ '%Tony%Stark%'::text) OR (chn.name ~~ '%Iron%Man%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 9 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 10 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 17, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 17, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 17, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -310926232940389306, + "Planning Time": 170.066, + "Triggers": [ + ], + "Execution Time": 2520.128, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -310926232940389306, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS cast_member,
       MIN(t.title) AS complete_dynamic_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     keyword AS k,
     kind_type AS kt,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence',
                    'magnet',
                    'web',
                    'claw',
                    'laser')
  AND kt.kind = 'movie'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND ci.movie_id = cc.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7291.51, + "Total Cost": 7291.52, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 2813.392, + "Actual Total Time": 2854.418, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7291.47, + "Total Cost": 7291.48, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 2745.246, + "Actual Total Time": 2854.380, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7290.47, + "Total Cost": 7290.48, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 2746.230, + "Actual Total Time": 2746.240, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2725.893, + "Actual Total Time": 2725.902, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2777.834, + "Actual Total Time": 2777.840, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2740.666, + "Actual Total Time": 2740.676, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2801.167, + "Actual Total Time": 2801.174, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2718.312, + "Actual Total Time": 2718.321, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2734.333, + "Actual Total Time": 2734.342, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2727.302, + "Actual Total Time": 2727.312, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.76, + "Total Cost": 7286.61, + "Plan Rows": 772, + "Plan Width": 32, + "Actual Startup Time": 57.866, + "Actual Total Time": 2744.196, + "Actual Rows": 676, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 103.541, + "Actual Total Time": 2723.864, + "Actual Rows": 710, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.777, + "Actual Total Time": 2775.986, + "Actual Rows": 598, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.938, + "Actual Total Time": 2738.844, + "Actual Rows": 548, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 92.077, + "Actual Total Time": 2799.328, + "Actual Rows": 651, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.615, + "Actual Total Time": 2716.316, + "Actual Rows": 736, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 176.107, + "Actual Total Time": 2732.019, + "Actual Rows": 615, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 18.048, + "Actual Total Time": 2725.330, + "Actual Rows": 640, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.31, + "Total Cost": 6841.21, + "Plan Rows": 952, + "Plan Width": 36, + "Actual Startup Time": 6.926, + "Actual Total Time": 1133.444, + "Actual Rows": 143283, + "Actual Loops": 8, + "Output": ["mk.keyword_id", "n.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.461, + "Actual Total Time": 1040.260, + "Actual Rows": 148798, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.494, + "Actual Total Time": 1155.070, + "Actual Rows": 137119, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.163, + "Actual Total Time": 1133.105, + "Actual Rows": 140452, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.545, + "Actual Total Time": 1158.423, + "Actual Rows": 147626, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.912, + "Actual Total Time": 1079.679, + "Actual Rows": 147218, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.082, + "Actual Total Time": 1147.052, + "Actual Rows": 135238, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.721, + "Actual Total Time": 1245.146, + "Actual Rows": 133623, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.88, + "Total Cost": 6558.75, + "Plan Rows": 220, + "Plan Width": 44, + "Actual Startup Time": 6.024, + "Actual Total Time": 910.357, + "Actual Rows": 1346, + "Actual Loops": 8, + "Output": ["cc.movie_id", "ci.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.364, + "Actual Total Time": 825.990, + "Actual Rows": 1279, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.313, + "Actual Total Time": 925.980, + "Actual Rows": 1372, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.241, + "Actual Total Time": 920.999, + "Actual Rows": 1319, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.460, + "Actual Total Time": 925.869, + "Actual Rows": 1331, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.734, + "Actual Total Time": 859.581, + "Actual Rows": 1225, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.804, + "Actual Total Time": 915.679, + "Actual Rows": 1376, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.311, + "Actual Total Time": 1020.726, + "Actual Rows": 1429, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.45, + "Total Cost": 6459.86, + "Plan Rows": 220, + "Plan Width": 33, + "Actual Startup Time": 5.930, + "Actual Total Time": 875.874, + "Actual Rows": 1346, + "Actual Loops": 8, + "Output": ["cc.movie_id", "ci.movie_id", "ci.person_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.286, + "Actual Total Time": 794.702, + "Actual Rows": 1279, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.203, + "Actual Total Time": 889.524, + "Actual Rows": 1372, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.154, + "Actual Total Time": 888.406, + "Actual Rows": 1319, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.393, + "Actual Total Time": 891.870, + "Actual Rows": 1331, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.576, + "Actual Total Time": 824.479, + "Actual Rows": 1225, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.708, + "Actual Total Time": 878.651, + "Actual Rows": 1376, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.226, + "Actual Total Time": 986.135, + "Actual Rows": 1429, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.02, + "Total Cost": 3492.92, + "Plan Rows": 6537, + "Plan Width": 37, + "Actual Startup Time": 1.983, + "Actual Total Time": 486.981, + "Actual Rows": 49417, + "Actual Loops": 8, + "Output": ["cc.movie_id", "ci.movie_id", "ci.person_role_id", "ci.person_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.010, + "Actual Total Time": 469.354, + "Actual Rows": 43384, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.709, + "Actual Total Time": 495.123, + "Actual Rows": 46646, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.642, + "Actual Total Time": 497.439, + "Actual Rows": 51170, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.483, + "Actual Total Time": 494.250, + "Actual Rows": 51023, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.554, + "Actual Total Time": 449.343, + "Actual Rows": 46210, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.050, + "Actual Total Time": 481.958, + "Actual Rows": 46086, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.764, + "Actual Total Time": 538.864, + "Actual Rows": 58452, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 2992.41, + "Plan Rows": 188, + "Plan Width": 25, + "Actual Startup Time": 1.859, + "Actual Total Time": 165.317, + "Actual Rows": 587, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.922, + "Actual Total Time": 192.041, + "Actual Rows": 520, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.504, + "Actual Total Time": 174.525, + "Actual Rows": 581, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.543, + "Actual Total Time": 152.302, + "Actual Rows": 591, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.378, + "Actual Total Time": 177.755, + "Actual Rows": 597, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.335, + "Actual Total Time": 147.850, + "Actual Rows": 536, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.939, + "Actual Total Time": 158.624, + "Actual Rows": 559, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.667, + "Actual Total Time": 177.398, + "Actual Rows": 693, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.51, + "Total Cost": 2985.80, + "Plan Rows": 1318, + "Plan Width": 29, + "Actual Startup Time": 0.681, + "Actual Total Time": 162.229, + "Actual Rows": 2945, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.199, + "Actual Total Time": 185.218, + "Actual Rows": 3535, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.599, + "Actual Total Time": 171.922, + "Actual Rows": 3309, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.237, + "Actual Total Time": 150.096, + "Actual Rows": 2550, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.036, + "Actual Total Time": 175.004, + "Actual Rows": 3770, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.478, + "Actual Total Time": 145.069, + "Actual Rows": 2473, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.499, + "Actual Total Time": 156.004, + "Actual Rows": 2570, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.163, + "Actual Total Time": 174.816, + "Actual Rows": 2890, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.08, + "Total Cost": 1056.47, + "Plan Rows": 2412, + "Plan Width": 4, + "Actual Startup Time": 0.085, + "Actual Total Time": 28.511, + "Actual Rows": 10743, + "Actual Loops": 8, + "Output": ["cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.082, + "Actual Total Time": 47.536, + "Actual Rows": 11470, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.072, + "Actual Total Time": 27.380, + "Actual Rows": 11285, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.059, + "Actual Total Time": 23.866, + "Actual Rows": 10276, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.079, + "Actual Total Time": 28.021, + "Actual Rows": 12395, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.143, + "Actual Total Time": 26.756, + "Actual Rows": 9435, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.099, + "Actual Total Time": 24.958, + "Actual Rows": 9620, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.059, + "Actual Total Time": 27.132, + "Actual Rows": 11840, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 4825, + "Plan Width": 8, + "Actual Startup Time": 0.069, + "Actual Total Time": 20.061, + "Actual Rows": 10743, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.069, + "Actual Total Time": 39.048, + "Actual Rows": 11470, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.062, + "Actual Total Time": 18.157, + "Actual Rows": 11285, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 15.986, + "Actual Rows": 10276, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.069, + "Actual Total Time": 18.665, + "Actual Rows": 12395, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.120, + "Actual Total Time": 18.701, + "Actual Rows": 9435, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.083, + "Actual Total Time": 16.843, + "Actual Rows": 9620, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.050, + "Actual Total Time": 18.086, + "Actual Rows": 11840, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.043, + "Actual Total Time": 5.540, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 13.291, + "Actual Rows": 55721, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 4.446, + "Actual Rows": 11285, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 4.034, + "Actual Rows": 10360, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 4.802, + "Actual Rows": 12395, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.076, + "Actual Total Time": 5.149, + "Actual Rows": 14245, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.053, + "Actual Total Time": 4.306, + "Actual Rows": 9620, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 4.568, + "Actual Rows": 11840, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 85941, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 11470 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 11285 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 10276 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 12395 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 9435 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 9620 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 11840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.29, + "Plan Rows": 137, + "Plan Width": 12, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.507, + "Actual Rows": 84, + "Actual Loops": 4696, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.495, + "Actual Rows": 83, + "Actual Loops": 520 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.511, + "Actual Rows": 80, + "Actual Loops": 581 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.543, + "Actual Rows": 87, + "Actual Loops": 591 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.491, + "Actual Rows": 85, + "Actual Loops": 597 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.522, + "Actual Rows": 86, + "Actual Loops": 536 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.532, + "Actual Rows": 82, + "Actual Loops": 559 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.482, + "Actual Rows": 84, + "Actual Loops": 693 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 395336, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 43384 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 46646 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 51170 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 51023 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 46210 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 46086 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 58452 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 10764, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1279 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1372 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1319 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1331 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1225 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1376 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1429 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.122, + "Actual Rows": 106, + "Actual Loops": 10764, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.123, + "Actual Rows": 116, + "Actual Loops": 1279 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.121, + "Actual Rows": 100, + "Actual Loops": 1372 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.118, + "Actual Rows": 106, + "Actual Loops": 1319 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.131, + "Actual Rows": 111, + "Actual Loops": 1331 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.129, + "Actual Rows": 120, + "Actual Loops": 1225 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.127, + "Actual Rows": 98, + "Actual Loops": 1376 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.119, + "Actual Rows": 94, + "Actual Loops": 1429 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.45, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1146265, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,tv-special,fight,violence,magnet,web,claw,laser}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 148798 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 137119 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 140452 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 147626 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 147218 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 135238 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 133623 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6387362809141986757, + "Planning Time": 118.956, + "Triggers": [ + ], + "Execution Time": 2854.848, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6387362809141986757, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(cn.name) AS company_name,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS western_follow_up
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German')
  AND t.production_year BETWEEN 1950 AND 2000
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1865.45, + "Total Cost": 1865.46, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 84.781, + "Actual Total Time": 87.918, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1865.41, + "Total Cost": 1865.42, + "Plan Rows": 5, + "Plan Width": 96, + "Actual Startup Time": 59.625, + "Actual Total Time": 87.880, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1864.41, + "Total Cost": 1864.42, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 58.115, + "Actual Total Time": 58.127, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 70.760, + "Actual Total Time": 70.772, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 51.976, + "Actual Total Time": 51.983, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.847, + "Actual Total Time": 51.857, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 45.220, + "Actual Total Time": 45.232, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 70.055, + "Actual Total Time": 70.062, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1472.48, + "Total Cost": 1862.29, + "Plan Rows": 282, + "Plan Width": 48, + "Actual Startup Time": 48.811, + "Actual Total Time": 57.828, + "Actual Rows": 235, + "Actual Loops": 6, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 56.068, + "Actual Total Time": 70.116, + "Actual Rows": 285, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 43.661, + "Actual Total Time": 51.613, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.840, + "Actual Total Time": 51.849, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 45.212, + "Actual Total Time": 45.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.855, + "Actual Total Time": 69.334, + "Actual Rows": 820, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1471.33, + "Total Cost": 1860.23, + "Plan Rows": 282, + "Plan Width": 40, + "Actual Startup Time": 48.358, + "Actual Total Time": 57.178, + "Actual Rows": 235, + "Actual Loops": 6, + "Output": ["cn.name", "ml.link_type_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 55.544, + "Actual Total Time": 69.150, + "Actual Rows": 285, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 43.158, + "Actual Total Time": 50.865, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.611, + "Actual Total Time": 51.619, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 44.651, + "Actual Total Time": 44.661, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.302, + "Actual Total Time": 68.293, + "Actual Rows": 820, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.29, + "Total Cost": 1857.56, + "Plan Rows": 301, + "Plan Width": 44, + "Actual Startup Time": 48.339, + "Actual Total Time": 56.933, + "Actual Rows": 251, + "Actual Loops": 6, + "Output": ["cn.name", "mc.company_type_id", "ml.link_type_id", "t.title"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 55.520, + "Actual Total Time": 68.617, + "Actual Rows": 285, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 43.141, + "Actual Total Time": 50.593, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.607, + "Actual Total Time": 51.613, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 44.640, + "Actual Total Time": 44.647, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.281, + "Actual Total Time": 67.700, + "Actual Rows": 915, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.86, + "Total Cost": 1857.09, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 46.116, + "Actual Total Time": 53.070, + "Actual Rows": 318, + "Actual Loops": 6, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.441, + "Actual Total Time": 58.378, + "Actual Rows": 475, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 43.039, + "Actual Total Time": 47.396, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.606, + "Actual Total Time": 51.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 44.639, + "Actual Total Time": 44.645, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.170, + "Actual Total Time": 58.023, + "Actual Rows": 1131, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.42, + "Total Cost": 1855.95, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 44.948, + "Actual Total Time": 49.290, + "Actual Rows": 75, + "Actual Loops": 6, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.234, + "Actual Total Time": 50.153, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 42.916, + "Actual Total Time": 45.211, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 45.072, + "Actual Total Time": 51.416, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 44.638, + "Actual Total Time": 44.644, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.072, + "Actual Total Time": 49.067, + "Actual Rows": 255, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.00, + "Total Cost": 1750.59, + "Plan Rows": 235, + "Plan Width": 24, + "Actual Startup Time": 42.530, + "Actual Total Time": 46.535, + "Actual Rows": 196, + "Actual Loops": 6, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 38.852, + "Actual Total Time": 43.974, + "Actual Rows": 268, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 39.472, + "Actual Total Time": 43.271, + "Actual Rows": 167, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 44.187, + "Actual Total Time": 50.190, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 38.807, + "Actual Total Time": 43.375, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.011, + "Actual Total Time": 44.632, + "Actual Rows": 497, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.57, + "Total Cost": 1722.15, + "Plan Rows": 50, + "Plan Width": 12, + "Actual Startup Time": 42.388, + "Actual Total Time": 45.314, + "Actual Rows": 42, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Hash Cond": "(ml.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 38.657, + "Actual Total Time": 41.830, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 39.374, + "Actual Total Time": 42.490, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 44.041, + "Actual Total Time": 49.103, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 38.585, + "Actual Total Time": 42.425, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 42.872, + "Actual Total Time": 43.055, + "Actual Rows": 90, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.00, + "Total Cost": 222.99, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.065, + "Actual Total Time": 1.680, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.091, + "Actual Total Time": 1.569, + "Actual Rows": 2960, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.067, + "Actual Total Time": 1.534, + "Actual Rows": 5735, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.073, + "Actual Total Time": 2.086, + "Actual Rows": 5920, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.085, + "Actual Total Time": 2.305, + "Actual Rows": 3885, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 1.715, + "Actual Rows": 6290, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1449.75, + "Total Cost": 1449.75, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 41.026, + "Actual Total Time": 41.028, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 544, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 37.742, + "Actual Total Time": 37.744, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.609, + "Actual Total Time": 38.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 43.800, + "Actual Total Time": 43.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.779, + "Actual Total Time": 36.781, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 38.753, + "Actual Total Time": 38.754, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1449.75, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 9.524, + "Actual Total Time": 16.822, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.672, + "Actual Total Time": 9.673, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.606, + "Actual Total Time": 10.607, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.737, + "Actual Total Time": 15.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.757, + "Actual Total Time": 8.759, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.776, + "Actual Total Time": 10.777, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.509, + "Actual Total Time": 9.511, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 22362, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.670, + "Actual Total Time": 9.670, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.604, + "Actual Total Time": 10.604, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.736, + "Actual Total Time": 15.736, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.756, + "Actual Total Time": 8.757, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.775, + "Actual Total Time": 10.775, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 10544, + "Plan Width": 8, + "Actual Startup Time": 0.078, + "Actual Total Time": 41.578, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 5, + "Plan Width": 12, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.025, + "Actual Rows": 5, + "Actual Loops": 251, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.045, + "Actual Rows": 7, + "Actual Loops": 40 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.025, + "Actual Rows": 6, + "Actual Loops": 27 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.032, + "Actual Rows": 2, + "Actual Loops": 31 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.047, + "Actual Rows": 2, + "Actual Loops": 18 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.015, + "Actual Rows": 6, + "Actual Loops": 90 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1173, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 268 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 167 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 54 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 38 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 497 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.08, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.047, + "Actual Rows": 4, + "Actual Loops": 452, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German}'::text[]))", + "Rows Removed by Filter": 21, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.080, + "Actual Rows": 5, + "Actual Loops": 95 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.031, + "Actual Rows": 5, + "Actual Loops": 65 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.095, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.033, + "Actual Rows": 4, + "Actual Loops": 255 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1911, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2000))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 475 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 301 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1131 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.13, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["lt.link", "lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.065, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.040, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["lt.link", "lt.id"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1038524182031953798, + "Planning Time": 111.212, + "Triggers": [ + ], + "Execution Time": 88.338, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1038524182031953798, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS company_name,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS german_follow_up
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Germany',
                  'German')
  AND t.production_year BETWEEN 2000 AND 2010
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1737.42, + "Total Cost": 1737.43, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 43.672, + "Actual Total Time": 43.908, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1737.40, + "Total Cost": 1737.41, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 43.657, + "Actual Total Time": 43.898, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 1, + "Workers Launched": 1, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1736.40, + "Total Cost": 1736.41, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 35.730, + "Actual Total Time": 35.736, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.780, + "Actual Total Time": 28.787, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.72, + "Total Cost": 1736.24, + "Plan Rows": 22, + "Plan Width": 48, + "Actual Startup Time": 32.684, + "Actual Total Time": 35.707, + "Actual Rows": 19, + "Actual Loops": 2, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.775, + "Actual Total Time": 28.781, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.58, + "Total Cost": 1735.26, + "Plan Rows": 22, + "Plan Width": 52, + "Actual Startup Time": 32.674, + "Actual Total Time": 35.670, + "Actual Rows": 19, + "Actual Loops": 2, + "Output": ["cn.name", "mc.company_type_id", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.774, + "Actual Total Time": 28.779, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.16, + "Total Cost": 1700.29, + "Plan Rows": 78, + "Plan Width": 37, + "Actual Startup Time": 32.647, + "Actual Total Time": 35.136, + "Actual Rows": 66, + "Actual Loops": 2, + "Output": ["mc.company_type_id", "mc.company_id", "lt.link", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.774, + "Actual Total Time": 28.778, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.73, + "Total Cost": 1693.89, + "Plan Rows": 11, + "Plan Width": 45, + "Actual Startup Time": 32.627, + "Actual Total Time": 34.942, + "Actual Rows": 10, + "Actual Loops": 2, + "Output": ["mk.movie_id", "mi.movie_id", "ml.movie_id", "lt.link", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.773, + "Actual Total Time": 28.778, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.29, + "Total Cost": 1667.80, + "Plan Rows": 28, + "Plan Width": 41, + "Actual Startup Time": 31.790, + "Actual Total Time": 34.188, + "Actual Rows": 24, + "Actual Loops": 2, + "Output": ["mk.movie_id", "ml.movie_id", "lt.link", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.773, + "Actual Total Time": 28.777, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.86, + "Total Cost": 1612.17, + "Plan Rows": 117, + "Plan Width": 20, + "Actual Startup Time": 31.772, + "Actual Total Time": 33.254, + "Actual Rows": 100, + "Actual Loops": 2, + "Output": ["mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": false, + "Hash Cond": "(ml.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.773, + "Actual Total Time": 28.776, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.29, + "Total Cost": 136.66, + "Plan Rows": 1362, + "Plan Width": 16, + "Actual Startup Time": 0.050, + "Actual Total Time": 1.179, + "Actual Rows": 1158, + "Actual Loops": 2, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["lt.id", "lt.link"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 8, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 123.95, + "Plan Rows": 1158, + "Plan Width": 8, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.899, + "Actual Rows": 1158, + "Actual Loops": 2, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.link_type_id = lt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1449.75, + "Total Cost": 1449.75, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 31.426, + "Actual Total Time": 31.427, + "Actual Rows": 5272, + "Actual Loops": 2, + "Output": ["mk.movie_id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 544, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.711, + "Actual Total Time": 28.713, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1449.75, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 15.416, + "Actual Total Time": 29.006, + "Actual Rows": 5272, + "Actual Loops": 2, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.680, + "Actual Total Time": 28.681, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 15.348, + "Actual Total Time": 15.902, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 67084, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.679, + "Actual Total Time": 28.679, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 10544, + "Plan Width": 8, + "Actual Startup Time": 0.128, + "Actual Total Time": 23.858, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 199, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 48, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Germany,German}'::text[]))", + "Rows Removed by Filter": 29, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 6, + "Plan Width": 12, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.017, + "Actual Rows": 7, + "Actual Loops": 19, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 133, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 38, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 37, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4184495773567888797, + "Planning Time": 125.299, + "Triggers": [ + ], + "Execution Time": 44.376, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 4184495773567888797, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS company_name,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS western_follow_up
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'English')
  AND t.production_year BETWEEN 1950 AND 2010
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1960.86, + "Total Cost": 1960.87, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 65.604, + "Actual Total Time": 65.894, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1960.81, + "Total Cost": 1960.82, + "Plan Rows": 5, + "Plan Width": 96, + "Actual Startup Time": 65.582, + "Actual Total Time": 65.881, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1959.81, + "Total Cost": 1959.82, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 45.068, + "Actual Total Time": 45.076, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 40.444, + "Actual Total Time": 40.450, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.209, + "Actual Total Time": 47.216, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 34.159, + "Actual Total Time": 34.167, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.953, + "Actual Total Time": 42.965, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 41.099, + "Actual Total Time": 41.107, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1472.50, + "Total Cost": 1957.00, + "Plan Rows": 375, + "Plan Width": 48, + "Actual Startup Time": 37.867, + "Actual Total Time": 44.724, + "Actual Rows": 312, + "Actual Loops": 6, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 38.789, + "Actual Total Time": 40.437, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 36.037, + "Actual Total Time": 46.737, + "Actual Rows": 479, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.340, + "Actual Total Time": 34.144, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.114, + "Actual Total Time": 42.347, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 41.093, + "Actual Total Time": 41.101, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1472.04, + "Total Cost": 1872.25, + "Plan Rows": 80, + "Plan Width": 64, + "Actual Startup Time": 37.779, + "Actual Total Time": 42.076, + "Actual Rows": 67, + "Actual Loops": 6, + "Output": ["cn.name", "mc.movie_id", "mk.movie_id", "ml.movie_id", "lt.link", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 38.579, + "Actual Total Time": 40.054, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 35.967, + "Actual Total Time": 43.079, + "Actual Rows": 97, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.256, + "Actual Total Time": 34.034, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 32.992, + "Actual Total Time": 38.428, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 41.092, + "Actual Total Time": 41.099, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.90, + "Total Cost": 1870.83, + "Plan Rows": 84, + "Plan Width": 56, + "Actual Startup Time": 37.342, + "Actual Total Time": 41.572, + "Actual Rows": 70, + "Actual Loops": 6, + "Output": ["cn.name", "mc.movie_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 38.194, + "Actual Total Time": 39.744, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 35.673, + "Actual Total Time": 42.686, + "Actual Rows": 97, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.694, + "Actual Total Time": 33.469, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 32.338, + "Actual Total Time": 37.630, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 40.804, + "Actual Total Time": 40.809, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.48, + "Total Cost": 1776.67, + "Plan Rows": 210, + "Plan Width": 41, + "Actual Startup Time": 34.810, + "Actual Total Time": 39.341, + "Actual Rows": 175, + "Actual Loops": 6, + "Output": ["mc.movie_id", "mc.company_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.490, + "Actual Total Time": 39.083, + "Actual Rows": 53, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 35.613, + "Actual Total Time": 39.523, + "Actual Rows": 277, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.413, + "Actual Total Time": 33.339, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.414, + "Actual Total Time": 34.138, + "Actual Rows": 163, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.134, + "Actual Total Time": 39.903, + "Actual Rows": 53, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.43, + "Total Cost": 1774.36, + "Plan Rows": 235, + "Plan Width": 45, + "Actual Startup Time": 34.788, + "Actual Total Time": 39.117, + "Actual Rows": 196, + "Actual Loops": 6, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.478, + "Actual Total Time": 39.007, + "Actual Rows": 91, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 35.600, + "Actual Total Time": 39.245, + "Actual Rows": 277, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.397, + "Actual Total Time": 33.315, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.377, + "Actual Total Time": 33.808, + "Actual Rows": 166, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.119, + "Actual Total Time": 39.807, + "Actual Rows": 92, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.00, + "Total Cost": 1745.93, + "Plan Rows": 50, + "Plan Width": 33, + "Actual Startup Time": 34.726, + "Actual Total Time": 38.132, + "Actual Rows": 42, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.418, + "Actual Total Time": 38.438, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 35.540, + "Actual Total Time": 38.083, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.341, + "Actual Total Time": 33.147, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.288, + "Actual Total Time": 32.516, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.058, + "Actual Total Time": 39.006, + "Actual Rows": 34, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.57, + "Total Cost": 1722.15, + "Plan Rows": 50, + "Plan Width": 12, + "Actual Startup Time": 34.630, + "Actual Total Time": 37.461, + "Actual Rows": 42, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Hash Cond": "(ml.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.355, + "Actual Total Time": 38.027, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 35.463, + "Actual Total Time": 37.389, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.271, + "Actual Total Time": 32.974, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.075, + "Actual Total Time": 31.556, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.955, + "Actual Total Time": 38.371, + "Actual Rows": 34, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.00, + "Total Cost": 222.99, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.023, + "Actual Total Time": 1.214, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 1.193, + "Actual Rows": 5365, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 1.040, + "Actual Rows": 3885, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 1.619, + "Actual Rows": 9462, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 1.126, + "Actual Rows": 3145, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 1.306, + "Actual Rows": 4810, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1449.75, + "Total Cost": 1449.75, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 34.019, + "Actual Total Time": 34.020, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 544, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.649, + "Actual Total Time": 34.650, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.442, + "Actual Total Time": 34.444, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.567, + "Actual Total Time": 28.568, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.444, + "Actual Total Time": 28.446, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.745, + "Actual Total Time": 34.747, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1449.75, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 9.708, + "Actual Total Time": 15.367, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.594, + "Actual Total Time": 13.595, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.369, + "Actual Total Time": 13.370, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.507, + "Actual Total Time": 7.508, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.370, + "Actual Total Time": 7.371, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.689, + "Actual Total Time": 13.690, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.669, + "Actual Total Time": 9.671, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 22362, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.594, + "Actual Total Time": 13.594, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.369, + "Actual Total Time": 13.369, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.506, + "Actual Total Time": 7.506, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.368, + "Actual Total Time": 7.368, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.688, + "Actual Total Time": 13.688, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 10544, + "Plan Width": 8, + "Actual Startup Time": 0.194, + "Actual Total Time": 31.022, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 251, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 29 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 45 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 35 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 34 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 5, + "Plan Width": 12, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.020, + "Actual Rows": 5, + "Actual Loops": 251, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 29 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.022, + "Actual Rows": 6, + "Actual Loops": 45 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.030, + "Actual Rows": 5, + "Actual Loops": 35 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.021, + "Actual Rows": 3, + "Actual Loops": 34 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1052, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 53 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 277 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 163 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 53 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.13, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["lt.link", "lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.035, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["lt.link", "lt.id"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.00, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.037, + "Actual Rows": 5, + "Actual Loops": 402, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,English}'::text[]))", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.169, + "Actual Total Time": 0.188, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.035, + "Actual Rows": 5, + "Actual Loops": 97 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.055, + "Actual Rows": 5, + "Actual Loops": 65 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7971004576533452411, + "Planning Time": 141.150, + "Triggers": [ + ], + "Execution Time": 66.304, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -7971004576533452411, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Germany',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '7.0'
  AND t.production_year > 2008
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4761.29, + "Total Cost": 4761.30, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 504.753, + "Actual Total Time": 538.210, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4761.23, + "Total Cost": 4761.24, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 328.272, + "Actual Total Time": 538.182, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4760.23, + "Total Cost": 4760.24, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 161.621, + "Actual Total Time": 161.633, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.963, + "Actual Total Time": 24.975, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 341.863, + "Actual Total Time": 341.869, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.147, + "Actual Total Time": 29.156, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.983, + "Actual Total Time": 25.997, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.921, + "Actual Total Time": 25.934, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 493.021, + "Actual Total Time": 493.026, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.799, + "Actual Total Time": 24.812, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.75, + "Total Cost": 4757.24, + "Plan Rows": 399, + "Plan Width": 41, + "Actual Startup Time": 30.216, + "Actual Total Time": 161.314, + "Actual Rows": 356, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.958, + "Actual Total Time": 24.970, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.747, + "Actual Total Time": 340.878, + "Actual Rows": 1173, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.141, + "Actual Total Time": 29.150, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.976, + "Actual Total Time": 25.989, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.913, + "Actual Total Time": 25.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 75.530, + "Actual Total Time": 492.104, + "Actual Rows": 1040, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.791, + "Actual Total Time": 24.804, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.69, + "Total Cost": 4754.40, + "Plan Rows": 423, + "Plan Width": 45, + "Actual Startup Time": 20.546, + "Actual Total Time": 160.496, + "Actual Rows": 378, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.406, + "Actual Total Time": 24.415, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.454, + "Actual Total Time": 339.513, + "Actual Rows": 1247, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.879, + "Actual Total Time": 28.886, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.451, + "Actual Total Time": 25.462, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.357, + "Actual Total Time": 25.368, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.206, + "Actual Total Time": 490.852, + "Actual Rows": 1095, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.741, + "Actual Total Time": 23.752, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.27, + "Total Cost": 4751.58, + "Plan Rows": 6, + "Plan Width": 30, + "Actual Startup Time": 20.523, + "Actual Total Time": 155.638, + "Actual Rows": 431, + "Actual Loops": 8, + "Output": ["mc.company_id", "mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.405, + "Actual Total Time": 24.413, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.391, + "Actual Total Time": 323.902, + "Actual Rows": 1396, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.879, + "Actual Total Time": 28.884, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.450, + "Actual Total Time": 25.460, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.356, + "Actual Total Time": 25.366, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.136, + "Actual Total Time": 477.130, + "Actual Rows": 1265, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.740, + "Actual Total Time": 23.750, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.14, + "Total Cost": 4751.42, + "Plan Rows": 1, + "Plan Width": 34, + "Actual Startup Time": 20.509, + "Actual Total Time": 154.333, + "Actual Rows": 431, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mc.company_id", "mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.404, + "Actual Total Time": 24.412, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.350, + "Actual Total Time": 319.733, + "Actual Rows": 1396, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.878, + "Actual Total Time": 28.883, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.448, + "Actual Total Time": 25.458, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.355, + "Actual Total Time": 25.364, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.093, + "Actual Total Time": 473.267, + "Actual Rows": 1265, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.739, + "Actual Total Time": 23.748, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.00, + "Total Cost": 4751.24, + "Plan Rows": 1, + "Plan Width": 38, + "Actual Startup Time": 19.609, + "Actual Total Time": 147.812, + "Actual Rows": 1564, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mc.company_id", "mi_idx.info", "mi_idx.info_type_id", "t.title", "t.kind_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.403, + "Actual Total Time": 24.410, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.289, + "Actual Total Time": 299.375, + "Actual Rows": 4841, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.877, + "Actual Total Time": 28.882, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.448, + "Actual Total Time": 25.456, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.354, + "Actual Total Time": 25.362, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.975, + "Actual Total Time": 454.703, + "Actual Rows": 4532, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.738, + "Actual Total Time": 23.747, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.57, + "Total Cost": 4750.71, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 17.922, + "Actual Total Time": 140.582, + "Actual Rows": 590, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.402, + "Actual Total Time": 24.408, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.196, + "Actual Total Time": 277.286, + "Actual Rows": 1800, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.876, + "Actual Total Time": 28.881, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.446, + "Actual Total Time": 25.454, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.353, + "Actual Total Time": 25.360, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.706, + "Actual Total Time": 434.137, + "Actual Rows": 1741, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.737, + "Actual Total Time": 23.745, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 4750.17, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 16.544, + "Actual Total Time": 127.372, + "Actual Rows": 436, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.401, + "Actual Total Time": 24.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.554, + "Actual Total Time": 242.433, + "Actual Rows": 1079, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.875, + "Actual Total Time": 28.879, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.445, + "Actual Total Time": 25.452, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.352, + "Actual Total Time": 25.359, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.921, + "Actual Total Time": 391.834, + "Actual Rows": 1588, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.736, + "Actual Total Time": 23.742, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 4744.16, + "Plan Rows": 1528, + "Plan Width": 37, + "Actual Startup Time": 16.525, + "Actual Total Time": 126.798, + "Actual Rows": 473, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.391, + "Actual Total Time": 24.394, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.535, + "Actual Total Time": 241.042, + "Actual Rows": 1173, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.869, + "Actual Total Time": 28.871, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.435, + "Actual Total Time": 25.439, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.340, + "Actual Total Time": 25.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.905, + "Actual Total Time": 389.930, + "Actual Rows": 1711, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.725, + "Actual Total Time": 23.728, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3954.68, + "Plan Rows": 800, + "Plan Width": 29, + "Actual Startup Time": 16.499, + "Actual Total Time": 88.179, + "Actual Rows": 701, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.390, + "Actual Total Time": 24.393, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.471, + "Actual Total Time": 140.840, + "Actual Rows": 1659, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.869, + "Actual Total Time": 28.870, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.434, + "Actual Total Time": 25.437, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.340, + "Actual Total Time": 25.342, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.841, + "Actual Total Time": 267.940, + "Actual Rows": 2577, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.724, + "Actual Total Time": 23.726, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.77, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 16.413, + "Actual Total Time": 36.996, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.389, + "Actual Total Time": 24.390, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.283, + "Actual Total Time": 42.808, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.868, + "Actual Total Time": 28.869, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.433, + "Actual Total Time": 25.434, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.338, + "Actual Total Time": 25.340, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.480, + "Actual Total Time": 71.796, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.723, + "Actual Total Time": 23.724, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 16.358, + "Actual Total Time": 16.365, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.388, + "Actual Total Time": 24.388, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.101, + "Actual Total Time": 0.112, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.867, + "Actual Total Time": 28.868, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.431, + "Actual Total Time": 25.432, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.337, + "Actual Total Time": 25.337, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.349, + "Actual Total Time": 0.355, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.722, + "Actual Total Time": 23.722, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.62, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.138, + "Actual Total Time": 51.875, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.179, + "Actual Total Time": 40.507, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.126, + "Actual Total Time": 66.691, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2008)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 5606, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Germany,German,USA,American}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 1659 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 2577 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 3486, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 9, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.031, + "Actual Rows": 2, + "Actual Loops": 1079 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1588 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 4717, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '7.0'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 1800 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 3, + "Actual Loops": 1741 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 12512, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 4841 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 4532 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 3451, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 1396 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 1265 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 3451, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1396 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1265 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.048, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7110568913434103698, + "Planning Time": 263.433, + "Triggers": [ + ], + "Execution Time": 538.783, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -7110568913434103698, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Germany',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '7.0'
  AND t.production_year > 2009
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4291.61, + "Total Cost": 4291.62, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 341.338, + "Actual Total Time": 383.777, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4291.54, + "Total Cost": 4291.55, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 169.233, + "Actual Total Time": 383.744, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4290.54, + "Total Cost": 4290.55, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 92.301, + "Actual Total Time": 92.310, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.276, + "Actual Total Time": 13.283, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.300, + "Actual Total Time": 15.307, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 331.737, + "Actual Total Time": 331.746, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.432, + "Actual Total Time": 15.438, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.638, + "Actual Total Time": 14.646, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 163.987, + "Actual Total Time": 163.996, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.797, + "Actual Total Time": 15.804, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 4290.51, + "Plan Rows": 5, + "Plan Width": 41, + "Actual Startup Time": 24.675, + "Actual Total Time": 92.293, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.273, + "Actual Total Time": 13.280, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.295, + "Actual Total Time": 15.302, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.241, + "Actual Total Time": 331.708, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.426, + "Actual Total Time": 15.432, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.633, + "Actual Total Time": 14.640, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.348, + "Actual Total Time": 163.970, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.793, + "Actual Total Time": 15.800, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 4289.74, + "Plan Rows": 5, + "Plan Width": 45, + "Actual Startup Time": 24.667, + "Actual Total Time": 92.255, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.272, + "Actual Total Time": 13.279, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.294, + "Actual Total Time": 15.301, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.219, + "Actual Total Time": 331.570, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.425, + "Actual Total Time": 15.431, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.633, + "Actual Total Time": 14.639, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.324, + "Actual Total Time": 163.905, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.792, + "Actual Total Time": 15.798, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.87, + "Total Cost": 4289.25, + "Plan Rows": 5, + "Plan Width": 49, + "Actual Startup Time": 24.648, + "Actual Total Time": 92.228, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.272, + "Actual Total Time": 13.277, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.294, + "Actual Total Time": 15.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.160, + "Actual Total Time": 331.489, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.424, + "Actual Total Time": 15.429, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.632, + "Actual Total Time": 14.637, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.257, + "Actual Total Time": 163.824, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.791, + "Actual Total Time": 15.796, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.72, + "Total Cost": 4287.99, + "Plan Rows": 14, + "Plan Width": 53, + "Actual Startup Time": 24.633, + "Actual Total Time": 92.190, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi_idx.info", "mi_idx.info_type_id", "t.title", "t.kind_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.270, + "Actual Total Time": 13.275, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.293, + "Actual Total Time": 15.298, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.126, + "Actual Total Time": 331.391, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.424, + "Actual Total Time": 15.428, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.632, + "Actual Total Time": 14.635, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.214, + "Actual Total Time": 163.740, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.791, + "Actual Total Time": 15.795, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.29, + "Total Cost": 4285.35, + "Plan Rows": 5, + "Plan Width": 60, + "Actual Startup Time": 24.617, + "Actual Total Time": 92.101, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.270, + "Actual Total Time": 13.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.293, + "Actual Total Time": 15.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.087, + "Actual Total Time": 331.124, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.424, + "Actual Total Time": 15.427, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.631, + "Actual Total Time": 14.635, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.167, + "Actual Total Time": 163.565, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.790, + "Actual Total Time": 15.794, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 4284.36, + "Plan Rows": 6, + "Plan Width": 64, + "Actual Startup Time": 24.602, + "Actual Total Time": 92.052, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.270, + "Actual Total Time": 13.273, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.292, + "Actual Total Time": 15.296, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.044, + "Actual Total Time": 330.959, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.423, + "Actual Total Time": 15.426, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.631, + "Actual Total Time": 14.634, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.114, + "Actual Total Time": 163.458, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.790, + "Actual Total Time": 15.793, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 4274.49, + "Plan Rows": 10, + "Plan Width": 56, + "Actual Startup Time": 18.364, + "Actual Total Time": 91.484, + "Actual Rows": 9, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.269, + "Actual Total Time": 13.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.292, + "Actual Total Time": 15.295, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.634, + "Actual Total Time": 328.934, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.422, + "Actual Total Time": 15.425, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.630, + "Actual Total Time": 14.633, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.676, + "Actual Total Time": 162.505, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.789, + "Actual Total Time": 15.792, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 4266.04, + "Plan Rows": 18, + "Plan Width": 41, + "Actual Startup Time": 12.494, + "Actual Total Time": 91.190, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.268, + "Actual Total Time": 13.271, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.291, + "Actual Total Time": 15.294, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.097, + "Actual Total Time": 327.893, + "Actual Rows": 56, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.421, + "Actual Total Time": 15.424, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.630, + "Actual Total Time": 14.632, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.597, + "Actual Total Time": 161.919, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.788, + "Actual Total Time": 15.790, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3954.68, + "Plan Rows": 578, + "Plan Width": 29, + "Actual Startup Time": 9.779, + "Actual Total Time": 78.046, + "Actual Rows": 505, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.268, + "Actual Total Time": 13.269, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.291, + "Actual Total Time": 15.292, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.912, + "Actual Total Time": 280.694, + "Actual Rows": 1858, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.420, + "Actual Total Time": 15.422, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.629, + "Actual Total Time": 14.631, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.342, + "Actual Total Time": 130.461, + "Actual Rows": 1167, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.788, + "Actual Total Time": 15.789, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.77, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 9.713, + "Actual Total Time": 26.032, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.267, + "Actual Total Time": 13.268, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.290, + "Actual Total Time": 15.291, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.602, + "Actual Total Time": 63.852, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.420, + "Actual Total Time": 15.421, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.628, + "Actual Total Time": 14.629, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.201, + "Actual Total Time": 33.268, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.787, + "Actual Total Time": 15.788, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.676, + "Actual Total Time": 9.683, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.266, + "Actual Total Time": 13.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.289, + "Actual Total Time": 15.289, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.496, + "Actual Total Time": 0.504, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.419, + "Actual Total Time": 15.420, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.627, + "Actual Total Time": 14.628, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.096, + "Actual Total Time": 0.107, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.786, + "Actual Total Time": 15.786, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.62, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.092, + "Actual Total Time": 40.178, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.102, + "Actual Total Time": 57.719, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.100, + "Actual Total Time": 30.905, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2009)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 19528 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 8337 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 4040, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 8, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1858 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1167 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 123, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 56 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 32 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 71, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Germany,German,USA,American}'::text[]))", + "Rows Removed by Filter": 46, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.065, + "Actual Rows": 0, + "Actual Loops": 30 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.066, + "Actual Rows": 1, + "Actual Loops": 14 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 38, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 9 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 35, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '7.0'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 13 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 9 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 95, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 33, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 35, + "Cache Hits": 32, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 24, + "Cache Hits": 21, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 9, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 32, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 11, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 12, + "Cache Hits": 11, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 8, + "Cache Hits": 7, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.061, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 32, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 8 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7110568913434103698, + "Planning Time": 396.085, + "Triggers": [ + ], + "Execution Time": 384.314, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -7110568913434103698, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5764.43, + "Total Cost": 5764.44, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 777.445, + "Actual Total Time": 812.722, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5764.37, + "Total Cost": 5764.38, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 525.635, + "Actual Total Time": 812.690, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5763.37, + "Total Cost": 5763.38, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 256.860, + "Actual Total Time": 256.871, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.110, + "Actual Total Time": 21.125, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 635.471, + "Actual Total Time": 635.477, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 766.320, + "Actual Total Time": 766.326, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.323, + "Actual Total Time": 26.335, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.961, + "Actual Total Time": 24.975, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.948, + "Actual Total Time": 28.956, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.020, + "Actual Total Time": 27.034, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.37, + "Total Cost": 5740.34, + "Plan Rows": 3070, + "Plan Width": 41, + "Actual Startup Time": 18.310, + "Actual Total Time": 255.233, + "Actual Rows": 2686, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.101, + "Actual Total Time": 21.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.161, + "Actual Total Time": 630.621, + "Actual Rows": 7787, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.236, + "Actual Total Time": 761.753, + "Actual Rows": 7733, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.319, + "Actual Total Time": 26.330, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.937, + "Actual Total Time": 24.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.943, + "Actual Total Time": 28.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.012, + "Actual Total Time": 27.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.33, + "Total Cost": 5722.69, + "Plan Rows": 3070, + "Plan Width": 45, + "Actual Startup Time": 17.904, + "Actual Total Time": 253.663, + "Actual Rows": 2686, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.525, + "Actual Total Time": 20.537, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.881, + "Actual Total Time": 626.904, + "Actual Rows": 7787, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.001, + "Actual Total Time": 758.242, + "Actual Rows": 7733, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.836, + "Actual Total Time": 25.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.318, + "Actual Total Time": 24.329, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.692, + "Actual Total Time": 28.699, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.525, + "Actual Total Time": 26.536, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.48, + "Total Cost": 5695.70, + "Plan Rows": 9233, + "Plan Width": 49, + "Actual Startup Time": 17.777, + "Actual Total Time": 250.801, + "Actual Rows": 8078, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.510, + "Actual Total Time": 20.521, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.823, + "Actual Total Time": 618.550, + "Actual Rows": 23391, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.925, + "Actual Total Time": 750.138, + "Actual Rows": 23180, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.824, + "Actual Total Time": 25.832, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.301, + "Actual Total Time": 24.310, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.684, + "Actual Total Time": 28.690, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.512, + "Actual Total Time": 26.521, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.06, + "Total Cost": 5695.23, + "Plan Rows": 1, + "Plan Width": 34, + "Actual Startup Time": 17.753, + "Actual Total Time": 190.532, + "Actual Rows": 8725, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mc.company_id", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.509, + "Actual Total Time": 20.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.759, + "Actual Total Time": 440.362, + "Actual Rows": 25199, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.855, + "Actual Total Time": 580.154, + "Actual Rows": 25176, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.823, + "Actual Total Time": 25.830, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.300, + "Actual Total Time": 24.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.683, + "Actual Total Time": 28.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.511, + "Actual Total Time": 26.519, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.63, + "Total Cost": 5694.66, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 16.260, + "Actual Total Time": 150.791, + "Actual Rows": 1550, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.508, + "Actual Total Time": 20.517, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.510, + "Actual Total Time": 327.641, + "Actual Rows": 4159, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.834, + "Actual Total Time": 456.970, + "Actual Rows": 5340, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.822, + "Actual Total Time": 25.828, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.299, + "Actual Total Time": 24.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.683, + "Actual Total Time": 28.688, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.510, + "Actual Total Time": 26.518, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.20, + "Total Cost": 5293.89, + "Plan Rows": 759, + "Plan Width": 29, + "Actual Startup Time": 16.237, + "Actual Total Time": 141.326, + "Actual Rows": 664, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.507, + "Actual Total Time": 20.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.444, + "Actual Total Time": 302.439, + "Actual Rows": 1687, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.778, + "Actual Total Time": 426.934, + "Actual Rows": 2378, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.821, + "Actual Total Time": 25.827, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.298, + "Actual Total Time": 24.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.682, + "Actual Total Time": 28.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.509, + "Actual Total Time": 26.516, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.36, + "Total Cost": 5289.70, + "Plan Rows": 860, + "Plan Width": 33, + "Actual Startup Time": 16.223, + "Actual Total Time": 140.806, + "Actual Rows": 752, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.498, + "Actual Total Time": 20.504, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.436, + "Actual Total Time": 301.105, + "Actual Rows": 1908, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.769, + "Actual Total Time": 425.240, + "Actual Rows": 2658, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.812, + "Actual Total Time": 25.816, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.282, + "Actual Total Time": 24.287, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.677, + "Actual Total Time": 28.680, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.500, + "Actual Total Time": 26.506, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 3961.61, + "Plan Rows": 1153, + "Plan Width": 25, + "Actual Startup Time": 16.198, + "Actual Total Time": 73.099, + "Actual Rows": 1009, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.497, + "Actual Total Time": 20.503, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.364, + "Actual Total Time": 115.879, + "Actual Rows": 2502, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.699, + "Actual Total Time": 217.191, + "Actual Rows": 3653, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.811, + "Actual Total Time": 25.815, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.281, + "Actual Total Time": 24.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.677, + "Actual Total Time": 28.679, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.500, + "Actual Total Time": 26.504, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3954.68, + "Plan Rows": 1391, + "Plan Width": 29, + "Actual Startup Time": 16.132, + "Actual Total Time": 72.185, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.478, + "Actual Total Time": 20.480, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.275, + "Actual Total Time": 113.558, + "Actual Rows": 3009, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.421, + "Actual Total Time": 214.115, + "Actual Rows": 4326, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.796, + "Actual Total Time": 25.798, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.260, + "Actual Total Time": 24.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.667, + "Actual Total Time": 28.668, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.482, + "Actual Total Time": 26.484, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.77, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 16.109, + "Actual Total Time": 29.692, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.477, + "Actual Total Time": 20.478, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.204, + "Actual Total Time": 29.526, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.359, + "Actual Total Time": 48.939, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.795, + "Actual Total Time": 25.796, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.259, + "Actual Total Time": 24.261, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.666, + "Actual Total Time": 28.667, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.481, + "Actual Total Time": 26.482, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 16.071, + "Actual Total Time": 16.077, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.475, + "Actual Total Time": 20.476, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.107, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.256, + "Actual Total Time": 0.261, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.794, + "Actual Total Time": 25.794, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.258, + "Actual Total Time": 24.259, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.666, + "Actual Total Time": 28.666, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.480, + "Actual Total Time": 26.480, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.62, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.095, + "Actual Total Time": 33.435, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.105, + "Actual Total Time": 27.351, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.098, + "Actual Total Time": 44.376, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.066, + "Actual Rows": 1, + "Actual Loops": 8073, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 57, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.073, + "Actual Rows": 1, + "Actual Loops": 2502 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 3653 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 5316, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 1687 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 2378 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.024, + "Actual Rows": 6, + "Actual Loops": 12401, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 10, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.025, + "Actual Rows": 6, + "Actual Loops": 4159 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.021, + "Actual Rows": 5, + "Actual Loops": 5340 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 69797, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 25199 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 25176 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.02, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["ct.id"], + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5949668645089970217, + "Planning Time": 292.979, + "Triggers": [ + ], + "Execution Time": 813.244, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -5949668645089970217, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5910.89, + "Total Cost": 5910.90, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1317.590, + "Actual Total Time": 1360.187, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5910.83, + "Total Cost": 5910.84, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 817.811, + "Actual Total Time": 1360.152, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5909.83, + "Total Cost": 5909.84, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 405.170, + "Actual Total Time": 405.183, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.423, + "Actual Total Time": 11.451, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.548, + "Actual Total Time": 20.558, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.281, + "Actual Total Time": 21.290, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.017, + "Actual Total Time": 21.026, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.593, + "Actual Total Time": 15.606, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1026.009, + "Actual Total Time": 1026.015, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1308.593, + "Actual Total Time": 1308.599, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.37, + "Total Cost": 5860.24, + "Plan Rows": 6612, + "Plan Width": 41, + "Actual Startup Time": 12.617, + "Actual Total Time": 401.657, + "Actual Rows": 5785, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.417, + "Actual Total Time": 11.444, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.542, + "Actual Total Time": 20.552, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.276, + "Actual Total Time": 21.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.012, + "Actual Total Time": 21.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.585, + "Actual Total Time": 15.597, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.772, + "Actual Total Time": 1016.386, + "Actual Rows": 16022, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.186, + "Actual Total Time": 1297.222, + "Actual Rows": 18079, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.53, + "Total Cost": 5804.13, + "Plan Rows": 19926, + "Plan Width": 45, + "Actual Startup Time": 12.106, + "Actual Total Time": 395.016, + "Actual Rows": 17435, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.818, + "Actual Total Time": 10.842, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.281, + "Actual Total Time": 20.290, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.010, + "Actual Total Time": 21.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.775, + "Actual Total Time": 20.782, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.031, + "Actual Total Time": 15.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.488, + "Actual Total Time": 999.017, + "Actual Rows": 48221, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.892, + "Actual Total Time": 1276.839, + "Actual Rows": 54089, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.11, + "Total Cost": 5803.69, + "Plan Rows": 1, + "Plan Width": 30, + "Actual Startup Time": 11.544, + "Actual Total Time": 231.151, + "Actual Rows": 24455, + "Actual Loops": 8, + "Output": ["mc.company_id", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.817, + "Actual Total Time": 10.840, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.281, + "Actual Total Time": 20.288, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.009, + "Actual Total Time": 21.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.774, + "Actual Total Time": 20.781, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.029, + "Actual Total Time": 15.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.545, + "Actual Total Time": 550.592, + "Actual Rows": 68095, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.212, + "Actual Total Time": 751.154, + "Actual Rows": 76948, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.68, + "Total Cost": 5803.18, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 11.522, + "Actual Total Time": 150.673, + "Actual Rows": 8506, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.815, + "Actual Total Time": 10.838, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.280, + "Actual Total Time": 20.287, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.009, + "Actual Total Time": 21.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.773, + "Actual Total Time": 20.780, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.028, + "Actual Total Time": 15.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.480, + "Actual Total Time": 331.494, + "Actual Rows": 23470, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.152, + "Actual Total Time": 490.747, + "Actual Rows": 27084, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.63, + "Total Cost": 5785.39, + "Plan Rows": 3096, + "Plan Width": 41, + "Actual Startup Time": 11.510, + "Actual Total Time": 146.234, + "Actual Rows": 8506, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.806, + "Actual Total Time": 10.827, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.275, + "Actual Total Time": 20.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.004, + "Actual Total Time": 21.010, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.769, + "Actual Total Time": 20.774, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.019, + "Actual Total Time": 15.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.469, + "Actual Total Time": 319.436, + "Actual Rows": 23470, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.143, + "Actual Total Time": 476.254, + "Actual Rows": 27084, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.20, + "Total Cost": 5293.89, + "Plan Rows": 759, + "Plan Width": 29, + "Actual Startup Time": 11.497, + "Actual Total Time": 131.082, + "Actual Rows": 664, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.805, + "Actual Total Time": 10.812, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.274, + "Actual Total Time": 20.279, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.004, + "Actual Total Time": 21.008, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.768, + "Actual Total Time": 20.773, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.018, + "Actual Total Time": 15.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.430, + "Actual Total Time": 279.395, + "Actual Rows": 1687, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.107, + "Actual Total Time": 425.689, + "Actual Rows": 2378, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.36, + "Total Cost": 5289.70, + "Plan Rows": 860, + "Plan Width": 33, + "Actual Startup Time": 11.484, + "Actual Total Time": 130.595, + "Actual Rows": 752, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.793, + "Actual Total Time": 10.799, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.268, + "Actual Total Time": 20.271, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.997, + "Actual Total Time": 21.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.762, + "Actual Total Time": 20.766, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.006, + "Actual Total Time": 15.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.421, + "Actual Total Time": 278.230, + "Actual Rows": 1908, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.098, + "Actual Total Time": 423.953, + "Actual Rows": 2658, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 3961.61, + "Plan Rows": 1153, + "Plan Width": 25, + "Actual Startup Time": 11.457, + "Actual Total Time": 66.791, + "Actual Rows": 1009, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.781, + "Actual Total Time": 10.786, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.268, + "Actual Total Time": 20.271, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.997, + "Actual Total Time": 20.999, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.761, + "Actual Total Time": 20.765, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.005, + "Actual Total Time": 15.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.353, + "Actual Total Time": 108.599, + "Actual Rows": 2502, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.031, + "Actual Total Time": 217.270, + "Actual Rows": 3653, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3954.68, + "Plan Rows": 1391, + "Plan Width": 29, + "Actual Startup Time": 11.396, + "Actual Total Time": 65.909, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.762, + "Actual Total Time": 10.765, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.258, + "Actual Total Time": 20.260, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.987, + "Actual Total Time": 20.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.753, + "Actual Total Time": 20.755, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.985, + "Actual Total Time": 14.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.264, + "Actual Total Time": 106.478, + "Actual Rows": 3009, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.775, + "Actual Total Time": 214.111, + "Actual Rows": 4326, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.77, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 11.373, + "Actual Total Time": 24.454, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.761, + "Actual Total Time": 10.763, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.257, + "Actual Total Time": 20.259, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.986, + "Actual Total Time": 20.987, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.752, + "Actual Total Time": 20.753, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.984, + "Actual Total Time": 14.986, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.193, + "Actual Total Time": 27.111, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.706, + "Actual Total Time": 49.210, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 11.334, + "Actual Total Time": 11.340, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.761, + "Actual Total Time": 10.761, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.257, + "Actual Total Time": 20.257, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.986, + "Actual Total Time": 20.986, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.751, + "Actual Total Time": 20.752, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.983, + "Actual Total Time": 14.983, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.101, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.603, + "Actual Total Time": 0.608, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.62, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.098, + "Actual Total Time": 32.171, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.097, + "Actual Total Time": 25.114, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.097, + "Actual Total Time": 44.250, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 8073, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 57, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 2502 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 3653 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 12, + "Plan Width": 12, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.019, + "Actual Rows": 13, + "Actual Loops": 5316, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.020, + "Actual Rows": 14, + "Actual Loops": 1687 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.018, + "Actual Rows": 11, + "Actual Loops": 2378 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.02, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["ct.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 68049, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 23470 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 27084 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 195643, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 68095 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 76948 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1524343667767028728, + "Planning Time": 268.660, + "Triggers": [ + ], + "Execution Time": 1360.693, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1524343667767028728, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(kt.kind) AS movie_kind,
       MIN(t.title) AS complete_us_internet_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'complete+verified'
  AND cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND kt.kind IN ('movie')
  AND mi.note LIKE '%internet%'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'USA:% 199%'
       OR mi.info LIKE 'USA:% 200%')
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND cct1.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4053.86, + "Total Cost": 4053.87, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 112.900, + "Actual Total Time": 122.541, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((kt.kind)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4053.81, + "Total Cost": 4053.82, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 112.127, + "Actual Total Time": 122.521, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((kt.kind)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4052.81, + "Total Cost": 4052.82, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 100.352, + "Actual Total Time": 100.362, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((kt.kind)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.579, + "Actual Total Time": 97.590, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.605, + "Actual Total Time": 103.614, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.085, + "Actual Total Time": 97.094, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.737, + "Actual Total Time": 97.745, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 98.581, + "Actual Total Time": 98.589, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.286, + "Actual Total Time": 98.297, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.717, + "Actual Total Time": 98.725, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.96, + "Total Cost": 4052.37, + "Plan Rows": 88, + "Plan Width": 27, + "Actual Startup Time": 90.338, + "Actual Total Time": 100.286, + "Actual Rows": 77, + "Actual Loops": 8, + "Output": ["kt.kind", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.525, + "Actual Total Time": 97.572, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.601, + "Actual Total Time": 103.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.079, + "Actual Total Time": 97.087, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.732, + "Actual Total Time": 97.740, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.969, + "Actual Total Time": 98.277, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 60.861, + "Actual Total Time": 98.047, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.712, + "Actual Total Time": 98.719, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.54, + "Total Cost": 4013.86, + "Plan Rows": 88, + "Plan Width": 31, + "Actual Startup Time": 90.314, + "Actual Total Time": 99.352, + "Actual Rows": 77, + "Actual Loops": 8, + "Output": ["mk.keyword_id", "t.title", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.462, + "Actual Total Time": 97.455, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.600, + "Actual Total Time": 103.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.078, + "Actual Total Time": 97.086, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.731, + "Actual Total Time": 97.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.896, + "Actual Total Time": 94.316, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 60.810, + "Actual Total Time": 94.657, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.711, + "Actual Total Time": 98.717, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.10, + "Total Cost": 4011.75, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 90.287, + "Actual Total Time": 99.212, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mi.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.380, + "Actual Total Time": 97.355, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.599, + "Actual Total Time": 103.607, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.078, + "Actual Total Time": 97.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.731, + "Actual Total Time": 97.737, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.822, + "Actual Total Time": 93.771, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 60.757, + "Actual Total Time": 94.190, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.710, + "Actual Total Time": 98.716, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.95, + "Total Cost": 4011.55, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 90.268, + "Actual Total Time": 99.189, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.332, + "Actual Total Time": 97.301, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.599, + "Actual Total Time": 103.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.077, + "Actual Total Time": 97.083, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.729, + "Actual Total Time": 97.735, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.757, + "Actual Total Time": 93.696, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 60.719, + "Actual Total Time": 94.142, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.709, + "Actual Total Time": 98.715, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.82, + "Total Cost": 4011.40, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 90.248, + "Actual Total Time": 99.165, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.288, + "Actual Total Time": 97.251, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.598, + "Actual Total Time": 103.604, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.076, + "Actual Total Time": 97.081, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.729, + "Actual Total Time": 97.734, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.683, + "Actual Total Time": 93.613, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 60.676, + "Actual Total Time": 94.091, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.709, + "Actual Total Time": 98.713, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.40, + "Total Cost": 4010.96, + "Plan Rows": 1, + "Plan Width": 55, + "Actual Startup Time": 90.228, + "Actual Total Time": 99.136, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.232, + "Actual Total Time": 97.168, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.597, + "Actual Total Time": 103.602, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.075, + "Actual Total Time": 97.079, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.728, + "Actual Total Time": 97.732, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.633, + "Actual Total Time": 93.540, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 60.628, + "Actual Total Time": 94.021, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.708, + "Actual Total Time": 98.712, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.97, + "Total Cost": 4010.43, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 90.200, + "Actual Total Time": 99.101, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.131, + "Actual Total Time": 97.059, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 103.596, + "Actual Total Time": 103.601, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.074, + "Actual Total Time": 97.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.727, + "Actual Total Time": 97.731, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.569, + "Actual Total Time": 93.451, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 60.573, + "Actual Total Time": 93.944, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.707, + "Actual Total Time": 98.710, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.54, + "Total Cost": 3841.67, + "Plan Rows": 148, + "Plan Width": 35, + "Actual Startup Time": 1.288, + "Actual Total Time": 65.771, + "Actual Rows": 129, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.248, + "Actual Total Time": 63.034, + "Actual Rows": 117, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.223, + "Actual Total Time": 73.057, + "Actual Rows": 152, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.006, + "Actual Total Time": 59.667, + "Actual Rows": 123, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.352, + "Actual Total Time": 67.661, + "Actual Rows": 116, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.851, + "Actual Total Time": 65.889, + "Actual Rows": 120, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.371, + "Actual Total Time": 59.717, + "Actual Rows": 114, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.744, + "Actual Total Time": 65.644, + "Actual Rows": 117, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 3839.35, + "Plan Rows": 298, + "Plan Width": 29, + "Actual Startup Time": 0.802, + "Actual Total Time": 65.323, + "Actual Rows": 260, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.113, + "Actual Total Time": 62.605, + "Actual Rows": 280, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.910, + "Actual Total Time": 72.716, + "Actual Rows": 323, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.493, + "Actual Total Time": 59.050, + "Actual Rows": 194, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.203, + "Actual Total Time": 67.255, + "Actual Rows": 313, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.692, + "Actual Total Time": 65.466, + "Actual Rows": 268, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.228, + "Actual Total Time": 59.341, + "Actual Rows": 151, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.596, + "Actual Total Time": 65.223, + "Actual Rows": 298, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 3513, + "Plan Width": 4, + "Actual Startup Time": 0.089, + "Actual Total Time": 13.293, + "Actual Rows": 3074, + "Actual Loops": 8, + "Output": ["cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.091, + "Actual Total Time": 12.543, + "Actual Rows": 2871, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.052, + "Actual Total Time": 14.711, + "Actual Rows": 4180, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.103, + "Actual Total Time": 12.842, + "Actual Rows": 2463, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.095, + "Actual Total Time": 13.595, + "Actual Rows": 3000, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.094, + "Actual Total Time": 13.351, + "Actual Rows": 2858, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.105, + "Actual Total Time": 12.159, + "Actual Rows": 2518, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.104, + "Actual Total Time": 12.789, + "Actual Rows": 2756, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 8, + "Actual Startup Time": 0.054, + "Actual Total Time": 4.745, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.055, + "Actual Total Time": 4.421, + "Actual Rows": 15540, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 5.190, + "Actual Rows": 22940, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.067, + "Actual Total Time": 5.106, + "Actual Rows": 12950, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.055, + "Actual Total Time": 4.749, + "Actual Rows": 16280, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 4.742, + "Actual Rows": 15946, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.072, + "Actual Total Time": 4.266, + "Actual Rows": 14060, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.070, + "Actual Total Time": 4.507, + "Actual Rows": 15170, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 24592, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2871 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 4180 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2463 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 3000 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2858 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2518 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2756 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.kind", "kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.kind", "kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.257, + "Actual Total Time": 0.257, + "Actual Rows": 0, + "Actual Loops": 1033, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND (mi.note ~~ '%internet%'::text) AND ((mi.info ~~ 'USA:% 199%'::text) OR (mi.info ~~ 'USA:% 200%'::text)))", + "Rows Removed by Filter": 211, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.289, + "Actual Total Time": 0.289, + "Actual Rows": 0, + "Actual Loops": 117 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.200, + "Actual Total Time": 0.200, + "Actual Rows": 0, + "Actual Loops": 152 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.303, + "Actual Total Time": 0.303, + "Actual Rows": 0, + "Actual Loops": 123 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.258, + "Actual Total Time": 0.258, + "Actual Rows": 0, + "Actual Loops": 116 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.228, + "Actual Total Time": 0.228, + "Actual Rows": 0, + "Actual Loops": 120 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.299, + "Actual Total Time": 0.299, + "Actual Rows": 0, + "Actual Loops": 114 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.281, + "Actual Total Time": 0.281, + "Actual Rows": 0, + "Actual Loops": 117 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.104, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 113, + "Plan Width": 8, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.141, + "Actual Rows": 103, + "Actual Loops": 6, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.046, + "Actual Rows": 3, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.201, + "Actual Rows": 153, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.175, + "Actual Rows": 153, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 618, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 306 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 306 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4445581228366823766, + "Planning Time": 260.052, + "Triggers": [ + ], + "Execution Time": 122.916, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 4445581228366823766, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(kt.kind) AS movie_kind,
       MIN(t.title) AS complete_nerdy_internet_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'complete+verified'
  AND cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND k.keyword IN ('nerd',
                    'loner',
                    'alienation',
                    'dignity')
  AND kt.kind IN ('movie')
  AND mi.note LIKE '%internet%'
  AND mi.info LIKE 'USA:% 200%'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND cct1.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1501.08, + "Total Cost": 1501.09, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 43.659, + "Actual Total Time": 47.284, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((kt.kind)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1501.04, + "Total Cost": 1501.05, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 33.793, + "Actual Total Time": 47.264, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((kt.kind)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1500.04, + "Total Cost": 1500.05, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 23.443, + "Actual Total Time": 23.452, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((kt.kind)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.110, + "Actual Total Time": 19.121, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.356, + "Actual Total Time": 26.366, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.696, + "Actual Total Time": 19.707, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.687, + "Actual Total Time": 19.694, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.565, + "Actual Total Time": 29.570, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.849, + "Actual Total Time": 19.861, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.354, + "Actual Total Time": 20.362, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 1500.03, + "Plan Rows": 2, + "Plan Width": 27, + "Actual Startup Time": 20.686, + "Actual Total Time": 23.440, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["kt.kind", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.103, + "Actual Total Time": 19.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.902, + "Actual Total Time": 26.349, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.691, + "Actual Total Time": 19.701, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.682, + "Actual Total Time": 19.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.287, + "Actual Total Time": 29.557, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.956, + "Actual Total Time": 19.833, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.350, + "Actual Total Time": 20.357, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.88, + "Total Cost": 1499.70, + "Plan Rows": 2, + "Plan Width": 21, + "Actual Startup Time": 20.672, + "Actual Total Time": 23.416, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.102, + "Actual Total Time": 19.112, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.876, + "Actual Total Time": 26.306, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.690, + "Actual Total Time": 19.699, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.681, + "Actual Total Time": 19.687, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.270, + "Actual Total Time": 29.528, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.912, + "Actual Total Time": 19.754, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.349, + "Actual Total Time": 20.356, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.74, + "Total Cost": 1499.32, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 20.651, + "Actual Total Time": 23.383, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.102, + "Actual Total Time": 19.110, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.839, + "Actual Total Time": 26.249, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.688, + "Actual Total Time": 19.697, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.680, + "Actual Total Time": 19.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.239, + "Actual Total Time": 29.486, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.836, + "Actual Total Time": 19.638, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.349, + "Actual Total Time": 20.355, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.61, + "Total Cost": 1499.02, + "Plan Rows": 2, + "Plan Width": 29, + "Actual Startup Time": 20.623, + "Actual Total Time": 23.348, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mi.info_type_id", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.101, + "Actual Total Time": 19.109, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.786, + "Actual Total Time": 26.184, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.687, + "Actual Total Time": 19.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.680, + "Actual Total Time": 19.685, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.190, + "Actual Total Time": 29.429, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.741, + "Actual Total Time": 19.514, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.348, + "Actual Total Time": 20.354, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.19, + "Total Cost": 1498.13, + "Plan Rows": 2, + "Plan Width": 33, + "Actual Startup Time": 20.594, + "Actual Total Time": 23.298, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mc.company_id", "mc.company_type_id", "mi.info_type_id", "t.title", "t.kind_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.100, + "Actual Total Time": 19.107, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.733, + "Actual Total Time": 26.099, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.686, + "Actual Total Time": 19.693, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.679, + "Actual Total Time": 19.684, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.146, + "Actual Total Time": 29.364, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.648, + "Actual Total Time": 19.340, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.348, + "Actual Total Time": 20.353, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.76, + "Total Cost": 1497.07, + "Plan Rows": 2, + "Plan Width": 41, + "Actual Startup Time": 20.562, + "Actual Total Time": 23.243, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.099, + "Actual Total Time": 19.106, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.671, + "Actual Total Time": 26.002, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.685, + "Actual Total Time": 19.691, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.678, + "Actual Total Time": 19.683, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.095, + "Actual Total Time": 29.289, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.549, + "Actual Total Time": 19.156, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.347, + "Actual Total Time": 20.351, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.32, + "Total Cost": 1488.19, + "Plan Rows": 9, + "Plan Width": 33, + "Actual Startup Time": 14.407, + "Actual Total Time": 21.020, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.099, + "Actual Total Time": 19.104, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.861, + "Actual Total Time": 23.203, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.684, + "Actual Total Time": 19.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.678, + "Actual Total Time": 19.682, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.430, + "Actual Total Time": 22.336, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.732, + "Actual Total Time": 16.247, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.346, + "Actual Total Time": 20.350, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.89, + "Total Cost": 1467.47, + "Plan Rows": 45, + "Plan Width": 8, + "Actual Startup Time": 13.846, + "Actual Total Time": 19.841, + "Actual Rows": 40, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.098, + "Actual Total Time": 19.102, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.780, + "Actual Total Time": 21.543, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.683, + "Actual Total Time": 19.687, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.677, + "Actual Total Time": 19.680, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.262, + "Actual Total Time": 19.001, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.674, + "Actual Total Time": 14.438, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.345, + "Actual Total Time": 20.348, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 1465.95, + "Plan Rows": 90, + "Plan Width": 12, + "Actual Startup Time": 12.490, + "Actual Total Time": 19.293, + "Actual Rows": 79, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.561, + "Actual Total Time": 18.563, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.212, + "Actual Total Time": 21.149, + "Actual Rows": 123, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.173, + "Actual Total Time": 19.175, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.133, + "Actual Total Time": 19.135, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.740, + "Actual Total Time": 18.139, + "Actual Rows": 181, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.562, + "Actual Total Time": 13.746, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.067, + "Actual Total Time": 20.068, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1393.41, + "Plan Rows": 162, + "Plan Width": 4, + "Actual Startup Time": 12.028, + "Actual Total Time": 15.157, + "Actual Rows": 142, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.560, + "Actual Total Time": 18.562, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.055, + "Actual Total Time": 13.037, + "Actual Rows": 195, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.172, + "Actual Total Time": 19.173, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.132, + "Actual Total Time": 19.133, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.816, + "Actual Total Time": 10.238, + "Actual Rows": 302, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.863, + "Actual Total Time": 9.127, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.066, + "Actual Total Time": 20.067, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 11.597, + "Actual Total Time": 12.848, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{nerd,loner,alienation,dignity}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.559, + "Actual Total Time": 18.560, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.954, + "Actual Total Time": 11.027, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.171, + "Actual Total Time": 19.171, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.131, + "Actual Total Time": 19.132, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.603, + "Actual Total Time": 5.624, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.675, + "Actual Total Time": 6.485, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.065, + "Actual Total Time": 20.065, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.07, + "Plan Rows": 283, + "Plan Width": 8, + "Actual Startup Time": 0.850, + "Actual Total Time": 4.463, + "Actual Rows": 283, + "Actual Loops": 4, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.097, + "Actual Total Time": 1.930, + "Actual Rows": 195, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.205, + "Actual Total Time": 4.412, + "Actual Rows": 302, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.167, + "Actual Total Time": 2.530, + "Actual Rows": 109, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 1133, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 195 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 302 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 109 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 318, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 74 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 104 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 37 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.287, + "Actual Total Time": 0.289, + "Actual Rows": 0, + "Actual Loops": 61, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note ~~ '%internet%'::text) AND (mi.info ~~ 'USA:% 200%'::text))", + "Rows Removed by Filter": 212, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.196, + "Actual Total Time": 0.198, + "Actual Rows": 0, + "Actual Loops": 14 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.383, + "Actual Total Time": 0.384, + "Actual Rows": 0, + "Actual Loops": 18 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.353, + "Actual Total Time": 0.360, + "Actual Rows": 0, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7994933085961275538, + "Planning Time": 240.210, + "Triggers": [ + ], + "Execution Time": 47.710, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -7994933085961275538, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(kt.kind) AS movie_kind,
       MIN(t.title) AS complete_us_internet_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'complete+verified'
  AND cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND kt.kind IN ('movie',
                  'tv movie',
                  'video movie',
                  'video game')
  AND mi.note LIKE '%internet%'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'USA:% 199%'
       OR mi.info LIKE 'USA:% 200%')
  AND t.production_year > 1990
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND cct1.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4689.70, + "Total Cost": 4689.71, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 178.460, + "Actual Total Time": 195.069, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((kt.kind)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4689.66, + "Total Cost": 4689.67, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 176.874, + "Actual Total Time": 195.039, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((kt.kind)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4688.66, + "Total Cost": 4688.67, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 165.885, + "Actual Total Time": 165.896, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((kt.kind)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 161.020, + "Actual Total Time": 161.032, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 167.894, + "Actual Total Time": 167.902, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 166.853, + "Actual Total Time": 166.862, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 162.209, + "Actual Total Time": 162.218, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 163.257, + "Actual Total Time": 163.266, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 167.413, + "Actual Total Time": 167.422, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 162.451, + "Actual Total Time": 162.463, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.98, + "Total Cost": 4688.21, + "Plan Rows": 90, + "Plan Width": 27, + "Actual Startup Time": 130.172, + "Actual Total Time": 165.812, + "Actual Rows": 78, + "Actual Loops": 8, + "Output": ["kt.kind", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.948, + "Actual Total Time": 160.994, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.149, + "Actual Total Time": 167.886, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 96.168, + "Actual Total Time": 166.569, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 162.203, + "Actual Total Time": 162.212, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 163.252, + "Actual Total Time": 163.260, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 167.409, + "Actual Total Time": 167.418, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 153.265, + "Actual Total Time": 162.158, + "Actual Rows": 306, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.56, + "Total Cost": 4648.82, + "Plan Rows": 90, + "Plan Width": 31, + "Actual Startup Time": 130.133, + "Actual Total Time": 164.737, + "Actual Rows": 78, + "Actual Loops": 8, + "Output": ["mk.keyword_id", "t.title", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.832, + "Actual Total Time": 160.604, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.089, + "Actual Total Time": 167.772, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 96.097, + "Actual Total Time": 162.669, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 162.203, + "Actual Total Time": 162.211, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 163.251, + "Actual Total Time": 163.259, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 167.408, + "Actual Total Time": 167.416, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 153.206, + "Actual Total Time": 157.967, + "Actual Rows": 306, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.13, + "Total Cost": 4646.93, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 130.090, + "Actual Total Time": 164.576, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mi.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.702, + "Actual Total Time": 160.448, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.039, + "Actual Total Time": 167.705, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 96.005, + "Actual Total Time": 162.142, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 162.202, + "Actual Total Time": 162.210, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 163.251, + "Actual Total Time": 163.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 167.408, + "Actual Total Time": 167.415, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 153.134, + "Actual Total Time": 157.440, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.97, + "Total Cost": 4646.74, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 130.061, + "Actual Total Time": 164.544, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.620, + "Actual Total Time": 160.364, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 94.997, + "Actual Total Time": 167.658, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 95.954, + "Actual Total Time": 162.080, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 162.202, + "Actual Total Time": 162.208, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 163.250, + "Actual Total Time": 163.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 167.407, + "Actual Total Time": 167.413, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 153.084, + "Actual Total Time": 157.378, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.84, + "Total Cost": 4646.58, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 130.024, + "Actual Total Time": 164.503, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.536, + "Actual Total Time": 160.279, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 94.924, + "Actual Total Time": 167.579, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 95.884, + "Actual Total Time": 162.001, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 162.201, + "Actual Total Time": 162.206, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 163.249, + "Actual Total Time": 163.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 167.406, + "Actual Total Time": 167.412, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 153.014, + "Actual Total Time": 157.300, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.42, + "Total Cost": 4646.14, + "Plan Rows": 1, + "Plan Width": 55, + "Actual Startup Time": 129.990, + "Actual Total Time": 164.458, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.427, + "Actual Total Time": 160.168, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 94.870, + "Actual Total Time": 167.497, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 95.830, + "Actual Total Time": 161.923, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 162.200, + "Actual Total Time": 162.205, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 163.248, + "Actual Total Time": 163.253, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 167.406, + "Actual Total Time": 167.410, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 152.959, + "Actual Total Time": 157.219, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.99, + "Total Cost": 4645.62, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 129.945, + "Actual Total Time": 164.405, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.269, + "Actual Total Time": 160.005, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 94.805, + "Actual Total Time": 167.423, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 95.766, + "Actual Total Time": 161.834, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 162.199, + "Actual Total Time": 162.204, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 163.248, + "Actual Total Time": 163.252, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 167.405, + "Actual Total Time": 167.409, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 152.891, + "Actual Total Time": 157.124, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.56, + "Total Cost": 3844.30, + "Plan Rows": 722, + "Plan Width": 35, + "Actual Startup Time": 0.644, + "Actual Total Time": 65.682, + "Actual Rows": 632, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.355, + "Actual Total Time": 61.781, + "Actual Rows": 497, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.518, + "Actual Total Time": 68.645, + "Actual Rows": 772, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.167, + "Actual Total Time": 73.702, + "Actual Rows": 638, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.332, + "Actual Total Time": 55.769, + "Actual Rows": 531, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.789, + "Actual Total Time": 66.187, + "Actual Rows": 545, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.972, + "Actual Total Time": 68.491, + "Actual Rows": 673, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.567, + "Actual Total Time": 64.904, + "Actual Rows": 587, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 3839.35, + "Plan Rows": 918, + "Plan Width": 29, + "Actual Startup Time": 0.370, + "Actual Total Time": 64.680, + "Actual Rows": 803, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.188, + "Actual Total Time": 60.796, + "Actual Rows": 673, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.442, + "Actual Total Time": 67.696, + "Actual Rows": 1003, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.083, + "Actual Total Time": 72.787, + "Actual Rows": 879, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.181, + "Actual Total Time": 54.840, + "Actual Rows": 656, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.647, + "Actual Total Time": 65.166, + "Actual Rows": 660, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.902, + "Actual Total Time": 67.569, + "Actual Rows": 837, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.391, + "Actual Total Time": 63.808, + "Actual Rows": 770, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 3513, + "Plan Width": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 13.189, + "Actual Rows": 3074, + "Actual Loops": 8, + "Output": ["cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.061, + "Actual Total Time": 11.911, + "Actual Rows": 2534, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 13.841, + "Actual Rows": 3828, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 11.907, + "Actual Rows": 3238, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.060, + "Actual Total Time": 10.910, + "Actual Rows": 2510, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.074, + "Actual Total Time": 14.288, + "Actual Rows": 2756, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 15.273, + "Actual Rows": 3289, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.061, + "Actual Total Time": 13.777, + "Actual Rows": 2751, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 8, + "Actual Startup Time": 0.023, + "Actual Total Time": 4.231, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 3.952, + "Actual Rows": 13690, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 4.545, + "Actual Rows": 21645, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 3.826, + "Actual Rows": 15725, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 3.565, + "Actual Rows": 12765, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 4.744, + "Actual Rows": 16835, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 4.282, + "Actual Rows": 17390, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 4.477, + "Actual Rows": 15910, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 24592, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2534 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 3828 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 3238 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2510 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2756 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3289 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2751 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.06, + "Total Cost": 1.06, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.kind", "kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.065, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.06, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.028, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["kt.kind", "kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,\"tv movie\",\"video movie\",\"video game\"}'::text[]))", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.10, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.155, + "Actual Total Time": 0.155, + "Actual Rows": 0, + "Actual Loops": 5053, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND (mi.note ~~ '%internet%'::text) AND ((mi.info ~~ 'USA:% 199%'::text) OR (mi.info ~~ 'USA:% 200%'::text)))", + "Rows Removed by Filter": 123, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.196, + "Actual Total Time": 0.197, + "Actual Rows": 0, + "Actual Loops": 497 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.127, + "Actual Total Time": 0.127, + "Actual Rows": 0, + "Actual Loops": 772 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.137, + "Actual Total Time": 0.137, + "Actual Rows": 0, + "Actual Loops": 638 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.199, + "Actual Total Time": 0.199, + "Actual Rows": 0, + "Actual Loops": 531 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.177, + "Actual Total Time": 0.177, + "Actual Rows": 0, + "Actual Loops": 545 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.146, + "Actual Total Time": 0.146, + "Actual Rows": 0, + "Actual Loops": 673 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.156, + "Actual Total Time": 0.156, + "Actual Rows": 0, + "Actual Loops": 587 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.065, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.151, + "Actual Total Time": 0.154, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.068, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.103, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.079, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 4, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 91, + "Plan Width": 8, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.141, + "Actual Rows": 90, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.123, + "Actual Total Time": 0.140, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.030, + "Actual Rows": 3, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.199, + "Actual Rows": 153, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.194, + "Actual Rows": 153, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 628, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 306 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 306 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1076878163750528468, + "Planning Time": 245.059, + "Triggers": [ + ], + "Execution Time": 195.465, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1076878163750528468, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char_name,
       MIN(n.name) AS voicing_actress_name,
       MIN(t.title) AS voiced_action_movie_jap_eng
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND k.keyword IN ('hero',
                    'martial-arts',
                    'hand-to-hand-combat')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%201%'
       OR mi.info LIKE 'USA:%201%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year > 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND ci.movie_id = mk.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2378.23, + "Total Cost": 2378.24, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 325.566, + "Actual Total Time": 359.871, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2378.17, + "Total Cost": 2378.18, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 323.875, + "Actual Total Time": 359.837, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2377.17, + "Total Cost": 2377.18, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 125.116, + "Actual Total Time": 125.126, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.527, + "Actual Total Time": 12.537, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.235, + "Actual Total Time": 15.245, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.251, + "Actual Total Time": 18.260, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.260, + "Actual Total Time": 18.269, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.959, + "Actual Total Time": 15.967, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 316.411, + "Actual Total Time": 316.420, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 281.576, + "Actual Total Time": 281.583, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.15, + "Total Cost": 2376.87, + "Plan Rows": 39, + "Plan Width": 48, + "Actual Startup Time": 48.615, + "Actual Total Time": 125.082, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.519, + "Actual Total Time": 12.528, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.231, + "Actual Total Time": 15.240, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.244, + "Actual Total Time": 18.252, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.254, + "Actual Total Time": 18.262, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.952, + "Actual Total Time": 15.960, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 60.118, + "Actual Total Time": 316.286, + "Actual Rows": 138, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 50.959, + "Actual Total Time": 281.449, + "Actual Rows": 128, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.73, + "Total Cost": 2367.10, + "Plan Rows": 20, + "Plan Width": 56, + "Actual Startup Time": 31.204, + "Actual Total Time": 124.846, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "n.name", "n.id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.519, + "Actual Total Time": 12.526, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.230, + "Actual Total Time": 15.239, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.243, + "Actual Total Time": 18.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.253, + "Actual Total Time": 18.261, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.952, + "Actual Total Time": 15.959, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 57.123, + "Actual Total Time": 315.567, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.479, + "Actual Total Time": 280.557, + "Actual Rows": 65, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.31, + "Total Cost": 2348.11, + "Plan Rows": 43, + "Plan Width": 60, + "Actual Startup Time": 31.185, + "Actual Total Time": 124.350, + "Actual Rows": 38, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "n.name", "n.id", "chn.name", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.518, + "Actual Total Time": 12.525, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.229, + "Actual Total Time": 15.237, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.242, + "Actual Total Time": 18.249, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.253, + "Actual Total Time": 18.260, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.951, + "Actual Total Time": 15.958, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 57.061, + "Actual Total Time": 313.820, + "Actual Rows": 142, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.436, + "Actual Total Time": 278.726, + "Actual Rows": 137, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.88, + "Total Cost": 2344.89, + "Plan Rows": 5, + "Plan Width": 72, + "Actual Startup Time": 31.168, + "Actual Total Time": 124.173, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "n.name", "n.id", "mi.movie_id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.517, + "Actual Total Time": 12.523, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.229, + "Actual Total Time": 15.236, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.242, + "Actual Total Time": 18.248, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.252, + "Actual Total Time": 18.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.950, + "Actual Total Time": 15.956, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 57.006, + "Actual Total Time": 313.244, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.389, + "Actual Total Time": 278.106, + "Actual Rows": 15, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.74, + "Total Cost": 2344.10, + "Plan Rows": 5, + "Plan Width": 76, + "Actual Startup Time": 31.156, + "Actual Total Time": 124.119, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "n.name", "n.id", "mi.movie_id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.516, + "Actual Total Time": 12.521, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.228, + "Actual Total Time": 15.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.241, + "Actual Total Time": 18.246, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.251, + "Actual Total Time": 18.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.950, + "Actual Total Time": 15.955, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.972, + "Actual Total Time": 313.078, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.352, + "Actual Total Time": 277.926, + "Actual Rows": 15, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.31, + "Total Cost": 2341.57, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 31.134, + "Actual Total Time": 123.988, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.515, + "Actual Total Time": 12.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.227, + "Actual Total Time": 15.233, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.240, + "Actual Total Time": 18.245, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.250, + "Actual Total Time": 18.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.949, + "Actual Total Time": 15.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.918, + "Actual Total Time": 312.682, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.266, + "Actual Total Time": 277.455, + "Actual Rows": 15, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.17, + "Total Cost": 2340.74, + "Plan Rows": 5, + "Plan Width": 68, + "Actual Startup Time": 31.121, + "Actual Total Time": 123.924, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.515, + "Actual Total Time": 12.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.227, + "Actual Total Time": 15.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.239, + "Actual Total Time": 18.244, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.249, + "Actual Total Time": 18.253, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.948, + "Actual Total Time": 15.952, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.874, + "Actual Total Time": 312.488, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.230, + "Actual Total Time": 277.245, + "Actual Rows": 15, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 2336.79, + "Plan Rows": 4, + "Plan Width": 60, + "Actual Startup Time": 31.089, + "Actual Total Time": 123.513, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.514, + "Actual Total Time": 12.517, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.226, + "Actual Total Time": 15.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.239, + "Actual Total Time": 18.242, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.248, + "Actual Total Time": 18.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.947, + "Actual Total Time": 15.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.792, + "Actual Total Time": 311.329, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.164, + "Actual Total Time": 275.723, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 2134.89, + "Plan Rows": 375, + "Plan Width": 41, + "Actual Startup Time": 14.029, + "Actual Total Time": 95.568, + "Actual Rows": 328, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.513, + "Actual Total Time": 12.515, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.225, + "Actual Total Time": 15.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.238, + "Actual Total Time": 18.240, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.247, + "Actual Total Time": 18.250, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.947, + "Actual Total Time": 15.949, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.687, + "Actual Total Time": 254.638, + "Actual Rows": 947, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.204, + "Actual Total Time": 200.384, + "Actual Rows": 796, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2037.21, + "Plan Rows": 71, + "Plan Width": 25, + "Actual Startup Time": 11.264, + "Actual Total Time": 40.062, + "Actual Rows": 62, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.512, + "Actual Total Time": 12.514, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.224, + "Actual Total Time": 15.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.237, + "Actual Total Time": 18.239, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.246, + "Actual Total Time": 18.248, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.946, + "Actual Total Time": 15.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.503, + "Actual Total Time": 92.389, + "Actual Rows": 244, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.769, + "Actual Total Time": 55.173, + "Actual Rows": 113, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1399.49, + "Plan Rows": 1385, + "Plan Width": 4, + "Actual Startup Time": 10.674, + "Actual Total Time": 17.973, + "Actual Rows": 1212, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.510, + "Actual Total Time": 12.512, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.223, + "Actual Total Time": 15.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.235, + "Actual Total Time": 18.236, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.245, + "Actual Total Time": 18.246, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.945, + "Actual Total Time": 15.946, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.402, + "Actual Total Time": 21.912, + "Actual Rows": 4400, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.694, + "Actual Total Time": 14.716, + "Actual Rows": 2373, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 10.081, + "Actual Total Time": 10.105, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{hero,martial-arts,hand-to-hand-combat}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.509, + "Actual Total Time": 12.510, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.222, + "Actual Total Time": 15.222, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.234, + "Actual Total Time": 18.235, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.244, + "Actual Total Time": 18.245, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.944, + "Actual Total Time": 15.944, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.112, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.395, + "Actual Total Time": 0.440, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.62, + "Plan Rows": 3232, + "Plan Width": 8, + "Actual Startup Time": 1.574, + "Actual Total Time": 19.544, + "Actual Rows": 3232, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.342, + "Actual Total Time": 20.063, + "Actual Rows": 4400, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.293, + "Actual Total Time": 13.345, + "Actual Rows": 2373, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 9696, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 4400 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2373 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.30, + "Plan Rows": 6, + "Plan Width": 16, + "Actual Startup Time": 0.612, + "Actual Total Time": 0.890, + "Actual Rows": 5, + "Actual Loops": 495, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 83, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.478, + "Actual Total Time": 0.660, + "Actual Rows": 4, + "Actual Loops": 244 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.793, + "Actual Total Time": 1.277, + "Actual Rows": 7, + "Actual Loops": 113 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.084, + "Actual Rows": 0, + "Actual Loops": 2625, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 947 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.093, + "Actual Total Time": 0.093, + "Actual Rows": 0, + "Actual Loops": 796 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.105, + "Actual Rows": 1, + "Actual Loops": 30, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%201%'::text) OR (mi.info ~~ 'USA:%201%'::text)))", + "Rows Removed by Filter": 46, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.093, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.123, + "Actual Rows": 1, + "Actual Loops": 12 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 37, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 37, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 36, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 11, + "Plan Width": 8, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.032, + "Actual Rows": 8, + "Actual Loops": 36, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.029, + "Actual Rows": 9, + "Actual Loops": 16 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.033, + "Actual Rows": 9, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 300, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 142 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 137 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 141, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 59 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 65 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6624959997497422723, + "Planning Time": 3127.240, + "Triggers": [ + ], + "Execution Time": 360.527, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 6624959997497422723, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char_name,
       MIN(n.name) AS voicing_actress_name,
       MIN(t.title) AS kung_fu_panda
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND cn.name = 'DreamWorks Animation'
  AND it.info = 'release dates'
  AND k.keyword IN ('hero',
                    'martial-arts',
                    'hand-to-hand-combat',
                    'computer-animated-movie')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%201%'
       OR mi.info LIKE 'USA:%201%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year > 2010
  AND t.title LIKE 'Kung Fu Panda%'
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND ci.movie_id = mk.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2080.28, + "Total Cost": 2080.29, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 89.273, + "Actual Total Time": 106.201, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2080.22, + "Total Cost": 2080.23, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 65.129, + "Actual Total Time": 106.184, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2079.22, + "Total Cost": 2079.23, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 39.557, + "Actual Total Time": 39.567, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.890, + "Actual Total Time": 25.903, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 77.443, + "Actual Total Time": 77.452, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.497, + "Actual Total Time": 15.507, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.461, + "Actual Total Time": 26.470, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.148, + "Actual Total Time": 27.162, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 51.934, + "Actual Total Time": 51.942, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.878, + "Actual Total Time": 28.887, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.13, + "Total Cost": 2079.17, + "Plan Rows": 6, + "Plan Width": 48, + "Actual Startup Time": 32.086, + "Actual Total Time": 39.553, + "Actual Rows": 6, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.882, + "Actual Total Time": 25.894, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 42.781, + "Actual Total Time": 77.419, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.492, + "Actual Total Time": 15.501, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.457, + "Actual Total Time": 26.465, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.140, + "Actual Total Time": 27.152, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.869, + "Actual Total Time": 51.904, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.872, + "Actual Total Time": 28.880, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.70, + "Total Cost": 2078.66, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 32.067, + "Actual Total Time": 39.521, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "n.name", "n.id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.881, + "Actual Total Time": 25.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 42.706, + "Actual Total Time": 77.301, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.492, + "Actual Total Time": 15.500, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.457, + "Actual Total Time": 26.464, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.138, + "Actual Total Time": 27.150, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.793, + "Actual Total Time": 51.778, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.871, + "Actual Total Time": 28.879, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.27, + "Total Cost": 2078.15, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 32.055, + "Actual Total Time": 39.500, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.880, + "Actual Total Time": 25.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 42.668, + "Actual Total Time": 77.229, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.491, + "Actual Total Time": 15.499, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.456, + "Actual Total Time": 26.463, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.138, + "Actual Total Time": 27.149, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.742, + "Actual Total Time": 51.689, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.870, + "Actual Total Time": 28.878, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.84, + "Total Cost": 2073.31, + "Plan Rows": 9, + "Plan Width": 25, + "Actual Startup Time": 32.024, + "Actual Total Time": 39.382, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.879, + "Actual Total Time": 25.889, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 42.567, + "Actual Total Time": 76.824, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.490, + "Actual Total Time": 15.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.455, + "Actual Total Time": 26.461, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.137, + "Actual Total Time": 27.147, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.602, + "Actual Total Time": 51.154, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.870, + "Actual Total Time": 28.876, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.74, + "Total Cost": 2072.08, + "Plan Rows": 35, + "Plan Width": 29, + "Actual Startup Time": 31.831, + "Actual Total Time": 39.213, + "Actual Rows": 30, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.753, + "Actual Total Time": 25.760, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 42.354, + "Actual Total Time": 76.684, + "Actual Rows": 125, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.389, + "Actual Total Time": 15.394, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.381, + "Actual Total Time": 26.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.984, + "Actual Total Time": 26.991, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.334, + "Actual Total Time": 51.018, + "Actual Rows": 119, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.787, + "Actual Total Time": 28.791, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.30, + "Total Cost": 2070.45, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 31.813, + "Actual Total Time": 38.753, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.752, + "Actual Total Time": 25.759, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 42.288, + "Actual Total Time": 75.134, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.389, + "Actual Total Time": 15.393, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.380, + "Actual Total Time": 26.385, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.983, + "Actual Total Time": 26.989, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.256, + "Actual Total Time": 48.898, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.786, + "Actual Total Time": 28.790, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 2070.27, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 31.799, + "Actual Total Time": 38.735, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.751, + "Actual Total Time": 25.757, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 42.231, + "Actual Total Time": 75.066, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.388, + "Actual Total Time": 15.391, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.380, + "Actual Total Time": 26.384, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.982, + "Actual Total Time": 26.987, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.209, + "Actual Total Time": 48.837, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.785, + "Actual Total Time": 28.789, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 2069.27, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 26.963, + "Actual Total Time": 38.640, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.750, + "Actual Total Time": 25.755, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.620, + "Actual Total Time": 74.704, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.387, + "Actual Total Time": 15.390, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.380, + "Actual Total Time": 26.383, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.981, + "Actual Total Time": 26.986, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.131, + "Actual Total Time": 48.448, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.785, + "Actual Total Time": 28.787, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 2065.25, + "Plan Rows": 9, + "Plan Width": 33, + "Actual Startup Time": 26.875, + "Actual Total Time": 38.498, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.749, + "Actual Total Time": 25.753, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.494, + "Actual Total Time": 74.128, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.387, + "Actual Total Time": 15.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.379, + "Actual Total Time": 26.381, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.980, + "Actual Total Time": 26.984, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 25.558, + "Actual Total Time": 47.896, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.784, + "Actual Total Time": 28.786, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2064.63, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 26.845, + "Actual Total Time": 38.447, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.748, + "Actual Total Time": 25.751, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.336, + "Actual Total Time": 73.862, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.386, + "Actual Total Time": 15.388, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.378, + "Actual Total Time": 26.380, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.979, + "Actual Total Time": 26.982, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 25.483, + "Actual Total Time": 47.759, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.783, + "Actual Total Time": 28.785, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1423.45, + "Plan Rows": 1385, + "Plan Width": 4, + "Actual Startup Time": 15.514, + "Actual Total Time": 21.203, + "Actual Rows": 1212, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.747, + "Actual Total Time": 25.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.098, + "Actual Total Time": 17.753, + "Actual Rows": 4400, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.385, + "Actual Total Time": 15.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.377, + "Actual Total Time": 26.378, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.978, + "Actual Total Time": 26.980, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.532, + "Actual Total Time": 12.583, + "Actual Rows": 2373, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.783, + "Actual Total Time": 28.784, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 15.474, + "Actual Total Time": 15.492, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{hero,martial-arts,hand-to-hand-combat,computer-animated-movie}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.746, + "Actual Total Time": 25.747, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.083, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.385, + "Actual Total Time": 15.385, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.377, + "Actual Total Time": 26.377, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.977, + "Actual Total Time": 26.978, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.426, + "Actual Total Time": 0.472, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.782, + "Actual Total Time": 28.783, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.62, + "Plan Rows": 3232, + "Plan Width": 8, + "Actual Startup Time": 0.102, + "Actual Total Time": 14.142, + "Actual Rows": 3232, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.059, + "Actual Total Time": 16.403, + "Actual Rows": 4400, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.102, + "Actual Total Time": 11.299, + "Actual Rows": 2373, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 9696, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2010) AND (t.title ~~ 'Kung Fu Panda%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 4400 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2373 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 9, + "Plan Width": 8, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.050, + "Actual Rows": 9, + "Actual Loops": 7, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.048, + "Actual Rows": 7, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.057, + "Actual Rows": 13, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 62, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text = '[us]'::text) AND (cn.name = 'DreamWorks Animation'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 36 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 26 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.122, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%201%'::text) OR (mi.info ~~ 'USA:%201%'::text)))", + "Rows Removed by Filter": 89, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.088, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.190, + "Actual Rows": 2, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 9, + "Output": ["it.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 5, + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 4, + "Cache Hits": 3, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.30, + "Plan Rows": 26, + "Plan Width": 16, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.395, + "Actual Rows": 27, + "Actual Loops": 9, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 91, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.301, + "Actual Rows": 25, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.514, + "Actual Rows": 30, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 62, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 32 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 30 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 9, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 5, + "Actual Loops": 9, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 5, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.028, + "Actual Rows": 5, + "Actual Loops": 4 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1322643491423167220, + "Planning Time": 2963.425, + "Triggers": [ + ], + "Execution Time": 106.620, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1322643491423167220, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS male_writer,
       MIN(t.title) AS violent_movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity')
  AND mi.info = 'Horror'
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13405.66, + "Total Cost": 13405.67, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1712.760, + "Actual Total Time": 1755.259, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13405.58, + "Total Cost": 13405.59, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 1430.402, + "Actual Total Time": 1755.223, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13404.58, + "Total Cost": 13404.59, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 933.412, + "Actual Total Time": 933.420, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 44.305, + "Actual Total Time": 44.314, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1421.135, + "Actual Total Time": 1421.141, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 45.403, + "Actual Total Time": 45.413, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1360.239, + "Actual Total Time": 1360.246, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.887, + "Actual Total Time": 44.894, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1697.035, + "Actual Total Time": 1697.041, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1424.873, + "Actual Total Time": 1424.878, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.28, + "Total Cost": 13398.28, + "Plan Rows": 630, + "Plan Width": 79, + "Actual Startup Time": 46.740, + "Actual Total Time": 931.820, + "Actual Rows": 551, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 44.297, + "Actual Total Time": 44.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.411, + "Actual Total Time": 1418.823, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 45.397, + "Actual Total Time": 45.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.861, + "Actual Total Time": 1357.626, + "Actual Rows": 831, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.881, + "Actual Total Time": 44.888, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 131.980, + "Actual Total Time": 1694.146, + "Actual Rows": 1133, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.895, + "Actual Total Time": 1421.880, + "Actual Rows": 1091, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.85, + "Total Cost": 13101.89, + "Plan Rows": 630, + "Plan Width": 78, + "Actual Startup Time": 46.700, + "Actual Total Time": 922.930, + "Actual Rows": 551, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 44.296, + "Actual Total Time": 44.304, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.337, + "Actual Total Time": 1406.091, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 45.396, + "Actual Total Time": 45.404, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.778, + "Actual Total Time": 1340.534, + "Actual Rows": 831, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.880, + "Actual Total Time": 44.887, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 131.929, + "Actual Total Time": 1678.494, + "Actual Rows": 1133, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.846, + "Actual Total Time": 1406.966, + "Actual Rows": 1091, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 13094.90, + "Plan Rows": 1890, + "Plan Width": 82, + "Actual Startup Time": 46.162, + "Actual Total Time": 920.884, + "Actual Rows": 1654, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "mk.movie_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 43.646, + "Actual Total Time": 43.653, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.020, + "Actual Total Time": 1403.553, + "Actual Rows": 2259, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 44.781, + "Actual Total Time": 44.787, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.250, + "Actual Total Time": 1337.309, + "Actual Rows": 2497, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.266, + "Actual Total Time": 44.271, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 131.286, + "Actual Total Time": 1675.169, + "Actual Rows": 3401, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.303, + "Actual Total Time": 1403.728, + "Actual Rows": 3276, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 12754.52, + "Plan Rows": 670, + "Plan Width": 69, + "Actual Startup Time": 36.244, + "Actual Total Time": 909.961, + "Actual Rows": 586, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 43.645, + "Actual Total Time": 43.651, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.917, + "Actual Total Time": 1388.443, + "Actual Rows": 763, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 44.780, + "Actual Total Time": 44.785, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.165, + "Actual Total Time": 1317.212, + "Actual Rows": 871, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.265, + "Actual Total Time": 44.269, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 52.260, + "Actual Total Time": 1655.757, + "Actual Rows": 1222, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.221, + "Actual Total Time": 1384.143, + "Actual Rows": 1174, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 12201.09, + "Plan Rows": 1086, + "Plan Width": 58, + "Actual Startup Time": 26.957, + "Actual Total Time": 866.420, + "Actual Rows": 950, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 43.644, + "Actual Total Time": 43.649, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.118, + "Actual Total Time": 1334.462, + "Actual Rows": 1210, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 44.779, + "Actual Total Time": 44.784, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.177, + "Actual Total Time": 1233.557, + "Actual Rows": 1307, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.264, + "Actual Total Time": 44.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.844, + "Actual Total Time": 1579.686, + "Actual Rows": 2142, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12.836, + "Actual Total Time": 1309.482, + "Actual Rows": 1879, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 9789.73, + "Plan Rows": 1777, + "Plan Width": 50, + "Actual Startup Time": 18.069, + "Actual Total Time": 432.836, + "Actual Rows": 1555, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 43.644, + "Actual Total Time": 43.648, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.965, + "Actual Total Time": 796.192, + "Actual Rows": 2024, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 44.778, + "Actual Total Time": 44.782, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.550, + "Actual Total Time": 280.973, + "Actual Rows": 2118, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.262, + "Actual Total Time": 44.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.020, + "Actual Total Time": 934.109, + "Actual Rows": 3421, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.975, + "Actual Total Time": 571.012, + "Actual Rows": 3056, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 9782.71, + "Plan Rows": 1901, + "Plan Width": 54, + "Actual Startup Time": 18.042, + "Actual Total Time": 430.191, + "Actual Rows": 1664, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 43.630, + "Actual Total Time": 43.632, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.945, + "Actual Total Time": 792.504, + "Actual Rows": 2131, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 44.764, + "Actual Total Time": 44.767, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.517, + "Actual Total Time": 276.904, + "Actual Rows": 2264, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.251, + "Actual Total Time": 44.252, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.982, + "Actual Total Time": 929.086, + "Actual Rows": 3642, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.947, + "Actual Total Time": 566.336, + "Actual Rows": 3265, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1538.40, + "Plan Rows": 8871, + "Plan Width": 4, + "Actual Startup Time": 17.521, + "Actual Total Time": 45.601, + "Actual Rows": 7762, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 43.629, + "Actual Total Time": 43.630, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.489, + "Actual Total Time": 69.451, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 44.764, + "Actual Total Time": 44.765, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.396, + "Actual Total Time": 20.695, + "Actual Rows": 3402, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.250, + "Actual Total Time": 44.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.552, + "Actual Total Time": 55.111, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.848, + "Actual Total Time": 32.767, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1260.47, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 17.397, + "Actual Total Time": 17.411, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,blood,gore,death,female-nudity}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 43.628, + "Actual Total Time": 43.628, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.360, + "Actual Total Time": 0.386, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 44.763, + "Actual Total Time": 44.764, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.151, + "Actual Total Time": 1.187, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.249, + "Actual Total Time": 44.250, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.309, + "Actual Total Time": 1.314, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.661, + "Actual Total Time": 1.670, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.74, + "Plan Rows": 12419, + "Plan Width": 8, + "Actual Startup Time": 0.191, + "Actual Total Time": 40.626, + "Actual Rows": 12419, + "Actual Loops": 5, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.125, + "Actual Total Time": 62.121, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.238, + "Actual Total Time": 17.781, + "Actual Rows": 3402, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.235, + "Actual Total Time": 47.516, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.182, + "Actual Total Time": 27.923, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 62096, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = 'Horror'::text)", + "Rows Removed by Filter": 47, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 20522 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.074, + "Actual Rows": 1, + "Actual Loops": 3402 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 19528 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 8337 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.232, + "Actual Total Time": 0.277, + "Actual Rows": 1, + "Actual Loops": 12438, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.227, + "Actual Total Time": 0.264, + "Actual Rows": 1, + "Actual Loops": 2024 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.372, + "Actual Total Time": 0.448, + "Actual Rows": 1, + "Actual Loops": 2118 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.157, + "Actual Total Time": 0.187, + "Actual Rows": 1, + "Actual Loops": 3421 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.198, + "Actual Total Time": 0.240, + "Actual Rows": 1, + "Actual Loops": 3056 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 7602, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1210 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 1307 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 2142 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1879 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 4690, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 763 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 871 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 1222 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 1174 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 4407, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 753 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 831 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1133 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1091 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5845388691995996195, + "Planning Time": 108.915, + "Triggers": [ + ], + "Execution Time": 1755.796, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -5845388691995996195, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS male_writer,
       MIN(t.title) AS violent_movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity')
  AND mi.info = 'Horror'
  AND n.gender = 'm'
  AND t.production_year > 2010
  AND t.title LIKE 'Vampire%'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5650.31, + "Total Cost": 5650.32, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 352.804, + "Actual Total Time": 381.099, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5650.23, + "Total Cost": 5650.24, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 252.055, + "Actual Total Time": 381.069, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5649.23, + "Total Cost": 5649.24, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 172.890, + "Actual Total Time": 172.897, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 109.476, + "Actual Total Time": 109.483, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 343.621, + "Actual Total Time": 343.626, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.147, + "Actual Total Time": 48.154, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 46.078, + "Actual Total Time": 46.085, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 209.252, + "Actual Total Time": 209.259, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 329.115, + "Actual Total Time": 329.120, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 46.361, + "Actual Total Time": 46.370, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.89, + "Total Cost": 5649.22, + "Plan Rows": 1, + "Plan Width": 79, + "Actual Startup Time": 170.117, + "Actual Total Time": 172.885, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.533, + "Actual Total Time": 109.454, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 343.616, + "Actual Total Time": 343.620, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.139, + "Actual Total Time": 48.146, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 46.071, + "Actual Total Time": 46.077, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 200.578, + "Actual Total Time": 209.235, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 329.109, + "Actual Total Time": 329.113, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 46.355, + "Actual Total Time": 46.364, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.46, + "Total Cost": 5648.71, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 170.099, + "Actual Total Time": 172.862, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.476, + "Actual Total Time": 109.384, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 343.615, + "Actual Total Time": 343.619, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.138, + "Actual Total Time": 48.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 46.070, + "Actual Total Time": 46.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 200.537, + "Actual Total Time": 209.168, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 329.108, + "Actual Total Time": 329.112, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 46.354, + "Actual Total Time": 46.361, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.32, + "Total Cost": 5648.20, + "Plan Rows": 3, + "Plan Width": 72, + "Actual Startup Time": 170.092, + "Actual Total Time": 172.845, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.454, + "Actual Total Time": 109.332, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 343.615, + "Actual Total Time": 343.619, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.138, + "Actual Total Time": 48.143, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 46.070, + "Actual Total Time": 46.075, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 200.520, + "Actual Total Time": 209.118, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 329.108, + "Actual Total Time": 329.111, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 46.353, + "Actual Total Time": 46.360, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.89, + "Total Cost": 5647.68, + "Plan Rows": 1, + "Plan Width": 79, + "Actual Startup Time": 170.077, + "Actual Total Time": 172.823, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.401, + "Actual Total Time": 109.256, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 343.615, + "Actual Total Time": 343.618, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.137, + "Actual Total Time": 48.141, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 46.069, + "Actual Total Time": 46.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 200.477, + "Actual Total Time": 209.047, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 329.107, + "Actual Total Time": 329.110, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 46.352, + "Actual Total Time": 46.357, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.74, + "Total Cost": 5647.50, + "Plan Rows": 1, + "Plan Width": 83, + "Actual Startup Time": 170.056, + "Actual Total Time": 172.799, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.310, + "Actual Total Time": 109.159, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 343.614, + "Actual Total Time": 343.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.136, + "Actual Total Time": 48.139, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 46.068, + "Actual Total Time": 46.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 200.436, + "Actual Total Time": 208.999, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 329.107, + "Actual Total Time": 329.109, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 46.352, + "Actual Total Time": 46.355, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 5646.56, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 170.034, + "Actual Total Time": 172.763, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.241, + "Actual Total Time": 109.044, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 343.614, + "Actual Total Time": 343.616, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.135, + "Actual Total Time": 48.138, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 46.067, + "Actual Total Time": 46.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 200.379, + "Actual Total Time": 208.885, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 329.106, + "Actual Total Time": 329.107, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 46.351, + "Actual Total Time": 46.353, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5645.21, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 168.723, + "Actual Total Time": 172.640, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.100, + "Actual Total Time": 108.838, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 343.613, + "Actual Total Time": 343.615, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.134, + "Actual Total Time": 48.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 46.066, + "Actual Total Time": 46.068, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 200.237, + "Actual Total Time": 208.394, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 319.017, + "Actual Total Time": 328.972, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 46.350, + "Actual Total Time": 46.352, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1538.40, + "Plan Rows": 8871, + "Plan Width": 4, + "Actual Startup Time": 18.289, + "Actual Total Time": 57.293, + "Actual Rows": 7762, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.634, + "Actual Total Time": 25.321, + "Actual Rows": 3402, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.427, + "Actual Total Time": 84.430, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.133, + "Actual Total Time": 48.134, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 46.065, + "Actual Total Time": 46.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.220, + "Actual Total Time": 55.246, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.346, + "Actual Total Time": 83.939, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 46.349, + "Actual Total Time": 46.350, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1260.47, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 18.200, + "Actual Total Time": 18.215, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,blood,gore,death,female-nudity}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.516, + "Actual Total Time": 0.566, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.286, + "Actual Total Time": 0.310, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.132, + "Actual Total Time": 48.133, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 46.064, + "Actual Total Time": 46.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.109, + "Actual Total Time": 1.123, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.114, + "Actual Total Time": 1.121, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 46.348, + "Actual Total Time": 46.349, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.74, + "Plan Rows": 12419, + "Plan Width": 8, + "Actual Startup Time": 0.136, + "Actual Total Time": 58.582, + "Actual Rows": 12419, + "Actual Loops": 5, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.113, + "Actual Total Time": 23.398, + "Actual Rows": 3402, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.138, + "Actual Total Time": 78.002, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.106, + "Actual Total Time": 51.300, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.224, + "Actual Total Time": 76.992, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 62096, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2010) AND (t.title ~~ 'Vampire%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 3402 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 20522 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.093, + "Actual Total Time": 0.106, + "Actual Rows": 1, + "Actual Loops": 9, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 21, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.099, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.097, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.132, + "Actual Total Time": 0.133, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = 'Horror'::text)", + "Rows Removed by Filter": 20, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.072, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.032, + "Actual Rows": 3, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.020, + "Actual Rows": 3, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 18, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 9 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4983731566966487840, + "Planning Time": 115.853, + "Triggers": [ + ], + "Execution Time": 381.650, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -4983731566966487840, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS male_writer,
       MIN(t.title) AS violent_movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 25906.04, + "Total Cost": 25906.05, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 4609.295, + "Actual Total Time": 4653.254, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 25905.96, + "Total Cost": 25905.97, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 2798.682, + "Actual Total Time": 4653.186, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 25904.96, + "Total Cost": 25904.97, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 2445.571, + "Actual Total Time": 2445.579, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 52.226, + "Actual Total Time": 52.234, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3501.635, + "Actual Total Time": 3501.642, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3682.648, + "Actual Total Time": 3682.654, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 53.899, + "Actual Total Time": 53.907, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2102.279, + "Actual Total Time": 2102.285, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2777.957, + "Actual Total Time": 2777.964, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4596.085, + "Actual Total Time": 4596.091, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.28, + "Total Cost": 25867.60, + "Plan Rows": 3736, + "Plan Width": 79, + "Actual Startup Time": 26.813, + "Actual Total Time": 2439.079, + "Actual Rows": 3269, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 52.219, + "Actual Total Time": 52.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.907, + "Actual Total Time": 3494.985, + "Actual Rows": 3244, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.682, + "Actual Total Time": 3669.548, + "Actual Rows": 6963, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 53.892, + "Actual Total Time": 53.900, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.799, + "Actual Total Time": 2098.947, + "Actual Rows": 1326, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.697, + "Actual Total Time": 2768.905, + "Actual Rows": 4673, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.152, + "Actual Total Time": 4583.365, + "Actual Rows": 6686, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.44, + "Total Cost": 25835.06, + "Plan Rows": 11271, + "Plan Width": 83, + "Actual Startup Time": 26.393, + "Actual Total Time": 2432.530, + "Actual Rows": 9862, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "mi_idx.info_type_id", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.610, + "Actual Total Time": 51.616, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.648, + "Actual Total Time": 3488.617, + "Actual Rows": 9752, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.439, + "Actual Total Time": 3656.683, + "Actual Rows": 21032, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 53.327, + "Actual Total Time": 53.334, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.270, + "Actual Total Time": 2095.294, + "Actual Rows": 4004, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.425, + "Actual Total Time": 2760.096, + "Actual Rows": 14101, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.598, + "Actual Total Time": 4570.613, + "Actual Rows": 20146, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 24473.54, + "Plan Rows": 2680, + "Plan Width": 90, + "Actual Startup Time": 26.330, + "Actual Total Time": 2380.172, + "Actual Rows": 3407, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mk.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.609, + "Actual Total Time": 51.614, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.475, + "Actual Total Time": 3439.246, + "Actual Rows": 3280, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.380, + "Actual Total Time": 3549.020, + "Actual Rows": 7208, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 53.326, + "Actual Total Time": 53.332, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.187, + "Actual Total Time": 2067.939, + "Actual Rows": 1354, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.373, + "Actual Total Time": 2685.468, + "Actual Rows": 4870, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.508, + "Actual Total Time": 4462.002, + "Actual Rows": 7071, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 23212.74, + "Plan Rows": 2680, + "Plan Width": 69, + "Actual Startup Time": 26.269, + "Actual Total Time": 2333.819, + "Actual Rows": 3407, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.608, + "Actual Total Time": 51.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.425, + "Actual Total Time": 3395.413, + "Actual Rows": 3280, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.307, + "Actual Total Time": 3454.397, + "Actual Rows": 7208, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 53.325, + "Actual Total Time": 53.330, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.061, + "Actual Total Time": 2041.892, + "Actual Rows": 1354, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.310, + "Actual Total Time": 2618.371, + "Actual Rows": 4870, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.377, + "Actual Total Time": 4367.391, + "Actual Rows": 7071, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.74, + "Total Cost": 23199.18, + "Plan Rows": 4302, + "Plan Width": 73, + "Actual Startup Time": 26.241, + "Actual Total Time": 2328.061, + "Actual Rows": 3765, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(ci.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.594, + "Actual Total Time": 51.597, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.406, + "Actual Total Time": 3389.374, + "Actual Rows": 3558, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.287, + "Actual Total Time": 3443.352, + "Actual Rows": 8039, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 53.314, + "Actual Total Time": 53.317, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.029, + "Actual Total Time": 2038.921, + "Actual Rows": 1502, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.293, + "Actual Total Time": 2610.324, + "Actual Rows": 5445, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.319, + "Actual Total Time": 4355.785, + "Actual Rows": 7692, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 19557.89, + "Plan Rows": 3495, + "Plan Width": 23, + "Actual Startup Time": 15.960, + "Actual Total Time": 1997.052, + "Actual Rows": 3058, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.594, + "Actual Total Time": 51.596, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.716, + "Actual Total Time": 3043.922, + "Actual Rows": 4558, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.186, + "Actual Total Time": 2811.124, + "Actual Rows": 4826, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 53.314, + "Actual Total Time": 53.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.989, + "Actual Total Time": 1778.213, + "Actual Rows": 2016, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.201, + "Actual Total Time": 2185.286, + "Actual Rows": 3454, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.095, + "Actual Total Time": 3778.376, + "Actual Rows": 6139, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 16414.65, + "Plan Rows": 6168, + "Plan Width": 12, + "Actual Startup Time": 14.924, + "Actual Total Time": 1821.833, + "Actual Rows": 5397, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.592, + "Actual Total Time": 51.594, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.130, + "Actual Total Time": 2770.580, + "Actual Rows": 7882, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.107, + "Actual Total Time": 2585.468, + "Actual Rows": 7869, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 53.313, + "Actual Total Time": 53.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.539, + "Actual Total Time": 1604.315, + "Actual Rows": 3737, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.126, + "Actual Total Time": 2002.661, + "Actual Rows": 5652, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.215, + "Actual Total Time": 3438.250, + "Actual Rows": 12032, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1570.87, + "Plan Rows": 10959, + "Plan Width": 4, + "Actual Startup Time": 13.874, + "Actual Total Time": 56.487, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.591, + "Actual Total Time": 51.592, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.473, + "Actual Total Time": 73.336, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.590, + "Actual Total Time": 58.830, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 53.312, + "Actual Total Time": 53.313, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.767, + "Actual Total Time": 37.373, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.031, + "Actual Total Time": 45.528, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.477, + "Actual Total Time": 86.076, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 13.765, + "Actual Total Time": 13.783, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.590, + "Actual Total Time": 51.590, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.374, + "Actual Total Time": 0.403, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.471, + "Actual Total Time": 0.523, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 53.311, + "Actual Total Time": 53.312, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.490, + "Actual Total Time": 0.510, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.931, + "Actual Total Time": 0.943, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.282, + "Actual Total Time": 1.287, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.89, + "Plan Rows": 10959, + "Plan Width": 8, + "Actual Startup Time": 0.126, + "Actual Total Time": 43.795, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.095, + "Actual Total Time": 64.919, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.084, + "Actual Total Time": 26.000, + "Actual Rows": 6314, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.269, + "Actual Total Time": 33.713, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.095, + "Actual Total Time": 40.431, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.187, + "Actual Total Time": 76.111, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.151, + "Actual Total Time": 0.183, + "Actual Rows": 1, + "Actual Loops": 76714, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 48, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.113, + "Actual Total Time": 0.130, + "Actual Rows": 0, + "Actual Loops": 20522 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.162, + "Actual Total Time": 0.199, + "Actual Rows": 1, + "Actual Loops": 12628 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.233, + "Actual Total Time": 0.289, + "Actual Rows": 1, + "Actual Loops": 5392 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.187, + "Actual Total Time": 0.233, + "Actual Rows": 1, + "Actual Loops": 8337 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.143, + "Actual Total Time": 0.170, + "Actual Rows": 1, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 43178, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 7882 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 7869 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 3737 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 5652 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 12032 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.106, + "Actual Rows": 1, + "Actual Loops": 24462, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 82, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.074, + "Actual Rows": 1, + "Actual Loops": 4558 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.129, + "Actual Rows": 2, + "Actual Loops": 4826 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.127, + "Actual Rows": 1, + "Actual Loops": 2016 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.121, + "Actual Rows": 2, + "Actual Loops": 3454 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.092, + "Actual Rows": 1, + "Actual Loops": 6139 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 27255, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 3280 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 7208 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1354 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 4870 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 7071 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 27255, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 3280 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 7208 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 1354 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 4870 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 7071 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 9105500078934324812, + "Planning Time": 99.302, + "Triggers": [ + ], + "Execution Time": 4653.796, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 9105500078934324812, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(chn.name) AS character_name,
       MIN(mi_idx.info) AS rating,
       MIN(n.name) AS playing_actor,
       MIN(t.title) AS complete_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND it2.info = 'rating'
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence',
                    'magnet',
                    'web',
                    'claw',
                    'laser')
  AND kt.kind = 'movie'
  AND mi_idx.info > '7.0'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND ci.movie_id = cc.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND cc.movie_id = mi_idx.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4729.26, + "Total Cost": 4729.27, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 606.001, + "Actual Total Time": 639.263, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4729.18, + "Total Cost": 4729.19, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 599.770, + "Actual Total Time": 639.217, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4728.18, + "Total Cost": 4728.19, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 563.040, + "Actual Total Time": 563.056, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 594.662, + "Actual Total Time": 594.674, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 554.644, + "Actual Total Time": 554.658, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 548.635, + "Actual Total Time": 548.646, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 548.689, + "Actual Total Time": 548.701, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 548.480, + "Actual Total Time": 548.492, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 548.609, + "Actual Total Time": 548.622, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 561.816, + "Actual Total Time": 561.831, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1460.76, + "Total Cost": 4725.71, + "Plan Rows": 247, + "Plan Width": 53, + "Actual Startup Time": 110.862, + "Actual Total Time": 562.517, + "Actual Rows": 216, + "Actual Loops": 8, + "Output": ["chn.name", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.283, + "Actual Total Time": 593.972, + "Actual Rows": 266, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 93.694, + "Actual Total Time": 554.167, + "Actual Rows": 149, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 97.966, + "Actual Total Time": 547.983, + "Actual Rows": 321, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 126.456, + "Actual Total Time": 548.170, + "Actual Rows": 227, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 143.670, + "Actual Total Time": 548.001, + "Actual Rows": 200, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.488, + "Actual Total Time": 548.034, + "Actual Rows": 251, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 120.215, + "Actual Total Time": 561.434, + "Actual Rows": 149, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1460.60, + "Total Cost": 4724.68, + "Plan Rows": 7, + "Plan Width": 57, + "Actual Startup Time": 92.887, + "Actual Total Time": 561.388, + "Actual Rows": 304, + "Actual Loops": 8, + "Output": ["n.name", "chn.name", "t.title", "mi_idx.info", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.165, + "Actual Total Time": 592.760, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 93.601, + "Actual Total Time": 553.066, + "Actual Rows": 224, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.844, + "Actual Total Time": 546.574, + "Actual Rows": 412, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 103.203, + "Actual Total Time": 546.973, + "Actual Rows": 351, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 86.127, + "Actual Total Time": 547.056, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 81.048, + "Actual Total Time": 546.785, + "Actual Rows": 411, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 102.028, + "Actual Total Time": 560.455, + "Actual Rows": 271, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1460.18, + "Total Cost": 4681.15, + "Plan Rows": 87, + "Plan Width": 64, + "Actual Startup Time": 87.260, + "Actual Total Time": 545.789, + "Actual Rows": 676, + "Actual Loops": 8, + "Output": ["n.name", "chn.name", "mk.movie_id", "cc.movie_id", "t.title", "t.id", "ci.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.748, + "Actual Total Time": 578.491, + "Actual Rows": 689, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 88.334, + "Actual Total Time": 538.032, + "Actual Rows": 613, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.676, + "Actual Total Time": 530.506, + "Actual Rows": 817, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 86.729, + "Actual Total Time": 530.485, + "Actual Rows": 801, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 84.150, + "Actual Total Time": 534.869, + "Actual Rows": 582, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 80.960, + "Actual Total Time": 522.760, + "Actual Rows": 621, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.480, + "Actual Total Time": 548.617, + "Actual Rows": 552, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1459.75, + "Total Cost": 4642.04, + "Plan Rows": 87, + "Plan Width": 53, + "Actual Startup Time": 87.117, + "Actual Total Time": 477.829, + "Actual Rows": 676, + "Actual Loops": 8, + "Output": ["chn.name", "mk.movie_id", "cc.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.648, + "Actual Total Time": 496.343, + "Actual Rows": 689, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 88.165, + "Actual Total Time": 481.142, + "Actual Rows": 613, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.501, + "Actual Total Time": 473.055, + "Actual Rows": 817, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 86.593, + "Actual Total Time": 480.024, + "Actual Rows": 801, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 84.038, + "Actual Total Time": 483.562, + "Actual Rows": 582, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 80.899, + "Actual Total Time": 445.972, + "Actual Rows": 621, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.395, + "Actual Total Time": 461.480, + "Actual Rows": 552, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1459.32, + "Total Cost": 3464.25, + "Plan Rows": 2595, + "Plan Width": 41, + "Actual Startup Time": 84.701, + "Actual Total Time": 275.168, + "Actual Rows": 23730, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_role_id", "ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.281, + "Actual Total Time": 265.106, + "Actual Rows": 27015, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 87.449, + "Actual Total Time": 283.877, + "Actual Rows": 21887, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 81.568, + "Actual Total Time": 270.602, + "Actual Rows": 24378, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 80.689, + "Actual Total Time": 273.746, + "Actual Rows": 24422, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 80.664, + "Actual Total Time": 279.168, + "Actual Rows": 25807, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 80.602, + "Actual Total Time": 262.725, + "Actual Rows": 20860, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.296, + "Actual Total Time": 274.517, + "Actual Rows": 20757, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1458.88, + "Total Cost": 2913.59, + "Plan Rows": 181, + "Plan Width": 29, + "Actual Startup Time": 84.580, + "Actual Total Time": 122.808, + "Actual Rows": 158, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.155, + "Actual Total Time": 114.969, + "Actual Rows": 164, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 87.250, + "Actual Total Time": 131.503, + "Actual Rows": 141, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 81.338, + "Actual Total Time": 122.235, + "Actual Rows": 156, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 80.596, + "Actual Total Time": 121.271, + "Actual Rows": 163, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 80.593, + "Actual Total Time": 128.214, + "Actual Rows": 184, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 80.524, + "Actual Total Time": 120.182, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.190, + "Actual Total Time": 116.577, + "Actual Rows": 160, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1457.81, + "Total Cost": 2911.56, + "Plan Rows": 228, + "Plan Width": 33, + "Actual Startup Time": 84.413, + "Actual Total Time": 122.231, + "Actual Rows": 199, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.071, + "Actual Total Time": 114.410, + "Actual Rows": 209, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 87.146, + "Actual Total Time": 130.875, + "Actual Rows": 171, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 81.194, + "Actual Total Time": 121.704, + "Actual Rows": 181, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 80.440, + "Actual Total Time": 120.680, + "Actual Rows": 225, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 80.264, + "Actual Total Time": 127.618, + "Actual Rows": 222, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 80.384, + "Actual Total Time": 119.704, + "Actual Rows": 174, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.105, + "Actual Total Time": 116.085, + "Actual Rows": 196, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1456.77, + "Total Cost": 2909.29, + "Plan Rows": 228, + "Plan Width": 37, + "Actual Startup Time": 84.395, + "Actual Total Time": 121.708, + "Actual Rows": 199, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 86.060, + "Actual Total Time": 113.854, + "Actual Rows": 209, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 87.130, + "Actual Total Time": 130.349, + "Actual Rows": 171, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 81.178, + "Actual Total Time": 121.216, + "Actual Rows": 181, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 80.422, + "Actual Total Time": 120.135, + "Actual Rows": 225, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 80.248, + "Actual Total Time": 127.042, + "Actual Rows": 222, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 80.368, + "Actual Total Time": 119.273, + "Actual Rows": 174, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 85.095, + "Actual Total Time": 115.582, + "Actual Rows": 196, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1456.34, + "Total Cost": 2488.44, + "Plan Rows": 914, + "Plan Width": 12, + "Actual Startup Time": 83.988, + "Actual Total Time": 102.615, + "Actual Rows": 800, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.916, + "Actual Total Time": 97.058, + "Actual Rows": 734, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 86.411, + "Actual Total Time": 109.488, + "Actual Rows": 732, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 80.458, + "Actual Total Time": 99.142, + "Actual Rows": 739, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 80.325, + "Actual Total Time": 100.827, + "Actual Rows": 878, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 80.044, + "Actual Total Time": 107.850, + "Actual Rows": 847, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 80.281, + "Actual Total Time": 101.461, + "Actual Rows": 784, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 84.920, + "Actual Total Time": 97.792, + "Actual Rows": 801, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1455.30, + "Total Cost": 2480.14, + "Plan Rows": 1342, + "Plan Width": 16, + "Actual Startup Time": 83.970, + "Actual Total Time": 101.347, + "Actual Rows": 1174, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.904, + "Actual Total Time": 95.959, + "Actual Rows": 734, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 86.391, + "Actual Total Time": 107.986, + "Actual Rows": 1221, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 80.436, + "Actual Total Time": 97.917, + "Actual Rows": 1250, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 80.308, + "Actual Total Time": 99.503, + "Actual Rows": 1375, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 80.025, + "Actual Total Time": 106.331, + "Actual Rows": 1712, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 80.264, + "Actual Total Time": 100.246, + "Actual Rows": 1414, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 84.908, + "Actual Total Time": 96.709, + "Actual Rows": 805, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.080, + "Actual Total Time": 4.968, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.056, + "Actual Total Time": 3.086, + "Actual Rows": 10360, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.114, + "Actual Total Time": 6.936, + "Actual Rows": 18500, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.185, + "Actual Total Time": 5.531, + "Actual Rows": 18870, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.077, + "Actual Total Time": 5.336, + "Actual Rows": 20201, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.062, + "Actual Total Time": 6.512, + "Actual Rows": 23865, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 5.556, + "Actual Rows": 20720, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.061, + "Actual Total Time": 3.436, + "Actual Rows": 11470, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1412.27, + "Total Cost": 1412.27, + "Plan Rows": 3442, + "Plan Width": 4, + "Actual Startup Time": 83.694, + "Actual Total Time": 83.696, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 32768, + "Original Hash Buckets": 32768, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 1312, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.723, + "Actual Total Time": 84.725, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 86.079, + "Actual Total Time": 86.081, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 80.061, + "Actual Total Time": 80.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 80.082, + "Actual Total Time": 80.083, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 79.871, + "Actual Total Time": 79.872, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 80.054, + "Actual Total Time": 80.056, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 84.721, + "Actual Total Time": 84.723, + "Actual Rows": 807, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.46, + "Total Cost": 1412.27, + "Plan Rows": 3442, + "Plan Width": 4, + "Actual Startup Time": 5.463, + "Actual Total Time": 49.326, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.474, + "Actual Total Time": 74.210, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.234, + "Actual Total Time": 46.577, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 36.593, + "Actual Total Time": 36.594, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.140, + "Actual Total Time": 36.291, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.544, + "Actual Total Time": 72.183, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.334, + "Actual Total Time": 35.549, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.159, + "Actual Total Time": 40.685, + "Actual Rows": 807, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.03, + "Total Cost": 1236.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.308, + "Actual Total Time": 13.415, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,tv-special,fight,violence,magnet,web,claw,laser}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.360, + "Actual Total Time": 0.414, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.087, + "Actual Total Time": 1.109, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 36.592, + "Actual Total Time": 36.592, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.855, + "Actual Total Time": 33.445, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.310, + "Actual Total Time": 0.344, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.050, + "Actual Total Time": 1.060, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.065, + "Actual Total Time": 34.191, + "Actual Rows": 4, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.65, + "Plan Rows": 2409, + "Plan Width": 8, + "Actual Startup Time": 0.133, + "Actual Total Time": 27.801, + "Actual Rows": 2409, + "Actual Loops": 10, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.110, + "Actual Total Time": 72.025, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.141, + "Actual Total Time": 44.946, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.278, + "Actual Total Time": 2.736, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.227, + "Actual Total Time": 68.404, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.275, + "Actual Total Time": 32.069, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.056, + "Actual Total Time": 1.559, + "Actual Rows": 202, + "Actual Loops": 4 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 6396, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 734 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 732 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 739 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 878 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 847 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 784 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 801 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.068, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.29, + "Plan Rows": 175, + "Plan Width": 12, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.872, + "Actual Rows": 150, + "Actual Loops": 1267, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.824, + "Actual Rows": 165, + "Actual Loops": 164 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.971, + "Actual Rows": 155, + "Actual Loops": 141 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.866, + "Actual Rows": 156, + "Actual Loops": 156 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.853, + "Actual Rows": 150, + "Actual Loops": 163 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.744, + "Actual Rows": 140, + "Actual Loops": 184 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 1.024, + "Actual Rows": 163, + "Actual Loops": 128 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.916, + "Actual Rows": 130, + "Actual Loops": 160 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 189844, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 27015 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 21887 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 24378 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 24422 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 25807 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 20860 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 20757 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.098, + "Actual Total Time": 0.098, + "Actual Rows": 1, + "Actual Loops": 5406, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.117, + "Actual Rows": 1, + "Actual Loops": 689 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.090, + "Actual Rows": 1, + "Actual Loops": 613 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.068, + "Actual Rows": 1, + "Actual Loops": 817 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.061, + "Actual Rows": 1, + "Actual Loops": 801 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.085, + "Actual Rows": 1, + "Actual Loops": 582 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.121, + "Actual Total Time": 0.121, + "Actual Rows": 1, + "Actual Loops": 621 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.155, + "Actual Total Time": 0.155, + "Actual Rows": 1, + "Actual Loops": 552 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 5406, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '7.0'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 689 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 613 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 817 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 801 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 582 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 621 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 552 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 2429, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 209, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 301, + "Cache Hits": 299, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 224, + "Cache Hits": 222, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 412, + "Cache Hits": 410, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 351, + "Cache Hits": 349, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 248, + "Cache Hits": 245, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 411, + "Cache Hits": 409, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 271, + "Cache Hits": 269, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 17, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1025902338300761143, + "Planning Time": 2619.468, + "Triggers": [ + ], + "Execution Time": 639.783, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1025902338300761143, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(chn.name) AS character_name,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND it2.info = 'rating'
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'fight')
  AND kt.kind = 'movie'
  AND mi_idx.info > '8.0'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND ci.movie_id = cc.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND cc.movie_id = mi_idx.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2339.91, + "Total Cost": 2339.92, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 192.463, + "Actual Total Time": 215.379, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2339.84, + "Total Cost": 2339.85, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 90.783, + "Actual Total Time": 215.352, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2338.84, + "Total Cost": 2338.85, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 62.887, + "Actual Total Time": 62.901, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.026, + "Actual Total Time": 33.042, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 182.912, + "Actual Total Time": 182.920, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.553, + "Actual Total Time": 33.574, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 60.605, + "Actual Total Time": 60.613, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.978, + "Actual Total Time": 33.988, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.319, + "Actual Total Time": 34.334, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.894, + "Actual Total Time": 34.907, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.41, + "Total Cost": 2338.75, + "Plan Rows": 13, + "Plan Width": 38, + "Actual Startup Time": 49.385, + "Actual Total Time": 62.832, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["chn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.021, + "Actual Total Time": 33.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.755, + "Actual Total Time": 182.837, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.547, + "Actual Total Time": 33.567, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.573, + "Actual Total Time": 60.565, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.970, + "Actual Total Time": 33.980, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.311, + "Actual Total Time": 34.324, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.556, + "Actual Total Time": 34.568, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.98, + "Total Cost": 2332.92, + "Plan Rows": 13, + "Plan Width": 42, + "Actual Startup Time": 49.359, + "Actual Total Time": 62.637, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "mi_idx.info", "ci.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.020, + "Actual Total Time": 33.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.653, + "Actual Total Time": 182.029, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.546, + "Actual Total Time": 33.565, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.506, + "Actual Total Time": 60.167, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.969, + "Actual Total Time": 33.979, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.310, + "Actual Total Time": 34.323, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.555, + "Actual Total Time": 34.566, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 2183.60, + "Plan Rows": 329, + "Plan Width": 30, + "Actual Startup Time": 49.285, + "Actual Total Time": 60.771, + "Actual Rows": 288, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "ci.person_role_id", "ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.019, + "Actual Total Time": 33.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.339, + "Actual Total Time": 174.133, + "Actual Rows": 1334, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.545, + "Actual Total Time": 33.563, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.377, + "Actual Total Time": 56.640, + "Actual Rows": 483, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.968, + "Actual Total Time": 33.977, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.309, + "Actual Total Time": 34.321, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.554, + "Actual Total Time": 34.564, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.11, + "Total Cost": 2180.45, + "Plan Rows": 1, + "Plan Width": 38, + "Actual Startup Time": 49.260, + "Actual Total Time": 59.195, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.018, + "Actual Total Time": 33.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.255, + "Actual Total Time": 166.850, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.544, + "Actual Total Time": 33.561, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.326, + "Actual Total Time": 53.882, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.968, + "Actual Total Time": 33.976, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.307, + "Actual Total Time": 34.319, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.553, + "Actual Total Time": 34.562, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.97, + "Total Cost": 2180.28, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 49.245, + "Actual Total Time": 59.172, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.017, + "Actual Total Time": 33.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.205, + "Actual Total Time": 166.776, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.543, + "Actual Total Time": 33.553, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.292, + "Actual Total Time": 53.834, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.967, + "Actual Total Time": 33.974, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.307, + "Actual Total Time": 34.317, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.552, + "Actual Total Time": 34.561, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.82, + "Total Cost": 2179.30, + "Plan Rows": 6, + "Plan Width": 46, + "Actual Startup Time": 39.253, + "Actual Total Time": 59.131, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.016, + "Actual Total Time": 33.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 61.973, + "Actual Total Time": 166.611, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.541, + "Actual Total Time": 33.550, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.219, + "Actual Total Time": 53.753, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.966, + "Actual Total Time": 33.972, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.306, + "Actual Total Time": 34.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.551, + "Actual Total Time": 34.559, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.39, + "Total Cost": 2168.73, + "Plan Rows": 21, + "Plan Width": 33, + "Actual Startup Time": 32.580, + "Actual Total Time": 58.244, + "Actual Rows": 37, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.317, + "Actual Total Time": 32.239, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 61.617, + "Actual Total Time": 162.155, + "Actual Rows": 223, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.540, + "Actual Total Time": 33.548, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.958, + "Actual Total Time": 52.805, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.965, + "Actual Total Time": 33.971, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.305, + "Actual Total Time": 34.313, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.550, + "Actual Total Time": 34.557, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.35, + "Total Cost": 2167.47, + "Plan Rows": 42, + "Plan Width": 37, + "Actual Startup Time": 32.426, + "Actual Total Time": 58.039, + "Actual Rows": 37, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.163, + "Actual Total Time": 32.048, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 61.540, + "Actual Total Time": 161.841, + "Actual Rows": 223, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.383, + "Actual Total Time": 33.388, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.881, + "Actual Total Time": 52.675, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.797, + "Actual Total Time": 33.801, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.158, + "Actual Total Time": 34.164, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.378, + "Actual Total Time": 34.383, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 2075.02, + "Plan Rows": 206, + "Plan Width": 25, + "Actual Startup Time": 32.317, + "Actual Total Time": 55.994, + "Actual Rows": 180, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.014, + "Actual Total Time": 30.131, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 61.220, + "Actual Total Time": 153.545, + "Actual Rows": 962, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.382, + "Actual Total Time": 33.387, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.689, + "Actual Total Time": 49.583, + "Actual Rows": 223, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.796, + "Actual Total Time": 33.799, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.156, + "Actual Total Time": 34.161, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.377, + "Actual Total Time": 34.381, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2072.14, + "Plan Rows": 432, + "Plan Width": 29, + "Actual Startup Time": 17.385, + "Actual Total Time": 55.647, + "Actual Rows": 378, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.080, + "Actual Total Time": 29.894, + "Actual Rows": 111, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.889, + "Actual Total Time": 151.993, + "Actual Rows": 2069, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.372, + "Actual Total Time": 33.374, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.134, + "Actual Total Time": 49.154, + "Actual Rows": 452, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.784, + "Actual Total Time": 33.786, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.145, + "Actual Total Time": 34.147, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.365, + "Actual Total Time": 34.367, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1415.54, + "Plan Rows": 1426, + "Plan Width": 4, + "Actual Startup Time": 17.327, + "Actual Total Time": 26.828, + "Actual Rows": 1248, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.951, + "Actual Total Time": 18.592, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.782, + "Actual Total Time": 36.621, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.371, + "Actual Total Time": 33.372, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.981, + "Actual Total Time": 10.215, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.783, + "Actual Total Time": 33.784, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.144, + "Actual Total Time": 34.145, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.364, + "Actual Total Time": 34.365, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 17.265, + "Actual Total Time": 19.139, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,fight}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.780, + "Actual Total Time": 15.664, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.656, + "Actual Total Time": 0.712, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.370, + "Actual Total Time": 33.370, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.863, + "Actual Total Time": 0.884, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.782, + "Actual Total Time": 33.783, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 34.143, + "Actual Total Time": 34.143, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.363, + "Actual Total Time": 34.363, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.07, + "Plan Rows": 2496, + "Plan Width": 8, + "Actual Startup Time": 0.119, + "Actual Total Time": 14.487, + "Actual Rows": 2496, + "Actual Loops": 4, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.164, + "Actual Total Time": 2.697, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.122, + "Actual Total Time": 34.078, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.113, + "Actual Total Time": 8.759, + "Actual Rows": 1573, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 9984, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 6011 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1573 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1441, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 33 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 962 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 223 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.023, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 294, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '8.0'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.075, + "Actual Rows": 0, + "Actual Loops": 10 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 223 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 32 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 41, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 3, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 32, + "Cache Hits": 30, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 4, + "Cache Hits": 2, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 0, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 6, + "Cache Hits": 4, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2, + "Cache Hits": 0, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.38, + "Plan Rows": 177, + "Plan Width": 12, + "Actual Startup Time": 0.045, + "Actual Total Time": 1.974, + "Actual Rows": 383, + "Actual Loops": 6, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 1.710, + "Actual Rows": 334, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 2.607, + "Actual Rows": 483, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 2300, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1334 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 483 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 93, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 47 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 23 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3475685009172437784, + "Planning Time": 2265.626, + "Triggers": [ + ], + "Execution Time": 215.925, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -3475685009172437784, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(chn.name) AS character_name,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND it2.info = 'rating'
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence',
                    'magnet',
                    'web',
                    'claw',
                    'laser')
  AND kt.kind = 'movie'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND ci.movie_id = cc.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND cc.movie_id = mi_idx.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4954.62, + "Total Cost": 4954.63, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1873.216, + "Actual Total Time": 1905.366, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4954.56, + "Total Cost": 4954.57, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 1713.992, + "Actual Total Time": 1905.314, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4953.56, + "Total Cost": 4953.57, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1727.859, + "Actual Total Time": 1727.870, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1693.944, + "Actual Total Time": 1693.956, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1701.121, + "Actual Total Time": 1701.133, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1704.541, + "Actual Total Time": 1704.552, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1739.397, + "Actual Total Time": 1739.405, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1716.218, + "Actual Total Time": 1716.231, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1859.062, + "Actual Total Time": 1859.070, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1695.716, + "Actual Total Time": 1695.727, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1460.76, + "Total Cost": 4947.77, + "Plan Rows": 771, + "Plan Width": 38, + "Actual Startup Time": 106.100, + "Actual Total Time": 1726.528, + "Actual Rows": 675, + "Actual Loops": 8, + "Output": ["chn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 92.189, + "Actual Total Time": 1692.714, + "Actual Rows": 556, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 115.641, + "Actual Total Time": 1699.754, + "Actual Rows": 690, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 99.551, + "Actual Total Time": 1703.058, + "Actual Rows": 808, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.045, + "Actual Total Time": 1738.045, + "Actual Rows": 673, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.878, + "Actual Total Time": 1714.837, + "Actual Rows": 720, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 109.149, + "Actual Total Time": 1857.604, + "Actual Rows": 780, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 95.079, + "Actual Total Time": 1694.528, + "Actual Rows": 607, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1460.60, + "Total Cost": 4946.67, + "Plan Rows": 9, + "Plan Width": 42, + "Actual Startup Time": 90.036, + "Actual Total Time": 1722.100, + "Actual Rows": 2074, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "mi_idx.info", "mi_idx.info_type_id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 74.634, + "Actual Total Time": 1688.849, + "Actual Rows": 1723, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 101.186, + "Actual Total Time": 1695.266, + "Actual Rows": 2088, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 78.278, + "Actual Total Time": 1697.987, + "Actual Rows": 2451, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 110.492, + "Actual Total Time": 1733.546, + "Actual Rows": 2046, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 75.404, + "Actual Total Time": 1710.102, + "Actual Rows": 2306, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 89.069, + "Actual Total Time": 1852.783, + "Actual Rows": 2348, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 75.072, + "Actual Total Time": 1690.385, + "Actual Rows": 1879, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1459.54, + "Total Cost": 4945.35, + "Plan Rows": 60, + "Plan Width": 46, + "Actual Startup Time": 89.878, + "Actual Total Time": 1718.539, + "Actual Rows": 2182, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "t.kind_id", "mi_idx.info", "mi_idx.info_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 74.468, + "Actual Total Time": 1685.683, + "Actual Rows": 1846, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 101.087, + "Actual Total Time": 1691.688, + "Actual Rows": 2184, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 78.205, + "Actual Total Time": 1694.112, + "Actual Rows": 2523, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 110.344, + "Actual Total Time": 1730.020, + "Actual Rows": 2148, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 75.254, + "Actual Total Time": 1706.352, + "Actual Rows": 2375, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 88.969, + "Actual Total Time": 1849.005, + "Actual Rows": 2462, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 74.898, + "Actual Total Time": 1687.022, + "Actual Rows": 2065, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1459.11, + "Total Cost": 4135.65, + "Plan Rows": 1784, + "Plan Width": 34, + "Actual Startup Time": 78.053, + "Actual Total Time": 1268.802, + "Actual Rows": 78294, + "Actual Loops": 8, + "Output": ["t.title", "t.kind_id", "mi_idx.info", "mi_idx.info_type_id", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 74.089, + "Actual Total Time": 1253.109, + "Actual Rows": 75218, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 80.247, + "Actual Total Time": 1255.312, + "Actual Rows": 77026, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 77.627, + "Actual Total Time": 1265.004, + "Actual Rows": 77279, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 74.545, + "Actual Total Time": 1279.745, + "Actual Rows": 81328, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.742, + "Actual Total Time": 1240.676, + "Actual Rows": 77545, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 78.347, + "Actual Total Time": 1361.527, + "Actual Rows": 86323, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 74.844, + "Actual Total Time": 1240.364, + "Actual Rows": 75823, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1458.68, + "Total Cost": 3336.69, + "Plan Rows": 1784, + "Plan Width": 38, + "Actual Startup Time": 77.967, + "Actual Total Time": 411.233, + "Actual Rows": 78294, + "Actual Loops": 8, + "Output": ["t.title", "t.kind_id", "mi_idx.info", "mi_idx.info_type_id", "ci.person_role_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 74.001, + "Actual Total Time": 430.312, + "Actual Rows": 75218, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 80.166, + "Actual Total Time": 402.769, + "Actual Rows": 77026, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 77.498, + "Actual Total Time": 405.784, + "Actual Rows": 77279, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 74.497, + "Actual Total Time": 395.959, + "Actual Rows": 81328, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.668, + "Actual Total Time": 391.467, + "Actual Rows": 77545, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 78.215, + "Actual Total Time": 440.939, + "Actual Rows": 86323, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 74.759, + "Actual Total Time": 413.249, + "Actual Rows": 75823, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1458.24, + "Total Cost": 3033.81, + "Plan Rows": 124, + "Plan Width": 46, + "Actual Startup Time": 77.855, + "Actual Total Time": 112.426, + "Actual Rows": 567, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.kind_id", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.894, + "Actual Total Time": 120.236, + "Actual Rows": 624, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 80.086, + "Actual Total Time": 112.153, + "Actual Rows": 581, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 77.311, + "Actual Total Time": 107.556, + "Actual Rows": 523, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 74.394, + "Actual Total Time": 100.761, + "Actual Rows": 552, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.566, + "Actual Total Time": 103.918, + "Actual Rows": 530, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 78.051, + "Actual Total Time": 112.127, + "Actual Rows": 649, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 74.673, + "Actual Total Time": 124.934, + "Actual Rows": 541, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1457.81, + "Total Cost": 2915.27, + "Plan Rows": 228, + "Plan Width": 33, + "Actual Startup Time": 77.771, + "Actual Total Time": 105.960, + "Actual Rows": 199, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.825, + "Actual Total Time": 114.089, + "Actual Rows": 211, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 80.025, + "Actual Total Time": 105.610, + "Actual Rows": 213, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 77.216, + "Actual Total Time": 102.090, + "Actual Rows": 201, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 74.323, + "Actual Total Time": 95.491, + "Actual Rows": 188, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.456, + "Actual Total Time": 98.678, + "Actual Rows": 188, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 77.908, + "Actual Total Time": 105.575, + "Actual Rows": 229, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 74.611, + "Actual Total Time": 113.440, + "Actual Rows": 187, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1457.38, + "Total Cost": 2494.42, + "Plan Rows": 914, + "Plan Width": 8, + "Actual Startup Time": 77.442, + "Actual Total Time": 92.995, + "Actual Rows": 800, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 72.781, + "Actual Total Time": 99.171, + "Actual Rows": 907, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 79.961, + "Actual Total Time": 93.755, + "Actual Rows": 695, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 77.098, + "Actual Total Time": 88.874, + "Actual Rows": 824, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 74.226, + "Actual Total Time": 84.411, + "Actual Rows": 705, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.086, + "Actual Total Time": 86.062, + "Actual Rows": 757, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 77.284, + "Actual Total Time": 90.550, + "Actual Rows": 910, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 74.454, + "Actual Total Time": 100.912, + "Actual Rows": 806, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1456.34, + "Total Cost": 2488.44, + "Plan Rows": 914, + "Plan Width": 12, + "Actual Startup Time": 77.425, + "Actual Total Time": 92.164, + "Actual Rows": 800, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 72.767, + "Actual Total Time": 98.242, + "Actual Rows": 907, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 79.950, + "Actual Total Time": 92.926, + "Actual Rows": 695, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 77.089, + "Actual Total Time": 88.075, + "Actual Rows": 824, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 74.212, + "Actual Total Time": 83.683, + "Actual Rows": 705, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.071, + "Actual Total Time": 85.296, + "Actual Rows": 757, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 77.275, + "Actual Total Time": 89.606, + "Actual Rows": 910, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 74.441, + "Actual Total Time": 100.109, + "Actual Rows": 806, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1455.30, + "Total Cost": 2480.14, + "Plan Rows": 1342, + "Plan Width": 16, + "Actual Startup Time": 77.398, + "Actual Total Time": 91.120, + "Actual Rows": 1174, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 72.737, + "Actual Total Time": 96.811, + "Actual Rows": 2230, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 79.932, + "Actual Total Time": 91.973, + "Actual Rows": 1019, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 77.065, + "Actual Total Time": 87.132, + "Actual Rows": 824, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 74.180, + "Actual Total Time": 82.830, + "Actual Rows": 705, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.042, + "Actual Total Time": 84.403, + "Actual Rows": 761, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 77.252, + "Actual Total Time": 88.533, + "Actual Rows": 910, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 74.413, + "Actual Total Time": 98.803, + "Actual Rows": 2151, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.049, + "Actual Total Time": 4.099, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.091, + "Actual Total Time": 7.473, + "Actual Rows": 32781, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 3.671, + "Actual Rows": 14615, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 2.908, + "Actual Rows": 11470, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 2.420, + "Actual Rows": 9620, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 2.946, + "Actual Rows": 11840, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.106, + "Actual Total Time": 3.276, + "Actual Rows": 11655, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 7.609, + "Actual Rows": 33485, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1412.27, + "Total Cost": 1412.27, + "Plan Rows": 3442, + "Plan Width": 4, + "Actual Startup Time": 77.189, + "Actual Total Time": 77.191, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 32768, + "Original Hash Buckets": 32768, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 1312, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 72.503, + "Actual Total Time": 72.504, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 79.762, + "Actual Total Time": 79.763, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 76.869, + "Actual Total Time": 76.871, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 74.057, + "Actual Total Time": 74.058, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 73.925, + "Actual Total Time": 73.927, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 77.018, + "Actual Total Time": 77.019, + "Actual Rows": 535, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 74.260, + "Actual Total Time": 74.262, + "Actual Rows": 150, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.46, + "Total Cost": 1412.27, + "Plan Rows": 3442, + "Plan Width": 4, + "Actual Startup Time": 3.089, + "Actual Total Time": 31.976, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.105, + "Actual Total Time": 20.106, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.247, + "Actual Total Time": 26.105, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.501, + "Actual Total Time": 31.316, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.590, + "Actual Total Time": 66.936, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.112, + "Actual Total Time": 30.923, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.253, + "Actual Total Time": 24.047, + "Actual Rows": 535, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.650, + "Actual Total Time": 21.511, + "Actual Rows": 150, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.03, + "Total Cost": 1236.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 2.916, + "Actual Total Time": 12.158, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,tv-special,fight,violence,magnet,web,claw,laser}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.103, + "Actual Total Time": 20.104, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.112, + "Actual Total Time": 17.008, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.383, + "Actual Total Time": 0.431, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.319, + "Actual Total Time": 0.353, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.780, + "Actual Total Time": 0.791, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.050, + "Actual Total Time": 18.663, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.411, + "Actual Total Time": 18.125, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.65, + "Plan Rows": 2409, + "Plan Width": 8, + "Actual Startup Time": 0.148, + "Actual Total Time": 14.934, + "Actual Rows": 2409, + "Actual Loops": 10, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.130, + "Actual Total Time": 8.532, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.114, + "Actual Total Time": 29.114, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.265, + "Actual Total Time": 63.314, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.321, + "Actual Total Time": 27.765, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.101, + "Actual Total Time": 1.722, + "Actual Rows": 178, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.231, + "Actual Total Time": 3.250, + "Actual Rows": 150, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 6396, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 907 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 695 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 824 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 705 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 757 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 910 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 806 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.028, + "Actual Rows": 3, + "Actual Loops": 1595, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.025, + "Actual Rows": 3, + "Actual Loops": 211 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.026, + "Actual Rows": 3, + "Actual Loops": 213 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.023, + "Actual Rows": 3, + "Actual Loops": 201 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.023, + "Actual Rows": 3, + "Actual Loops": 188 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.023, + "Actual Rows": 3, + "Actual Loops": 188 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.024, + "Actual Rows": 3, + "Actual Loops": 229 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.057, + "Actual Rows": 3, + "Actual Loops": 187 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.29, + "Plan Rows": 92, + "Plan Width": 12, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.447, + "Actual Rows": 138, + "Actual Loops": 4533, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.427, + "Actual Rows": 121, + "Actual Loops": 624 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.423, + "Actual Rows": 133, + "Actual Loops": 581 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.483, + "Actual Rows": 148, + "Actual Loops": 523 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.449, + "Actual Rows": 147, + "Actual Loops": 552 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.457, + "Actual Rows": 146, + "Actual Loops": 530 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.431, + "Actual Rows": 133, + "Actual Loops": 649 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.451, + "Actual Rows": 140, + "Actual Loops": 541 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 626356, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 75218 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 77026 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 77279 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 81328 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 77545 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 86323 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 75823 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 626356, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 75218 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 77026 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 77279 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 81328 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 77545 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 86323 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 75823 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 16596, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 1751, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1723, + "Cache Hits": 1719, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2088, + "Cache Hits": 2084, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2451, + "Cache Hits": 2447, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2046, + "Cache Hits": 2041, + "Cache Misses": 5, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2306, + "Cache Hits": 2302, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2348, + "Cache Hits": 2344, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1879, + "Cache Hits": 1875, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 33, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6841805925482126349, + "Planning Time": 2455.056, + "Triggers": [ + ], + "Execution Time": 1905.980, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 6841805925482126349, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS complete_western_sequel
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind = 'complete'
  AND cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Germany',
                  'Swedish',
                  'German')
  AND t.production_year BETWEEN 1950 AND 2000
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND t.id = cc.movie_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id
  AND ml.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = cc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 999.82, + "Total Cost": 999.83, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 71.433, + "Actual Total Time": 71.716, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 999.76, + "Total Cost": 999.77, + "Plan Rows": 6, + "Plan Width": 96, + "Actual Startup Time": 71.411, + "Actual Total Time": 71.705, + "Actual Rows": 7, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 6, + "Workers Launched": 6, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 998.76, + "Total Cost": 998.77, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 24.293, + "Actual Total Time": 24.307, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.217, + "Actual Total Time": 13.228, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.199, + "Actual Total Time": 17.215, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.807, + "Actual Total Time": 18.827, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.134, + "Actual Total Time": 12.149, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.105, + "Actual Total Time": 22.117, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.456, + "Actual Total Time": 16.473, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 405.98, + "Total Cost": 998.16, + "Plan Rows": 80, + "Plan Width": 48, + "Actual Startup Time": 16.309, + "Actual Total Time": 24.240, + "Actual Rows": 68, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.211, + "Actual Total Time": 13.221, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.189, + "Actual Total Time": 17.204, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.798, + "Actual Total Time": 18.816, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.126, + "Actual Total Time": 12.139, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.097, + "Actual Total Time": 22.108, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.447, + "Actual Total Time": 16.462, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.94, + "Total Cost": 996.69, + "Plan Rows": 80, + "Plan Width": 52, + "Actual Startup Time": 16.128, + "Actual Total Time": 24.011, + "Actual Rows": 68, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "cc.subject_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.140, + "Actual Total Time": 13.149, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.042, + "Actual Total Time": 17.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.642, + "Actual Total Time": 18.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.984, + "Actual Total Time": 11.995, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.923, + "Actual Total Time": 21.932, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.271, + "Actual Total Time": 16.284, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.50, + "Total Cost": 967.35, + "Plan Rows": 29, + "Plan Width": 72, + "Actual Startup Time": 16.117, + "Actual Total Time": 23.384, + "Actual Rows": 25, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "t.title", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.139, + "Actual Total Time": 13.147, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.041, + "Actual Total Time": 17.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.641, + "Actual Total Time": 18.656, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.983, + "Actual Total Time": 11.993, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.922, + "Actual Total Time": 21.930, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.270, + "Actual Total Time": 16.281, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.08, + "Total Cost": 726.89, + "Plan Rows": 546, + "Plan Width": 76, + "Actual Startup Time": 14.386, + "Actual Total Time": 19.566, + "Actual Rows": 468, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "t.title", "t.id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.683, + "Actual Total Time": 12.010, + "Actual Rows": 92, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.040, + "Actual Total Time": 17.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.058, + "Actual Total Time": 18.519, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.982, + "Actual Total Time": 11.991, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.921, + "Actual Total Time": 21.929, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.269, + "Actual Total Time": 16.280, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 403.65, + "Total Cost": 676.94, + "Plan Rows": 45, + "Plan Width": 68, + "Actual Startup Time": 14.243, + "Actual Total Time": 18.598, + "Actual Rows": 38, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.388, + "Actual Total Time": 11.556, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.039, + "Actual Total Time": 17.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.607, + "Actual Total Time": 18.063, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.982, + "Actual Total Time": 11.990, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.920, + "Actual Total Time": 21.927, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.268, + "Actual Total Time": 16.278, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 403.51, + "Total Cost": 675.10, + "Plan Rows": 56, + "Plan Width": 72, + "Actual Startup Time": 13.325, + "Actual Total Time": 18.485, + "Actual Rows": 48, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.340, + "Actual Total Time": 11.497, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.664, + "Actual Total Time": 16.950, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.344, + "Actual Total Time": 17.942, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.269, + "Actual Total Time": 11.914, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.919, + "Actual Total Time": 21.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.268, + "Actual Total Time": 16.276, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 403.08, + "Total Cost": 646.98, + "Plan Rows": 56, + "Plan Width": 51, + "Actual Startup Time": 13.195, + "Actual Total Time": 17.931, + "Actual Rows": 48, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.237, + "Actual Total Time": 11.355, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.462, + "Actual Total Time": 16.690, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.153, + "Actual Total Time": 17.719, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.116, + "Actual Total Time": 11.737, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.918, + "Actual Total Time": 21.923, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.267, + "Actual Total Time": 16.273, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.66, + "Total Cost": 577.04, + "Plan Rows": 156, + "Plan Width": 36, + "Actual Startup Time": 10.964, + "Actual Total Time": 15.323, + "Actual Rows": 133, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.070, + "Actual Total Time": 10.628, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.204, + "Actual Total Time": 15.976, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.047, + "Actual Total Time": 17.156, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.870, + "Actual Total Time": 11.326, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.414, + "Actual Total Time": 19.700, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.605, + "Actual Total Time": 15.907, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.52, + "Total Cost": 572.24, + "Plan Rows": 174, + "Plan Width": 40, + "Actual Startup Time": 10.874, + "Actual Total Time": 14.984, + "Actual Rows": 149, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.011, + "Actual Total Time": 10.458, + "Actual Rows": 53, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.107, + "Actual Total Time": 15.812, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.905, + "Actual Total Time": 16.968, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.794, + "Actual Total Time": 11.199, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.299, + "Actual Total Time": 19.300, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.508, + "Actual Total Time": 15.808, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.09, + "Total Cost": 510.21, + "Plan Rows": 43, + "Plan Width": 28, + "Actual Startup Time": 10.620, + "Actual Total Time": 13.537, + "Actual Rows": 37, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Merge Cond": "(cc.movie_id = ml.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.622, + "Actual Total Time": 8.921, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.928, + "Actual Total Time": 15.362, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.747, + "Actual Total Time": 16.084, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.621, + "Actual Total Time": 10.789, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.769, + "Actual Total Time": 17.175, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.240, + "Actual Total Time": 15.456, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 2187.57, + "Plan Rows": 1046, + "Plan Width": 12, + "Actual Startup Time": 0.112, + "Actual Total Time": 1.984, + "Actual Rows": 857, + "Actual Loops": 7, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.057, + "Actual Total Time": 3.154, + "Actual Rows": 2087, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.152, + "Actual Total Time": 1.471, + "Actual Rows": 358, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.138, + "Actual Total Time": 1.591, + "Actual Rows": 346, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.108, + "Actual Total Time": 1.128, + "Actual Rows": 348, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.143, + "Actual Total Time": 1.335, + "Actual Rows": 314, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.139, + "Actual Total Time": 1.188, + "Actual Rows": 289, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 401.65, + "Total Cost": 407.44, + "Plan Rows": 2315, + "Plan Width": 16, + "Actual Startup Time": 9.616, + "Actual Total Time": 10.159, + "Actual Rows": 2319, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Sort Key": ["ml.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.341, + "Actual Total Time": 4.642, + "Actual Rows": 2318, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.690, + "Actual Total Time": 12.350, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.935, + "Actual Total Time": 12.718, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.169, + "Actual Total Time": 8.599, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.599, + "Actual Total Time": 14.274, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.103, + "Actual Total Time": 12.767, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.29, + "Total Cost": 272.28, + "Plan Rows": 2315, + "Plan Width": 16, + "Actual Startup Time": 0.206, + "Actual Total Time": 6.378, + "Actual Rows": 2315, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.111, + "Actual Total Time": 2.876, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.252, + "Actual Total Time": 7.656, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.242, + "Actual Total Time": 7.813, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.193, + "Actual Total Time": 5.388, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.253, + "Actual Total Time": 8.993, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.266, + "Actual Total Time": 8.047, + "Actual Rows": 2315, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.23, + "Plan Rows": 2, + "Plan Width": 16, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.084, + "Actual Rows": 2, + "Actual Loops": 7, + "Output": ["lt.id", "lt.link"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.046, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.099, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.090, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.076, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.122, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.105, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 123.95, + "Plan Rows": 1158, + "Plan Width": 8, + "Actual Startup Time": 0.124, + "Actual Total Time": 2.325, + "Actual Rows": 1158, + "Actual Loops": 14, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.link_type_id = lt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.068, + "Actual Total Time": 1.074, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.154, + "Actual Total Time": 2.750, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.155, + "Actual Total Time": 2.803, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.112, + "Actual Total Time": 1.980, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.152, + "Actual Total Time": 3.244, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.153, + "Actual Total Time": 2.936, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.40, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.037, + "Actual Rows": 4, + "Actual Loops": 257, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 3, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 36 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.104, + "Actual Rows": 3, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.168, + "Actual Rows": 3, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.096, + "Actual Rows": 2, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.047, + "Actual Rows": 2, + "Actual Loops": 42 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.111, + "Actual Total Time": 0.111, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1043, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 885, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 53, + "Cache Hits": 51, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 13, + "Cache Hits": 12, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 15, + "Cache Hits": 13, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 9, + "Cache Hits": 7, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 65, + "Cache Hits": 63, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.091, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 12, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.072, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.073, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 934, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 41 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 13 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.065, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 47 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.361, + "Actual Total Time": 0.361, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 337, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2000))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.080, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.103, + "Actual Total Time": 0.103, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.083, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 333, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 320, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 4, + "Cache Hits": 3, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 2, + "Cache Hits": 0, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.00, + "Plan Rows": 9, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.019, + "Actual Rows": 12, + "Actual Loops": 269, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.097, + "Actual Rows": 23, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.430, + "Actual Total Time": 0.432, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 3278, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 92 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.130, + "Actual Total Time": 0.130, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 3, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.024, + "Actual Rows": 3, + "Actual Loops": 172, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Germany,Swedish,German}'::text[]))", + "Rows Removed by Filter": 17, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.065, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.034, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5323664899700589841, + "Planning Time": 3101.486, + "Triggers": [ + ], + "Execution Time": 72.397, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -5323664899700589841, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS complete_western_sequel
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind = 'complete'
  AND cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Germany',
                  'Swedish',
                  'German')
  AND t.production_year = 1998
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND t.id = cc.movie_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id
  AND ml.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = cc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 600.22, + "Total Cost": 600.23, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 28.949, + "Actual Total Time": 31.006, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 271.43, + "Total Cost": 598.37, + "Plan Rows": 247, + "Plan Width": 48, + "Actual Startup Time": 20.589, + "Actual Total Time": 30.807, + "Actual Rows": 247, + "Actual Loops": 1, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 271.00, + "Total Cost": 502.24, + "Plan Rows": 95, + "Plan Width": 68, + "Actual Startup Time": 20.553, + "Actual Total Time": 29.128, + "Actual Rows": 95, + "Actual Loops": 1, + "Output": ["cn.name", "ml.movie_id", "lt.link", "cc.movie_id", "t.title", "t.id", "mk.movie_id", "mc.movie_id"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 270.86, + "Total Cost": 499.55, + "Plan Rows": 95, + "Plan Width": 72, + "Actual Startup Time": 20.531, + "Actual Total Time": 28.979, + "Actual Rows": 95, + "Actual Loops": 1, + "Output": ["cn.name", "ml.movie_id", "lt.link", "cc.movie_id", "cc.subject_id", "t.title", "t.id", "mk.movie_id", "mc.movie_id"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 270.44, + "Total Cost": 499.10, + "Plan Rows": 1, + "Plan Width": 57, + "Actual Startup Time": 20.496, + "Actual Total Time": 27.541, + "Actual Rows": 190, + "Actual Loops": 1, + "Output": ["ml.movie_id", "lt.link", "cc.movie_id", "cc.subject_id", "t.title", "t.id", "mk.movie_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 270.31, + "Total Cost": 498.78, + "Plan Rows": 2, + "Plan Width": 61, + "Actual Startup Time": 20.478, + "Actual Total Time": 26.798, + "Actual Rows": 190, + "Actual Loops": 1, + "Output": ["ml.movie_id", "lt.link", "cc.movie_id", "cc.subject_id", "t.title", "t.id", "mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 269.88, + "Total Cost": 498.20, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 20.442, + "Actual Total Time": 26.267, + "Actual Rows": 38, + "Actual Loops": 1, + "Output": ["ml.movie_id", "lt.link", "cc.movie_id", "cc.subject_id", "t.title", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 269.46, + "Total Cost": 485.41, + "Plan Rows": 29, + "Plan Width": 53, + "Actual Startup Time": 20.359, + "Actual Total Time": 24.372, + "Actual Rows": 266, + "Actual Loops": 1, + "Output": ["ml.movie_id", "lt.link", "cc.movie_id", "cc.subject_id", "t.title", "t.id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 269.02, + "Total Cost": 483.32, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 20.330, + "Actual Total Time": 23.871, + "Actual Rows": 38, + "Actual Loops": 1, + "Output": ["ml.movie_id", "lt.link", "cc.movie_id", "cc.subject_id", "t.title", "t.id"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 268.59, + "Total Cost": 388.53, + "Plan Rows": 64, + "Plan Width": 24, + "Actual Startup Time": 16.391, + "Actual Total Time": 21.623, + "Actual Rows": 189, + "Actual Loops": 1, + "Output": ["ml.movie_id", "lt.link", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Join Filter": "(cct2.id = cc.status_id)", + "Rows Removed by Join Filter": 68, + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 268.59, + "Total Cost": 383.63, + "Plan Rows": 257, + "Plan Width": 28, + "Actual Startup Time": 16.367, + "Actual Total Time": 21.461, + "Actual Rows": 257, + "Actual Loops": 1, + "Output": ["ml.movie_id", "lt.link", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Merge Cond": "(cc.movie_id = ml.movie_id)", + "Plans": [ + { + "Node Type": "Gather Merge", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1.52, + "Total Cost": 2297.22, + "Plan Rows": 6560, + "Plan Width": 12, + "Actual Startup Time": 10.739, + "Actual Total Time": 15.137, + "Actual Rows": 5993, + "Actual Loops": 1, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers Planned": 6, + "Workers Launched": 6, + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 2187.57, + "Plan Rows": 1093, + "Plan Width": 12, + "Actual Startup Time": 0.055, + "Actual Total Time": 3.672, + "Actual Rows": 2019, + "Actual Loops": 7, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.054, + "Actual Total Time": 3.978, + "Actual Rows": 2184, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 4.471, + "Actual Rows": 2945, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.060, + "Actual Total Time": 3.507, + "Actual Rows": 1638, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 4.194, + "Actual Rows": 2151, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.087, + "Actual Total Time": 3.321, + "Actual Rows": 1638, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.048, + "Actual Total Time": 5.736, + "Actual Rows": 3278, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 267.05, + "Total Cost": 272.84, + "Plan Rows": 2315, + "Plan Width": 16, + "Actual Startup Time": 4.925, + "Actual Total Time": 5.192, + "Actual Rows": 2341, + "Actual Loops": 1, + "Output": ["ml.movie_id", "lt.link"], + "Sort Key": ["ml.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory", + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1.29, + "Total Cost": 137.68, + "Plan Rows": 2315, + "Plan Width": 16, + "Actual Startup Time": 0.482, + "Actual Total Time": 3.834, + "Actual Rows": 2315, + "Actual Loops": 1, + "Output": ["ml.movie_id", "lt.link"], + "Workers Planned": 1, + "Workers Launched": 1, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.29, + "Total Cost": 136.66, + "Plan Rows": 1362, + "Plan Width": 16, + "Actual Startup Time": 0.075, + "Actual Total Time": 1.382, + "Actual Rows": 1158, + "Actual Loops": 2, + "Output": ["ml.movie_id", "lt.link"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["lt.id", "lt.link"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 8, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 123.95, + "Plan Rows": 1158, + "Plan Width": 8, + "Actual Startup Time": 0.089, + "Actual Total Time": 1.038, + "Actual Rows": 1158, + "Actual Loops": 2, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.link_type_id = lt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Materialize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 1, + "Actual Loops": 257, + "Output": ["cct2.id"], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete'::text)", + "Rows Removed by Filter": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 189, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year = 1998)", + "Rows Removed by Filter": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.72, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 7, + "Actual Loops": 38, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 266, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 6, + "Plan Width": 12, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.012, + "Actual Rows": 5, + "Actual Loops": 38, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 190, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 190, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 0 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 95, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 93, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 0 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 3, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 95, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Germany,Swedish,German}'::text[]))", + "Rows Removed by Filter": 10 + } + ] + } + ] + }, + "Query Identifier": 2103229838344518222, + "Planning Time": 2758.053, + "Triggers": [ + ], + "Execution Time": 31.561, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 2103229838344518222, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS complete_western_sequel
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE 'complete%'
  AND cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'English')
  AND t.production_year BETWEEN 1950 AND 2010
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND t.id = cc.movie_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id
  AND ml.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = cc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1002.62, + "Total Cost": 1002.63, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 132.039, + "Actual Total Time": 134.487, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1002.56, + "Total Cost": 1002.57, + "Plan Rows": 6, + "Plan Width": 96, + "Actual Startup Time": 88.411, + "Actual Total Time": 134.465, + "Actual Rows": 7, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 6, + "Workers Launched": 6, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1001.56, + "Total Cost": 1001.57, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 79.149, + "Actual Total Time": 79.158, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 58.351, + "Actual Total Time": 58.357, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.469, + "Actual Total Time": 74.473, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 114.597, + "Actual Total Time": 114.603, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 73.918, + "Actual Total Time": 73.929, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.532, + "Actual Total Time": 74.539, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 70.753, + "Actual Total Time": 70.765, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.85, + "Total Cost": 1000.63, + "Plan Rows": 124, + "Plan Width": 48, + "Actual Startup Time": 66.362, + "Actual Total Time": 79.080, + "Actual Rows": 106, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 58.346, + "Actual Total Time": 58.351, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.465, + "Actual Total Time": 74.469, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.680, + "Actual Total Time": 114.104, + "Actual Rows": 741, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 73.913, + "Actual Total Time": 73.922, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.527, + "Actual Total Time": 74.533, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 70.746, + "Actual Total Time": 70.758, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.39, + "Total Cost": 999.59, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 66.345, + "Actual Total Time": 78.482, + "Actual Rows": 25, + "Actual Loops": 7, + "Output": ["cn.name", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "ml.movie_id", "lt.link", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 58.346, + "Actual Total Time": 58.350, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.465, + "Actual Total Time": 74.468, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 85.615, + "Actual Total Time": 109.980, + "Actual Rows": 171, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 73.911, + "Actual Total Time": 73.920, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.526, + "Actual Total Time": 74.532, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 70.745, + "Actual Total Time": 70.756, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.97, + "Total Cost": 997.36, + "Plan Rows": 5, + "Plan Width": 72, + "Actual Startup Time": 44.483, + "Actual Total Time": 74.588, + "Actual Rows": 471, + "Actual Loops": 7, + "Output": ["cn.name", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "ml.movie_id", "lt.link", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 58.345, + "Actual Total Time": 58.349, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.464, + "Actual Total Time": 74.468, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 53.676, + "Actual Total Time": 84.113, + "Actual Rows": 3188, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.656, + "Actual Total Time": 72.893, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.526, + "Actual Total Time": 74.531, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.962, + "Actual Total Time": 70.540, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.54, + "Total Cost": 996.25, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 44.432, + "Actual Total Time": 73.702, + "Actual Rows": 40, + "Actual Loops": 7, + "Output": ["cn.name", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 58.345, + "Actual Total Time": 58.348, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.464, + "Actual Total Time": 74.467, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 53.613, + "Actual Total Time": 78.475, + "Actual Rows": 266, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.598, + "Actual Total Time": 72.676, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.525, + "Actual Total Time": 74.530, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.766, + "Actual Total Time": 70.308, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 996.08, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 36.241, + "Actual Total Time": 73.295, + "Actual Rows": 85, + "Actual Loops": 7, + "Output": ["cn.name", "cc.movie_id", "t.title", "t.id", "mc.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.421, + "Actual Total Time": 58.139, + "Actual Rows": 58, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.463, + "Actual Total Time": 74.466, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 53.330, + "Actual Total Time": 76.466, + "Actual Rows": 443, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.531, + "Actual Total Time": 72.335, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.525, + "Actual Total Time": 74.529, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.699, + "Actual Total Time": 70.176, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 995.91, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 36.223, + "Actual Total Time": 72.854, + "Actual Rows": 103, + "Actual Loops": 7, + "Output": ["cn.name", "cc.movie_id", "cc.subject_id", "t.title", "t.id", "mc.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Merge Cond": "(t.id = ml.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.405, + "Actual Total Time": 57.788, + "Actual Rows": 111, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 74.463, + "Actual Total Time": 74.465, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 53.308, + "Actual Total Time": 74.308, + "Actual Rows": 512, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.510, + "Actual Total Time": 72.014, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.524, + "Actual Total Time": 74.527, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.653, + "Actual Total Time": 70.069, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.98, + "Total Cost": 4900.16, + "Plan Rows": 20, + "Plan Width": 52, + "Actual Startup Time": 8.032, + "Actual Total Time": 42.864, + "Actual Rows": 37, + "Actual Loops": 7, + "Output": ["cn.name", "cc.movie_id", "cc.subject_id", "t.title", "t.id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.791, + "Actual Total Time": 39.064, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.714, + "Actual Total Time": 36.982, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.763, + "Actual Total Time": 45.748, + "Actual Rows": 77, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.348, + "Actual Total Time": 45.147, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.973, + "Actual Total Time": 38.492, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.690, + "Actual Total Time": 33.839, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.56, + "Total Cost": 4858.01, + "Plan Rows": 94, + "Plan Width": 37, + "Actual Startup Time": 1.240, + "Actual Total Time": 32.295, + "Actual Rows": 856, + "Actual Loops": 7, + "Output": ["cc.movie_id", "cc.subject_id", "t.title", "t.id", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.668, + "Actual Total Time": 30.085, + "Actual Rows": 1036, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.897, + "Actual Total Time": 28.295, + "Actual Rows": 563, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.624, + "Actual Total Time": 34.166, + "Actual Rows": 696, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.322, + "Actual Total Time": 32.390, + "Actual Rows": 1237, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.697, + "Actual Total Time": 29.999, + "Actual Rows": 654, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.156, + "Actual Total Time": 22.755, + "Actual Rows": 704, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.42, + "Total Cost": 4848.12, + "Plan Rows": 378, + "Plan Width": 41, + "Actual Startup Time": 1.175, + "Actual Total Time": 30.759, + "Actual Rows": 877, + "Actual Loops": 7, + "Output": ["cc.movie_id", "cc.subject_id", "t.title", "t.id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.623, + "Actual Total Time": 28.877, + "Actual Rows": 1082, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.814, + "Actual Total Time": 27.011, + "Actual Rows": 566, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.543, + "Actual Total Time": 32.432, + "Actual Rows": 715, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.283, + "Actual Total Time": 30.603, + "Actual Rows": 1263, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.605, + "Actual Total Time": 28.650, + "Actual Rows": 667, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.088, + "Actual Total Time": 21.131, + "Actual Rows": 716, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.99, + "Total Cost": 4423.46, + "Plan Rows": 752, + "Plan Width": 29, + "Actual Startup Time": 0.370, + "Actual Total Time": 17.198, + "Actual Rows": 1005, + "Actual Loops": 7, + "Output": ["cc.movie_id", "cc.subject_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.529, + "Actual Total Time": 17.306, + "Actual Rows": 1295, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.335, + "Actual Total Time": 14.446, + "Actual Rows": 744, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.377, + "Actual Total Time": 17.855, + "Actual Rows": 704, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.199, + "Actual Total Time": 16.864, + "Actual Rows": 1151, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.391, + "Actual Total Time": 15.650, + "Actual Rows": 819, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.647, + "Actual Total Time": 11.139, + "Actual Rows": 495, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.56, + "Total Cost": 2213.83, + "Plan Rows": 1000, + "Plan Width": 8, + "Actual Startup Time": 0.148, + "Actual Total Time": 3.735, + "Actual Rows": 1065, + "Actual Loops": 7, + "Output": ["cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.088, + "Actual Total Time": 3.244, + "Actual Rows": 1461, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.177, + "Actual Total Time": 3.335, + "Actual Rows": 768, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.187, + "Actual Total Time": 3.889, + "Actual Rows": 773, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.100, + "Actual Total Time": 3.683, + "Actual Rows": 1181, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.207, + "Actual Total Time": 3.618, + "Actual Rows": 840, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.208, + "Actual Total Time": 2.548, + "Actual Rows": 511, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 2187.57, + "Plan Rows": 1087, + "Plan Width": 12, + "Actual Startup Time": 0.065, + "Actual Total Time": 1.893, + "Actual Rows": 1065, + "Actual Loops": 7, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 1.618, + "Actual Rows": 1461, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.074, + "Actual Total Time": 1.725, + "Actual Rows": 768, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.084, + "Actual Total Time": 2.028, + "Actual Rows": 773, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 1.921, + "Actual Rows": 1181, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.099, + "Actual Total Time": 1.824, + "Actual Rows": 840, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.088, + "Actual Total Time": 1.267, + "Actual Rows": 511, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 7456, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 1920, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1461, + "Cache Hits": 1459, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 768, + "Cache Hits": 766, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 773, + "Cache Hits": 771, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1181, + "Cache Hits": 1179, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 840, + "Cache Hits": 838, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 511, + "Cache Hits": 509, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 14, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text ~~ 'complete%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 2.21, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 7456, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1461 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 768 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 773 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1181 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 840 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 511 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 5, + "Plan Width": 12, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 7037, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1295 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 744 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 704 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1151 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 819 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 495 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 6136, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 1125, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1082, + "Cache Hits": 1080, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 566, + "Cache Hits": 564, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 715, + "Cache Hits": 713, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1263, + "Cache Hits": 1261, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 667, + "Cache Hits": 665, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 716, + "Cache Hits": 714, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 14, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 5989, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 1036 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 563 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 696 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1237 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 654 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 704 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 670.78, + "Plan Rows": 31290, + "Plan Width": 8, + "Actual Startup Time": 0.088, + "Actual Total Time": 22.487, + "Actual Rows": 30053, + "Actual Loops": 7, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.056, + "Actual Total Time": 14.081, + "Actual Rows": 30050, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.123, + "Actual Total Time": 28.301, + "Actual Rows": 29997, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.074, + "Actual Total Time": 21.475, + "Actual Rows": 30327, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.062, + "Actual Total Time": 20.231, + "Actual Rows": 29998, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.135, + "Actual Total Time": 26.555, + "Actual Rows": 29997, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.123, + "Actual Total Time": 27.406, + "Actual Rows": 30000, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 720, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 111 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 512 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 64 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 595, + "Output": ["lt.id", "lt.link"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 58 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 443 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 63 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.99, + "Plan Rows": 10, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.016, + "Actual Rows": 12, + "Actual Loops": 277, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.015, + "Actual Rows": 12, + "Actual Loops": 266 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.032, + "Actual Rows": 19, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.104, + "Actual Total Time": 0.107, + "Actual Rows": 2, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 3296, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 3188 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 93 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.00, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.023, + "Actual Rows": 4, + "Actual Loops": 172, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,English}'::text[]))", + "Rows Removed by Filter": 15, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.022, + "Actual Rows": 4, + "Actual Loops": 171 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1723239386245354632, + "Planning Time": 2715.929, + "Triggers": [ + ], + "Execution Time": 135.065, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1723239386245354632, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_euro_dark_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'crew'
  AND cct2.kind != 'complete+verified'
  AND cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4192.27, + "Total Cost": 4192.28, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 3723.755, + "Actual Total Time": 3734.592, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4192.20, + "Total Cost": 4192.21, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 3658.286, + "Actual Total Time": 3734.532, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4191.20, + "Total Cost": 4191.21, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 3656.955, + "Actual Total Time": 3656.966, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3687.754, + "Actual Total Time": 3687.761, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3650.857, + "Actual Total Time": 3650.868, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3703.705, + "Actual Total Time": 3703.713, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3634.153, + "Actual Total Time": 3634.162, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3641.147, + "Actual Total Time": 3641.158, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3633.203, + "Actual Total Time": 3633.214, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3647.765, + "Actual Total Time": 3647.776, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.43, + "Total Cost": 4186.06, + "Plan Rows": 686, + "Plan Width": 41, + "Actual Startup Time": 452.921, + "Actual Total Time": 3655.539, + "Actual Rows": 600, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 380.858, + "Actual Total Time": 3685.573, + "Actual Rows": 873, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 291.009, + "Actual Total Time": 3649.834, + "Actual Rows": 354, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 559.237, + "Actual Total Time": 3702.706, + "Actual Rows": 423, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 356.565, + "Actual Total Time": 3632.852, + "Actual Rows": 584, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.557, + "Actual Total Time": 3639.016, + "Actual Rows": 1045, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 600.163, + "Actual Total Time": 3632.076, + "Actual Rows": 524, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1002.665, + "Actual Total Time": 3646.769, + "Actual Rows": 385, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.30, + "Total Cost": 4185.90, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 293.188, + "Actual Total Time": 3650.510, + "Actual Rows": 770, + "Actual Loops": 8, + "Output": ["cn.name", "cc.status_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 380.820, + "Actual Total Time": 3678.358, + "Actual Rows": 1050, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 290.972, + "Actual Total Time": 3645.995, + "Actual Rows": 528, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.494, + "Actual Total Time": 3697.411, + "Actual Rows": 796, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 356.531, + "Actual Total Time": 3628.248, + "Actual Rows": 723, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.519, + "Actual Total Time": 3632.075, + "Actual Rows": 1133, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 600.132, + "Actual Total Time": 3627.755, + "Actual Rows": 710, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 166.738, + "Actual Total Time": 3643.127, + "Actual Rows": 568, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.15, + "Total Cost": 4185.72, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 293.143, + "Actual Total Time": 3644.061, + "Actual Rows": 854, + "Actual Loops": 8, + "Output": ["cn.name", "cc.status_id", "mi_idx.info", "t.title", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 380.780, + "Actual Total Time": 3669.482, + "Actual Rows": 1089, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 290.934, + "Actual Total Time": 3641.363, + "Actual Rows": 576, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.430, + "Actual Total Time": 3690.668, + "Actual Rows": 904, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 356.488, + "Actual Total Time": 3622.324, + "Actual Rows": 821, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.473, + "Actual Total Time": 3623.182, + "Actual Rows": 1169, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 600.085, + "Actual Total Time": 3622.028, + "Actual Rows": 831, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 166.678, + "Actual Total Time": 3638.392, + "Actual Rows": 643, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.72, + "Total Cost": 4184.56, + "Plan Rows": 1, + "Plan Width": 65, + "Actual Startup Time": 236.329, + "Actual Total Time": 3378.218, + "Actual Rows": 701, + "Actual Loops": 8, + "Output": ["cn.name", "cc.movie_id", "cc.status_id", "mi_idx.info", "mi_idx.movie_id", "mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 380.552, + "Actual Total Time": 3250.147, + "Actual Rows": 1063, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 290.793, + "Actual Total Time": 3379.479, + "Actual Rows": 564, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.954, + "Actual Total Time": 3388.724, + "Actual Rows": 792, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 356.170, + "Actual Total Time": 3365.497, + "Actual Rows": 634, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.328, + "Actual Total Time": 3394.492, + "Actual Rows": 596, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 148.110, + "Actual Total Time": 3422.290, + "Actual Rows": 625, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 165.900, + "Actual Total Time": 3386.344, + "Actual Rows": 670, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.59, + "Total Cost": 4184.40, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 236.276, + "Actual Total Time": 3372.401, + "Actual Rows": 720, + "Actual Loops": 8, + "Output": ["cn.name", "cc.movie_id", "cc.status_id", "mi_idx.info", "mi_idx.movie_id", "mc.movie_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 380.507, + "Actual Total Time": 3242.101, + "Actual Rows": 1065, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 290.742, + "Actual Total Time": 3375.001, + "Actual Rows": 565, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 116.876, + "Actual Total Time": 3382.817, + "Actual Rows": 794, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 356.118, + "Actual Total Time": 3360.505, + "Actual Rows": 694, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.262, + "Actual Total Time": 3389.369, + "Actual Rows": 619, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 148.057, + "Actual Total Time": 3417.750, + "Actual Rows": 642, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 165.842, + "Actual Total Time": 3380.942, + "Actual Rows": 689, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.16, + "Total Cost": 4183.94, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 26.672, + "Actual Total Time": 3342.313, + "Actual Rows": 1995, + "Actual Loops": 8, + "Output": ["cn.name", "cc.movie_id", "cc.status_id", "mi_idx.info", "mi_idx.movie_id", "mc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.149, + "Actual Total Time": 3208.397, + "Actual Rows": 2331, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 70.935, + "Actual Total Time": 3346.959, + "Actual Rows": 1776, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 44.643, + "Actual Total Time": 3354.275, + "Actual Rows": 1944, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.861, + "Actual Total Time": 3330.206, + "Actual Rows": 2073, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.312, + "Actual Total Time": 3357.184, + "Actual Rows": 1937, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.735, + "Actual Total Time": 3387.719, + "Actual Rows": 1911, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.335, + "Actual Total Time": 3353.750, + "Actual Rows": 1889, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.74, + "Total Cost": 4113.07, + "Plan Rows": 160, + "Plan Width": 48, + "Actual Startup Time": 11.431, + "Actual Total Time": 748.073, + "Actual Rows": 235579, + "Actual Loops": 8, + "Output": ["cn.name", "cc.movie_id", "cc.status_id", "mi_idx.info", "mi_idx.movie_id", "mc.movie_id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.470, + "Actual Total Time": 700.024, + "Actual Rows": 225556, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.069, + "Actual Total Time": 682.482, + "Actual Rows": 234364, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.983, + "Actual Total Time": 773.782, + "Actual Rows": 235659, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.328, + "Actual Total Time": 708.027, + "Actual Rows": 240079, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.056, + "Actual Total Time": 788.841, + "Actual Rows": 231255, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.493, + "Actual Total Time": 833.687, + "Actual Rows": 236022, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.342, + "Actual Total Time": 770.386, + "Actual Rows": 233810, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.30, + "Total Cost": 4092.52, + "Plan Rows": 16, + "Plan Width": 40, + "Actual Startup Time": 9.843, + "Actual Total Time": 325.491, + "Actual Rows": 3055, + "Actual Loops": 8, + "Output": ["cn.name", "cc.movie_id", "cc.status_id", "mi_idx.info", "mi_idx.movie_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.000, + "Actual Total Time": 280.502, + "Actual Rows": 2718, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.700, + "Actual Total Time": 284.115, + "Actual Rows": 2776, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.165, + "Actual Total Time": 345.783, + "Actual Rows": 3553, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.451, + "Actual Total Time": 324.077, + "Actual Rows": 3271, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.705, + "Actual Total Time": 331.311, + "Actual Rows": 2856, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.070, + "Actual Total Time": 367.700, + "Actual Rows": 3372, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.018, + "Actual Total Time": 345.281, + "Actual Rows": 2985, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.16, + "Total Cost": 4091.74, + "Plan Rows": 16, + "Plan Width": 44, + "Actual Startup Time": 9.794, + "Actual Total Time": 316.252, + "Actual Rows": 3055, + "Actual Loops": 8, + "Output": ["cn.name", "cc.movie_id", "cc.status_id", "mi_idx.info", "mi_idx.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.960, + "Actual Total Time": 272.288, + "Actual Rows": 2718, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.652, + "Actual Total Time": 275.578, + "Actual Rows": 2776, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.083, + "Actual Total Time": 334.908, + "Actual Rows": 3553, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.401, + "Actual Total Time": 314.759, + "Actual Rows": 3271, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.660, + "Actual Total Time": 322.151, + "Actual Rows": 2856, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.022, + "Actual Total Time": 357.876, + "Actual Rows": 3372, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.968, + "Actual Total Time": 335.995, + "Actual Rows": 2985, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.74, + "Total Cost": 4077.18, + "Plan Rows": 31, + "Plan Width": 29, + "Actual Startup Time": 9.630, + "Actual Total Time": 260.781, + "Actual Rows": 3389, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mi_idx.info", "mi_idx.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.658, + "Actual Total Time": 226.840, + "Actual Rows": 3030, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.566, + "Actual Total Time": 225.621, + "Actual Rows": 3094, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.926, + "Actual Total Time": 276.427, + "Actual Rows": 3923, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.342, + "Actual Total Time": 246.333, + "Actual Rows": 3595, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.587, + "Actual Total Time": 274.872, + "Actual Rows": 3117, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.900, + "Actual Total Time": 294.154, + "Actual Rows": 3791, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.501, + "Actual Total Time": 281.809, + "Actual Rows": 3284, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.31, + "Total Cost": 4007.64, + "Plan Rows": 124, + "Plan Width": 17, + "Actual Startup Time": 7.571, + "Actual Total Time": 139.699, + "Actual Rows": 4167, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.310, + "Actual Total Time": 110.523, + "Actual Rows": 3559, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.019, + "Actual Total Time": 119.537, + "Actual Rows": 3172, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.793, + "Actual Total Time": 139.876, + "Actual Rows": 4981, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.273, + "Actual Total Time": 126.623, + "Actual Rows": 4437, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.330, + "Actual Total Time": 166.210, + "Actual Rows": 4113, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.972, + "Actual Total Time": 158.885, + "Actual Rows": 5316, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.822, + "Actual Total Time": 147.078, + "Actual Rows": 3667, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 3967.74, + "Plan Rows": 13972, + "Plan Width": 21, + "Actual Startup Time": 7.408, + "Actual Total Time": 131.940, + "Actual Rows": 12377, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.238, + "Actual Total Time": 104.096, + "Actual Rows": 10521, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.924, + "Actual Total Time": 113.421, + "Actual Rows": 9406, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.628, + "Actual Total Time": 130.744, + "Actual Rows": 14828, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.131, + "Actual Total Time": 117.294, + "Actual Rows": 13099, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.251, + "Actual Total Time": 158.901, + "Actual Rows": 12256, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.784, + "Actual Total Time": 149.387, + "Actual Rows": 15890, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.644, + "Actual Total Time": 140.407, + "Actual Rows": 10894, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 4825, + "Plan Width": 8, + "Actual Startup Time": 6.737, + "Actual Total Time": 17.591, + "Actual Rows": 6143, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.859, + "Actual Total Time": 18.482, + "Actual Rows": 5365, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.790, + "Actual Total Time": 19.521, + "Actual Rows": 5216, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.382, + "Actual Total Time": 13.226, + "Actual Rows": 6475, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.100, + "Actual Total Time": 11.876, + "Actual Rows": 6845, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.125, + "Actual Total Time": 20.862, + "Actual Rows": 6929, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.642, + "Actual Total Time": 15.525, + "Actual Rows": 7400, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.417, + "Actual Total Time": 11.360, + "Actual Rows": 4995, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.032, + "Actual Total Time": 5.769, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 6.352, + "Actual Rows": 20535, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 6.641, + "Actual Rows": 21866, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 3.783, + "Actual Rows": 7400, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.062, + "Actual Total Time": 3.266, + "Actual Rows": 6845, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 7.139, + "Actual Rows": 22200, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 4.619, + "Actual Rows": 9250, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 3.490, + "Actual Rows": 6660, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'crew'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.59, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 2, + "Actual Loops": 49145, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 5365 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 2, + "Actual Loops": 5216 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.017, + "Actual Rows": 2, + "Actual Loops": 6475 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 6845 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 2, + "Actual Loops": 6929 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 7400 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 2, + "Actual Loops": 4995 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 33339, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 5, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 3559 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 3172 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 4981 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 4437 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 4113 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 5316 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 3667 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 27109, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3030 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 3094 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3923 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3595 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 3117 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 3791 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 3284 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 24442, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 2910, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2718, + "Cache Hits": 2717, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2776, + "Cache Hits": 2775, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3553, + "Cache Hits": 3552, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3271, + "Cache Hits": 3270, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2856, + "Cache Hits": 2855, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3372, + "Cache Hits": 3371, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 2985, + "Cache Hits": 2984, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.065, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.102, + "Actual Rows": 77, + "Actual Loops": 24442, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.116, + "Actual Rows": 83, + "Actual Loops": 2718 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.104, + "Actual Rows": 84, + "Actual Loops": 2776 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.087, + "Actual Rows": 66, + "Actual Loops": 3553 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.086, + "Actual Rows": 73, + "Actual Loops": 3271 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.113, + "Actual Rows": 81, + "Actual Loops": 2856 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.106, + "Actual Rows": 70, + "Actual Loops": 3372 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.107, + "Actual Rows": 78, + "Actual Loops": 2985 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1884630, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 225556 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 234364 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 235659 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 240079 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 231255 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 236022 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 233810 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 15957, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2331 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1776 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1944 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2073 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1937 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1911 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1889 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 5756, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1065 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 565 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 794 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 694 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 619 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 642 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 689 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.156, + "Actual Total Time": 0.377, + "Actual Rows": 1, + "Actual Loops": 5608, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 257, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.146, + "Actual Total Time": 0.392, + "Actual Rows": 1, + "Actual Loops": 1063 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.164, + "Actual Total Time": 0.462, + "Actual Rows": 1, + "Actual Loops": 564 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.206, + "Actual Total Time": 0.377, + "Actual Rows": 1, + "Actual Loops": 792 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.403, + "Actual Rows": 1, + "Actual Loops": 634 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.185, + "Actual Total Time": 0.380, + "Actual Rows": 2, + "Actual Loops": 596 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.126, + "Actual Total Time": 0.318, + "Actual Rows": 1, + "Actual Loops": 625 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.160, + "Actual Total Time": 0.374, + "Actual Rows": 1, + "Actual Loops": 670 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 6833, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 1089 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 576 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 904 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 821 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1169 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 831 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 643 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 6156, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text <> 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1050 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 528 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 796 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 723 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1133 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 710 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 568 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1573023350148659030, + "Planning Time": 3801.111, + "Triggers": [ + ], + "Execution Time": 3735.181, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1573023350148659030, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_euro_dark_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'crew'
  AND cct2.kind != 'complete+verified'
  AND cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Germany',
                  'Swedish',
                  'German')
  AND mi_idx.info > '6.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2929.63, + "Total Cost": 2929.64, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 158.851, + "Actual Total Time": 182.439, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2929.57, + "Total Cost": 2929.58, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 154.957, + "Actual Total Time": 182.397, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2928.57, + "Total Cost": 2928.58, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 142.047, + "Actual Total Time": 142.064, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 137.812, + "Actual Total Time": 137.831, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 143.714, + "Actual Total Time": 143.730, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 144.173, + "Actual Total Time": 144.188, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 138.820, + "Actual Total Time": 138.834, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 136.072, + "Actual Total Time": 136.085, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 144.882, + "Actual Total Time": 144.895, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 137.158, + "Actual Total Time": 137.171, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1588.44, + "Total Cost": 2928.41, + "Plan Rows": 21, + "Plan Width": 41, + "Actual Startup Time": 135.812, + "Actual Total Time": 142.028, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 137.804, + "Actual Total Time": 137.822, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 134.458, + "Actual Total Time": 143.615, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.582, + "Actual Total Time": 144.144, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 135.559, + "Actual Total Time": 138.761, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 136.066, + "Actual Total Time": 136.079, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 134.750, + "Actual Total Time": 144.872, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 127.538, + "Actual Total Time": 137.156, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1588.29, + "Total Cost": 2926.67, + "Plan Rows": 32, + "Plan Width": 45, + "Actual Startup Time": 135.585, + "Actual Total Time": 141.951, + "Actual Rows": 28, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "mi_idx.info_type_id", "cn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 137.802, + "Actual Total Time": 137.820, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 132.811, + "Actual Total Time": 143.313, + "Actual Rows": 152, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.534, + "Actual Total Time": 144.059, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 135.517, + "Actual Total Time": 138.635, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 136.065, + "Actual Total Time": 136.077, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 134.714, + "Actual Total Time": 144.820, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 127.494, + "Actual Total Time": 137.110, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1587.87, + "Total Cost": 2911.64, + "Plan Rows": 32, + "Plan Width": 30, + "Actual Startup Time": 135.550, + "Actual Total Time": 141.454, + "Actual Rows": 28, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "mi_idx.info_type_id", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 137.802, + "Actual Total Time": 137.818, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 132.746, + "Actual Total Time": 140.884, + "Actual Rows": 152, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.495, + "Actual Total Time": 143.763, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 135.457, + "Actual Total Time": 137.640, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 136.064, + "Actual Total Time": 136.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 134.661, + "Actual Total Time": 144.633, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 127.435, + "Actual Total Time": 137.049, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1587.73, + "Total Cost": 2910.49, + "Plan Rows": 32, + "Plan Width": 34, + "Actual Startup Time": 135.502, + "Actual Total Time": 141.359, + "Actual Rows": 28, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "mi_idx.info_type_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 137.801, + "Actual Total Time": 137.816, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 132.656, + "Actual Total Time": 140.555, + "Actual Rows": 152, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.423, + "Actual Total Time": 143.653, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 135.368, + "Actual Total Time": 137.474, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 136.064, + "Actual Total Time": 136.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 134.603, + "Actual Total Time": 144.559, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 127.360, + "Actual Total Time": 136.973, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1585.89, + "Total Cost": 2908.56, + "Plan Rows": 32, + "Plan Width": 38, + "Actual Startup Time": 135.343, + "Actual Total Time": 141.176, + "Actual Rows": 28, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "mi_idx.info_type_id", "mi.info_type_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 137.633, + "Actual Total Time": 137.647, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 132.590, + "Actual Total Time": 140.335, + "Actual Rows": 152, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.340, + "Actual Total Time": 143.550, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 135.226, + "Actual Total Time": 137.279, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 135.935, + "Actual Total Time": 135.944, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 134.528, + "Actual Total Time": 144.475, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 127.147, + "Actual Total Time": 136.806, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1585.46, + "Total Cost": 2906.80, + "Plan Rows": 3, + "Plan Width": 50, + "Actual Startup Time": 132.754, + "Actual Total Time": 140.914, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 137.633, + "Actual Total Time": 137.645, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 132.515, + "Actual Total Time": 139.709, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.259, + "Actual Total Time": 143.007, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 125.887, + "Actual Total Time": 136.969, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 127.510, + "Actual Total Time": 135.633, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 134.463, + "Actual Total Time": 144.376, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 124.419, + "Actual Total Time": 136.596, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1585.02, + "Total Cost": 2879.17, + "Plan Rows": 28, + "Plan Width": 42, + "Actual Startup Time": 120.603, + "Actual Total Time": 135.667, + "Actual Rows": 25, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 112.858, + "Actual Total Time": 128.280, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 127.728, + "Actual Total Time": 136.499, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 122.593, + "Actual Total Time": 139.634, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 114.136, + "Actual Total Time": 130.917, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 114.212, + "Actual Total Time": 126.895, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 124.740, + "Actual Total Time": 140.204, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 115.868, + "Actual Total Time": 134.296, + "Actual Rows": 30, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1584.60, + "Total Cost": 2859.55, + "Plan Rows": 39, + "Plan Width": 29, + "Actual Startup Time": 119.124, + "Actual Total Time": 134.781, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 112.794, + "Actual Total Time": 127.515, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 121.561, + "Actual Total Time": 135.556, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 122.135, + "Actual Total Time": 138.938, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 114.062, + "Actual Total Time": 129.981, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 113.907, + "Actual Total Time": 125.866, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 123.246, + "Actual Total Time": 139.125, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 114.262, + "Actual Total Time": 133.298, + "Actual Rows": 41, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1583.53, + "Total Cost": 2858.30, + "Plan Rows": 45, + "Plan Width": 33, + "Actual Startup Time": 119.107, + "Actual Total Time": 134.710, + "Actual Rows": 39, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 112.779, + "Actual Total Time": 127.437, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 121.551, + "Actual Total Time": 135.495, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 122.124, + "Actual Total Time": 138.885, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 114.048, + "Actual Total Time": 129.919, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 113.893, + "Actual Total Time": 125.796, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 123.236, + "Actual Total Time": 139.052, + "Actual Rows": 58, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 114.246, + "Actual Total Time": 133.224, + "Actual Rows": 48, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1583.10, + "Total Cost": 2606.43, + "Plan Rows": 547, + "Plan Width": 8, + "Actual Startup Time": 118.340, + "Actual Total Time": 124.822, + "Actual Rows": 479, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 111.707, + "Actual Total Time": 117.997, + "Actual Rows": 433, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 120.939, + "Actual Total Time": 126.787, + "Actual Rows": 409, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 121.159, + "Actual Total Time": 128.365, + "Actual Rows": 553, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 113.367, + "Actual Total Time": 119.320, + "Actual Rows": 484, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 113.214, + "Actual Total Time": 118.022, + "Actual Rows": 361, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 121.884, + "Actual Total Time": 128.334, + "Actual Rows": 559, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 113.768, + "Actual Total Time": 121.727, + "Actual Rows": 517, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1582.05, + "Total Cost": 2600.58, + "Plan Rows": 888, + "Plan Width": 12, + "Actual Startup Time": 118.319, + "Actual Total Time": 124.325, + "Actual Rows": 777, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 111.674, + "Actual Total Time": 117.527, + "Actual Rows": 706, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 120.924, + "Actual Total Time": 126.360, + "Actual Rows": 705, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 121.150, + "Actual Total Time": 127.816, + "Actual Rows": 894, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 113.348, + "Actual Total Time": 118.824, + "Actual Rows": 766, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 113.183, + "Actual Total Time": 117.634, + "Actual Rows": 603, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 121.875, + "Actual Total Time": 127.768, + "Actual Rows": 917, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 113.751, + "Actual Total Time": 121.200, + "Actual Rows": 834, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1581.01, + "Total Cost": 2584.07, + "Plan Rows": 2861, + "Plan Width": 16, + "Actual Startup Time": 108.770, + "Actual Total Time": 123.098, + "Actual Rows": 2503, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 102.137, + "Actual Total Time": 116.358, + "Actual Rows": 2576, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.464, + "Actual Total Time": 125.237, + "Actual Rows": 2373, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 111.650, + "Actual Total Time": 126.456, + "Actual Rows": 2303, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 103.783, + "Actual Total Time": 117.552, + "Actual Rows": 2934, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.688, + "Actual Total Time": 116.570, + "Actual Rows": 2296, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 112.293, + "Actual Total Time": 126.437, + "Actual Rows": 2533, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 104.199, + "Actual Total Time": 119.976, + "Actual Rows": 2456, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.037, + "Actual Total Time": 4.534, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 4.487, + "Actual Rows": 17945, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.047, + "Actual Total Time": 4.423, + "Actual Rows": 16465, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 4.683, + "Actual Rows": 16095, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 4.353, + "Actual Rows": 17205, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 4.194, + "Actual Rows": 15170, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 4.282, + "Actual Rows": 14985, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 5.101, + "Actual Rows": 18870, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1514.77, + "Total Cost": 1514.77, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 108.459, + "Actual Total Time": 108.461, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2016, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 101.955, + "Actual Total Time": 101.959, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.248, + "Actual Total Time": 111.249, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 111.455, + "Actual Total Time": 111.457, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 103.594, + "Actual Total Time": 103.596, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.472, + "Actual Total Time": 103.474, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 112.130, + "Actual Total Time": 112.131, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 103.980, + "Actual Total Time": 103.981, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.77, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 18.812, + "Actual Total Time": 46.763, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.230, + "Actual Total Time": 26.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 35.494, + "Actual Total Time": 35.495, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.806, + "Actual Total Time": 97.021, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.905, + "Actual Total Time": 27.906, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.780, + "Actual Total Time": 27.781, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.292, + "Actual Total Time": 63.033, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.239, + "Actual Total Time": 28.240, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 18.751, + "Actual Total Time": 18.759, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.229, + "Actual Total Time": 26.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 35.494, + "Actual Total Time": 35.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.636, + "Actual Total Time": 0.644, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.904, + "Actual Total Time": 27.904, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.778, + "Actual Total Time": 27.779, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.121, + "Actual Total Time": 0.132, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.237, + "Actual Total Time": 28.237, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.62, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.154, + "Actual Total Time": 70.673, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.165, + "Actual Total Time": 90.489, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.166, + "Actual Total Time": 59.574, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'crew'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text <> 'complete+verified'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 3832, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 433 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 409 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 553 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 484 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 361 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 559 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 517 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 273, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '6.5'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 23 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 35 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 29 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 31 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 38 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 52 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 41 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.188, + "Actual Total Time": 0.210, + "Actual Rows": 0, + "Actual Loops": 198, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Germany,Swedish,German}'::text[]))", + "Rows Removed by Filter": 139, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.424, + "Actual Total Time": 0.424, + "Actual Rows": 0, + "Actual Loops": 22 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.167, + "Actual Rows": 0, + "Actual Loops": 19 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.100, + "Actual Total Time": 0.196, + "Actual Rows": 0, + "Actual Loops": 17 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.310, + "Actual Total Time": 0.316, + "Actual Rows": 0, + "Actual Loops": 19 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.250, + "Actual Total Time": 0.290, + "Actual Rows": 0, + "Actual Loops": 30 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.082, + "Actual Rows": 0, + "Actual Loops": 50 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.075, + "Actual Rows": 0, + "Actual Loops": 30 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 5, + "Plan Width": 12, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.087, + "Actual Rows": 10, + "Actual Loops": 22, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 19, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.133, + "Actual Rows": 38, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.074, + "Actual Rows": 2, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.090, + "Actual Rows": 16, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.102, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.088, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.072, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.061, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 226, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 152, + "Cache Hits": 151, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 17, + "Cache Hits": 16, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 48, + "Cache Hits": 47, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 8, + "Cache Hits": 7, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.066, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.078, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.061, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.078, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.065, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 226, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 152 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 17 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 48 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 224, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 152, + "Cache Hits": 150, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 17, + "Cache Hits": 16, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 46, + "Cache Hits": 45, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 8, + "Cache Hits": 7, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3210595597316270705, + "Planning Time": 4143.858, + "Triggers": [ + ], + "Execution Time": 182.961, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -3210595597316270705, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_euro_dark_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind = 'complete'
  AND cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4571.33, + "Total Cost": 4571.34, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 505.737, + "Actual Total Time": 538.363, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4571.26, + "Total Cost": 4571.27, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 377.421, + "Actual Total Time": 538.334, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4570.26, + "Total Cost": 4570.27, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 173.749, + "Actual Total Time": 173.764, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.416, + "Actual Total Time": 33.430, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 354.574, + "Actual Total Time": 354.583, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 34.437, + "Actual Total Time": 34.452, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.678, + "Actual Total Time": 34.690, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 488.550, + "Actual Total Time": 488.558, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.106, + "Actual Total Time": 33.119, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 35.073, + "Actual Total Time": 35.086, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 9.96, + "Total Cost": 4561.29, + "Plan Rows": 1196, + "Plan Width": 41, + "Actual Startup Time": 32.587, + "Actual Total Time": 172.849, + "Actual Rows": 1047, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.409, + "Actual Total Time": 33.423, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 48.115, + "Actual Total Time": 352.034, + "Actual Rows": 2983, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 34.432, + "Actual Total Time": 34.446, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.673, + "Actual Total Time": 34.685, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.442, + "Actual Total Time": 486.146, + "Actual Rows": 2848, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.100, + "Actual Total Time": 33.112, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 35.065, + "Actual Total Time": 35.079, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.12, + "Total Cost": 4555.76, + "Plan Rows": 1356, + "Plan Width": 45, + "Actual Startup Time": 32.012, + "Actual Total Time": 171.336, + "Actual Rows": 1186, + "Actual Loops": 8, + "Output": ["cn.name", "t.title", "mi_idx.info", "mi.info_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.745, + "Actual Total Time": 32.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.790, + "Actual Total Time": 349.151, + "Actual Rows": 3397, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.812, + "Actual Total Time": 33.824, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.016, + "Actual Total Time": 34.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.799, + "Actual Total Time": 483.086, + "Actual Rows": 3245, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.469, + "Actual Total Time": 32.480, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.408, + "Actual Total Time": 34.420, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.99, + "Total Cost": 4555.60, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 31.992, + "Actual Total Time": 167.315, + "Actual Rows": 1186, + "Actual Loops": 8, + "Output": ["cn.name", "t.title", "mi_idx.info", "mi.info_type_id", "mc.company_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.744, + "Actual Total Time": 32.754, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.734, + "Actual Total Time": 337.977, + "Actual Rows": 3397, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.811, + "Actual Total Time": 33.822, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.015, + "Actual Total Time": 34.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.724, + "Actual Total Time": 472.446, + "Actual Rows": 3245, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.468, + "Actual Total Time": 32.479, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.407, + "Actual Total Time": 34.418, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.57, + "Total Cost": 4555.13, + "Plan Rows": 1, + "Plan Width": 34, + "Actual Startup Time": 31.965, + "Actual Total Time": 153.813, + "Actual Rows": 1240, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "mi.info_type_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.743, + "Actual Total Time": 32.753, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.653, + "Actual Total Time": 300.519, + "Actual Rows": 3549, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.810, + "Actual Total Time": 33.821, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.014, + "Actual Total Time": 34.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.630, + "Actual Total Time": 437.020, + "Actual Rows": 3412, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.467, + "Actual Total Time": 32.477, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.406, + "Actual Total Time": 34.416, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.14, + "Total Cost": 4554.57, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 24.114, + "Actual Total Time": 147.227, + "Actual Rows": 110, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.742, + "Actual Total Time": 32.752, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.498, + "Actual Total Time": 281.955, + "Actual Rows": 318, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.809, + "Actual Total Time": 33.819, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.013, + "Actual Total Time": 34.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.021, + "Actual Total Time": 419.016, + "Actual Rows": 343, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.466, + "Actual Total Time": 32.475, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.406, + "Actual Total Time": 34.415, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.70, + "Total Cost": 4553.41, + "Plan Rows": 1, + "Plan Width": 38, + "Actual Startup Time": 23.884, + "Actual Total Time": 126.631, + "Actual Rows": 106, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.741, + "Actual Total Time": 32.751, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.864, + "Actual Total Time": 222.727, + "Actual Rows": 319, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.808, + "Actual Total Time": 33.818, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.012, + "Actual Total Time": 34.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.876, + "Actual Total Time": 363.528, + "Actual Rows": 337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.465, + "Actual Total Time": 32.474, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.405, + "Actual Total Time": 34.414, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.86, + "Total Cost": 4551.38, + "Plan Rows": 70, + "Plan Width": 42, + "Actual Startup Time": 23.847, + "Actual Total Time": 126.390, + "Actual Rows": 326, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "cc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.728, + "Actual Total Time": 32.736, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.851, + "Actual Total Time": 222.099, + "Actual Rows": 980, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.796, + "Actual Total Time": 33.805, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.001, + "Actual Total Time": 34.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.719, + "Actual Total Time": 362.835, + "Actual Rows": 1039, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.455, + "Actual Total Time": 32.462, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.393, + "Actual Total Time": 34.400, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.43, + "Total Cost": 4483.33, + "Plan Rows": 132, + "Plan Width": 29, + "Actual Startup Time": 23.815, + "Actual Total Time": 123.621, + "Actual Rows": 115, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.727, + "Actual Total Time": 32.734, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.784, + "Actual Total Time": 214.179, + "Actual Rows": 346, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.795, + "Actual Total Time": 33.803, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.000, + "Actual Total Time": 34.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.571, + "Actual Total Time": 354.376, + "Actual Rows": 368, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.454, + "Actual Total Time": 32.460, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.392, + "Actual Total Time": 34.399, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.39, + "Total Cost": 4481.29, + "Plan Rows": 182, + "Plan Width": 33, + "Actual Startup Time": 23.517, + "Actual Total Time": 123.454, + "Actual Rows": 159, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.714, + "Actual Total Time": 32.720, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.699, + "Actual Total Time": 213.773, + "Actual Rows": 468, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.782, + "Actual Total Time": 33.787, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.986, + "Actual Total Time": 33.991, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.374, + "Actual Total Time": 353.897, + "Actual Rows": 507, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.441, + "Actual Total Time": 32.446, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.378, + "Actual Total Time": 34.383, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.35, + "Total Cost": 4479.04, + "Plan Rows": 223, + "Plan Width": 37, + "Actual Startup Time": 23.499, + "Actual Total Time": 123.228, + "Actual Rows": 195, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.699, + "Actual Total Time": 32.703, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.686, + "Actual Total Time": 213.227, + "Actual Rows": 565, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.767, + "Actual Total Time": 33.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.972, + "Actual Total Time": 33.976, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.346, + "Actual Total Time": 353.205, + "Actual Rows": 650, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.428, + "Actual Total Time": 32.431, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.364, + "Actual Total Time": 34.368, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 3961.61, + "Plan Rows": 1153, + "Plan Width": 25, + "Actual Startup Time": 21.629, + "Actual Total Time": 109.284, + "Actual Rows": 1009, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.698, + "Actual Total Time": 32.702, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.471, + "Actual Total Time": 155.579, + "Actual Rows": 2502, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.766, + "Actual Total Time": 33.769, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.971, + "Actual Total Time": 33.974, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.938, + "Actual Total Time": 318.706, + "Actual Rows": 3653, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.427, + "Actual Total Time": 32.430, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.363, + "Actual Total Time": 34.366, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3954.68, + "Plan Rows": 1391, + "Plan Width": 29, + "Actual Startup Time": 21.490, + "Actual Total Time": 108.038, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["t.title", "t.kind_id", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.672, + "Actual Total Time": 32.674, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.331, + "Actual Total Time": 152.760, + "Actual Rows": 3009, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.743, + "Actual Total Time": 33.745, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.949, + "Actual Total Time": 33.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.201, + "Actual Total Time": 314.342, + "Actual Rows": 4326, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.405, + "Actual Total Time": 32.407, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.339, + "Actual Total Time": 34.342, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.77, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 21.436, + "Actual Total Time": 39.526, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.671, + "Actual Total Time": 32.673, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.255, + "Actual Total Time": 36.178, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.742, + "Actual Total Time": 33.743, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.948, + "Actual Total Time": 33.949, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.981, + "Actual Total Time": 67.808, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.404, + "Actual Total Time": 32.405, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.339, + "Actual Total Time": 34.340, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 21.375, + "Actual Total Time": 21.382, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.670, + "Actual Total Time": 32.671, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.115, + "Actual Total Time": 0.127, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.741, + "Actual Total Time": 33.742, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.947, + "Actual Total Time": 33.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.738, + "Actual Total Time": 0.744, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.403, + "Actual Total Time": 32.404, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 34.337, + "Actual Total Time": 34.338, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.62, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.155, + "Actual Total Time": 44.557, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.137, + "Actual Total Time": 33.594, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.233, + "Actual Total Time": 61.036, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 8073, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2502 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 3653 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.021, + "Actual Rows": 3, + "Actual Loops": 922, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.020, + "Actual Rows": 3, + "Actual Loops": 346 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.020, + "Actual Rows": 3, + "Actual Loops": 368 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.099, + "Actual Total Time": 0.191, + "Actual Rows": 1, + "Actual Loops": 851, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 135, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.099, + "Actual Total Time": 0.184, + "Actual Rows": 1, + "Actual Loops": 319 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.163, + "Actual Rows": 1, + "Actual Loops": 337 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.056, + "Actual Rows": 11, + "Actual Loops": 879, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 13, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.054, + "Actual Rows": 11, + "Actual Loops": 318 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.049, + "Actual Rows": 10, + "Actual Loops": 343 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 9923, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 3549 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 3412 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 9489, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 3397 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 3245 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.069, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5372730239182956237, + "Planning Time": 3785.080, + "Triggers": [ + ], + "Execution Time": 539.007, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 5372730239182956237, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_animation
FROM aka_name AS an,
     complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     info_type AS it3,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     person_info AS pi,
     role_type AS rt,
     title AS t
WHERE cct1.kind ='cast'
  AND cct2.kind ='complete+verified'
  AND chn.name = 'Queen'
  AND ci.note IN ('(voice)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND it3.info = 'trivia'
  AND k.keyword = 'computer-animation'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.title = 'Shrek 2'
  AND t.production_year BETWEEN 2000 AND 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND n.id = pi.person_id
  AND ci.person_id = pi.person_id
  AND it3.id = pi.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1392.46, + "Total Cost": 1392.47, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 73.485, + "Actual Total Time": 73.796, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1392.40, + "Total Cost": 1392.41, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 73.464, + "Actual Total Time": 73.784, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1391.40, + "Total Cost": 1391.41, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 15.100, + "Actual Total Time": 15.113, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.420, + "Actual Total Time": 0.434, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.362, + "Actual Total Time": 0.371, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.369, + "Actual Total Time": 13.382, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.373, + "Actual Total Time": 13.386, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.663, + "Actual Total Time": 1.684, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.948, + "Actual Total Time": 13.963, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.604, + "Actual Total Time": 5.618, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.31, + "Total Cost": 1389.67, + "Plan Rows": 231, + "Plan Width": 48, + "Actual Startup Time": 11.218, + "Actual Total Time": 14.984, + "Actual Rows": 202, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.410, + "Actual Total Time": 0.423, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.356, + "Actual Total Time": 0.364, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.364, + "Actual Total Time": 13.376, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.366, + "Actual Total Time": 13.378, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.654, + "Actual Total Time": 1.673, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.942, + "Actual Total Time": 13.956, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.595, + "Actual Total Time": 5.608, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.27, + "Total Cost": 1387.38, + "Plan Rows": 231, + "Plan Width": 52, + "Actual Startup Time": 10.772, + "Actual Total Time": 14.431, + "Actual Rows": 202, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.061, + "Actual Total Time": 13.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.959, + "Actual Total Time": 12.969, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.895, + "Actual Total Time": 0.912, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.607, + "Actual Total Time": 13.619, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.962, + "Actual Total Time": 4.972, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.13, + "Total Cost": 1387.19, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 10.741, + "Actual Total Time": 12.448, + "Actual Rows": 611, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title", "cc.status_id", "pi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.060, + "Actual Total Time": 13.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.957, + "Actual Total Time": 12.967, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.893, + "Actual Total Time": 0.908, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.606, + "Actual Total Time": 13.616, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.961, + "Actual Total Time": 4.971, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.70, + "Total Cost": 1384.66, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 10.712, + "Actual Total Time": 11.882, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "n.id", "t.title", "ci.person_id", "cc.status_id", "an.person_id"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.059, + "Actual Total Time": 13.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.957, + "Actual Total Time": 12.966, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.891, + "Actual Total Time": 0.906, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.605, + "Actual Total Time": 13.614, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.960, + "Actual Total Time": 4.969, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.28, + "Total Cost": 1384.16, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 10.707, + "Actual Total Time": 11.861, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "n.id", "t.title", "ci.person_id", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.058, + "Actual Total Time": 13.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.956, + "Actual Total Time": 12.965, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.890, + "Actual Total Time": 0.904, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.604, + "Actual Total Time": 13.613, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.959, + "Actual Total Time": 4.968, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.15, + "Total Cost": 1383.99, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 10.704, + "Actual Total Time": 11.850, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "n.id", "t.title", "ci.person_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Join Filter": "(t.id = cc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.057, + "Actual Total Time": 13.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.955, + "Actual Total Time": 12.964, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.889, + "Actual Total Time": 0.901, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.603, + "Actual Total Time": 13.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.958, + "Actual Total Time": 4.967, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.73, + "Total Cost": 1383.54, + "Plan Rows": 1, + "Plan Width": 76, + "Actual Startup Time": 10.700, + "Actual Total Time": 11.829, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "n.id", "mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "mc.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.056, + "Actual Total Time": 13.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.955, + "Actual Total Time": 12.962, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.887, + "Actual Total Time": 0.898, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.602, + "Actual Total Time": 13.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.958, + "Actual Total Time": 4.965, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 1383.36, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 10.697, + "Actual Total Time": 11.817, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "n.id", "mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "mc.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.055, + "Actual Total Time": 13.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.954, + "Actual Total Time": 12.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.886, + "Actual Total Time": 0.896, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.602, + "Actual Total Time": 13.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.957, + "Actual Total Time": 4.964, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 1382.36, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 10.682, + "Actual Total Time": 11.600, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "n.id", "mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.055, + "Actual Total Time": 13.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.953, + "Actual Total Time": 12.960, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.885, + "Actual Total Time": 0.894, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.601, + "Actual Total Time": 13.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.956, + "Actual Total Time": 4.962, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.73, + "Total Cost": 1381.92, + "Plan Rows": 1, + "Plan Width": 76, + "Actual Startup Time": 10.677, + "Actual Total Time": 11.507, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "n.id", "mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.054, + "Actual Total Time": 13.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.953, + "Actual Total Time": 12.958, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.884, + "Actual Total Time": 0.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.600, + "Actual Total Time": 13.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.955, + "Actual Total Time": 4.961, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.30, + "Total Cost": 1381.13, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 10.671, + "Actual Total Time": 11.496, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "n.id", "mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.053, + "Actual Total Time": 13.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.952, + "Actual Total Time": 12.957, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.883, + "Actual Total Time": 0.890, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.600, + "Actual Total Time": 13.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.955, + "Actual Total Time": 4.959, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.16, + "Total Cost": 1380.96, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 10.667, + "Actual Total Time": 11.492, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "n.id", "mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.052, + "Actual Total Time": 13.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.950, + "Actual Total Time": 12.955, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.881, + "Actual Total Time": 0.887, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.598, + "Actual Total Time": 13.603, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.954, + "Actual Total Time": 4.958, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1380.37, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 10.662, + "Actual Total Time": 11.485, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["n.name", "n.id", "mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.052, + "Actual Total Time": 13.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.949, + "Actual Total Time": 12.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.880, + "Actual Total Time": 0.885, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.598, + "Actual Total Time": 13.602, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.953, + "Actual Total Time": 4.956, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1377.66, + "Plan Rows": 5, + "Plan Width": 41, + "Actual Startup Time": 10.526, + "Actual Total Time": 11.338, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.051, + "Actual Total Time": 13.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.949, + "Actual Total Time": 12.952, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.879, + "Actual Total Time": 0.883, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.597, + "Actual Total Time": 13.600, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.952, + "Actual Total Time": 4.955, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1375.93, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 10.518, + "Actual Total Time": 10.960, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.050, + "Actual Total Time": 13.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.948, + "Actual Total Time": 12.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.878, + "Actual Total Time": 0.881, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.596, + "Actual Total Time": 13.599, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.952, + "Actual Total Time": 4.954, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1348.45, + "Plan Rows": 59, + "Plan Width": 4, + "Actual Startup Time": 5.701, + "Actual Total Time": 8.065, + "Actual Rows": 52, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.050, + "Actual Total Time": 13.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.947, + "Actual Total Time": 12.948, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.877, + "Actual Total Time": 0.879, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.596, + "Actual Total Time": 13.597, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.951, + "Actual Total Time": 4.952, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.688, + "Actual Total Time": 5.691, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'computer-animation'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.049, + "Actual Total Time": 13.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.945, + "Actual Total Time": 12.946, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.875, + "Actual Total Time": 0.876, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.595, + "Actual Total Time": 13.595, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.949, + "Actual Total Time": 4.950, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 414, + "Plan Width": 8, + "Actual Startup Time": 0.089, + "Actual Total Time": 18.788, + "Actual Rows": 414, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 414, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010) AND (t.title = 'Shrek 2'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.26, + "Plan Rows": 38, + "Plan Width": 16, + "Actual Startup Time": 0.054, + "Actual Total Time": 2.989, + "Actual Rows": 38, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 191, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 38, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(chn.name = 'Queen'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.061, + "Actual Rows": 22, + "Actual Loops": 1, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 22, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.341, + "Actual Rows": 2, + "Actual Loops": 5, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 455, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 3, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 10, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.72, + "Plan Rows": 145, + "Plan Width": 8, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.098, + "Actual Rows": 163, + "Actual Loops": 30, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it3", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 4890, + "Output": ["it3.id", "it3.info"], + "Index Cond": "(it3.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it3.info)::text = 'trivia'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.079, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1693774000992751456, + "Planning Time": 5816.951, + "Triggers": [ + ], + "Execution Time": 74.577, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1693774000992751456, + "JOINS": 16 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_animation
FROM aka_name AS an,
     complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     info_type AS it3,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     person_info AS pi,
     role_type AS rt,
     title AS t
WHERE cct1.kind ='cast'
  AND cct2.kind ='complete+verified'
  AND chn.name = 'Queen'
  AND ci.note IN ('(voice)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND it3.info = 'height'
  AND k.keyword = 'computer-animation'
  AND mi.info LIKE 'USA:%200%'
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.title = 'Shrek 2'
  AND t.production_year BETWEEN 2000 AND 2005
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND n.id = pi.person_id
  AND ci.person_id = pi.person_id
  AND it3.id = pi.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1392.08, + "Total Cost": 1392.09, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 25.254, + "Actual Total Time": 27.778, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1392.02, + "Total Cost": 1392.03, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 24.646, + "Actual Total Time": 27.758, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1391.02, + "Total Cost": 1391.03, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 10.099, + "Actual Total Time": 10.119, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.296, + "Actual Total Time": 13.315, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.402, + "Actual Total Time": 8.417, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.699, + "Actual Total Time": 6.717, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.994, + "Actual Total Time": 7.019, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.410, + "Actual Total Time": 8.423, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.737, + "Actual Total Time": 6.756, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.889, + "Actual Total Time": 6.908, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.15, + "Total Cost": 1391.00, + "Plan Rows": 2, + "Plan Width": 48, + "Actual Startup Time": 8.513, + "Actual Total Time": 10.108, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.290, + "Actual Total Time": 13.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.397, + "Actual Total Time": 8.410, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.690, + "Actual Total Time": 6.708, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.987, + "Actual Total Time": 7.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.406, + "Actual Total Time": 8.419, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.730, + "Actual Total Time": 6.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.879, + "Actual Total Time": 6.897, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.71, + "Total Cost": 1389.94, + "Plan Rows": 2, + "Plan Width": 36, + "Actual Startup Time": 8.507, + "Actual Total Time": 10.097, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.290, + "Actual Total Time": 13.307, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.396, + "Actual Total Time": 8.409, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.689, + "Actual Total Time": 6.706, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.986, + "Actual Total Time": 7.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.405, + "Actual Total Time": 8.417, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.729, + "Actual Total Time": 6.746, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.879, + "Actual Total Time": 6.895, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.29, + "Total Cost": 1389.44, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 8.503, + "Actual Total Time": 10.084, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "pi.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.289, + "Actual Total Time": 13.303, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.396, + "Actual Total Time": 8.407, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.689, + "Actual Total Time": 6.704, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.985, + "Actual Total Time": 7.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.405, + "Actual Total Time": 8.416, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.728, + "Actual Total Time": 6.743, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.878, + "Actual Total Time": 6.894, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.14, + "Total Cost": 1389.26, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 8.498, + "Actual Total Time": 10.077, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mi.info_type_id", "pi.person_id"], + "Inner Unique": true, + "Hash Cond": "(pi.info_type_id = it3.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.288, + "Actual Total Time": 13.301, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.395, + "Actual Total Time": 8.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.688, + "Actual Total Time": 6.702, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.984, + "Actual Total Time": 7.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.405, + "Actual Total Time": 8.415, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.727, + "Actual Total Time": 6.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.877, + "Actual Total Time": 6.891, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.29, + "Total Cost": 1387.10, + "Plan Rows": 116, + "Plan Width": 56, + "Actual Startup Time": 8.317, + "Actual Total Time": 9.883, + "Actual Rows": 102, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mi.info_type_id", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.215, + "Actual Total Time": 13.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.302, + "Actual Total Time": 8.311, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.555, + "Actual Total Time": 6.567, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.802, + "Actual Total Time": 6.815, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.312, + "Actual Total Time": 8.322, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.597, + "Actual Total Time": 6.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.739, + "Actual Total Time": 6.751, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.86, + "Total Cost": 1384.34, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 8.313, + "Actual Total Time": 9.750, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.214, + "Actual Total Time": 13.225, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.302, + "Actual Total Time": 8.310, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.554, + "Actual Total Time": 6.565, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.801, + "Actual Total Time": 6.813, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.312, + "Actual Total Time": 8.320, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.596, + "Actual Total Time": 6.607, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.738, + "Actual Total Time": 6.749, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.43, + "Total Cost": 1383.41, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 8.296, + "Actual Total Time": 9.475, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.214, + "Actual Total Time": 13.223, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.302, + "Actual Total Time": 8.309, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.554, + "Actual Total Time": 6.564, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.800, + "Actual Total Time": 6.811, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.311, + "Actual Total Time": 8.319, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.595, + "Actual Total Time": 6.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.737, + "Actual Total Time": 6.747, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.28, + "Total Cost": 1383.23, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 8.293, + "Actual Total Time": 9.469, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.213, + "Actual Total Time": 13.221, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.301, + "Actual Total Time": 8.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.553, + "Actual Total Time": 6.561, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.799, + "Actual Total Time": 6.809, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.311, + "Actual Total Time": 8.318, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.594, + "Actual Total Time": 6.604, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.736, + "Actual Total Time": 6.745, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1383.06, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 8.290, + "Actual Total Time": 9.464, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.213, + "Actual Total Time": 13.220, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.300, + "Actual Total Time": 8.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.552, + "Actual Total Time": 6.559, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.799, + "Actual Total Time": 6.807, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.310, + "Actual Total Time": 8.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.594, + "Actual Total Time": 6.601, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.736, + "Actual Total Time": 6.744, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.00, + "Total Cost": 1382.89, + "Plan Rows": 1, + "Plan Width": 76, + "Actual Startup Time": 8.286, + "Actual Total Time": 9.457, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Join Filter": "(t.id = cc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.212, + "Actual Total Time": 13.217, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.300, + "Actual Total Time": 8.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.551, + "Actual Total Time": 6.557, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.798, + "Actual Total Time": 6.805, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.310, + "Actual Total Time": 8.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.593, + "Actual Total Time": 6.599, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.735, + "Actual Total Time": 6.741, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1382.44, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 8.280, + "Actual Total Time": 9.441, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.211, + "Actual Total Time": 13.216, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.299, + "Actual Total Time": 8.304, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.550, + "Actual Total Time": 6.555, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.797, + "Actual Total Time": 6.803, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.309, + "Actual Total Time": 8.313, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.592, + "Actual Total Time": 6.597, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.734, + "Actual Total Time": 6.740, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.16, + "Total Cost": 1381.12, + "Plan Rows": 3, + "Plan Width": 68, + "Actual Startup Time": 8.276, + "Actual Total Time": 9.379, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.211, + "Actual Total Time": 13.214, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.299, + "Actual Total Time": 8.303, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.549, + "Actual Total Time": 6.554, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.796, + "Actual Total Time": 6.801, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.309, + "Actual Total Time": 8.312, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.591, + "Actual Total Time": 6.595, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.733, + "Actual Total Time": 6.738, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1380.34, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 8.270, + "Actual Total Time": 9.366, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.210, + "Actual Total Time": 13.213, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.298, + "Actual Total Time": 8.301, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.548, + "Actual Total Time": 6.552, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.795, + "Actual Total Time": 6.800, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.308, + "Actual Total Time": 8.311, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.590, + "Actual Total Time": 6.593, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.732, + "Actual Total Time": 6.737, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1377.63, + "Plan Rows": 5, + "Plan Width": 41, + "Actual Startup Time": 8.183, + "Actual Total Time": 9.265, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.209, + "Actual Total Time": 13.212, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.297, + "Actual Total Time": 8.300, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.547, + "Actual Total Time": 6.551, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.795, + "Actual Total Time": 6.798, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.308, + "Actual Total Time": 8.309, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.589, + "Actual Total Time": 6.592, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.732, + "Actual Total Time": 6.735, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1375.95, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 8.175, + "Actual Total Time": 9.051, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.208, + "Actual Total Time": 13.210, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.297, + "Actual Total Time": 8.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.546, + "Actual Total Time": 6.549, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.794, + "Actual Total Time": 6.796, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.307, + "Actual Total Time": 8.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.588, + "Actual Total Time": 6.590, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.731, + "Actual Total Time": 6.734, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1348.45, + "Plan Rows": 59, + "Plan Width": 4, + "Actual Startup Time": 7.081, + "Actual Total Time": 7.920, + "Actual Rows": 52, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.208, + "Actual Total Time": 13.209, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.296, + "Actual Total Time": 8.298, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.545, + "Actual Total Time": 6.547, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.793, + "Actual Total Time": 6.794, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.306, + "Actual Total Time": 8.307, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.587, + "Actual Total Time": 6.589, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.730, + "Actual Total Time": 6.732, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 7.070, + "Actual Total Time": 7.563, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'computer-animation'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.207, + "Actual Total Time": 13.207, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.295, + "Actual Total Time": 8.296, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.544, + "Actual Total Time": 6.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.792, + "Actual Total Time": 6.792, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.305, + "Actual Total Time": 8.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.586, + "Actual Total Time": 6.586, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.728, + "Actual Total Time": 6.729, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 414, + "Plan Width": 8, + "Actual Startup Time": 0.074, + "Actual Total Time": 2.655, + "Actual Rows": 414, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 414, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2005) AND (t.title = 'Shrek 2'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.26, + "Plan Rows": 34, + "Plan Width": 16, + "Actual Startup Time": 0.050, + "Actual Total Time": 1.673, + "Actual Rows": 38, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 191, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 38, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.071, + "Actual Rows": 22, + "Actual Loops": 1, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 22, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["rt.id"], + "Cache Key": "ci.role_id", + "Cache Mode": "logical", + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.104, + "Actual Total Time": 0.435, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info ~~ 'USA:%200%'::text)", + "Rows Removed by Filter": 456, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.72, + "Plan Rows": 163, + "Plan Width": 8, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.127, + "Actual Rows": 163, + "Actual Loops": 5, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it3.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it3", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it3.id"], + "Filter": "((it3.info)::text = 'height'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["it.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 3, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 5, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = pi.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.44, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 15, + "Output": ["chn.name", "chn.id"], + "Cache Key": "ci.person_role_id", + "Cache Mode": "logical", + "Cache Hits": 14, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["chn.name", "chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(chn.name = 'Queen'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6571914703387389993, + "Planning Time": 5242.302, + "Triggers": [ + ], + "Execution Time": 28.502, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6571914703387389993, + "JOINS": 16 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_animation
FROM aka_name AS an,
     complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     info_type AS it3,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     person_info AS pi,
     role_type AS rt,
     title AS t
WHERE cct1.kind ='cast'
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND it3.info = 'trivia'
  AND k.keyword = 'computer-animation'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2000 AND 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND n.id = pi.person_id
  AND ci.person_id = pi.person_id
  AND it3.id = pi.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1446.75, + "Total Cost": 1446.76, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 8140.143, + "Actual Total Time": 8140.488, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1446.69, + "Total Cost": 1446.70, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 8140.120, + "Actual Total Time": 8140.476, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1445.69, + "Total Cost": 1445.70, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1025.392, + "Actual Total Time": 1025.407, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.629, + "Actual Total Time": 6.645, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.961, + "Actual Total Time": 14.972, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.171, + "Actual Total Time": 7.187, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.363, + "Actual Total Time": 15.375, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.006, + "Actual Total Time": 4.023, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.029, + "Actual Total Time": 8.045, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.138, + "Actual Total Time": 8.155, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.28, + "Total Cost": 1428.21, + "Plan Rows": 2330, + "Plan Width": 48, + "Actual Startup Time": 252.255, + "Actual Total Time": 1023.859, + "Actual Rows": 2038, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.623, + "Actual Total Time": 6.640, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.958, + "Actual Total Time": 14.969, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.166, + "Actual Total Time": 7.182, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.357, + "Actual Total Time": 15.368, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.997, + "Actual Total Time": 4.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.021, + "Actual Total Time": 8.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.129, + "Actual Total Time": 8.146, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.24, + "Total Cost": 1414.58, + "Plan Rows": 2330, + "Plan Width": 52, + "Actual Startup Time": 251.779, + "Actual Total Time": 1021.956, + "Actual Rows": 2038, + "Actual Loops": 8, + "Output": ["chn.name", "cc.subject_id", "t.title", "n.name"], + "Inner Unique": true, + "Join Filter": "(ci.person_id = n.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.046, + "Actual Total Time": 6.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.710, + "Actual Total Time": 14.720, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.613, + "Actual Total Time": 6.627, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.098, + "Actual Total Time": 15.108, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.308, + "Actual Total Time": 3.323, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.422, + "Actual Total Time": 7.435, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.550, + "Actual Total Time": 7.565, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.81, + "Total Cost": 1414.09, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 68.475, + "Actual Total Time": 946.910, + "Actual Rows": 9624, + "Actual Loops": 8, + "Output": ["chn.name", "pi.person_id", "cc.subject_id", "ci.person_id", "an.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.045, + "Actual Total Time": 6.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.709, + "Actual Total Time": 14.718, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.612, + "Actual Total Time": 6.626, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.096, + "Actual Total Time": 15.105, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.306, + "Actual Total Time": 3.321, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.421, + "Actual Total Time": 7.433, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.549, + "Actual Total Time": 7.563, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.39, + "Total Cost": 1413.65, + "Plan Rows": 1, + "Plan Width": 53, + "Actual Startup Time": 68.453, + "Actual Total Time": 642.848, + "Actual Rows": 44338, + "Actual Loops": 8, + "Output": ["chn.name", "pi.person_id", "cc.subject_id", "ci.person_id", "an.person_id", "t.title", "mc.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.045, + "Actual Total Time": 6.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.709, + "Actual Total Time": 14.717, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.612, + "Actual Total Time": 6.624, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.095, + "Actual Total Time": 15.104, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.305, + "Actual Total Time": 3.319, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.420, + "Actual Total Time": 7.432, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.548, + "Actual Total Time": 7.561, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.96, + "Total Cost": 1412.87, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 68.444, + "Actual Total Time": 592.364, + "Actual Rows": 1763, + "Actual Loops": 8, + "Output": ["chn.name", "pi.person_id", "cc.movie_id", "cc.subject_id", "mk.movie_id", "ci.movie_id", "ci.person_id", "an.person_id", "t.title", "t.id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.044, + "Actual Total Time": 6.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.708, + "Actual Total Time": 14.716, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.611, + "Actual Total Time": 6.623, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.095, + "Actual Total Time": 15.103, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.305, + "Actual Total Time": 3.317, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.419, + "Actual Total Time": 7.430, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.547, + "Actual Total Time": 7.560, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.83, + "Total Cost": 1412.70, + "Plan Rows": 1, + "Plan Width": 73, + "Actual Startup Time": 26.499, + "Actual Total Time": 575.168, + "Actual Rows": 4545, + "Actual Loops": 8, + "Output": ["chn.name", "pi.person_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id", "ci.movie_id", "ci.person_id", "an.person_id", "t.title", "t.id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.043, + "Actual Total Time": 6.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.707, + "Actual Total Time": 14.714, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.610, + "Actual Total Time": 6.620, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.094, + "Actual Total Time": 15.102, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.304, + "Actual Total Time": 3.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.418, + "Actual Total Time": 7.429, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.546, + "Actual Total Time": 7.558, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.69, + "Total Cost": 1412.52, + "Plan Rows": 1, + "Plan Width": 77, + "Actual Startup Time": 26.497, + "Actual Total Time": 554.483, + "Actual Rows": 4545, + "Actual Loops": 8, + "Output": ["chn.name", "pi.person_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id", "ci.movie_id", "ci.person_id", "an.person_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.042, + "Actual Total Time": 6.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.707, + "Actual Total Time": 14.713, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.609, + "Actual Total Time": 6.618, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.094, + "Actual Total Time": 15.101, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.303, + "Actual Total Time": 3.314, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.417, + "Actual Total Time": 7.427, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.546, + "Actual Total Time": 7.557, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.25, + "Total Cost": 1411.52, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 26.487, + "Actual Total Time": 198.287, + "Actual Rows": 1565, + "Actual Loops": 8, + "Output": ["chn.name", "pi.person_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id", "ci.movie_id", "ci.person_id", "an.person_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.041, + "Actual Total Time": 6.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.706, + "Actual Total Time": 14.712, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.608, + "Actual Total Time": 6.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.094, + "Actual Total Time": 15.100, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.302, + "Actual Total Time": 3.313, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.416, + "Actual Total Time": 7.425, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.545, + "Actual Total Time": 7.555, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.11, + "Total Cost": 1410.85, + "Plan Rows": 4, + "Plan Width": 73, + "Actual Startup Time": 26.439, + "Actual Total Time": 173.353, + "Actual Rows": 5851, + "Actual Loops": 8, + "Output": ["chn.name", "pi.person_id", "pi.info_type_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id", "ci.movie_id", "ci.person_id", "an.person_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ci.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.040, + "Actual Total Time": 6.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.706, + "Actual Total Time": 14.711, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.607, + "Actual Total Time": 6.615, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.093, + "Actual Total Time": 15.099, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.302, + "Actual Total Time": 3.311, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.416, + "Actual Total Time": 7.424, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.544, + "Actual Total Time": 7.554, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.68, + "Total Cost": 1406.10, + "Plan Rows": 10, + "Plan Width": 52, + "Actual Startup Time": 12.048, + "Actual Total Time": 114.707, + "Actual Rows": 7166, + "Actual Loops": 8, + "Output": ["chn.name", "pi.person_id", "pi.info_type_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id", "ci.movie_id", "ci.person_id", "an.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.039, + "Actual Total Time": 6.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.705, + "Actual Total Time": 14.710, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.606, + "Actual Total Time": 6.614, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.093, + "Actual Total Time": 15.099, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.301, + "Actual Total Time": 3.310, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.415, + "Actual Total Time": 7.422, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.543, + "Actual Total Time": 7.552, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.25, + "Total Cost": 1403.68, + "Plan Rows": 5, + "Plan Width": 48, + "Actual Startup Time": 12.015, + "Actual Total Time": 89.483, + "Actual Rows": 2359, + "Actual Loops": 8, + "Output": ["chn.name", "pi.person_id", "pi.info_type_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id", "ci.movie_id", "ci.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.038, + "Actual Total Time": 6.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.704, + "Actual Total Time": 14.709, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.605, + "Actual Total Time": 6.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.091, + "Actual Total Time": 15.097, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.300, + "Actual Total Time": 3.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.414, + "Actual Total Time": 7.421, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.542, + "Actual Total Time": 7.550, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.82, + "Total Cost": 1398.63, + "Plan Rows": 10, + "Plan Width": 36, + "Actual Startup Time": 10.826, + "Actual Total Time": 69.369, + "Actual Rows": 2487, + "Actual Loops": 8, + "Output": ["pi.person_id", "pi.info_type_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id", "ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.037, + "Actual Total Time": 6.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.704, + "Actual Total Time": 14.707, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.604, + "Actual Total Time": 6.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.091, + "Actual Total Time": 15.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.299, + "Actual Total Time": 3.307, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.413, + "Actual Total Time": 7.419, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.542, + "Actual Total Time": 7.549, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.39, + "Total Cost": 1395.00, + "Plan Rows": 1, + "Plan Width": 28, + "Actual Startup Time": 10.729, + "Actual Total Time": 42.335, + "Actual Rows": 81, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id", "ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.036, + "Actual Total Time": 6.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.703, + "Actual Total Time": 14.706, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.603, + "Actual Total Time": 6.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.090, + "Actual Total Time": 15.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.298, + "Actual Total Time": 3.304, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.413, + "Actual Total Time": 7.418, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.541, + "Actual Total Time": 7.547, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1393.86, + "Plan Rows": 11, + "Plan Width": 32, + "Actual Startup Time": 7.666, + "Actual Total Time": 42.055, + "Actual Rows": 283, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.020, + "Actual Total Time": 6.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.694, + "Actual Total Time": 14.696, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.589, + "Actual Total Time": 6.592, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.081, + "Actual Total Time": 15.083, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.279, + "Actual Total Time": 3.283, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.396, + "Actual Total Time": 7.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.523, + "Actual Total Time": 7.527, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 1374.87, + "Plan Rows": 13, + "Plan Width": 16, + "Actual Startup Time": 7.628, + "Actual Total Time": 8.660, + "Actual Rows": 11, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.019, + "Actual Total Time": 6.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.693, + "Actual Total Time": 14.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.588, + "Actual Total Time": 6.590, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.080, + "Actual Total Time": 15.082, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.278, + "Actual Total Time": 3.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.395, + "Actual Total Time": 7.398, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.522, + "Actual Total Time": 7.525, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1348.45, + "Plan Rows": 59, + "Plan Width": 4, + "Actual Startup Time": 7.588, + "Actual Total Time": 7.910, + "Actual Rows": 52, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.018, + "Actual Total Time": 6.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.692, + "Actual Total Time": 14.694, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.587, + "Actual Total Time": 6.588, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.080, + "Actual Total Time": 15.081, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.277, + "Actual Total Time": 3.279, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.394, + "Actual Total Time": 7.396, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.522, + "Actual Total Time": 7.524, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 7.580, + "Actual Total Time": 7.584, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'computer-animation'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.016, + "Actual Total Time": 6.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.692, + "Actual Total Time": 14.692, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.586, + "Actual Total Time": 6.586, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.078, + "Actual Total Time": 15.079, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.276, + "Actual Total Time": 3.276, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.393, + "Actual Total Time": 7.394, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.520, + "Actual Total Time": 7.521, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 414, + "Plan Width": 8, + "Actual Startup Time": 0.051, + "Actual Total Time": 2.402, + "Actual Rows": 414, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 414, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.30, + "Plan Rows": 16, + "Plan Width": 16, + "Actual Startup Time": 0.589, + "Actual Total Time": 2.956, + "Actual Rows": 25, + "Actual Loops": 90, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 90, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.72, + "Plan Rows": 291, + "Plan Width": 8, + "Actual Startup Time": 0.239, + "Actual Total Time": 0.322, + "Actual Rows": 31, + "Actual Loops": 646, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 19893, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 3, + "Actual Loops": 18871, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 57328, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it3", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 46805, + "Output": ["it3.id", "it3.info"], + "Index Cond": "(it3.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it3.info)::text = 'trivia'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.226, + "Actual Rows": 3, + "Actual Loops": 12517, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 295, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 36360, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 36360, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 25, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.021, + "Actual Rows": 25, + "Actual Loops": 14102, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 354703, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 76995, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = pi.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3549109824785540005, + "Planning Time": 5336.356, + "Triggers": [ + ], + "Execution Time": 8141.110, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3549109824785540005, + "JOINS": 16 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[de]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9410.35, + "Total Cost": 9410.36, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 866.623, + "Actual Total Time": 903.164, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9410.32, + "Total Cost": 9410.33, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 33.898, + "Actual Total Time": 903.146, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9409.32, + "Total Cost": 9409.33, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 131.706, + "Actual Total Time": 131.712, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.834, + "Actual Total Time": 26.840, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.060, + "Actual Total Time": 27.065, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.554, + "Actual Total Time": 26.558, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.038, + "Actual Total Time": 27.044, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.199, + "Actual Total Time": 27.204, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.002, + "Actual Total Time": 27.007, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 858.789, + "Actual Total Time": 858.792, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3378.75, + "Total Cost": 9406.52, + "Plan Rows": 1119, + "Plan Width": 17, + "Actual Startup Time": 27.036, + "Actual Total Time": 131.230, + "Actual Rows": 979, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.830, + "Actual Total Time": 26.835, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.054, + "Actual Total Time": 27.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.550, + "Actual Total Time": 26.553, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.034, + "Actual Total Time": 27.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.195, + "Actual Total Time": 27.200, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.998, + "Actual Total Time": 27.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.453, + "Actual Total Time": 854.970, + "Actual Rows": 7834, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3378.32, + "Total Cost": 8460.39, + "Plan Rows": 2032, + "Plan Width": 8, + "Actual Startup Time": 27.027, + "Actual Total Time": 121.510, + "Actual Rows": 979, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.829, + "Actual Total Time": 26.834, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.053, + "Actual Total Time": 27.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.549, + "Actual Total Time": 26.552, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.034, + "Actual Total Time": 27.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.194, + "Actual Total Time": 27.199, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.997, + "Actual Total Time": 27.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.388, + "Actual Total Time": 777.227, + "Actual Rows": 7834, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5027.23, + "Plan Rows": 21222, + "Plan Width": 12, + "Actual Startup Time": 5.517, + "Actual Total Time": 94.895, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.company_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.265, + "Actual Total Time": 7.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.262, + "Actual Total Time": 7.264, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.080, + "Actual Total Time": 7.082, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.251, + "Actual Total Time": 7.253, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.235, + "Actual Total Time": 7.237, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.957, + "Actual Total Time": 715.965, + "Actual Rows": 148552, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.71, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 5.462, + "Actual Total Time": 28.593, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.264, + "Actual Total Time": 7.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.261, + "Actual Total Time": 7.262, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.078, + "Actual Total Time": 7.080, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.249, + "Actual Total Time": 7.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.233, + "Actual Total Time": 7.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.527, + "Actual Total Time": 185.561, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.441, + "Actual Total Time": 5.442, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.262, + "Actual Total Time": 7.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.260, + "Actual Total Time": 7.261, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.077, + "Actual Total Time": 7.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.248, + "Actual Total Time": 7.248, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.232, + "Actual Total Time": 7.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.366, + "Actual Total Time": 0.372, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.154, + "Actual Total Time": 176.854, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.154, + "Actual Total Time": 176.854, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.011, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.011, + "Actual Rows": 4, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 1222, + "Plan Width": 4, + "Actual Startup Time": 20.085, + "Actual Total Time": 20.086, + "Actual Rows": 1222, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 640, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.322, + "Actual Total Time": 19.323, + "Actual Rows": 1461, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.561, + "Actual Total Time": 19.561, + "Actual Rows": 1283, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.821, + "Actual Total Time": 18.822, + "Actual Rows": 1069, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.583, + "Actual Total Time": 19.584, + "Actual Rows": 1101, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.701, + "Actual Total Time": 19.702, + "Actual Rows": 764, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.510, + "Actual Total Time": 19.511, + "Actual Rows": 1391, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 18.808, + "Actual Total Time": 18.809, + "Actual Rows": 1035, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1222, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 19.197, + "Actual Rows": 1222, + "Actual Loops": 8, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[de]'::text)", + "Rows Removed by Filter": 28153, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 18.325, + "Actual Rows": 1461, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 18.575, + "Actual Rows": 1283, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 18.003, + "Actual Rows": 1069, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 18.745, + "Actual Rows": 1101, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 19.142, + "Actual Rows": 764, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 18.543, + "Actual Rows": 1391, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 18.027, + "Actual Rows": 1035, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 7834, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 7834 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 11.799, + "Triggers": [ + ], + "Execution Time": 903.398, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[nl]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8100.70, + "Total Cost": 8100.71, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 190.493, + "Actual Total Time": 205.418, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8100.67, + "Total Cost": 8100.68, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 189.886, + "Actual Total Time": 205.395, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8099.67, + "Total Cost": 8099.68, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 180.715, + "Actual Total Time": 180.720, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 176.294, + "Actual Total Time": 176.298, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 181.546, + "Actual Total Time": 181.550, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 181.573, + "Actual Total Time": 181.577, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 181.913, + "Actual Total Time": 181.920, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 181.555, + "Actual Total Time": 181.559, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 172.166, + "Actual Total Time": 172.170, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 181.573, + "Actual Total Time": 181.578, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1838.28, + "Total Cost": 8098.04, + "Plan Rows": 654, + "Plan Width": 17, + "Actual Startup Time": 93.773, + "Actual Total Time": 180.016, + "Actual Rows": 654, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 88.807, + "Actual Total Time": 175.369, + "Actual Rows": 1179, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 94.251, + "Actual Total Time": 180.759, + "Actual Rows": 437, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 94.526, + "Actual Total Time": 180.935, + "Actual Rows": 431, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.973, + "Actual Total Time": 181.308, + "Actual Rows": 325, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.197, + "Actual Total Time": 180.811, + "Actual Rows": 524, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.489, + "Actual Total Time": 171.608, + "Actual Rows": 664, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 93.973, + "Actual Total Time": 180.901, + "Actual Rows": 859, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1837.85, + "Total Cost": 7710.64, + "Plan Rows": 832, + "Plan Width": 8, + "Actual Startup Time": 93.673, + "Actual Total Time": 162.563, + "Actual Rows": 654, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Hash Cond": "(mc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 88.738, + "Actual Total Time": 152.143, + "Actual Rows": 1179, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 94.092, + "Actual Total Time": 162.492, + "Actual Rows": 437, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 94.382, + "Actual Total Time": 164.049, + "Actual Rows": 431, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.884, + "Actual Total Time": 166.986, + "Actual Rows": 325, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.073, + "Actual Total Time": 164.258, + "Actual Rows": 524, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.399, + "Actual Total Time": 156.207, + "Actual Rows": 664, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 93.886, + "Actual Total Time": 162.377, + "Actual Rows": 859, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 5807.15, + "Plan Rows": 17144, + "Plan Width": 4, + "Actual Startup Time": 0.242, + "Actual Total Time": 64.099, + "Actual Rows": 7051, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.187, + "Actual Total Time": 58.213, + "Actual Rows": 8485, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.282, + "Actual Total Time": 62.856, + "Actual Rows": 4825, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.385, + "Actual Total Time": 64.720, + "Actual Rows": 5696, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.188, + "Actual Total Time": 68.055, + "Actual Rows": 4429, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.281, + "Actual Total Time": 65.467, + "Actual Rows": 4955, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.185, + "Actual Total Time": 66.907, + "Actual Rows": 7848, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.226, + "Actual Total Time": 63.252, + "Actual Rows": 8801, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 293, + "Plan Width": 4, + "Actual Startup Time": 0.073, + "Actual Total Time": 15.976, + "Actual Rows": 292, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[nl]'::text)", + "Rows Removed by Filter": 29082, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.059, + "Actual Total Time": 10.964, + "Actual Rows": 258, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.053, + "Actual Total Time": 12.591, + "Actual Rows": 201, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.204, + "Actual Total Time": 17.267, + "Actual Rows": 258, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 17.793, + "Actual Rows": 300, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 17.852, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 19.400, + "Actual Rows": 345, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 15.769, + "Actual Rows": 342, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 8.26, + "Plan Rows": 8, + "Plan Width": 8, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.151, + "Actual Rows": 24, + "Actual Loops": 2340, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.169, + "Actual Rows": 33, + "Actual Loops": 258 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.231, + "Actual Rows": 24, + "Actual Loops": 201 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.168, + "Actual Rows": 22, + "Actual Loops": 258 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.155, + "Actual Rows": 15, + "Actual Loops": 300 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.159, + "Actual Rows": 18, + "Actual Loops": 276 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.127, + "Actual Rows": 23, + "Actual Loops": 345 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.128, + "Actual Rows": 26, + "Actual Loops": 342 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1762.71, + "Total Cost": 1762.71, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 92.208, + "Actual Total Time": 92.210, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2176, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 87.920, + "Actual Total Time": 87.922, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 93.220, + "Actual Total Time": 93.221, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 93.211, + "Actual Total Time": 93.212, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 93.242, + "Actual Total Time": 93.245, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.214, + "Actual Total Time": 93.215, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 83.815, + "Actual Total Time": 83.817, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 93.234, + "Actual Total Time": 93.236, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.71, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 5.939, + "Actual Total Time": 15.675, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.205, + "Actual Total Time": 3.206, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.503, + "Actual Total Time": 8.504, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.497, + "Actual Total Time": 8.498, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.543, + "Actual Total Time": 8.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.515, + "Actual Total Time": 8.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.538, + "Actual Total Time": 8.538, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.924, + "Actual Total Time": 5.926, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.204, + "Actual Total Time": 3.204, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.502, + "Actual Total Time": 8.502, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.495, + "Actual Total Time": 8.496, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.542, + "Actual Total Time": 8.542, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.514, + "Actual Total Time": 8.514, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.536, + "Actual Total Time": 8.536, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.095, + "Actual Total Time": 69.032, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 5228, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1179 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 437 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 431 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 325 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 524 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 664 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 859 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 11.656, + "Triggers": [ + ], + "Execution Time": 205.633, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[sm]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5189.90, + "Total Cost": 5189.91, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 112.639, + "Actual Total Time": 137.089, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3404.23, + "Total Cost": 5189.90, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 112.633, + "Actual Total Time": 137.080, + "Actual Rows": 0, + "Actual Loops": 1, + "Output": ["t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3403.23, + "Total Cost": 5188.90, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 35.341, + "Actual Total Time": 35.347, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.728, + "Actual Total Time": 23.734, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.994, + "Actual Total Time": 22.999, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.765, + "Actual Total Time": 23.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.170, + "Actual Total Time": 25.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 105.311, + "Actual Total Time": 105.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 25.108, + "Actual Total Time": 25.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.160, + "Actual Total Time": 25.165, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3402.80, + "Total Cost": 5187.50, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 35.340, + "Actual Total Time": 35.345, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Hash Cond": "(mk.movie_id = mc.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.728, + "Actual Total Time": 23.733, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.994, + "Actual Total Time": 22.998, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.765, + "Actual Total Time": 23.769, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.169, + "Actual Total Time": 25.172, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 105.311, + "Actual Total Time": 105.314, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 25.107, + "Actual Total Time": 25.112, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.159, + "Actual Total Time": 25.164, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.71, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 7.865, + "Actual Total Time": 17.875, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.550, + "Actual Total Time": 9.551, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.549, + "Actual Total Time": 9.550, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.527, + "Actual Total Time": 9.529, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.276, + "Actual Total Time": 8.277, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.608, + "Actual Total Time": 80.678, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.546, + "Actual Total Time": 9.547, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.338, + "Actual Total Time": 6.339, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 7.847, + "Actual Total Time": 7.848, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.549, + "Actual Total Time": 9.550, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.547, + "Actual Total Time": 9.548, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.526, + "Actual Total Time": 9.527, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.275, + "Actual Total Time": 8.275, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.474, + "Actual Total Time": 0.483, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.545, + "Actual Total Time": 9.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.336, + "Actual Total Time": 6.337, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.126, + "Actual Total Time": 70.797, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.126, + "Actual Total Time": 70.797, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3402.28, + "Total Cost": 3402.28, + "Plan Rows": 7, + "Plan Width": 4, + "Actual Startup Time": 15.321, + "Actual Total Time": 15.323, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.784, + "Actual Total Time": 13.786, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.057, + "Actual Total Time": 13.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.716, + "Actual Total Time": 13.719, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.197, + "Actual Total Time": 15.199, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.943, + "Actual Total Time": 14.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.170, + "Actual Total Time": 15.173, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.188, + "Actual Total Time": 15.190, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3402.28, + "Plan Rows": 7, + "Plan Width": 4, + "Actual Startup Time": 13.673, + "Actual Total Time": 15.178, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.608, + "Actual Total Time": 13.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.906, + "Actual Total Time": 12.908, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.566, + "Actual Total Time": 13.568, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.121, + "Actual Total Time": 15.122, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.786, + "Actual Total Time": 14.787, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.967, + "Actual Total Time": 14.999, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.036, + "Actual Total Time": 15.038, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 13.660, + "Actual Total Time": 15.163, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[sm]'::text)", + "Rows Removed by Filter": 29374, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.607, + "Actual Total Time": 13.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.905, + "Actual Total Time": 12.906, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.565, + "Actual Total Time": 13.565, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.120, + "Actual Total Time": 15.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.785, + "Actual Total Time": 14.785, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.872, + "Actual Total Time": 14.891, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.035, + "Actual Total Time": 15.035, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 40.02, + "Plan Rows": 8, + "Plan Width": 8, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.094, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.094, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 14.842, + "Triggers": [ + ], + "Execution Time": 137.318, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11311.77, + "Total Cost": 11311.78, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1220.270, + "Actual Total Time": 1262.117, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11311.74, + "Total Cost": 11311.75, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 40.957, + "Actual Total Time": 1262.093, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11310.74, + "Total Cost": 11310.75, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 179.952, + "Actual Total Time": 179.959, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.359, + "Actual Total Time": 32.363, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.980, + "Actual Total Time": 31.986, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.446, + "Actual Total Time": 32.451, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.031, + "Actual Total Time": 27.036, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1211.477, + "Actual Total Time": 1211.483, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.196, + "Actual Total Time": 32.202, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.653, + "Actual Total Time": 32.659, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3495.78, + "Total Cost": 11286.37, + "Plan Rows": 9750, + "Plan Width": 17, + "Actual Startup Time": 31.782, + "Actual Total Time": 176.707, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.355, + "Actual Total Time": 32.359, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.977, + "Actual Total Time": 31.983, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.442, + "Actual Total Time": 32.447, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.027, + "Actual Total Time": 27.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.143, + "Actual Total Time": 1185.501, + "Actual Rows": 68316, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.191, + "Actual Total Time": 32.196, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.648, + "Actual Total Time": 32.654, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3495.35, + "Total Cost": 8577.42, + "Plan Rows": 5818, + "Plan Width": 8, + "Actual Startup Time": 31.766, + "Actual Total Time": 106.960, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.354, + "Actual Total Time": 32.358, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.977, + "Actual Total Time": 31.981, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.441, + "Actual Total Time": 32.445, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.026, + "Actual Total Time": 27.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.025, + "Actual Total Time": 627.538, + "Actual Rows": 68316, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.189, + "Actual Total Time": 32.194, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.648, + "Actual Total Time": 32.652, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5027.23, + "Plan Rows": 21222, + "Plan Width": 12, + "Actual Startup Time": 6.400, + "Actual Total Time": 71.683, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.company_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.243, + "Actual Total Time": 7.245, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.239, + "Actual Total Time": 7.242, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.266, + "Actual Total Time": 7.269, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.234, + "Actual Total Time": 7.236, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.482, + "Actual Total Time": 522.730, + "Actual Rows": 148552, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.231, + "Actual Total Time": 7.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.250, + "Actual Total Time": 7.252, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.71, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.390, + "Actual Total Time": 14.739, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.242, + "Actual Total Time": 7.243, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.238, + "Actual Total Time": 7.240, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.265, + "Actual Total Time": 7.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.233, + "Actual Total Time": 7.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.408, + "Actual Total Time": 67.191, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.231, + "Actual Total Time": 7.233, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.249, + "Actual Total Time": 7.250, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.373, + "Actual Total Time": 6.375, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.241, + "Actual Total Time": 7.242, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.237, + "Actual Total Time": 7.238, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.265, + "Actual Total Time": 7.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.232, + "Actual Total Time": 7.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.282, + "Actual Total Time": 0.290, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.230, + "Actual Total Time": 7.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.248, + "Actual Total Time": 7.249, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.120, + "Actual Total Time": 57.837, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.120, + "Actual Total Time": 57.837, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 10584, + "Plan Width": 4, + "Actual Startup Time": 24.331, + "Actual Total Time": 24.332, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4480, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.815, + "Actual Total Time": 24.816, + "Actual Rows": 11055, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.462, + "Actual Total Time": 24.462, + "Actual Rows": 11056, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.903, + "Actual Total Time": 24.904, + "Actual Rows": 11117, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.493, + "Actual Total Time": 19.494, + "Actual Rows": 8519, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.210, + "Actual Total Time": 25.211, + "Actual Rows": 10795, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 24.720, + "Actual Total Time": 24.721, + "Actual Rows": 10976, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.147, + "Actual Total Time": 25.148, + "Actual Rows": 11079, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10584, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 17.141, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 17.849, + "Actual Rows": 11055, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 17.442, + "Actual Rows": 11056, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 17.233, + "Actual Rows": 11117, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 13.293, + "Actual Rows": 8519, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 18.379, + "Actual Rows": 10795, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 17.342, + "Actual Rows": 10976, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 17.428, + "Actual Rows": 11079, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 68316, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 68316 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 26.702, + "Triggers": [ + ], + "Execution Time": 1262.550, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS complete_violent_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.production_year > 2000
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4697.85, + "Total Cost": 4697.86, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 657.823, + "Actual Total Time": 685.941, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4697.77, + "Total Cost": 4697.78, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 650.554, + "Actual Total Time": 685.887, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4696.77, + "Total Cost": 4696.78, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 639.920, + "Actual Total Time": 639.936, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 635.476, + "Actual Total Time": 635.487, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 641.468, + "Actual Total Time": 641.479, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 636.070, + "Actual Total Time": 636.082, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 636.800, + "Actual Total Time": 636.813, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 642.721, + "Actual Total Time": 642.743, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 638.233, + "Actual Total Time": 638.247, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 639.003, + "Actual Total Time": 639.016, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1715.79, + "Total Cost": 4695.69, + "Plan Rows": 108, + "Plan Width": 79, + "Actual Startup Time": 158.121, + "Actual Total Time": 639.600, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 174.754, + "Actual Total Time": 635.174, + "Actual Rows": 105, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 272.408, + "Actual Total Time": 641.220, + "Actual Rows": 69, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 112.423, + "Actual Total Time": 635.775, + "Actual Rows": 82, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 133.608, + "Actual Total Time": 636.454, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 114.377, + "Actual Total Time": 642.347, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 169.787, + "Actual Total Time": 637.822, + "Actual Rows": 114, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 165.110, + "Actual Total Time": 638.763, + "Actual Rows": 69, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1713.94, + "Total Cost": 4693.56, + "Plan Rows": 108, + "Plan Width": 83, + "Actual Startup Time": 157.611, + "Actual Total Time": 638.873, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["n.name", "t.title", "mi_idx.info", "mi.info", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 174.198, + "Actual Total Time": 634.421, + "Actual Rows": 105, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 272.079, + "Actual Total Time": 640.729, + "Actual Rows": 69, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 111.862, + "Actual Total Time": 635.014, + "Actual Rows": 82, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 133.035, + "Actual Total Time": 635.645, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 113.819, + "Actual Total Time": 641.517, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 169.186, + "Actual Total Time": 636.964, + "Actual Rows": 114, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 164.522, + "Actual Total Time": 638.014, + "Actual Rows": 69, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1713.51, + "Total Cost": 4529.55, + "Plan Rows": 176, + "Plan Width": 57, + "Actual Startup Time": 122.310, + "Actual Total Time": 594.741, + "Actual Rows": 154, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "ci.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 144.298, + "Actual Total Time": 596.712, + "Actual Rows": 161, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 120.065, + "Actual Total Time": 602.094, + "Actual Rows": 138, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 111.797, + "Actual Total Time": 600.051, + "Actual Rows": 119, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 108.536, + "Actual Total Time": 583.060, + "Actual Rows": 172, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 113.449, + "Actual Total Time": 579.206, + "Actual Rows": 180, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 128.833, + "Actual Total Time": 595.071, + "Actual Rows": 161, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 129.374, + "Actual Total Time": 601.584, + "Actual Rows": 123, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1713.08, + "Total Cost": 4403.17, + "Plan Rows": 248, + "Plan Width": 46, + "Actual Startup Time": 118.170, + "Actual Total Time": 589.332, + "Actual Rows": 217, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "ci.movie_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 130.416, + "Actual Total Time": 591.310, + "Actual Rows": 226, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 119.970, + "Actual Total Time": 597.256, + "Actual Rows": 186, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 111.692, + "Actual Total Time": 594.618, + "Actual Rows": 203, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 108.445, + "Actual Total Time": 577.527, + "Actual Rows": 236, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 113.318, + "Actual Total Time": 573.327, + "Actual Rows": 226, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 115.694, + "Actual Total Time": 589.413, + "Actual Rows": 228, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 123.778, + "Actual Total Time": 597.091, + "Actual Rows": 178, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1712.64, + "Total Cost": 4011.00, + "Plan Rows": 289, + "Plan Width": 38, + "Actual Startup Time": 108.850, + "Actual Total Time": 167.996, + "Actual Rows": 253, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 105.211, + "Actual Total Time": 165.790, + "Actual Rows": 264, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.719, + "Actual Total Time": 180.967, + "Actual Rows": 266, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 106.245, + "Actual Total Time": 163.590, + "Actual Rows": 273, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 106.344, + "Actual Total Time": 165.031, + "Actual Rows": 247, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 106.718, + "Actual Total Time": 160.138, + "Actual Rows": 221, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.990, + "Actual Total Time": 165.144, + "Actual Rows": 254, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 107.943, + "Actual Total Time": 169.047, + "Actual Rows": 236, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1710.79, + "Total Cost": 4006.75, + "Plan Rows": 881, + "Plan Width": 42, + "Actual Startup Time": 108.823, + "Actual Total Time": 167.124, + "Actual Rows": 771, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 105.186, + "Actual Total Time": 164.927, + "Actual Rows": 811, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.703, + "Actual Total Time": 180.072, + "Actual Rows": 811, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 106.220, + "Actual Total Time": 162.670, + "Actual Rows": 832, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 106.319, + "Actual Total Time": 164.177, + "Actual Rows": 747, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 106.695, + "Actual Total Time": 159.334, + "Actual Rows": 679, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.966, + "Actual Total Time": 164.291, + "Actual Rows": 777, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 107.917, + "Actual Total Time": 168.187, + "Actual Rows": 714, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1710.37, + "Total Cost": 3859.43, + "Plan Rows": 290, + "Plan Width": 29, + "Actual Startup Time": 108.691, + "Actual Total Time": 159.871, + "Actual Rows": 253, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.909, + "Actual Total Time": 157.883, + "Actual Rows": 264, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.650, + "Actual Total Time": 172.788, + "Actual Rows": 266, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 106.150, + "Actual Total Time": 155.047, + "Actual Rows": 273, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.985, + "Actual Total Time": 156.205, + "Actual Rows": 247, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 106.620, + "Actual Total Time": 152.486, + "Actual Rows": 221, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.885, + "Actual Total Time": 156.553, + "Actual Rows": 254, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 107.801, + "Actual Total Time": 161.600, + "Actual Rows": 240, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1709.94, + "Total Cost": 2784.74, + "Plan Rows": 2334, + "Plan Width": 8, + "Actual Startup Time": 108.296, + "Actual Total Time": 129.998, + "Actual Rows": 2042, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.834, + "Actual Total Time": 126.961, + "Actual Rows": 2004, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.232, + "Actual Total Time": 136.543, + "Actual Rows": 2558, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 105.651, + "Actual Total Time": 126.167, + "Actual Rows": 1941, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.908, + "Actual Total Time": 126.798, + "Actual Rows": 2071, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 106.292, + "Actual Total Time": 125.769, + "Actual Rows": 1788, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.533, + "Actual Total Time": 127.946, + "Actual Rows": 1967, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 106.523, + "Actual Total Time": 130.622, + "Actual Rows": 2147, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1708.90, + "Total Cost": 2771.08, + "Plan Rows": 2334, + "Plan Width": 12, + "Actual Startup Time": 108.279, + "Actual Total Time": 128.289, + "Actual Rows": 2042, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.820, + "Actual Total Time": 125.259, + "Actual Rows": 2004, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.222, + "Actual Total Time": 134.478, + "Actual Rows": 2558, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 105.636, + "Actual Total Time": 124.547, + "Actual Rows": 1941, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.893, + "Actual Total Time": 125.061, + "Actual Rows": 2071, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 106.276, + "Actual Total Time": 124.297, + "Actual Rows": 1788, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.518, + "Actual Total Time": 126.220, + "Actual Rows": 1967, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 106.507, + "Actual Total Time": 128.849, + "Actual Rows": 2147, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1707.85, + "Total Cost": 2742.22, + "Plan Rows": 5144, + "Plan Width": 16, + "Actual Startup Time": 108.258, + "Actual Total Time": 125.745, + "Actual Rows": 4501, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.803, + "Actual Total Time": 122.729, + "Actual Rows": 4522, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.207, + "Actual Total Time": 131.388, + "Actual Rows": 5493, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 105.610, + "Actual Total Time": 122.083, + "Actual Rows": 4292, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.869, + "Actual Total Time": 122.498, + "Actual Rows": 4403, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 106.256, + "Actual Total Time": 122.090, + "Actual Rows": 3857, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.498, + "Actual Total Time": 123.743, + "Actual Rows": 4435, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 106.486, + "Actual Total Time": 126.147, + "Actual Rows": 4918, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.022, + "Actual Total Time": 4.172, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 4.291, + "Actual Rows": 17390, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 4.698, + "Actual Rows": 19610, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 3.969, + "Actual Rows": 15540, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 4.031, + "Actual Rows": 15910, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 3.791, + "Actual Rows": 14245, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 4.125, + "Actual Rows": 16835, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 4.676, + "Actual Rows": 19980, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1570.87, + "Total Cost": 1570.87, + "Plan Rows": 10959, + "Plan Width": 4, + "Actual Startup Time": 107.794, + "Actual Total Time": 107.796, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4128, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.634, + "Actual Total Time": 104.636, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.125, + "Actual Total Time": 111.126, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 105.511, + "Actual Total Time": 105.512, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.775, + "Actual Total Time": 105.778, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 105.669, + "Actual Total Time": 105.672, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.389, + "Actual Total Time": 106.391, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 106.397, + "Actual Total Time": 106.399, + "Actual Rows": 12628, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1570.87, + "Plan Rows": 10959, + "Plan Width": 4, + "Actual Startup Time": 15.969, + "Actual Total Time": 67.114, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 58.993, + "Actual Total Time": 58.994, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.752, + "Actual Total Time": 80.656, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.267, + "Actual Total Time": 54.695, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.503, + "Actual Total Time": 89.450, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 60.015, + "Actual Total Time": 60.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.412, + "Actual Total Time": 53.160, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.309, + "Actual Total Time": 75.947, + "Actual Rows": 12628, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 15.807, + "Actual Total Time": 16.969, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 58.992, + "Actual Total Time": 58.992, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.473, + "Actual Total Time": 0.502, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.987, + "Actual Total Time": 9.408, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.290, + "Actual Total Time": 1.298, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 60.014, + "Actual Total Time": 60.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.210, + "Actual Total Time": 1.934, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.099, + "Actual Total Time": 1.177, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.89, + "Plan Rows": 10959, + "Plan Width": 8, + "Actual Startup Time": 0.196, + "Actual Total Time": 52.935, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.274, + "Actual Total Time": 73.779, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.274, + "Actual Total Time": 42.742, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.207, + "Actual Total Time": 80.107, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.194, + "Actual Total Time": 47.455, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.159, + "Actual Total Time": 34.286, + "Actual Rows": 6314, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 16336, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2004 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2558 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1941 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2071 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1788 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1967 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2147 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.024, + "Actual Rows": 3, + "Actual Loops": 2027, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.022, + "Actual Rows": 3, + "Actual Loops": 264 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.023, + "Actual Rows": 3, + "Actual Loops": 266 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.024, + "Actual Rows": 3, + "Actual Loops": 273 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.028, + "Actual Rows": 3, + "Actual Loops": 247 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.026, + "Actual Rows": 3, + "Actual Loops": 221 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.026, + "Actual Rows": 3, + "Actual Loops": 254 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.023, + "Actual Rows": 3, + "Actual Loops": 240 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 1.225, + "Actual Total Time": 1.663, + "Actual Rows": 1, + "Actual Loops": 2023, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 137, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.281, + "Actual Total Time": 1.609, + "Actual Rows": 1, + "Actual Loops": 264 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.172, + "Actual Total Time": 1.562, + "Actual Rows": 1, + "Actual Loops": 266 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.156, + "Actual Total Time": 1.576, + "Actual Rows": 1, + "Actual Loops": 273 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.156, + "Actual Total Time": 1.667, + "Actual Rows": 1, + "Actual Loops": 247 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.310, + "Actual Total Time": 1.867, + "Actual Rows": 1, + "Actual Loops": 221 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.231, + "Actual Total Time": 1.668, + "Actual Rows": 1, + "Actual Loops": 254 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.407, + "Actual Total Time": 1.811, + "Actual Rows": 1, + "Actual Loops": 236 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1736, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 226 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 186 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 203 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 236 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 226 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 228 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 178 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.209, + "Actual Total Time": 0.283, + "Actual Rows": 1, + "Actual Loops": 1235, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 238, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.172, + "Actual Total Time": 0.232, + "Actual Rows": 1, + "Actual Loops": 161 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.218, + "Actual Total Time": 0.277, + "Actual Rows": 0, + "Actual Loops": 138 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.197, + "Actual Total Time": 0.291, + "Actual Rows": 1, + "Actual Loops": 119 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.210, + "Actual Total Time": 0.303, + "Actual Rows": 1, + "Actual Loops": 172 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.252, + "Actual Total Time": 0.344, + "Actual Rows": 1, + "Actual Loops": 180 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.195, + "Actual Total Time": 0.257, + "Actual Rows": 1, + "Actual Loops": 161 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.231, + "Actual Total Time": 0.294, + "Actual Rows": 1, + "Actual Loops": 123 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6682106289455670140, + "Planning Time": 3096.180, + "Triggers": [ + ], + "Execution Time": 686.384, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6682106289455670140, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS complete_gore_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.production_year > 2000
  AND (t.title LIKE '%Freddy%'
       OR t.title LIKE '%Jason%'
       OR t.title LIKE 'Saw%')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3892.94, + "Total Cost": 3892.95, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 92.027, + "Actual Total Time": 103.416, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3892.86, + "Total Cost": 3892.87, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 91.379, + "Actual Total Time": 103.393, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3891.86, + "Total Cost": 3891.87, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 78.807, + "Actual Total Time": 78.817, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.243, + "Actual Total Time": 76.253, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 81.873, + "Actual Total Time": 81.882, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 76.395, + "Actual Total Time": 76.402, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 76.271, + "Actual Total Time": 76.281, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.874, + "Actual Total Time": 76.884, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.746, + "Actual Total Time": 76.754, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 75.642, + "Actual Total Time": 75.652, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.38, + "Total Cost": 3891.82, + "Plan Rows": 4, + "Plan Width": 79, + "Actual Startup Time": 67.585, + "Actual Total Time": 78.801, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.237, + "Actual Total Time": 76.246, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 50.516, + "Actual Total Time": 81.843, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 76.391, + "Actual Total Time": 76.398, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 76.265, + "Actual Total Time": 76.273, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.868, + "Actual Total Time": 76.877, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.740, + "Actual Total Time": 76.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 75.637, + "Actual Total Time": 75.646, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.96, + "Total Cost": 3891.36, + "Plan Rows": 1, + "Plan Width": 83, + "Actual Startup Time": 67.465, + "Actual Total Time": 77.134, + "Actual Rows": 132, + "Actual Loops": 8, + "Output": ["n.name", "t.title", "mi_idx.info", "mi.info", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.236, + "Actual Total Time": 76.245, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 49.653, + "Actual Total Time": 77.905, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 76.390, + "Actual Total Time": 76.397, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 76.264, + "Actual Total Time": 76.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.867, + "Actual Total Time": 76.876, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.739, + "Actual Total Time": 76.746, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 75.636, + "Actual Total Time": 75.645, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.53, + "Total Cost": 3889.78, + "Plan Rows": 1, + "Plan Width": 99, + "Actual Startup Time": 67.442, + "Actual Total Time": 76.920, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["n.name", "cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id", "ci.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.236, + "Actual Total Time": 76.243, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 49.551, + "Actual Total Time": 77.386, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 76.389, + "Actual Total Time": 76.395, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 76.263, + "Actual Total Time": 76.271, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.866, + "Actual Total Time": 76.874, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.738, + "Actual Total Time": 76.745, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 75.635, + "Actual Total Time": 75.643, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.10, + "Total Cost": 3889.27, + "Plan Rows": 1, + "Plan Width": 88, + "Actual Startup Time": 67.428, + "Actual Total Time": 76.890, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id", "ci.movie_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.235, + "Actual Total Time": 76.242, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 49.481, + "Actual Total Time": 77.264, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 76.389, + "Actual Total Time": 76.394, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 76.263, + "Actual Total Time": 76.269, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.865, + "Actual Total Time": 76.873, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.737, + "Actual Total Time": 76.744, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 75.635, + "Actual Total Time": 75.642, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.66, + "Total Cost": 3887.75, + "Plan Rows": 1, + "Plan Width": 80, + "Actual Startup Time": 67.344, + "Actual Total Time": 76.636, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.234, + "Actual Total Time": 76.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 49.199, + "Actual Total Time": 76.606, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 76.388, + "Actual Total Time": 76.393, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 76.262, + "Actual Total Time": 76.268, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.865, + "Actual Total Time": 76.871, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.737, + "Actual Total Time": 76.742, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 75.634, + "Actual Total Time": 75.640, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.52, + "Total Cost": 3887.56, + "Plan Rows": 1, + "Plan Width": 84, + "Actual Startup Time": 67.339, + "Actual Total Time": 76.629, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.233, + "Actual Total Time": 76.239, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 49.181, + "Actual Total Time": 76.587, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 76.387, + "Actual Total Time": 76.391, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 76.262, + "Actual Total Time": 76.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.864, + "Actual Total Time": 76.870, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.736, + "Actual Total Time": 76.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 75.633, + "Actual Total Time": 75.639, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.08, + "Total Cost": 3886.53, + "Plan Rows": 1, + "Plan Width": 34, + "Actual Startup Time": 67.240, + "Actual Total Time": 76.483, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.233, + "Actual Total Time": 76.237, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 48.944, + "Actual Total Time": 75.989, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 76.387, + "Actual Total Time": 76.390, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 76.261, + "Actual Total Time": 76.266, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.863, + "Actual Total Time": 76.868, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.735, + "Actual Total Time": 76.740, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 75.632, + "Actual Total Time": 75.637, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.94, + "Total Cost": 3886.35, + "Plan Rows": 1, + "Plan Width": 38, + "Actual Startup Time": 67.229, + "Actual Total Time": 76.469, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.232, + "Actual Total Time": 76.236, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 48.894, + "Actual Total Time": 75.929, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 76.386, + "Actual Total Time": 76.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 76.260, + "Actual Total Time": 76.264, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.862, + "Actual Total Time": 76.866, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.735, + "Actual Total Time": 76.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 75.631, + "Actual Total Time": 75.635, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.51, + "Total Cost": 3885.73, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 67.214, + "Actual Total Time": 76.451, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.231, + "Actual Total Time": 76.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 48.816, + "Actual Total Time": 75.842, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 76.385, + "Actual Total Time": 76.387, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 76.260, + "Actual Total Time": 76.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 76.862, + "Actual Total Time": 76.865, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.734, + "Actual Total Time": 76.737, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 75.630, + "Actual Total Time": 75.634, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.08, + "Total Cost": 1049.38, + "Plan Rows": 3513, + "Plan Width": 4, + "Actual Startup Time": 0.573, + "Actual Total Time": 17.451, + "Actual Rows": 3074, + "Actual Loops": 8, + "Output": ["cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.659, + "Actual Total Time": 17.168, + "Actual Rows": 2886, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.392, + "Actual Total Time": 17.238, + "Actual Rows": 3881, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.626, + "Actual Total Time": 18.302, + "Actual Rows": 2845, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.678, + "Actual Total Time": 17.220, + "Actual Rows": 2797, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.611, + "Actual Total Time": 17.418, + "Actual Rows": 2953, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.622, + "Actual Total Time": 18.282, + "Actual Rows": 2896, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.668, + "Actual Total Time": 17.307, + "Actual Rows": 2414, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 3513, + "Plan Width": 8, + "Actual Startup Time": 0.084, + "Actual Total Time": 14.262, + "Actual Rows": 3074, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.065, + "Actual Total Time": 13.886, + "Actual Rows": 2886, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.096, + "Actual Total Time": 14.281, + "Actual Rows": 3881, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.064, + "Actual Total Time": 15.015, + "Actual Rows": 2845, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.146, + "Actual Total Time": 13.861, + "Actual Rows": 2797, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.074, + "Actual Total Time": 14.097, + "Actual Rows": 2953, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.063, + "Actual Total Time": 14.993, + "Actual Rows": 2896, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.115, + "Actual Total Time": 14.166, + "Actual Rows": 2414, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.027, + "Actual Total Time": 4.777, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 4.676, + "Actual Rows": 16095, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 4.856, + "Actual Rows": 21830, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 5.057, + "Actual Rows": 16316, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 4.514, + "Actual Rows": 14430, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 4.697, + "Actual Rows": 15725, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 5.071, + "Actual Rows": 16465, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 4.834, + "Actual Rows": 13690, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.022, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.81, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 24592, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2000) AND ((t.title ~~ '%Freddy%'::text) OR (t.title ~~ '%Jason%'::text) OR (t.title ~~ 'Saw%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2886 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3881 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2845 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 2797 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2953 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2896 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 2414 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.059, + "Actual Rows": 3, + "Actual Loops": 2, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.077, + "Actual Rows": 3, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.02, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.389, + "Actual Total Time": 0.574, + "Actual Rows": 2, + "Actual Loops": 2, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 452, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.231, + "Actual Total Time": 0.591, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.51, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.272, + "Actual Total Time": 0.668, + "Actual Rows": 2, + "Actual Loops": 3, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 107, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.278, + "Actual Total Time": 0.650, + "Actual Rows": 3, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 48, + "Plan Width": 8, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.157, + "Actual Rows": 151, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.113, + "Actual Rows": 104, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1060, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 312 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7721649514993682563, + "Planning Time": 3175.144, + "Triggers": [ + ], + "Execution Time": 103.968, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7721649514993682563, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS complete_violent_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8234.72, + "Total Cost": 8234.73, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1229.225, + "Actual Total Time": 1268.927, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8234.64, + "Total Cost": 8234.65, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 1227.536, + "Actual Total Time": 1268.889, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8233.64, + "Total Cost": 8233.65, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1215.404, + "Actual Total Time": 1215.417, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1217.425, + "Actual Total Time": 1217.434, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1198.422, + "Actual Total Time": 1198.432, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1219.641, + "Actual Total Time": 1219.658, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1219.252, + "Actual Total Time": 1219.263, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1211.283, + "Actual Total Time": 1211.295, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1211.253, + "Actual Total Time": 1211.266, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1219.407, + "Actual Total Time": 1219.419, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1715.79, + "Total Cost": 8222.18, + "Plan Rows": 1146, + "Plan Width": 79, + "Actual Startup Time": 104.489, + "Actual Total Time": 1213.284, + "Actual Rows": 1003, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.246, + "Actual Total Time": 1215.339, + "Actual Rows": 1003, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 86.434, + "Actual Total Time": 1196.368, + "Actual Rows": 1014, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 113.886, + "Actual Total Time": 1217.196, + "Actual Rows": 1041, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 101.388, + "Actual Total Time": 1216.933, + "Actual Rows": 1025, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 94.875, + "Actual Total Time": 1209.059, + "Actual Rows": 1076, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 98.245, + "Actual Total Time": 1209.159, + "Actual Rows": 976, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 124.944, + "Actual Total Time": 1217.395, + "Actual Rows": 1041, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1713.94, + "Total Cost": 8216.26, + "Plan Rows": 1498, + "Plan Width": 83, + "Actual Startup Time": 104.151, + "Actual Total Time": 1211.443, + "Actual Rows": 1311, + "Actual Loops": 8, + "Output": ["t.title", "n.name", "mi_idx.info", "mi.info", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 103.953, + "Actual Total Time": 1213.609, + "Actual Rows": 1184, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 86.061, + "Actual Total Time": 1194.513, + "Actual Rows": 1323, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 113.555, + "Actual Total Time": 1215.279, + "Actual Rows": 1422, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 101.128, + "Actual Total Time": 1215.067, + "Actual Rows": 1404, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 94.387, + "Actual Total Time": 1206.870, + "Actual Rows": 1447, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.924, + "Actual Total Time": 1207.390, + "Actual Rows": 1225, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 124.666, + "Actual Total Time": 1215.625, + "Actual Rows": 1396, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1713.51, + "Total Cost": 7356.73, + "Plan Rows": 825, + "Plan Width": 57, + "Actual Startup Time": 103.822, + "Actual Total Time": 1033.072, + "Actual Rows": 722, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "ci.movie_id", "n.name", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 103.882, + "Actual Total Time": 1058.860, + "Actual Rows": 733, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.985, + "Actual Total Time": 1025.334, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 113.050, + "Actual Total Time": 1040.202, + "Actual Rows": 680, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 100.810, + "Actual Total Time": 1014.183, + "Actual Rows": 733, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 94.241, + "Actual Total Time": 1021.061, + "Actual Rows": 705, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.106, + "Actual Total Time": 1027.019, + "Actual Rows": 715, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 124.505, + "Actual Total Time": 1039.930, + "Actual Rows": 740, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1711.66, + "Total Cost": 7353.66, + "Plan Rows": 451, + "Plan Width": 61, + "Actual Startup Time": 103.802, + "Actual Total Time": 1030.817, + "Actual Rows": 2201, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "ci.movie_id", "n.name", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 103.868, + "Actual Total Time": 1056.608, + "Actual Rows": 2212, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.969, + "Actual Total Time": 1023.076, + "Actual Rows": 2309, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 113.035, + "Actual Total Time": 1038.088, + "Actual Rows": 2071, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 100.796, + "Actual Total Time": 1011.771, + "Actual Rows": 2230, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 94.224, + "Actual Total Time": 1018.790, + "Actual Rows": 2132, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.091, + "Actual Total Time": 1024.650, + "Actual Rows": 2188, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 124.491, + "Actual Total Time": 1037.728, + "Actual Rows": 2259, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1711.24, + "Total Cost": 6927.92, + "Plan Rows": 826, + "Plan Width": 48, + "Actual Startup Time": 103.737, + "Actual Total Time": 1012.176, + "Actual Rows": 723, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "ci.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 103.803, + "Actual Total Time": 1039.014, + "Actual Rows": 734, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.906, + "Actual Total Time": 1004.181, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 112.933, + "Actual Total Time": 1019.011, + "Actual Rows": 680, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 100.744, + "Actual Total Time": 991.668, + "Actual Rows": 733, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 94.131, + "Actual Total Time": 999.006, + "Actual Rows": 705, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.055, + "Actual Total Time": 1007.399, + "Actual Rows": 718, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 124.432, + "Actual Total Time": 1018.017, + "Actual Rows": 740, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1710.81, + "Total Cost": 6281.23, + "Plan Rows": 1269, + "Plan Width": 37, + "Actual Startup Time": 101.271, + "Actual Total Time": 988.081, + "Actual Rows": 1110, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 103.713, + "Actual Total Time": 1013.363, + "Actual Rows": 1151, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 85.833, + "Actual Total Time": 978.596, + "Actual Rows": 1171, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 108.295, + "Actual Total Time": 995.359, + "Actual Rows": 1081, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 100.679, + "Actual Total Time": 966.084, + "Actual Rows": 1117, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 94.039, + "Actual Total Time": 975.704, + "Actual Rows": 1058, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 96.974, + "Actual Total Time": 983.785, + "Actual Rows": 1128, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 109.802, + "Actual Total Time": 994.484, + "Actual Rows": 1101, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1710.37, + "Total Cost": 3853.59, + "Plan Rows": 1789, + "Plan Width": 29, + "Actual Startup Time": 96.421, + "Actual Total Time": 155.296, + "Actual Rows": 1565, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.670, + "Actual Total Time": 157.980, + "Actual Rows": 1664, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 79.505, + "Actual Total Time": 141.737, + "Actual Rows": 1536, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 99.743, + "Actual Total Time": 154.835, + "Actual Rows": 1595, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 100.299, + "Actual Total Time": 162.396, + "Actual Rows": 1540, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.325, + "Actual Total Time": 149.933, + "Actual Rows": 1523, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.474, + "Actual Total Time": 150.306, + "Actual Rows": 1598, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.679, + "Actual Total Time": 156.641, + "Actual Rows": 1538, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1709.33, + "Total Cost": 3839.93, + "Plan Rows": 2334, + "Plan Width": 33, + "Actual Startup Time": 96.406, + "Actual Total Time": 152.600, + "Actual Rows": 2042, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.657, + "Actual Total Time": 155.349, + "Actual Rows": 1975, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 79.493, + "Actual Total Time": 138.954, + "Actual Rows": 2215, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 99.729, + "Actual Total Time": 152.070, + "Actual Rows": 1951, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 100.288, + "Actual Total Time": 159.520, + "Actual Rows": 2065, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.314, + "Actual Total Time": 147.228, + "Actual Rows": 1918, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.461, + "Actual Total Time": 147.661, + "Actual Rows": 1989, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.668, + "Actual Total Time": 154.052, + "Actual Rows": 2003, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1708.90, + "Total Cost": 2771.08, + "Plan Rows": 2334, + "Plan Width": 12, + "Actual Startup Time": 96.330, + "Actual Total Time": 119.280, + "Actual Rows": 2042, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.569, + "Actual Total Time": 123.149, + "Actual Rows": 1975, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 79.420, + "Actual Total Time": 103.104, + "Actual Rows": 2215, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 99.655, + "Actual Total Time": 121.076, + "Actual Rows": 1951, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 100.216, + "Actual Total Time": 122.873, + "Actual Rows": 2065, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.229, + "Actual Total Time": 113.975, + "Actual Rows": 1918, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.368, + "Actual Total Time": 116.178, + "Actual Rows": 1989, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.599, + "Actual Total Time": 122.489, + "Actual Rows": 2003, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1707.85, + "Total Cost": 2742.22, + "Plan Rows": 5144, + "Plan Width": 16, + "Actual Startup Time": 96.310, + "Actual Total Time": 115.790, + "Actual Rows": 4501, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.553, + "Actual Total Time": 119.494, + "Actual Rows": 4361, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 79.407, + "Actual Total Time": 99.663, + "Actual Rows": 4921, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 99.636, + "Actual Total Time": 117.674, + "Actual Rows": 4283, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 100.200, + "Actual Total Time": 119.149, + "Actual Rows": 4394, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.199, + "Actual Total Time": 110.515, + "Actual Rows": 4133, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.350, + "Actual Total Time": 112.811, + "Actual Rows": 4496, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.582, + "Actual Total Time": 119.112, + "Actual Rows": 4587, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.023, + "Actual Total Time": 4.623, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 5.041, + "Actual Rows": 17945, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 4.891, + "Actual Rows": 18315, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 4.104, + "Actual Rows": 14245, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 4.489, + "Actual Rows": 16280, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 4.260, + "Actual Rows": 15021, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 4.891, + "Actual Rows": 18870, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 4.403, + "Actual Rows": 16095, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1570.87, + "Total Cost": 1570.87, + "Plan Rows": 10959, + "Plan Width": 4, + "Actual Startup Time": 95.922, + "Actual Total Time": 95.924, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4128, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.463, + "Actual Total Time": 98.464, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 79.219, + "Actual Total Time": 79.220, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 99.515, + "Actual Total Time": 99.518, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 100.117, + "Actual Total Time": 100.118, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.079, + "Actual Total Time": 92.080, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.267, + "Actual Total Time": 92.269, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 100.491, + "Actual Total Time": 100.493, + "Actual Rows": 20522, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1570.87, + "Plan Rows": 10959, + "Plan Width": 4, + "Actual Startup Time": 12.032, + "Actual Total Time": 57.030, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.976, + "Actual Total Time": 54.003, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.515, + "Actual Total Time": 38.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.722, + "Actual Total Time": 52.992, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.180, + "Actual Total Time": 54.382, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 51.368, + "Actual Total Time": 51.369, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.264, + "Actual Total Time": 75.050, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.621, + "Actual Total Time": 72.438, + "Actual Rows": 20522, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 11.918, + "Actual Total Time": 15.822, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.829, + "Actual Total Time": 20.645, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.514, + "Actual Total Time": 38.514, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.605, + "Actual Total Time": 10.389, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.054, + "Actual Total Time": 1.133, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 51.367, + "Actual Total Time": 51.367, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.135, + "Actual Total Time": 0.144, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.404, + "Actual Total Time": 0.430, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.89, + "Plan Rows": 10959, + "Plan Width": 8, + "Actual Startup Time": 0.139, + "Actual Total Time": 43.834, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.141, + "Actual Total Time": 31.581, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.107, + "Actual Total Time": 39.680, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.109, + "Actual Total Time": 24.490, + "Actual Rows": 6314, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.124, + "Actual Total Time": 70.393, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.212, + "Actual Total Time": 66.173, + "Actual Rows": 20522, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 16336, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1975 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 2215 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1951 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 2065 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 1918 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1989 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 2003 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.444, + "Actual Total Time": 0.530, + "Actual Rows": 1, + "Actual Loops": 12521, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 78, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.436, + "Actual Total Time": 0.512, + "Actual Rows": 1, + "Actual Loops": 1664 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.457, + "Actual Total Time": 0.543, + "Actual Rows": 1, + "Actual Loops": 1536 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.442, + "Actual Total Time": 0.525, + "Actual Rows": 1, + "Actual Loops": 1595 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.421, + "Actual Total Time": 0.519, + "Actual Rows": 1, + "Actual Loops": 1540 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.455, + "Actual Total Time": 0.540, + "Actual Rows": 1, + "Actual Loops": 1523 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.433, + "Actual Total Time": 0.519, + "Actual Rows": 1, + "Actual Loops": 1598 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.452, + "Actual Total Time": 0.543, + "Actual Rows": 1, + "Actual Loops": 1538 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 8880, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 1151 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1171 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1081 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 1117 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1058 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1128 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1101 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.022, + "Actual Rows": 3, + "Actual Loops": 5781, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.021, + "Actual Rows": 3, + "Actual Loops": 734 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.022, + "Actual Rows": 3, + "Actual Loops": 753 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 3, + "Actual Loops": 680 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 3, + "Actual Loops": 733 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 3, + "Actual Loops": 705 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.021, + "Actual Rows": 3, + "Actual Loops": 718 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.023, + "Actual Rows": 3, + "Actual Loops": 740 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.135, + "Actual Total Time": 0.244, + "Actual Rows": 2, + "Actual Loops": 5777, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 172, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.208, + "Actual Rows": 2, + "Actual Loops": 733 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.122, + "Actual Total Time": 0.222, + "Actual Rows": 2, + "Actual Loops": 753 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.138, + "Actual Total Time": 0.254, + "Actual Rows": 2, + "Actual Loops": 680 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.155, + "Actual Total Time": 0.271, + "Actual Rows": 2, + "Actual Loops": 733 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.130, + "Actual Total Time": 0.260, + "Actual Rows": 2, + "Actual Loops": 705 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.143, + "Actual Total Time": 0.249, + "Actual Rows": 2, + "Actual Loops": 715 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.115, + "Actual Total Time": 0.234, + "Actual Rows": 2, + "Actual Loops": 740 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1889760809355916724, + "Planning Time": 2770.978, + "Triggers": [ + ], + "Execution Time": 1269.390, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1889760809355916724, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS violent_liongate_movie
FROM cast_info AS ci,
     company_name AS cn,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND cn.name LIKE 'Lionsgate%'
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cn.id = mc.company_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4142.04, + "Total Cost": 4142.05, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 760.941, + "Actual Total Time": 786.627, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4141.95, + "Total Cost": 4141.96, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 331.819, + "Actual Total Time": 786.566, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4140.95, + "Total Cost": 4140.96, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 272.996, + "Actual Total Time": 273.008, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 593.343, + "Actual Total Time": 593.352, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 44.782, + "Actual Total Time": 44.795, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 752.010, + "Actual Total Time": 752.017, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 45.486, + "Actual Total Time": 45.500, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 45.620, + "Actual Total Time": 45.630, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 326.386, + "Actual Total Time": 326.396, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 45.460, + "Actual Total Time": 45.471, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.13, + "Total Cost": 4139.36, + "Plan Rows": 159, + "Plan Width": 79, + "Actual Startup Time": 25.756, + "Actual Total Time": 272.736, + "Actual Rows": 159, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 62.882, + "Actual Total Time": 592.780, + "Actual Rows": 366, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.771, + "Actual Total Time": 44.775, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.652, + "Actual Total Time": 751.096, + "Actual Rows": 564, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.452, + "Actual Total Time": 45.475, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 45.613, + "Actual Total Time": 45.623, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.963, + "Actual Total Time": 326.105, + "Actual Rows": 176, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.748, + "Actual Total Time": 45.438, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.29, + "Total Cost": 4136.19, + "Plan Rows": 486, + "Plan Width": 83, + "Actual Startup Time": 21.488, + "Actual Total Time": 271.826, + "Actual Rows": 486, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "mi_idx.info_type_id", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 59.785, + "Actual Total Time": 591.382, + "Actual Rows": 1131, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.078, + "Actual Total Time": 44.158, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.445, + "Actual Total Time": 749.650, + "Actual Rows": 1692, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.639, + "Actual Total Time": 44.778, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.995, + "Actual Total Time": 45.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.444, + "Actual Total Time": 325.094, + "Actual Rows": 532, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.916, + "Actual Total Time": 44.728, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.87, + "Total Cost": 3933.43, + "Plan Rows": 454, + "Plan Width": 87, + "Actual Startup Time": 18.098, + "Actual Total Time": 109.778, + "Actual Rows": 18286, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "mi_idx.info_type_id", "mk.keyword_id", "n.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 39.283, + "Actual Total Time": 225.766, + "Actual Rows": 42449, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.281, + "Actual Total Time": 35.966, + "Actual Rows": 450, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.120, + "Actual Total Time": 267.965, + "Actual Rows": 55296, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.296, + "Actual Total Time": 43.966, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.994, + "Actual Total Time": 45.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 25.460, + "Actual Total Time": 136.207, + "Actual Rows": 21540, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.923, + "Actual Total Time": 30.042, + "Actual Rows": 603, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.44, + "Total Cost": 3819.28, + "Plan Rows": 63, + "Plan Width": 103, + "Actual Startup Time": 17.455, + "Actual Total Time": 91.680, + "Actual Rows": 167, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "n.name", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.862, + "Actual Total Time": 184.178, + "Actual Rows": 365, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.136, + "Actual Total Time": 35.171, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.048, + "Actual Total Time": 213.078, + "Actual Rows": 609, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.225, + "Actual Total Time": 43.797, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.993, + "Actual Total Time": 45.000, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 25.394, + "Actual Total Time": 115.289, + "Actual Rows": 163, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.608, + "Actual Total Time": 28.793, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 3803.46, + "Plan Rows": 31, + "Plan Width": 90, + "Actual Startup Time": 17.330, + "Actual Total Time": 90.296, + "Actual Rows": 56, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.678, + "Actual Total Time": 181.584, + "Actual Rows": 119, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.020, + "Actual Total Time": 35.019, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.969, + "Actual Total Time": 208.266, + "Actual Rows": 205, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.135, + "Actual Total Time": 43.684, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.992, + "Actual Total Time": 44.998, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 25.324, + "Actual Total Time": 113.645, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.209, + "Actual Total Time": 28.369, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 3788.64, + "Plan Rows": 31, + "Plan Width": 69, + "Actual Startup Time": 17.242, + "Actual Total Time": 89.270, + "Actual Rows": 56, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.501, + "Actual Total Time": 179.359, + "Actual Rows": 119, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.882, + "Actual Total Time": 34.861, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.896, + "Actual Total Time": 204.992, + "Actual Rows": 205, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.056, + "Actual Total Time": 43.587, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.991, + "Actual Total Time": 44.997, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 25.265, + "Actual Total Time": 112.477, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.089, + "Actual Total Time": 28.247, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 3750.93, + "Plan Rows": 74, + "Plan Width": 58, + "Actual Startup Time": 17.042, + "Actual Total Time": 87.629, + "Actual Rows": 74, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.280, + "Actual Total Time": 175.690, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.730, + "Actual Total Time": 34.688, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.808, + "Actual Total Time": 199.410, + "Actual Rows": 282, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.980, + "Actual Total Time": 43.449, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 44.990, + "Actual Total Time": 44.995, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 25.174, + "Actual Total Time": 110.750, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.949, + "Actual Total Time": 28.033, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 3623.96, + "Plan Rows": 90, + "Plan Width": 50, + "Actual Startup Time": 7.196, + "Actual Total Time": 44.052, + "Actual Rows": 90, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.025, + "Actual Total Time": 82.528, + "Actual Rows": 215, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.698, + "Actual Total Time": 30.408, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.744, + "Actual Total Time": 68.035, + "Actual Rows": 327, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.549, + "Actual Total Time": 40.998, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.763, + "Actual Total Time": 44.564, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.465, + "Actual Total Time": 40.214, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.827, + "Actual Total Time": 25.097, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3621.86, + "Plan Rows": 93, + "Plan Width": 54, + "Actual Startup Time": 7.163, + "Actual Total Time": 43.839, + "Actual Rows": 93, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.983, + "Actual Total Time": 82.083, + "Actual Rows": 232, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.666, + "Actual Total Time": 30.363, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.727, + "Actual Total Time": 67.441, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.525, + "Actual Total Time": 40.956, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.727, + "Actual Total Time": 44.523, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.434, + "Actual Total Time": 39.972, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.795, + "Actual Total Time": 25.053, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3403.51, + "Plan Rows": 227, + "Plan Width": 4, + "Actual Startup Time": 3.726, + "Actual Total Time": 20.355, + "Actual Rows": 227, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.899, + "Actual Total Time": 12.947, + "Actual Rows": 595, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.449, + "Actual Total Time": 29.508, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.725, + "Actual Total Time": 5.576, + "Actual Rows": 712, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.823, + "Actual Total Time": 28.461, + "Actual Rows": 229, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.987, + "Actual Total Time": 42.899, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.878, + "Actual Total Time": 16.509, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.410, + "Actual Total Time": 24.359, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 3.577, + "Actual Total Time": 18.657, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "(cn.name ~~ 'Lionsgate%'::text)", + "Rows Removed by Filter": 29373, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.695, + "Actual Total Time": 8.727, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.290, + "Actual Total Time": 29.285, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.625, + "Actual Total Time": 0.643, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.700, + "Actual Total Time": 27.566, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.827, + "Actual Total Time": 42.601, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.673, + "Actual Total Time": 14.707, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.242, + "Actual Total Time": 24.156, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 39.52, + "Plan Rows": 181, + "Plan Width": 8, + "Actual Startup Time": 0.125, + "Actual Total Time": 1.250, + "Actual Rows": 181, + "Actual Loops": 10, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.196, + "Actual Total Time": 3.798, + "Actual Rows": 595, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.150, + "Actual Total Time": 0.209, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.096, + "Actual Total Time": 4.620, + "Actual Rows": 712, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.391, + "Actual Rows": 114, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.150, + "Actual Total Time": 0.280, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.130, + "Actual Total Time": 0.845, + "Actual Rows": 81, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.160, + "Actual Total Time": 0.191, + "Actual Rows": 3, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.95, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.088, + "Actual Total Time": 0.102, + "Actual Rows": 0, + "Actual Loops": 1814, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 61, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.100, + "Actual Total Time": 0.114, + "Actual Rows": 0, + "Actual Loops": 595 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.152, + "Actual Total Time": 0.168, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.086, + "Actual Rows": 0, + "Actual Loops": 712 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 229 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.264, + "Actual Total Time": 0.266, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.120, + "Actual Total Time": 0.143, + "Actual Rows": 1, + "Actual Loops": 162 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.173, + "Actual Total Time": 0.226, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.40, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.369, + "Actual Total Time": 0.479, + "Actual Rows": 1, + "Actual Loops": 724, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 88, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.330, + "Actual Total Time": 0.431, + "Actual Rows": 1, + "Actual Loops": 215 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.284, + "Actual Total Time": 1.420, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.306, + "Actual Total Time": 0.400, + "Actual Rows": 1, + "Actual Loops": 327 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.344, + "Actual Total Time": 0.487, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.424, + "Actual Total Time": 0.424, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.595, + "Actual Total Time": 0.756, + "Actual Rows": 1, + "Actual Loops": 93 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.816, + "Actual Total Time": 0.973, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 594, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 165 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.080, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 282 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 68 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.101, + "Actual Total Time": 0.101, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 444, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 119 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 205 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 57 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.110, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 3, + "Actual Loops": 444, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 119 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.066, + "Actual Rows": 3, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.020, + "Actual Rows": 3, + "Actual Loops": 205 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.050, + "Actual Rows": 3, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.025, + "Actual Rows": 3, + "Actual Loops": 57 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.389, + "Actual Total Time": 0.408, + "Actual Rows": 3, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 84, + "Plan Width": 8, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.078, + "Actual Rows": 110, + "Actual Loops": 1333, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.081, + "Actual Rows": 116, + "Actual Loops": 365 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.097, + "Actual Rows": 75, + "Actual Loops": 6 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.065, + "Actual Rows": 91, + "Actual Loops": 609 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.023, + "Actual Rows": 11, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.092, + "Actual Rows": 132, + "Actual Loops": 163 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.313, + "Actual Rows": 201, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 146292, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 42449 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 450 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 55296 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 66 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 21540 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 603 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7519382914444524780, + "Planning Time": 330.959, + "Triggers": [ + ], + "Execution Time": 787.213, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7519382914444524780, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS violent_liongate_movie
FROM cast_info AS ci,
     company_name AS cn,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND cn.name LIKE 'Lionsgate%'
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mc.note LIKE '%(Blu-ray)%'
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.production_year > 2000
  AND (t.title LIKE '%Freddy%'
       OR t.title LIKE '%Jason%'
       OR t.title LIKE 'Saw%')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3457.15, + "Total Cost": 3457.16, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 75.525, + "Actual Total Time": 79.771, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3457.06, + "Total Cost": 3457.07, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 37.799, + "Actual Total Time": 79.742, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3456.06, + "Total Cost": 3456.07, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 29.946, + "Actual Total Time": 29.956, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 58.760, + "Actual Total Time": 58.765, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.618, + "Actual Total Time": 27.628, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.354, + "Actual Total Time": 23.364, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.507, + "Actual Total Time": 23.517, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.188, + "Actual Total Time": 22.200, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.807, + "Actual Total Time": 23.817, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.554, + "Actual Total Time": 23.565, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.75, + "Total Cost": 3455.96, + "Plan Rows": 10, + "Plan Width": 79, + "Actual Startup Time": 17.470, + "Actual Total Time": 29.913, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.404, + "Actual Total Time": 58.583, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.031, + "Actual Total Time": 27.574, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.346, + "Actual Total Time": 23.356, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.499, + "Actual Total Time": 23.509, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.180, + "Actual Total Time": 22.190, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.801, + "Actual Total Time": 23.810, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.548, + "Actual Total Time": 23.558, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.60, + "Total Cost": 3454.22, + "Plan Rows": 32, + "Plan Width": 83, + "Actual Startup Time": 17.453, + "Actual Total Time": 29.823, + "Actual Rows": 32, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "mi_idx.info_type_id", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.344, + "Actual Total Time": 58.138, + "Actual Rows": 138, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.001, + "Actual Total Time": 27.449, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.345, + "Actual Total Time": 23.354, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.498, + "Actual Total Time": 23.507, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.179, + "Actual Total Time": 22.188, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.800, + "Actual Total Time": 23.808, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.547, + "Actual Total Time": 23.556, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.17, + "Total Cost": 3453.70, + "Plan Rows": 1, + "Plan Width": 94, + "Actual Startup Time": 17.427, + "Actual Total Time": 29.566, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "mk.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.239, + "Actual Total Time": 56.778, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.947, + "Actual Total Time": 27.077, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.345, + "Actual Total Time": 23.352, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.498, + "Actual Total Time": 23.506, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.178, + "Actual Total Time": 22.186, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.800, + "Actual Total Time": 23.806, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.546, + "Actual Total Time": 23.555, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.75, + "Total Cost": 3453.24, + "Plan Rows": 1, + "Plan Width": 98, + "Actual Startup Time": 17.199, + "Actual Total Time": 23.502, + "Actual Rows": 336, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "mk.movie_id", "mk.keyword_id", "n.name", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.607, + "Actual Total Time": 24.374, + "Actual Rows": 1470, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.098, + "Actual Total Time": 20.968, + "Actual Rows": 496, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.344, + "Actual Total Time": 23.351, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.497, + "Actual Total Time": 23.504, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.177, + "Actual Total Time": 22.185, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.799, + "Actual Total Time": 23.805, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.546, + "Actual Total Time": 23.553, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.32, + "Total Cost": 3450.59, + "Plan Rows": 1, + "Plan Width": 90, + "Actual Startup Time": 17.172, + "Actual Total Time": 22.750, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.492, + "Actual Total Time": 20.312, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.042, + "Actual Total Time": 20.197, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.343, + "Actual Total Time": 23.349, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.496, + "Actual Total Time": 23.502, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.176, + "Actual Total Time": 22.183, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.798, + "Actual Total Time": 23.804, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.545, + "Actual Total Time": 23.551, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.89, + "Total Cost": 3450.08, + "Plan Rows": 1, + "Plan Width": 79, + "Actual Startup Time": 17.147, + "Actual Total Time": 22.666, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.401, + "Actual Total Time": 19.938, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.987, + "Actual Total Time": 20.039, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.343, + "Actual Total Time": 23.348, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.495, + "Actual Total Time": 23.500, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.175, + "Actual Total Time": 22.181, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.797, + "Actual Total Time": 23.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.544, + "Actual Total Time": 23.549, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.45, + "Total Cost": 3444.31, + "Plan Rows": 1, + "Plan Width": 71, + "Actual Startup Time": 16.882, + "Actual Total Time": 21.817, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.288, + "Actual Total Time": 15.604, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.709, + "Actual Total Time": 18.889, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.342, + "Actual Total Time": 23.346, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.494, + "Actual Total Time": 23.498, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.175, + "Actual Total Time": 22.179, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.796, + "Actual Total Time": 23.801, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.543, + "Actual Total Time": 23.548, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 3444.13, + "Plan Rows": 1, + "Plan Width": 75, + "Actual Startup Time": 16.858, + "Actual Total Time": 21.786, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.195, + "Actual Total Time": 15.479, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.659, + "Actual Total Time": 18.831, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.341, + "Actual Total Time": 23.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.493, + "Actual Total Time": 23.496, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.174, + "Actual Total Time": 22.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.796, + "Actual Total Time": 23.799, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.542, + "Actual Total Time": 23.546, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3441.17, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 16.731, + "Actual Total Time": 21.417, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.630, + "Actual Total Time": 13.750, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.447, + "Actual Total Time": 17.889, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.340, + "Actual Total Time": 23.343, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.492, + "Actual Total Time": 23.495, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.173, + "Actual Total Time": 22.175, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.795, + "Actual Total Time": 23.797, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.541, + "Actual Total Time": 23.544, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3401.97, + "Plan Rows": 17, + "Plan Width": 4, + "Actual Startup Time": 15.289, + "Actual Total Time": 20.497, + "Actual Rows": 17, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.389, + "Actual Total Time": 7.774, + "Actual Rows": 97, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.234, + "Actual Total Time": 17.412, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.339, + "Actual Total Time": 23.341, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.492, + "Actual Total Time": 23.493, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.172, + "Actual Total Time": 22.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.794, + "Actual Total Time": 23.795, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.540, + "Actual Total Time": 23.542, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 4.160, + "Actual Total Time": 18.938, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "(cn.name ~~ 'Lionsgate%'::text)", + "Rows Removed by Filter": 29373, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.326, + "Actual Total Time": 2.675, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.611, + "Actual Total Time": 13.378, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.965, + "Actual Total Time": 23.181, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.239, + "Actual Total Time": 23.348, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.171, + "Actual Total Time": 22.172, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.671, + "Actual Total Time": 23.606, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.024, + "Actual Total Time": 22.630, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 39.65, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.378, + "Actual Total Time": 1.233, + "Actual Rows": 14, + "Actual Loops": 10, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note ~~ '%(Blu-ray)%'::text)", + "Rows Removed by Filter": 168, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.361, + "Actual Total Time": 2.509, + "Actual Rows": 48, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.620, + "Actual Total Time": 4.023, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.153, + "Actual Total Time": 0.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.138, + "Actual Total Time": 0.138, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.089, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.905, + "Actual Total Time": 0.906, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 2.31, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 135, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2000) AND ((t.title ~~ '%Freddy%'::text) OR (t.title ~~ '%Jason%'::text) OR (t.title ~~ 'Saw%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 97 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 13 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 2.93, + "Plan Rows": 2, + "Plan Width": 50, + "Actual Startup Time": 0.259, + "Actual Total Time": 0.415, + "Actual Rows": 2, + "Actual Loops": 7, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 265, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.335, + "Actual Total Time": 0.427, + "Actual Rows": 2, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.121, + "Actual Total Time": 0.466, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 11, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 7, + "Cache Hits": 6, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.069, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 5.76, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.452, + "Actual Total Time": 0.612, + "Actual Rows": 2, + "Actual Loops": 11, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 87, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.498, + "Actual Total Time": 0.615, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.266, + "Actual Total Time": 0.569, + "Actual Rows": 2, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 19, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.99, + "Plan Rows": 133, + "Plan Width": 8, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.184, + "Actual Rows": 141, + "Actual Loops": 19, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.237, + "Actual Rows": 147, + "Actual Loops": 10 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.094, + "Actual Rows": 99, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2686, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1470 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 496 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.020, + "Actual Rows": 3, + "Actual Loops": 84, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.025, + "Actual Rows": 3, + "Actual Loops": 46 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 22 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 252, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 45, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 138, + "Cache Hits": 135, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 66, + "Cache Hits": 63, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 9, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 146477119612211947, + "Planning Time": 388.443, + "Triggers": [ + ], + "Execution Time": 80.288, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 146477119612211947, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS violent_liongate_movie
FROM cast_info AS ci,
     company_name AS cn,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND cn.name LIKE 'Lionsgate%'
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cn.id = mc.company_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4757.97, + "Total Cost": 4757.98, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 717.191, + "Actual Total Time": 743.671, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4757.88, + "Total Cost": 4757.89, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 274.909, + "Actual Total Time": 743.630, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4756.88, + "Total Cost": 4756.89, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 261.371, + "Actual Total Time": 261.380, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 297.871, + "Actual Total Time": 297.877, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 670.315, + "Actual Total Time": 670.320, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 32.833, + "Actual Total Time": 32.843, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.493, + "Actual Total Time": 37.503, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 706.834, + "Actual Total Time": 706.841, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.837, + "Actual Total Time": 33.847, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.825, + "Actual Total Time": 37.836, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.13, + "Total Cost": 4753.35, + "Plan Rows": 353, + "Plan Width": 79, + "Actual Startup Time": 12.927, + "Actual Total Time": 260.985, + "Actual Rows": 353, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.208, + "Actual Total Time": 297.389, + "Actual Rows": 400, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.705, + "Actual Total Time": 669.078, + "Actual Rows": 1266, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.589, + "Actual Total Time": 32.815, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.489, + "Actual Total Time": 37.498, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.787, + "Actual Total Time": 705.914, + "Actual Rows": 816, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.923, + "Actual Total Time": 33.828, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.661, + "Actual Total Time": 37.812, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.70, + "Total Cost": 4574.34, + "Plan Rows": 353, + "Plan Width": 68, + "Actual Startup Time": 12.859, + "Actual Total Time": 257.821, + "Actual Rows": 353, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.133, + "Actual Total Time": 293.707, + "Actual Rows": 400, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.645, + "Actual Total Time": 658.715, + "Actual Rows": 1266, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.497, + "Actual Total Time": 32.648, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.488, + "Actual Total Time": 37.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.703, + "Actual Total Time": 698.336, + "Actual Rows": 816, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.830, + "Actual Total Time": 33.734, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.599, + "Actual Total Time": 37.715, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.86, + "Total Cost": 4571.47, + "Plan Rows": 376, + "Plan Width": 72, + "Actual Startup Time": 12.505, + "Actual Total Time": 257.136, + "Actual Rows": 376, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.864, + "Actual Total Time": 293.044, + "Actual Rows": 400, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.349, + "Actual Total Time": 657.383, + "Actual Rows": 1302, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.923, + "Actual Total Time": 32.060, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 37.220, + "Actual Total Time": 37.227, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.412, + "Actual Total Time": 697.196, + "Actual Rows": 959, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.282, + "Actual Total Time": 33.183, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.353, + "Actual Total Time": 37.460, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.42, + "Total Cost": 4570.12, + "Plan Rows": 1, + "Plan Width": 88, + "Actual Startup Time": 7.467, + "Actual Total Time": 169.719, + "Actual Rows": 381, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.395, + "Actual Total Time": 178.638, + "Actual Rows": 382, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.559, + "Actual Total Time": 415.537, + "Actual Rows": 1188, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.293, + "Actual Total Time": 30.138, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.385, + "Actual Total Time": 34.215, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.590, + "Actual Total Time": 457.371, + "Actual Rows": 1088, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.609, + "Actual Total Time": 32.317, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.600, + "Actual Total Time": 33.575, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.99, + "Total Cost": 4569.65, + "Plan Rows": 1, + "Plan Width": 67, + "Actual Startup Time": 7.379, + "Actual Total Time": 166.179, + "Actual Rows": 381, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.315, + "Actual Total Time": 174.857, + "Actual Rows": 382, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.498, + "Actual Total Time": 405.214, + "Actual Rows": 1188, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.156, + "Actual Total Time": 29.921, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.319, + "Actual Total Time": 34.097, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.492, + "Actual Total Time": 447.833, + "Actual Rows": 1088, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.494, + "Actual Total Time": 32.201, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.526, + "Actual Total Time": 33.366, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.57, + "Total Cost": 4051.58, + "Plan Rows": 1160, + "Plan Width": 71, + "Actual Startup Time": 6.244, + "Actual Total Time": 51.786, + "Actual Rows": 14999, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.919, + "Actual Total Time": 41.587, + "Actual Rows": 17031, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.240, + "Actual Total Time": 100.113, + "Actual Rows": 42564, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.719, + "Actual Total Time": 28.627, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.545, + "Actual Total Time": 31.746, + "Actual Rows": 152, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.896, + "Actual Total Time": 114.778, + "Actual Rows": 44585, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.966, + "Actual Total Time": 31.527, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.788, + "Actual Total Time": 27.855, + "Actual Rows": 407, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 3716.00, + "Plan Rows": 162, + "Plan Width": 63, + "Actual Startup Time": 6.110, + "Actual Total Time": 35.467, + "Actual Rows": 162, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.850, + "Actual Total Time": 23.195, + "Actual Rows": 151, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.183, + "Actual Total Time": 55.303, + "Actual Rows": 510, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.609, + "Actual Total Time": 28.108, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.443, + "Actual Total Time": 31.419, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.785, + "Actual Total Time": 68.045, + "Actual Rows": 472, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.548, + "Actual Total Time": 31.240, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.701, + "Actual Total Time": 26.737, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 3521.53, + "Plan Rows": 181, + "Plan Width": 13, + "Actual Startup Time": 4.308, + "Actual Total Time": 20.118, + "Actual Rows": 181, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.685, + "Actual Total Time": 8.330, + "Actual Rows": 132, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.806, + "Actual Total Time": 18.601, + "Actual Rows": 470, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.083, + "Actual Total Time": 15.687, + "Actual Rows": 183, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.189, + "Actual Total Time": 31.131, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.061, + "Actual Total Time": 24.396, + "Actual Rows": 555, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.411, + "Actual Total Time": 30.966, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.617, + "Actual Total Time": 25.796, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3518.20, + "Plan Rows": 546, + "Plan Width": 17, + "Actual Startup Time": 4.276, + "Actual Total Time": 19.728, + "Actual Rows": 546, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.649, + "Actual Total Time": 8.043, + "Actual Rows": 400, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.791, + "Actual Total Time": 17.833, + "Actual Rows": 1415, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.050, + "Actual Total Time": 15.024, + "Actual Rows": 549, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.162, + "Actual Total Time": 31.113, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.041, + "Actual Total Time": 23.404, + "Actual Rows": 1674, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.378, + "Actual Total Time": 30.928, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.595, + "Actual Total Time": 25.748, + "Actual Rows": 24, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3403.51, + "Plan Rows": 227, + "Plan Width": 4, + "Actual Startup Time": 3.975, + "Actual Total Time": 13.875, + "Actual Rows": 227, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.588, + "Actual Total Time": 3.092, + "Actual Rows": 164, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.458, + "Actual Total Time": 3.110, + "Actual Rows": 712, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.877, + "Actual Total Time": 7.303, + "Actual Rows": 227, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.095, + "Actual Total Time": 31.028, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.742, + "Actual Total Time": 8.773, + "Actual Rows": 595, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.290, + "Actual Total Time": 30.768, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.497, + "Actual Total Time": 25.119, + "Actual Rows": 11, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 3.897, + "Actual Total Time": 12.915, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "(cn.name ~~ 'Lionsgate%'::text)", + "Rows Removed by Filter": 29373, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.540, + "Actual Total Time": 2.138, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.370, + "Actual Total Time": 0.386, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.753, + "Actual Total Time": 6.337, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 30.969, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.659, + "Actual Total Time": 6.679, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.185, + "Actual Total Time": 30.646, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.426, + "Actual Total Time": 24.947, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 39.52, + "Plan Rows": 181, + "Plan Width": 8, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.689, + "Actual Rows": 181, + "Actual Loops": 10, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.440, + "Actual Rows": 82, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.083, + "Actual Total Time": 2.480, + "Actual Rows": 712, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.807, + "Actual Rows": 227, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.080, + "Actual Total Time": 1.869, + "Actual Rows": 595, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.098, + "Actual Total Time": 0.114, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.079, + "Actual Rows": 6, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 2, + "Actual Loops": 1814, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 2, + "Actual Loops": 164 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 2, + "Actual Loops": 712 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 2, + "Actual Loops": 227 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.077, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.023, + "Actual Rows": 3, + "Actual Loops": 595 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.072, + "Actual Rows": 3, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.055, + "Actual Rows": 2, + "Actual Loops": 11 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.06, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.083, + "Actual Rows": 1, + "Actual Loops": 1449, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 75, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.111, + "Actual Rows": 1, + "Actual Loops": 132 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 470 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 183 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.249, + "Actual Total Time": 0.281, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.078, + "Actual Rows": 1, + "Actual Loops": 555 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.098, + "Actual Total Time": 0.132, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.115, + "Actual Rows": 1, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 88, + "Plan Width": 8, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.064, + "Actual Rows": 93, + "Actual Loops": 1295, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.077, + "Actual Rows": 113, + "Actual Loops": 151 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.057, + "Actual Rows": 83, + "Actual Loops": 510 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.075, + "Actual Rows": 7, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.113, + "Actual Rows": 76, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.062, + "Actual Rows": 94, + "Actual Loops": 472 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.129, + "Actual Rows": 8, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.086, + "Actual Rows": 41, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 119995, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 17031 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 42564 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 43 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 152 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 44585 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 407 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 3049, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 382 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1188 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1088 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.108, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.162, + "Actual Total Time": 0.228, + "Actual Rows": 1, + "Actual Loops": 3049, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 125, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.209, + "Actual Total Time": 0.298, + "Actual Rows": 1, + "Actual Loops": 382 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.144, + "Actual Total Time": 0.203, + "Actual Rows": 1, + "Actual Loops": 1188 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.276, + "Actual Total Time": 0.476, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.750, + "Actual Total Time": 0.750, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.156, + "Actual Total Time": 0.219, + "Actual Rows": 1, + "Actual Loops": 1088 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.665, + "Actual Total Time": 0.856, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.523, + "Actual Total Time": 0.553, + "Actual Rows": 0, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 2825, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 400 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1266 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 816 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.087, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2399599952233934428, + "Planning Time": 333.022, + "Triggers": [ + ], + "Execution Time": 744.135, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 2399599952233934428, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(lt.link) AS link_type,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM keyword AS k,
     link_type AS lt,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE k.keyword ='10,000-mile-club'
  AND mk.keyword_id = k.id
  AND t1.id = mk.movie_id
  AND ml.movie_id = t1.id
  AND ml.linked_movie_id = t2.id
  AND lt.id = ml.link_type_id
  AND mk.movie_id = t1.id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1365.68, + "Total Cost": 1365.69, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 16.099, + "Actual Total Time": 17.712, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((lt.link)::text)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1365.62, + "Total Cost": 1365.63, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 13.902, + "Actual Total Time": 17.683, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((lt.link)::text))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1364.62, + "Total Cost": 1364.63, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 6.652, + "Actual Total Time": 6.657, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((lt.link)::text)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.077, + "Actual Total Time": 5.082, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.874, + "Actual Total Time": 4.878, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.188, + "Actual Total Time": 5.193, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.147, + "Actual Total Time": 6.151, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.151, + "Actual Total Time": 6.155, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.118, + "Actual Total Time": 6.123, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.683, + "Actual Total Time": 6.688, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1364.58, + "Plan Rows": 6, + "Plan Width": 46, + "Actual Startup Time": 6.646, + "Actual Total Time": 6.650, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["lt.link", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.072, + "Actual Total Time": 5.075, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.870, + "Actual Total Time": 4.874, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.181, + "Actual Total Time": 5.185, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.143, + "Actual Total Time": 6.147, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.145, + "Actual Total Time": 6.149, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.113, + "Actual Total Time": 6.117, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.674, + "Actual Total Time": 6.678, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1355.71, + "Plan Rows": 6, + "Plan Width": 33, + "Actual Startup Time": 6.645, + "Actual Total Time": 6.649, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ml.linked_movie_id", "lt.link", "t1.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.071, + "Actual Total Time": 5.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.870, + "Actual Total Time": 4.873, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.180, + "Actual Total Time": 5.183, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.143, + "Actual Total Time": 6.146, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.144, + "Actual Total Time": 6.148, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.113, + "Actual Total Time": 6.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.674, + "Actual Total Time": 6.677, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1352.96, + "Plan Rows": 6, + "Plan Width": 24, + "Actual Startup Time": 6.644, + "Actual Total Time": 6.647, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.070, + "Actual Total Time": 5.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.869, + "Actual Total Time": 4.871, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.179, + "Actual Total Time": 5.182, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.142, + "Actual Total Time": 6.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.144, + "Actual Total Time": 6.146, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.112, + "Actual Total Time": 6.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.673, + "Actual Total Time": 6.676, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1352.03, + "Plan Rows": 6, + "Plan Width": 16, + "Actual Startup Time": 6.644, + "Actual Total Time": 6.646, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.069, + "Actual Total Time": 5.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.869, + "Actual Total Time": 4.870, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.178, + "Actual Total Time": 5.180, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.141, + "Actual Total Time": 6.143, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.143, + "Actual Total Time": 6.145, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.112, + "Actual Total Time": 6.113, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.672, + "Actual Total Time": 6.674, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.48, + "Plan Rows": 17, + "Plan Width": 4, + "Actual Startup Time": 6.634, + "Actual Total Time": 6.642, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.069, + "Actual Total Time": 5.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.868, + "Actual Total Time": 4.869, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.177, + "Actual Total Time": 5.179, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.140, + "Actual Total Time": 6.141, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.142, + "Actual Total Time": 6.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.111, + "Actual Total Time": 6.112, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.671, + "Actual Total Time": 6.672, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.624, + "Actual Total Time": 6.631, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = '10,000-mile-club'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.068, + "Actual Total Time": 5.068, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.867, + "Actual Total Time": 4.868, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.176, + "Actual Total Time": 5.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.140, + "Actual Total Time": 6.140, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.142, + "Actual Total Time": 6.142, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.110, + "Actual Total Time": 6.111, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.670, + "Actual Total Time": 6.670, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 117, + "Plan Width": 8, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.065, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["lt.id", "lt.link"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"],+ "Index Cond": "(t1.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"], + "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6225652705960457954, + "Planning Time": 24.416, + "Triggers": [ + ], + "Execution Time": 17.971, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 6225652705960457954, + "JOINS": 5 + } + ] (1 row)
SELECT MIN(lt.link) AS link_type,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM keyword AS k,
     link_type AS lt,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE k.keyword ='character-name-in-title'
  AND mk.keyword_id = k.id
  AND t1.id = mk.movie_id
  AND ml.movie_id = t1.id
  AND ml.linked_movie_id = t2.id
  AND lt.id = ml.link_type_id
  AND mk.movie_id = t1.id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1365.68, + "Total Cost": 1365.69, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 397.379, + "Actual Total Time": 397.525, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((lt.link)::text)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1365.62, + "Total Cost": 1365.63, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 397.359, + "Actual Total Time": 397.515, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((lt.link)::text))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1364.62, + "Total Cost": 1364.63, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 55.165, + "Actual Total Time": 55.169, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((lt.link)::text)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.501, + "Actual Total Time": 6.505, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.069, + "Actual Total Time": 6.072, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.181, + "Actual Total Time": 6.186, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.257, + "Actual Total Time": 6.262, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.711, + "Actual Total Time": 6.715, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.461, + "Actual Total Time": 6.465, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.454, + "Actual Total Time": 6.458, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1364.58, + "Plan Rows": 6, + "Plan Width": 46, + "Actual Startup Time": 5.989, + "Actual Total Time": 54.805, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["lt.link", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.495, + "Actual Total Time": 6.498, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.065, + "Actual Total Time": 6.068, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.175, + "Actual Total Time": 6.180, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.252, + "Actual Total Time": 6.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.707, + "Actual Total Time": 6.711, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.456, + "Actual Total Time": 6.460, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.451, + "Actual Total Time": 6.454, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1355.71, + "Plan Rows": 6, + "Plan Width": 33, + "Actual Startup Time": 5.981, + "Actual Total Time": 43.663, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["ml.linked_movie_id", "lt.link", "t1.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.494, + "Actual Total Time": 6.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.064, + "Actual Total Time": 6.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.175, + "Actual Total Time": 6.178, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.252, + "Actual Total Time": 6.255, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.706, + "Actual Total Time": 6.709, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.456, + "Actual Total Time": 6.459, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.450, + "Actual Total Time": 6.453, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1352.96, + "Plan Rows": 6, + "Plan Width": 24, + "Actual Startup Time": 5.974, + "Actual Total Time": 39.701, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.494, + "Actual Total Time": 6.496, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.063, + "Actual Total Time": 6.065, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.174, + "Actual Total Time": 6.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.251, + "Actual Total Time": 6.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.705, + "Actual Total Time": 6.708, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.455, + "Actual Total Time": 6.458, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.449, + "Actual Total Time": 6.451, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1352.03, + "Plan Rows": 6, + "Plan Width": 16, + "Actual Startup Time": 5.935, + "Actual Total Time": 37.773, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.493, + "Actual Total Time": 6.495, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.062, + "Actual Total Time": 6.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.173, + "Actual Total Time": 6.175, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.250, + "Actual Total Time": 6.252, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.705, + "Actual Total Time": 6.706, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.455, + "Actual Total Time": 6.457, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.449, + "Actual Total Time": 6.450, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.48, + "Plan Rows": 17, + "Plan Width": 4, + "Actual Startup Time": 5.814, + "Actual Total Time": 20.014, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.493, + "Actual Total Time": 6.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.061, + "Actual Total Time": 6.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.172, + "Actual Total Time": 6.173, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.250, + "Actual Total Time": 6.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.704, + "Actual Total Time": 6.705, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.454, + "Actual Total Time": 6.455, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.448, + "Actual Total Time": 6.449, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.796, + "Actual Total Time": 5.798, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.492, + "Actual Total Time": 6.493, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.061, + "Actual Total Time": 6.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.172, + "Actual Total Time": 6.172, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.249, + "Actual Total Time": 6.250, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.703, + "Actual Total Time": 6.704, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.453, + "Actual Total Time": 6.454, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.447, + "Actual Total Time": 6.448, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 117, + "Plan Width": 8, + "Actual Startup Time": 0.127, + "Actual Total Time": 105.216, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 4388, + "Output": ["lt.id", "lt.link"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 4388, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"],+ "Index Cond": "(t1.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 4388, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"], + "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6225652705960457954, + "Planning Time": 18.826, + "Triggers": [ + ], + "Execution Time": 397.770, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 6225652705960457954, + "JOINS": 5 + } + ] (1 row)
SELECT MIN(cn1.name) AS first_company,
       MIN(cn2.name) AS second_company,
       MIN(mi_idx1.info) AS first_rating,
       MIN(mi_idx2.info) AS second_rating,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM company_name AS cn1,
     company_name AS cn2,
     info_type AS it1,
     info_type AS it2,
     kind_type AS kt1,
     kind_type AS kt2,
     link_type AS lt,
     movie_companies AS mc1,
     movie_companies AS mc2,
     movie_info_idx AS mi_idx1,
     movie_info_idx AS mi_idx2,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE cn1.country_code = '[us]'
  AND it1.info = 'rating'
  AND it2.info = 'rating'
  AND kt1.kind IN ('tv series')
  AND kt2.kind IN ('tv series')
  AND lt.link IN ('sequel',
                  'follows',
                  'followed by')
  AND mi_idx2.info < '3.0'
  AND t2.production_year BETWEEN 2005 AND 2008
  AND lt.id = ml.link_type_id
  AND t1.id = ml.movie_id
  AND t2.id = ml.linked_movie_id
  AND it1.id = mi_idx1.info_type_id
  AND t1.id = mi_idx1.movie_id
  AND kt1.id = t1.kind_id
  AND cn1.id = mc1.company_id
  AND t1.id = mc1.movie_id
  AND ml.movie_id = mi_idx1.movie_id
  AND ml.movie_id = mc1.movie_id
  AND mi_idx1.movie_id = mc1.movie_id
  AND it2.id = mi_idx2.info_type_id
  AND t2.id = mi_idx2.movie_id
  AND kt2.id = t2.kind_id
  AND cn2.id = mc2.company_id
  AND t2.id = mc2.movie_id
  AND ml.linked_movie_id = mi_idx2.movie_id
  AND ml.linked_movie_id = mc2.movie_id
  AND mi_idx2.movie_id = mc2.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1195.72, + "Total Cost": 1195.73, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 46.002, + "Actual Total Time": 49.940, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn1.name)", "min(cn2.name)", "min(mi_idx1.info)", "min(mi_idx2.info)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1195.64, + "Total Cost": 1195.65, + "Plan Rows": 5, + "Plan Width": 192, + "Actual Startup Time": 45.716, + "Actual Total Time": 49.917, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn1.name))", "(PARTIAL min(cn2.name))", "(PARTIAL min(mi_idx1.info))", "(PARTIAL min(mi_idx2.info))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1194.64, + "Total Cost": 1194.65, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 36.003, + "Actual Total Time": 36.018, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn1.name)", "PARTIAL min(cn2.name)", "PARTIAL min(mi_idx1.info)", "PARTIAL min(mi_idx2.info)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.181, + "Actual Total Time": 35.191, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 36.524, + "Actual Total Time": 36.542, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.685, + "Actual Total Time": 28.703, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.253, + "Actual Total Time": 36.264, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.034, + "Actual Total Time": 35.045, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.01, + "Total Cost": 1194.61, + "Plan Rows": 2, + "Plan Width": 82, + "Actual Startup Time": 30.240, + "Actual Total Time": 36.006, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx1.info", "mi_idx2.info", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.174, + "Actual Total Time": 35.185, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 36.514, + "Actual Total Time": 36.531, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.675, + "Actual Total Time": 28.692, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.246, + "Actual Total Time": 36.257, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.027, + "Actual Total Time": 35.038, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.59, + "Total Cost": 1191.96, + "Plan Rows": 6, + "Plan Width": 67, + "Actual Startup Time": 23.658, + "Actual Total Time": 35.916, + "Actual Rows": 5, + "Actual Loops": 6, + "Output": ["cn2.name", "mi_idx2.info", "mi_idx1.info", "mc1.company_id", "t2.title", "t1.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.174, + "Actual Total Time": 35.183, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 36.513, + "Actual Total Time": 36.529, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.596, + "Actual Total Time": 28.396, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.891, + "Actual Total Time": 36.208, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.026, + "Actual Total Time": 35.036, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.43, + "Total Cost": 1190.61, + "Plan Rows": 17, + "Plan Width": 71, + "Actual Startup Time": 23.315, + "Actual Total Time": 35.848, + "Actual Rows": 14, + "Actual Loops": 6, + "Output": ["cn2.name", "mi_idx2.info", "mi_idx1.info", "mi_idx1.info_type_id", "mc1.company_id", "t2.title", "t1.title"], + "Inner Unique": true, + "Join Filter": "((ml.movie_id = t1.id) AND (kt1.id = t1.kind_id))", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.173, + "Actual Total Time": 35.181, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 36.513, + "Actual Total Time": 36.527, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.835, + "Actual Total Time": 28.196, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.576, + "Actual Total Time": 36.133, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.026, + "Actual Total Time": 35.035, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.00, + "Total Cost": 1182.44, + "Plan Rows": 17, + "Plan Width": 70, + "Actual Startup Time": 23.240, + "Actual Total Time": 35.594, + "Actual Rows": 14, + "Actual Loops": 6, + "Output": ["kt1.id", "cn2.name", "ml.movie_id", "mi_idx2.info", "mi_idx1.info", "mi_idx1.info_type_id", "mi_idx1.movie_id", "mc1.company_id", "mc1.movie_id", "t2.title"], + "Inner Unique": false, + "Hash Cond": "(t2.kind_id = kt2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.172, + "Actual Total Time": 35.180, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 36.512, + "Actual Total Time": 36.525, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.752, + "Actual Total Time": 27.641, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.249, + "Actual Total Time": 35.746, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.024, + "Actual Total Time": 35.033, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.84, + "Total Cost": 1180.20, + "Plan Rows": 17, + "Plan Width": 70, + "Actual Startup Time": 23.056, + "Actual Total Time": 35.382, + "Actual Rows": 14, + "Actual Loops": 6, + "Output": ["cn2.name", "ml.movie_id", "mi_idx2.info", "mi_idx1.info", "mi_idx1.info_type_id", "mi_idx1.movie_id", "mc1.company_id", "mc1.movie_id", "t2.title", "t2.kind_id"], + "Inner Unique": true, + "Join Filter": "(ml.linked_movie_id = t2.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.080, + "Actual Total Time": 35.086, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 36.423, + "Actual Total Time": 36.434, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.583, + "Actual Total Time": 27.414, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.156, + "Actual Total Time": 35.644, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.937, + "Actual Total Time": 34.943, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.41, + "Total Cost": 1128.50, + "Plan Rows": 107, + "Plan Width": 61, + "Actual Startup Time": 7.561, + "Actual Total Time": 33.833, + "Actual Rows": 90, + "Actual Loops": 6, + "Output": ["cn2.name", "ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "mi_idx1.info", "mi_idx1.info_type_id", "mi_idx1.movie_id", "mc2.movie_id", "mc1.company_id", "mc1.movie_id"],+ "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc1.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.398, + "Actual Total Time": 34.577, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.328, + "Actual Total Time": 33.853, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.428, + "Actual Total Time": 25.578, + "Actual Rows": 60, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.955, + "Actual Total Time": 34.564, + "Actual Rows": 69, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.151, + "Actual Total Time": 33.106, + "Actual Rows": 165, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.98, + "Total Cost": 1108.11, + "Plan Rows": 35, + "Plan Width": 53, + "Actual Startup Time": 7.522, + "Actual Total Time": 33.185, + "Actual Rows": 29, + "Actual Loops": 6, + "Output": ["cn2.name", "ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "mi_idx1.info", "mi_idx1.info_type_id", "mi_idx1.movie_id", "mc2.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.362, + "Actual Total Time": 34.278, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.308, + "Actual Total Time": 33.130, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.329, + "Actual Total Time": 24.604, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.936, + "Actual Total Time": 34.153, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.137, + "Actual Total Time": 32.249, + "Actual Rows": 63, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.56, + "Total Cost": 1092.74, + "Plan Rows": 35, + "Plan Width": 38, + "Actual Startup Time": 7.436, + "Actual Total Time": 32.496, + "Actual Rows": 29, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "mi_idx1.info", "mi_idx1.info_type_id", "mi_idx1.movie_id", "mc2.company_id", "mc2.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.linked_movie_id = mc2.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.302, + "Actual Total Time": 33.770, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.229, + "Actual Total Time": 32.550, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.134, + "Actual Total Time": 23.835, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.864, + "Actual Total Time": 33.744, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.074, + "Actual Total Time": 31.515, + "Actual Rows": 63, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 1082.06, + "Plan Rows": 18, + "Plan Width": 30, + "Actual Startup Time": 7.311, + "Actual Total Time": 32.046, + "Actual Rows": 15, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "mi_idx1.info", "mi_idx1.info_type_id", "mi_idx1.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.207, + "Actual Total Time": 33.488, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.132, + "Actual Total Time": 32.022, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.918, + "Actual Total Time": 23.073, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.767, + "Actual Total Time": 33.450, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.870, + "Actual Total Time": 31.125, + "Actual Rows": 27, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1075.30, + "Plan Rows": 7, + "Plan Width": 17, + "Actual Startup Time": 7.282, + "Actual Total Time": 31.849, + "Actual Rows": 6, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx2.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.182, + "Actual Total Time": 33.389, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.111, + "Actual Total Time": 31.830, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.849, + "Actual Total Time": 22.787, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.748, + "Actual Total Time": 33.158, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.853, + "Actual Total Time": 30.984, + "Actual Rows": 9, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1071.87, + "Plan Rows": 580, + "Plan Width": 21, + "Actual Startup Time": 1.227, + "Actual Total Time": 31.570, + "Actual Rows": 484, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.info_type_id", "mi_idx2.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.496, + "Actual Total Time": 32.969, + "Actual Rows": 1041, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.092, + "Actual Total Time": 31.543, + "Actual Rows": 210, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.006, + "Actual Total Time": 22.641, + "Actual Rows": 84, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.333, + "Actual Total Time": 32.933, + "Actual Rows": 515, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.147, + "Actual Total Time": 30.770, + "Actual Rows": 530, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 629.91, + "Plan Rows": 463, + "Plan Width": 8, + "Actual Startup Time": 1.017, + "Actual Total Time": 19.107, + "Actual Rows": 386, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.403, + "Actual Total Time": 17.654, + "Actual Rows": 847, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.720, + "Actual Total Time": 19.125, + "Actual Rows": 185, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.781, + "Actual Total Time": 16.777, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.212, + "Actual Total Time": 19.397, + "Actual Rows": 384, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.930, + "Actual Total Time": 19.159, + "Actual Rows": 393, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 12, + "Actual Startup Time": 0.249, + "Actual Total Time": 12.044, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.352, + "Actual Total Time": 10.769, + "Actual Rows": 6459, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.057, + "Actual Total Time": 11.307, + "Actual Rows": 2361, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.145, + "Actual Total Time": 10.623, + "Actual Rows": 2009, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.090, + "Actual Total Time": 11.986, + "Actual Rows": 6310, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.790, + "Actual Total Time": 12.428, + "Actual Rows": 6552, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 6290, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 6459, + "Cache Hits": 6443, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 2361, + "Cache Hits": 2345, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 2009, + "Cache Hits": 1993, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 6310, + "Cache Hits": 6294, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 6552, + "Cache Hits": 6536, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = ANY ('{sequel,follows,\"followed by\"}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx2", + "Startup Cost": 0.43, + "Total Cost": 0.94, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 2315, + "Output": ["mi_idx2.id", "mi_idx2.movie_id", "mi_idx2.info_type_id", "mi_idx2.info", "mi_idx2.note"], + "Index Cond": "(mi_idx2.movie_id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx2.info < '3.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 847 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 185 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.090, + "Actual Rows": 1, + "Actual Loops": 63 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 384 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 393 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx1", + "Startup Cost": 0.43, + "Total Cost": 0.94, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 3, + "Actual Loops": 34, + "Output": ["mi_idx1.id", "mi_idx1.movie_id", "mi_idx1.info_type_id", "mi_idx1.info", "mi_idx1.note"], + "Index Cond": "(mi_idx1.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 3, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.056, + "Actual Rows": 3, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.050, + "Actual Rows": 2, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.055, + "Actual Rows": 2, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 9 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc2", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.027, + "Actual Rows": 2, + "Actual Loops": 90, + "Output": ["mc2.id", "mc2.movie_id", "mc2.company_id", "mc2.company_type_id", "mc2.note"], + "Index Cond": "(mc2.movie_id = mi_idx2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.021, + "Actual Rows": 2, + "Actual Loops": 12 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.058, + "Actual Rows": 2, + "Actual Loops": 12 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.029, + "Actual Rows": 3, + "Actual Loops": 9 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 27 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn2", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 174, + "Output": ["cn2.id", "cn2.name", "cn2.country_code", "cn2.imdb_id", "cn2.name_pcode_nf", "cn2.name_pcode_sf", "cn2.md5sum"], + "Index Cond": "(cn2.id = mc2.company_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 18 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 18 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 24 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 63 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc1", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 174, + "Output": ["mc1.id", "mc1.movie_id", "mc1.company_id", "mc1.company_type_id", "mc1.note"], + "Index Cond": "(mc1.movie_id = mi_idx1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 18 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.047, + "Actual Rows": 6, + "Actual Loops": 12 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.046, + "Actual Rows": 3, + "Actual Loops": 18 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 24 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 63 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 537, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"], + "Index Cond": "(t2.id = mc2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t2.production_year >= 2005) AND (t2.production_year <= 2008))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 48 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 72 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 60 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 69 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 165 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 2.15, + "Total Cost": 2.15, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["kt2.id", "kt1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.00, + "Total Cost": 2.15, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.075, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt2.id", "kt1.id"], + "Inner Unique": false, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt2", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt2.id", "kt2.kind"], + "Filter": "((kt2.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + }, + { + "Node Type": "Seq Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt1", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt1.id", "kt1.kind"], + "Filter": "((kt1.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 84, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"], + "Index Cond": "(t1.id = mc1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 18 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 84, + "Output": ["it1.id"], + "Cache Key": "mi_idx1.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 57, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 18, + "Cache Hits": 15, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 6, + "Cache Hits": 3, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 9, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi_idx1.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn1", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 28, + "Output": ["cn1.id", "cn1.name", "cn1.country_code", "cn1.imdb_id", "cn1.name_pcode_nf", "cn1.name_pcode_sf", "cn1.md5sum"], + "Index Cond": "(cn1.id = mc1.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn1.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3515944407635664271, + "Planning Time": 2877.826, + "Triggers": [ + ], + "Execution Time": 50.559, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -3515944407635664271, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn1.name) AS first_company,
       MIN(cn2.name) AS second_company,
       MIN(mi_idx1.info) AS first_rating,
       MIN(mi_idx2.info) AS second_rating,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM company_name AS cn1,
     company_name AS cn2,
     info_type AS it1,
     info_type AS it2,
     kind_type AS kt1,
     kind_type AS kt2,
     link_type AS lt,
     movie_companies AS mc1,
     movie_companies AS mc2,
     movie_info_idx AS mi_idx1,
     movie_info_idx AS mi_idx2,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE cn1.country_code = '[nl]'
  AND it1.info = 'rating'
  AND it2.info = 'rating'
  AND kt1.kind IN ('tv series')
  AND kt2.kind IN ('tv series')
  AND lt.link LIKE '%follow%'
  AND mi_idx2.info < '3.0'
  AND t2.production_year = 2007
  AND lt.id = ml.link_type_id
  AND t1.id = ml.movie_id
  AND t2.id = ml.linked_movie_id
  AND it1.id = mi_idx1.info_type_id
  AND t1.id = mi_idx1.movie_id
  AND kt1.id = t1.kind_id
  AND cn1.id = mc1.company_id
  AND t1.id = mc1.movie_id
  AND ml.movie_id = mi_idx1.movie_id
  AND ml.movie_id = mc1.movie_id
  AND mi_idx1.movie_id = mc1.movie_id
  AND it2.id = mi_idx2.info_type_id
  AND t2.id = mi_idx2.movie_id
  AND kt2.id = t2.kind_id
  AND cn2.id = mc2.company_id
  AND t2.id = mc2.movie_id
  AND ml.linked_movie_id = mi_idx2.movie_id
  AND ml.linked_movie_id = mc2.movie_id
  AND mi_idx2.movie_id = mc2.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1335.35, + "Total Cost": 1335.36, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 33.563, + "Actual Total Time": 35.562, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn1.name)", "min(cn2.name)", "min(mi_idx1.info)", "min(mi_idx2.info)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1335.26, + "Total Cost": 1335.27, + "Plan Rows": 5, + "Plan Width": 192, + "Actual Startup Time": 33.040, + "Actual Total Time": 35.546, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn1.name))", "(PARTIAL min(cn2.name))", "(PARTIAL min(mi_idx1.info))", "(PARTIAL min(mi_idx2.info))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1334.26, + "Total Cost": 1334.27, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 24.928, + "Actual Total Time": 24.939, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn1.name)", "PARTIAL min(cn2.name)", "PARTIAL min(mi_idx1.info)", "PARTIAL min(mi_idx2.info)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.151, + "Actual Total Time": 24.159, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.180, + "Actual Total Time": 25.188, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.778, + "Actual Total Time": 18.788, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.814, + "Actual Total Time": 24.823, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.776, + "Actual Total Time": 24.786, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.25, + "Total Cost": 1334.25, + "Plan Rows": 1, + "Plan Width": 82, + "Actual Startup Time": 21.425, + "Actual Total Time": 24.927, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx1.info", "mi_idx2.info", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.147, + "Actual Total Time": 24.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.175, + "Actual Total Time": 25.183, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.773, + "Actual Total Time": 18.782, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.808, + "Actual Total Time": 24.817, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.780, + "Actual Total Time": 24.745, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.83, + "Total Cost": 1333.81, + "Plan Rows": 1, + "Plan Width": 67, + "Actual Startup Time": 21.418, + "Actual Total Time": 24.899, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "t2.title", "mi_idx2.info", "mi_idx1.info", "t1.title", "mc2.company_id"], + "Inner Unique": false, + "Join Filter": "(t2.id = mc2.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.146, + "Actual Total Time": 24.153, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.174, + "Actual Total Time": 25.181, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.772, + "Actual Total Time": 18.780, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.807, + "Actual Total Time": 24.816, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.746, + "Actual Total Time": 24.583, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.40, + "Total Cost": 1333.23, + "Plan Rows": 1, + "Plan Width": 75, + "Actual Startup Time": 21.409, + "Actual Total Time": 24.884, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["cn1.name", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mi_idx1.info", "t1.title"], + "Inner Unique": true, + "Join Filter": "((ml.movie_id = t1.id) AND (kt1.id = t1.kind_id))", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.145, + "Actual Total Time": 24.152, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.174, + "Actual Total Time": 25.180, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.771, + "Actual Total Time": 18.779, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.807, + "Actual Total Time": 24.814, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.693, + "Actual Total Time": 24.503, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.97, + "Total Cost": 1332.75, + "Plan Rows": 1, + "Plan Width": 74, + "Actual Startup Time": 21.401, + "Actual Total Time": 24.876, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["cn1.name", "kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.movie_id", "mi_idx1.info", "mi_idx1.movie_id"], + "Inner Unique": false, + "Join Filter": "((ml.movie_id = mi_idx1.movie_id) AND (it1.id = mi_idx1.info_type_id))", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.145, + "Actual Total Time": 24.151, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.173, + "Actual Total Time": 25.179, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.771, + "Actual Total Time": 18.778, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.806, + "Actual Total Time": 24.813, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.651, + "Actual Total Time": 24.460, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.54, + "Total Cost": 1332.22, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 21.389, + "Actual Total Time": 24.863, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["cn1.name", "it1.id", "kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.144, + "Actual Total Time": 24.150, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.173, + "Actual Total Time": 25.178, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.770, + "Actual Total Time": 18.777, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.806, + "Actual Total Time": 24.812, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.578, + "Actual Total Time": 24.384, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.12, + "Total Cost": 1331.78, + "Plan Rows": 1, + "Plan Width": 54, + "Actual Startup Time": 18.487, + "Actual Total Time": 24.830, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id", "kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.company_id", "mc1.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.144, + "Actual Total Time": 24.149, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.172, + "Actual Total Time": 25.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.770, + "Actual Total Time": 18.776, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.805, + "Actual Total Time": 24.811, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.491, + "Actual Total Time": 24.237, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.69, + "Total Cost": 1330.34, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 18.459, + "Actual Total Time": 24.798, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it1.id", "kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id"], + "Inner Unique": false, + "Hash Cond": "(mi_idx2.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.143, + "Actual Total Time": 24.148, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.171, + "Actual Total Time": 25.176, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.769, + "Actual Total Time": 18.775, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.804, + "Actual Total Time": 24.810, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.377, + "Actual Total Time": 24.102, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.43, + "Total Cost": 1326.05, + "Plan Rows": 4, + "Plan Width": 46, + "Actual Startup Time": 12.434, + "Actual Total Time": 24.653, + "Actual Rows": 4, + "Actual Loops": 6, + "Output": ["kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.info_type_id", "mi_idx2.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.035, + "Actual Total Time": 24.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.820, + "Actual Total Time": 25.109, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.687, + "Actual Total Time": 18.690, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.381, + "Actual Total Time": 24.738, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.247, + "Actual Total Time": 23.970, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.00, + "Total Cost": 1323.56, + "Plan Rows": 4, + "Plan Width": 33, + "Actual Startup Time": 10.277, + "Actual Total Time": 24.534, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.035, + "Actual Total Time": 24.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.617, + "Actual Total Time": 24.979, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.686, + "Actual Total Time": 18.689, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.321, + "Actual Total Time": 24.631, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.096, + "Actual Total Time": 23.812, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.00, + "Total Cost": 1319.17, + "Plan Rows": 4, + "Plan Width": 29, + "Actual Startup Time": 10.260, + "Actual Total Time": 24.492, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.034, + "Actual Total Time": 24.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.587, + "Actual Total Time": 24.936, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.685, + "Actual Total Time": 18.688, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.296, + "Actual Total Time": 24.590, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.060, + "Actual Total Time": 23.768, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1318.10, + "Plan Rows": 7, + "Plan Width": 33, + "Actual Startup Time": 7.875, + "Actual Total Time": 24.409, + "Actual Rows": 6, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "t2.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.642, + "Actual Total Time": 23.967, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.541, + "Actual Total Time": 24.875, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.948, + "Actual Total Time": 18.646, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.259, + "Actual Total Time": 24.516, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.989, + "Actual Total Time": 23.663, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 632.40, + "Plan Rows": 463, + "Plan Width": 8, + "Actual Startup Time": 0.298, + "Actual Total Time": 14.050, + "Actual Rows": 386, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.144, + "Actual Total Time": 14.522, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.130, + "Actual Total Time": 12.649, + "Actual Rows": 750, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.268, + "Actual Total Time": 13.081, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.563, + "Actual Total Time": 14.726, + "Actual Rows": 296, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.545, + "Actual Total Time": 14.676, + "Actual Rows": 237, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 12, + "Actual Startup Time": 0.046, + "Actual Total Time": 8.428, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 8.748, + "Actual Rows": 5212, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 7.369, + "Actual Rows": 4912, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 7.978, + "Actual Rows": 4633, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 8.822, + "Actual Rows": 5247, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 8.998, + "Actual Rows": 4805, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 5172, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5212, + "Cache Hits": 5196, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4912, + "Cache Hits": 4896, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4633, + "Cache Hits": 4617, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5247, + "Cache Hits": 5231, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4805, + "Cache Hits": 4789, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 2315, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"],+ "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t2.production_year = 2007)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 331 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 750 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 165 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 296 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 237 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 37, + "Output": ["kt2.id", "kt2.kind"], + "Index Cond": "(kt2.id = t2.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt2.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Seq Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt1", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 20, + "Output": ["kt1.id", "kt1.kind"], + "Filter": "((kt1.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx2", + "Startup Cost": 0.43, + "Total Cost": 0.60, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 20, + "Output": ["mi_idx2.id", "mi_idx2.movie_id", "mi_idx2.info_type_id", "mi_idx2.info", "mi_idx2.note"], + "Index Cond": "(mi_idx2.movie_id = t2.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx2.info < '3.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.033, + "Actual Rows": 2, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.145, + "Actual Total Time": 0.149, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 4.25, + "Total Cost": 4.25, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it2.id", "it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.00, + "Total Cost": 4.25, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.072, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id", "it1.id"], + "Inner Unique": false, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id", "it2.info"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + }, + { + "Node Type": "Seq Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 2.41, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id", "it1.info"], + "Filter": "((it1.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc1", + "Startup Cost": 0.43, + "Total Cost": 1.42, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.084, + "Actual Rows": 2, + "Actual Loops": 2, + "Output": ["mc1.id", "mc1.movie_id", "mc1.company_id", "mc1.company_type_id", "mc1.note"], + "Index Cond": "(mc1.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.122, + "Actual Rows": 3, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn1", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 4, + "Output": ["cn1.id", "cn1.name", "cn1.country_code", "cn1.imdb_id", "cn1.name_pcode_nf", "cn1.name_pcode_sf", "cn1.md5sum"], + "Index Cond": "(cn1.id = mc1.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn1.country_code)::text = '[nl]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx1", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.062, + "Actual Rows": 3, + "Actual Loops": 1, + "Output": ["mi_idx1.id", "mi_idx1.movie_id", "mi_idx1.info_type_id", "mi_idx1.info", "mi_idx1.note"], + "Index Cond": "(mi_idx1.movie_id = mc1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.062, + "Actual Rows": 3, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"], + "Index Cond": "(t1.id = mc1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc2", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.067, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["mc2.id", "mc2.movie_id", "mc2.company_id", "mc2.company_type_id", "mc2.note"], + "Index Cond": "(mc2.movie_id = mi_idx2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.067, + "Actual Rows": 4, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn2", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 4, + "Output": ["cn2.id", "cn2.name", "cn2.country_code", "cn2.imdb_id", "cn2.name_pcode_nf", "cn2.name_pcode_sf", "cn2.md5sum"], + "Index Cond": "(cn2.id = mc2.company_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6846011022746249658, + "Planning Time": 2944.009, + "Triggers": [ + ], + "Execution Time": 36.068, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6846011022746249658, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn1.name) AS first_company,
       MIN(cn2.name) AS second_company,
       MIN(mi_idx1.info) AS first_rating,
       MIN(mi_idx2.info) AS second_rating,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM company_name AS cn1,
     company_name AS cn2,
     info_type AS it1,
     info_type AS it2,
     kind_type AS kt1,
     kind_type AS kt2,
     link_type AS lt,
     movie_companies AS mc1,
     movie_companies AS mc2,
     movie_info_idx AS mi_idx1,
     movie_info_idx AS mi_idx2,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE cn1.country_code != '[us]'
  AND it1.info = 'rating'
  AND it2.info = 'rating'
  AND kt1.kind IN ('tv series',
                   'episode')
  AND kt2.kind IN ('tv series',
                   'episode')
  AND lt.link IN ('sequel',
                  'follows',
                  'followed by')
  AND mi_idx2.info < '3.5'
  AND t2.production_year BETWEEN 2000 AND 2010
  AND lt.id = ml.link_type_id
  AND t1.id = ml.movie_id
  AND t2.id = ml.linked_movie_id
  AND it1.id = mi_idx1.info_type_id
  AND t1.id = mi_idx1.movie_id
  AND kt1.id = t1.kind_id
  AND cn1.id = mc1.company_id
  AND t1.id = mc1.movie_id
  AND ml.movie_id = mi_idx1.movie_id
  AND ml.movie_id = mc1.movie_id
  AND mi_idx1.movie_id = mc1.movie_id
  AND it2.id = mi_idx2.info_type_id
  AND t2.id = mi_idx2.movie_id
  AND kt2.id = t2.kind_id
  AND cn2.id = mc2.company_id
  AND t2.id = mc2.movie_id
  AND ml.linked_movie_id = mi_idx2.movie_id
  AND ml.linked_movie_id = mc2.movie_id
  AND mi_idx2.movie_id = mc2.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1155.37, + "Total Cost": 1155.38, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 33.771, + "Actual Total Time": 35.611, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn1.name)", "min(cn2.name)", "min(mi_idx1.info)", "min(mi_idx2.info)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1155.28, + "Total Cost": 1155.29, + "Plan Rows": 5, + "Plan Width": 192, + "Actual Startup Time": 33.081, + "Actual Total Time": 35.579, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn1.name))", "(PARTIAL min(cn2.name))", "(PARTIAL min(mi_idx1.info))", "(PARTIAL min(mi_idx2.info))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1154.28, + "Total Cost": 1154.29, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 22.859, + "Actual Total Time": 22.871, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn1.name)", "PARTIAL min(cn2.name)", "PARTIAL min(mi_idx1.info)", "PARTIAL min(mi_idx2.info)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.321, + "Actual Total Time": 23.331, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 23.243, + "Actual Total Time": 23.254, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.937, + "Actual Total Time": 16.947, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.727, + "Actual Total Time": 23.740, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.896, + "Actual Total Time": 17.905, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10.24, + "Total Cost": 1153.94, + "Plan Rows": 23, + "Plan Width": 82, + "Actual Startup Time": 9.913, + "Actual Total Time": 22.819, + "Actual Rows": 19, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx1.info", "mi_idx2.info", "t1.title", "t2.title"], + "Inner Unique": true, + "Hash Cond": "(t2.kind_id = kt2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.266, + "Actual Total Time": 23.278, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.286, + "Actual Total Time": 23.202, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.931, + "Actual Total Time": 16.941, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.720, + "Actual Total Time": 23.733, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.804, + "Actual Total Time": 17.879, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 9.18, + "Total Cost": 1152.76, + "Plan Rows": 27, + "Plan Width": 86, + "Actual Startup Time": 9.033, + "Actual Total Time": 22.661, + "Actual Rows": 22, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx2.info", "t2.title", "t2.kind_id", "t1.title", "mi_idx1.info"], + "Inner Unique": false, + "Join Filter": "(it1.id = mi_idx1.info_type_id)", + "Rows Removed by Join Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.196, + "Actual Total Time": 23.177, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.206, + "Actual Total Time": 23.102, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.332, + "Actual Total Time": 16.808, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.636, + "Actual Total Time": 23.647, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.662, + "Actual Total Time": 17.730, + "Actual Rows": 9, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.75, + "Total Cost": 1138.12, + "Plan Rows": 28, + "Plan Width": 97, + "Actual Startup Time": 7.470, + "Actual Total Time": 22.127, + "Actual Rows": 23, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "it1.id", "ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "t1.title", "t1.id", "mc1.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.167, + "Actual Total Time": 21.528, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.177, + "Actual Total Time": 22.819, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.082, + "Actual Total Time": 16.630, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.635, + "Actual Total Time": 23.645, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.637, + "Actual Total Time": 17.601, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.33, + "Total Cost": 1124.42, + "Plan Rows": 31, + "Plan Width": 82, + "Actual Startup Time": 7.446, + "Actual Total Time": 21.765, + "Actual Rows": 26, + "Actual Loops": 6, + "Output": ["cn2.name", "it1.id", "ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "t1.title", "t1.id", "mc1.company_id", "mc1.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.145, + "Actual Total Time": 21.085, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.151, + "Actual Total Time": 22.572, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.034, + "Actual Total Time": 16.364, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.634, + "Actual Total Time": 23.644, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.607, + "Actual Total Time": 17.436, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.90, + "Total Cost": 1118.47, + "Plan Rows": 11, + "Plan Width": 74, + "Actual Startup Time": 7.418, + "Actual Total Time": 21.563, + "Actual Rows": 9, + "Actual Loops": 6, + "Output": ["cn2.name", "it1.id", "ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "t1.title", "t1.id"], + "Inner Unique": true, + "Hash Cond": "(t1.kind_id = kt1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.126, + "Actual Total Time": 20.900, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.133, + "Actual Total Time": 22.424, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.950, + "Actual Total Time": 16.155, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.634, + "Actual Total Time": 23.643, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.581, + "Actual Total Time": 17.280, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.84, + "Total Cost": 1117.36, + "Plan Rows": 11, + "Plan Width": 78, + "Actual Startup Time": 7.400, + "Actual Total Time": 21.530, + "Actual Rows": 9, + "Actual Loops": 6, + "Output": ["cn2.name", "it1.id", "ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "t1.title", "t1.id", "t1.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.115, + "Actual Total Time": 20.879, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.122, + "Actual Total Time": 22.401, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.928, + "Actual Total Time": 16.119, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.614, + "Actual Total Time": 23.622, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.568, + "Actual Total Time": 17.258, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.41, + "Total Cost": 1101.09, + "Plan Rows": 11, + "Plan Width": 53, + "Actual Startup Time": 7.361, + "Actual Total Time": 21.294, + "Actual Rows": 9, + "Actual Loops": 6, + "Output": ["cn2.name", "it1.id", "ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id"], + "Inner Unique": true, + "Join Filter": "(ml.linked_movie_id = t2.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.076, + "Actual Total Time": 20.734, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.092, + "Actual Total Time": 22.284, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.821, + "Actual Total Time": 15.936, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.614, + "Actual Total Time": 23.620, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.538, + "Actual Total Time": 16.690, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.98, + "Total Cost": 1091.92, + "Plan Rows": 19, + "Plan Width": 44, + "Actual Startup Time": 3.486, + "Actual Total Time": 20.987, + "Actual Rows": 16, + "Actual Loops": 6, + "Output": ["cn2.name", "it1.id", "ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "mc2.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.011, + "Actual Total Time": 20.456, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.032, + "Actual Total Time": 22.054, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.689, + "Actual Total Time": 15.528, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.817, + "Actual Total Time": 23.502, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.488, + "Actual Total Time": 16.603, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.56, + "Total Cost": 1083.57, + "Plan Rows": 19, + "Plan Width": 29, + "Actual Startup Time": 3.422, + "Actual Total Time": 20.390, + "Actual Rows": 16, + "Actual Loops": 6, + "Output": ["it1.id", "ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "mc2.company_id", "mc2.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.linked_movie_id = mc2.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.942, + "Actual Total Time": 20.162, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.983, + "Actual Total Time": 21.830, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.571, + "Actual Total Time": 13.657, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.754, + "Actual Total Time": 23.362, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.436, + "Actual Total Time": 16.500, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.13, + "Total Cost": 1078.49, + "Plan Rows": 9, + "Plan Width": 21, + "Actual Startup Time": 3.185, + "Actual Total Time": 20.108, + "Actual Rows": 8, + "Actual Loops": 6, + "Output": ["it1.id", "ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id"], + "Inner Unique": false, + "Hash Cond": "(mi_idx2.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.872, + "Actual Total Time": 19.899, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.914, + "Actual Total Time": 21.613, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.352, + "Actual Total Time": 13.283, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.699, + "Actual Total Time": 23.211, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.462, + "Actual Total Time": 16.312, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1071.87, + "Plan Rows": 613, + "Plan Width": 21, + "Actual Startup Time": 0.821, + "Actual Total Time": 19.878, + "Actual Rows": 511, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.info_type_id", "mi_idx2.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.457, + "Actual Total Time": 19.711, + "Actual Rows": 486, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.325, + "Actual Total Time": 21.453, + "Actual Rows": 386, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.704, + "Actual Total Time": 13.159, + "Actual Rows": 137, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.683, + "Actual Total Time": 22.877, + "Actual Rows": 925, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.605, + "Actual Total Time": 16.190, + "Actual Rows": 245, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 629.91, + "Plan Rows": 463, + "Plan Width": 8, + "Actual Startup Time": 0.528, + "Actual Total Time": 14.031, + "Actual Rows": 386, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.173, + "Actual Total Time": 14.376, + "Actual Rows": 333, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.269, + "Actual Total Time": 16.640, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.490, + "Actual Total Time": 10.137, + "Actual Rows": 111, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.626, + "Actual Total Time": 13.842, + "Actual Rows": 710, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.491, + "Actual Total Time": 12.726, + "Actual Rows": 208, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 12, + "Actual Startup Time": 0.056, + "Actual Total Time": 8.451, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 8.620, + "Actual Rows": 5250, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 10.313, + "Actual Rows": 5999, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.089, + "Actual Total Time": 6.121, + "Actual Rows": 2860, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 8.149, + "Actual Rows": 5064, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.082, + "Actual Total Time": 7.793, + "Actual Rows": 4737, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 6071, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5250, + "Cache Hits": 5234, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 5999, + "Cache Hits": 5983, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2860, + "Cache Hits": 2844, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5064, + "Cache Hits": 5048, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4737, + "Cache Hits": 4721, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = ANY ('{sequel,follows,\"followed by\"}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx2", + "Startup Cost": 0.43, + "Total Cost": 0.94, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 2315, + "Output": ["mi_idx2.id", "mi_idx2.movie_id", "mi_idx2.info_type_id", "mi_idx2.info", "mi_idx2.note"], + "Index Cond": "(mi_idx2.movie_id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx2.info < '3.5'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 333 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 312 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 111 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 710 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 208 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 4.25, + "Total Cost": 4.25, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it2.id", "it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.00, + "Total Cost": 4.25, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id", "it1.id"], + "Inner Unique": false, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id", "it2.info"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + }, + { + "Node Type": "Seq Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 2.41, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id", "it1.info"], + "Filter": "((it1.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc2", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.032, + "Actual Rows": 2, + "Actual Loops": 47, + "Output": ["mc2.id", "mc2.movie_id", "mc2.company_id", "mc2.company_type_id", "mc2.note"], + "Index Cond": "(mc2.movie_id = mi_idx2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.040, + "Actual Rows": 2, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.039, + "Actual Rows": 2, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.086, + "Actual Rows": 4, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn2", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 97, + "Output": ["cn2.id", "cn2.name", "cn2.country_code", "cn2.imdb_id", "cn2.name_pcode_nf", "cn2.name_pcode_sf", "cn2.md5sum"], + "Index Cond": "(cn2.id = mc2.company_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.122, + "Actual Total Time": 0.122, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 97, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"],+ "Index Cond": "(t2.id = mc2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t2.production_year >= 2000) AND (t2.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 15 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 55, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"], + "Index Cond": "(t1.id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.140, + "Actual Total Time": 0.140, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["kt1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt1", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.006, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt1.id"], + "Filter": "((kt1.kind)::text = ANY ('{\"tv series\",episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc1", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 55, + "Output": ["mc1.id", "mc1.movie_id", "mc1.company_id", "mc1.company_type_id", "mc1.note"], + "Index Cond": "(mc1.movie_id = t1.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.026, + "Actual Rows": 5, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 8 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.047, + "Actual Rows": 2, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.036, + "Actual Rows": 2, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn1", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 157, + "Output": ["cn1.id", "cn1.name", "cn1.country_code", "cn1.imdb_id", "cn1.name_pcode_nf", "cn1.name_pcode_sf", "cn1.md5sum"], + "Index Cond": "(cn1.id = mc1.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn1.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 28 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 20 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx1", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 3, + "Actual Loops": 140, + "Output": ["mi_idx1.id", "mi_idx1.movie_id", "mi_idx1.info_type_id", "mi_idx1.info", "mi_idx1.note"], + "Index Cond": "(mi_idx1.movie_id = t1.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.057, + "Actual Rows": 3, + "Actual Loops": 28 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 20 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["kt2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt2", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.022, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt2.id"], + "Filter": "((kt2.kind)::text = ANY ('{\"tv series\",episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2787191317670660246, + "Planning Time": 3031.595, + "Triggers": [ + ], + "Execution Time": 36.117, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2787191317670660246, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM keyword AS k,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE k.keyword LIKE '%sequel%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German')
  AND t.production_year > 2005
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi.movie_id
  AND k.id = mk.keyword_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2984.21, + "Total Cost": 2984.22, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 297.104, + "Actual Total Time": 297.225, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2984.18, + "Total Cost": 2984.19, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 297.081, + "Actual Total Time": 297.213, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2983.18, + "Total Cost": 2983.19, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 64.161, + "Actual Total Time": 64.164, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.921, + "Actual Total Time": 26.923, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.701, + "Actual Total Time": 26.703, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.492, + "Actual Total Time": 27.495, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.097, + "Actual Total Time": 23.099, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.314, + "Actual Total Time": 62.317, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.492, + "Actual Total Time": 27.496, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.072, + "Actual Total Time": 23.074, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 2983.11, + "Plan Rows": 29, + "Plan Width": 17, + "Actual Startup Time": 9.881, + "Actual Total Time": 64.111, + "Actual Rows": 26, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.227, + "Actual Total Time": 26.898, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.847, + "Actual Total Time": 26.671, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.512, + "Actual Total Time": 27.476, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.448, + "Actual Total Time": 23.076, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.121, + "Actual Total Time": 62.265, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.203, + "Actual Total Time": 27.472, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.651, + "Actual Total Time": 23.039, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2633.21, + "Plan Rows": 319, + "Plan Width": 25, + "Actual Startup Time": 5.900, + "Actual Total Time": 36.427, + "Actual Rows": 279, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.990, + "Actual Total Time": 19.654, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.101, + "Actual Total Time": 15.226, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.363, + "Actual Total Time": 18.755, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.493, + "Actual Total Time": 10.197, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.836, + "Actual Total Time": 30.183, + "Actual Rows": 536, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.717, + "Actual Total Time": 20.002, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.524, + "Actual Total Time": 12.940, + "Actual Rows": 81, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1781.39, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 4.817, + "Actual Total Time": 16.134, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.307, + "Actual Total Time": 11.115, + "Actual Rows": 313, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.632, + "Actual Total Time": 12.014, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.085, + "Actual Total Time": 14.331, + "Actual Rows": 163, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.337, + "Actual Total Time": 7.674, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.035, + "Actual Total Time": 10.307, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.350, + "Actual Total Time": 15.506, + "Actual Rows": 171, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.419, + "Actual Total Time": 9.182, + "Actual Rows": 156, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 3.838, + "Actual Total Time": 7.958, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.225, + "Actual Total Time": 8.345, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.535, + "Actual Total Time": 10.748, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.604, + "Actual Total Time": 11.550, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.163, + "Actual Total Time": 5.768, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.865, + "Actual Total Time": 2.893, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.236, + "Actual Total Time": 13.907, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.315, + "Actual Total Time": 7.680, + "Actual Rows": 3, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 143.88, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.289, + "Actual Total Time": 2.066, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.058, + "Actual Total Time": 1.316, + "Actual Rows": 156, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.238, + "Actual Rows": 25, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.297, + "Actual Rows": 18, + "Actual Loops": 9 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.368, + "Actual Rows": 16, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.162, + "Actual Total Time": 6.946, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.379, + "Actual Rows": 43, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.475, + "Actual Rows": 52, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 313 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 126 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 163 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 78 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1400 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 171 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 156 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.08, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.098, + "Actual Rows": 0, + "Actual Loops": 2235, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German}'::text[]))", + "Rows Removed by Filter": 45, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.232, + "Actual Total Time": 0.248, + "Actual Rows": 0, + "Actual Loops": 29 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.276, + "Actual Total Time": 0.356, + "Actual Rows": 0, + "Actual Loops": 32 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.240, + "Actual Total Time": 0.248, + "Actual Rows": 0, + "Actual Loops": 35 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.327, + "Actual Total Time": 0.356, + "Actual Rows": 0, + "Actual Loops": 36 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 536 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.219, + "Actual Total Time": 0.256, + "Actual Rows": 0, + "Actual Loops": 29 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.119, + "Actual Total Time": 0.124, + "Actual Rows": 0, + "Actual Loops": 81 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5539820102114296223, + "Planning Time": 13.436, + "Triggers": [ + ], + "Execution Time": 297.464, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 5539820102114296223, + "JOINS": 3 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM keyword AS k,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE k.keyword LIKE '%sequel%'
  AND mi.info IN ('Bulgaria')
  AND t.production_year > 2010
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi.movie_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2688.27, + "Total Cost": 2688.28, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 147.680, + "Actual Total Time": 171.504, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.30, + "Total Cost": 2688.26, + "Plan Rows": 5, + "Plan Width": 17, + "Actual Startup Time": 26.343, + "Actual Total Time": 171.471, + "Actual Rows": 5, + "Actual Loops": 1, + "Output": ["t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 2687.26, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 17.640, + "Actual Total Time": 35.448, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 17.511, + "Actual Total Time": 17.515, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.446, + "Actual Total Time": 28.591, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.509, + "Actual Total Time": 18.512, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.631, + "Actual Total Time": 16.231, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.896, + "Actual Total Time": 17.899, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.661, + "Actual Total Time": 18.664, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.223, + "Actual Total Time": 140.926, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2633.21, + "Plan Rows": 58, + "Plan Width": 25, + "Actual Startup Time": 7.389, + "Actual Total Time": 32.452, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.745, + "Actual Total Time": 16.963, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.028, + "Actual Total Time": 25.232, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.591, + "Actual Total Time": 17.059, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.599, + "Actual Total Time": 14.814, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.823, + "Actual Total Time": 17.036, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.473, + "Actual Total Time": 16.637, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.934, + "Actual Total Time": 126.802, + "Actual Rows": 295, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1781.39, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 4.818, + "Actual Total Time": 15.792, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.016, + "Actual Total Time": 15.207, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.963, + "Actual Total Time": 6.926, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.238, + "Actual Total Time": 13.866, + "Actual Rows": 134, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.372, + "Actual Total Time": 8.306, + "Actual Rows": 444, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.910, + "Actual Total Time": 13.660, + "Actual Rows": 181, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.118, + "Actual Total Time": 14.519, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.706, + "Actual Total Time": 30.363, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 4.738, + "Actual Total Time": 10.695, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.942, + "Actual Total Time": 14.570, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.850, + "Actual Total Time": 1.880, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.177, + "Actual Total Time": 12.615, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.304, + "Actual Total Time": 5.988, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.834, + "Actual Total Time": 12.462, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.044, + "Actual Total Time": 13.586, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.577, + "Actual Total Time": 1.589, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 143.88, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.039, + "Actual Total Time": 1.253, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.598, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.107, + "Actual Total Time": 4.580, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.148, + "Actual Rows": 17, + "Actual Loops": 8 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.548, + "Actual Rows": 111, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.223, + "Actual Rows": 36, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.163, + "Actual Rows": 18, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.122, + "Actual Total Time": 26.529, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 93 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1400 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 134 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 444 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 181 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 88 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 10544 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 405, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = 'Bulgaria'::text)", + "Rows Removed by Filter": 63, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.273, + "Actual Total Time": 0.273, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.070, + "Actual Rows": 0, + "Actual Loops": 47 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.089, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.093, + "Actual Rows": 0, + "Actual Loops": 15 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.065, + "Actual Rows": 0, + "Actual Loops": 13 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.126, + "Actual Total Time": 0.126, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 295 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2073429154321355728, + "Planning Time": 29.150, + "Triggers": [ + ], + "Execution Time": 171.790, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 2073429154321355728, + "JOINS": 3 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM keyword AS k,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE k.keyword LIKE '%sequel%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND t.production_year > 1990
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi.movie_id
  AND k.id = mk.keyword_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3775.17, + "Total Cost": 3775.18, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 550.110, + "Actual Total Time": 550.235, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3775.14, + "Total Cost": 3775.15, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 550.091, + "Actual Total Time": 550.226, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3774.14, + "Total Cost": 3774.15, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 105.177, + "Actual Total Time": 105.180, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 77.985, + "Actual Total Time": 77.987, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.284, + "Actual Total Time": 30.287, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 34.629, + "Actual Total Time": 34.631, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.848, + "Actual Total Time": 29.851, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.286, + "Actual Total Time": 32.289, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.097, + "Actual Total Time": 35.100, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 51.797, + "Actual Total Time": 51.800, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.32, + "Total Cost": 3771.55, + "Plan Rows": 1036, + "Plan Width": 17, + "Actual Startup Time": 4.547, + "Actual Total Time": 104.662, + "Actual Rows": 906, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.300, + "Actual Total Time": 77.335, + "Actual Rows": 1231, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.517, + "Actual Total Time": 30.175, + "Actual Rows": 110, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.022, + "Actual Total Time": 34.560, + "Actual Rows": 60, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.605, + "Actual Total Time": 29.709, + "Actual Rows": 161, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.627, + "Actual Total Time": 32.207, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.319, + "Actual Total Time": 34.997, + "Actual Rows": 114, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.964, + "Actual Total Time": 51.604, + "Actual Rows": 243, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2633.21, + "Plan Rows": 1125, + "Plan Width": 25, + "Actual Startup Time": 3.936, + "Actual Total Time": 33.652, + "Actual Rows": 984, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.934, + "Actual Total Time": 24.372, + "Actual Rows": 1283, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.279, + "Actual Total Time": 8.887, + "Actual Rows": 129, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.101, + "Actual Total Time": 21.515, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.952, + "Actual Total Time": 13.135, + "Actual Rows": 174, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.319, + "Actual Total Time": 14.935, + "Actual Rows": 58, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.198, + "Actual Total Time": 18.398, + "Actual Rows": 80, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.832, + "Actual Total Time": 13.275, + "Actual Rows": 191, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1781.39, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 3.852, + "Actual Total Time": 14.056, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.757, + "Actual Total Time": 6.496, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.227, + "Actual Total Time": 4.979, + "Actual Rows": 181, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.032, + "Actual Total Time": 18.783, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.788, + "Actual Total Time": 8.601, + "Actual Rows": 211, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.275, + "Actual Total Time": 12.859, + "Actual Rows": 77, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.125, + "Actual Total Time": 15.674, + "Actual Rows": 108, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.783, + "Actual Total Time": 6.931, + "Actual Rows": 312, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 3.769, + "Actual Total Time": 8.140, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.633, + "Actual Total Time": 1.662, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.176, + "Actual Total Time": 3.779, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.942, + "Actual Total Time": 17.661, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.713, + "Actual Total Time": 6.839, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.219, + "Actual Total Time": 12.044, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.044, + "Actual Total Time": 14.649, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.698, + "Actual Total Time": 4.743, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 143.88, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.041, + "Actual Total Time": 1.454, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.115, + "Actual Total Time": 4.413, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.373, + "Actual Rows": 60, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.115, + "Actual Rows": 13, + "Actual Loops": 9 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.553, + "Actual Rows": 70, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.152, + "Actual Rows": 15, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.136, + "Actual Rows": 15, + "Actual Loops": 7 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.080, + "Actual Total Time": 2.059, + "Actual Rows": 312, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1400 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 181 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 118 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 211 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 77 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 108 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 312 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.00, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 7874, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 35, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1283 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.093, + "Actual Total Time": 0.164, + "Actual Rows": 1, + "Actual Loops": 129 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.193, + "Actual Rows": 1, + "Actual Loops": 67 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.094, + "Actual Rows": 1, + "Actual Loops": 174 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.140, + "Actual Total Time": 0.296, + "Actual Rows": 1, + "Actual Loops": 58 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.206, + "Actual Rows": 1, + "Actual Loops": 80 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.120, + "Actual Total Time": 0.199, + "Actual Rows": 1, + "Actual Loops": 191 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 8031722090065659855, + "Planning Time": 15.812, + "Triggers": [ + ], + "Execution Time": 550.420, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 8031722090065659855, + "JOINS": 3 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS movie_title
FROM info_type AS it,
     keyword AS k,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it.info ='rating'
  AND k.keyword LIKE '%sequel%'
  AND mi_idx.info > '5.0'
  AND t.production_year > 2005
  AND t.id = mi_idx.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2797.54, + "Total Cost": 2797.55, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 184.507, + "Actual Total Time": 184.786, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2797.50, + "Total Cost": 2797.51, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 184.478, + "Actual Total Time": 184.771, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2796.50, + "Total Cost": 2796.51, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 40.169, + "Actual Total Time": 40.173, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.881, + "Actual Total Time": 16.885, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.907, + "Actual Total Time": 16.911, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.927, + "Actual Total Time": 16.930, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.933, + "Actual Total Time": 16.936, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.961, + "Actual Total Time": 16.966, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.778, + "Actual Total Time": 16.784, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 38.015, + "Actual Total Time": 38.018, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 2795.97, + "Plan Rows": 106, + "Plan Width": 22, + "Actual Startup Time": 4.693, + "Actual Total Time": 40.066, + "Actual Rows": 92, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.859, + "Actual Total Time": 16.860, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.808, + "Actual Total Time": 16.883, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.430, + "Actual Total Time": 16.875, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.351, + "Actual Total Time": 16.896, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.123, + "Actual Total Time": 16.927, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.823, + "Actual Total Time": 16.753, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.016, + "Actual Total Time": 37.916, + "Actual Rows": 93, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 2793.68, + "Plan Rows": 164, + "Plan Width": 26, + "Actual Startup Time": 4.360, + "Actual Total Time": 39.581, + "Actual Rows": 144, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.579, + "Actual Total Time": 16.554, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.512, + "Actual Total Time": 16.570, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.144, + "Actual Total Time": 16.508, + "Actual Rows": 73, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.065, + "Actual Total Time": 16.564, + "Actual Rows": 34, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.744, + "Actual Total Time": 16.604, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.581, + "Actual Total Time": 16.484, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.778, + "Actual Total Time": 37.512, + "Actual Rows": 141, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2633.21, + "Plan Rows": 319, + "Plan Width": 25, + "Actual Startup Time": 3.918, + "Actual Total Time": 31.928, + "Actual Rows": 279, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.496, + "Actual Total Time": 15.679, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.179, + "Actual Total Time": 15.745, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.079, + "Actual Total Time": 11.677, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.816, + "Actual Total Time": 13.434, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.646, + "Actual Total Time": 15.416, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.052, + "Actual Total Time": 15.476, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.665, + "Actual Total Time": 23.113, + "Actual Rows": 536, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1781.39, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 3.251, + "Actual Total Time": 13.509, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.286, + "Actual Total Time": 13.792, + "Actual Rows": 75, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.494, + "Actual Total Time": 13.680, + "Actual Rows": 86, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.682, + "Actual Total Time": 6.312, + "Actual Rows": 265, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.761, + "Actual Total Time": 10.383, + "Actual Rows": 127, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.402, + "Actual Total Time": 9.442, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.669, + "Actual Total Time": 12.740, + "Actual Rows": 142, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.273, + "Actual Total Time": 6.042, + "Actual Rows": 1400, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 3.173, + "Actual Total Time": 7.894, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.210, + "Actual Total Time": 13.029, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.415, + "Actual Total Time": 12.837, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.615, + "Actual Total Time": 4.484, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.696, + "Actual Total Time": 9.175, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.330, + "Actual Total Time": 7.325, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.591, + "Actual Total Time": 11.735, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.172, + "Actual Total Time": 1.201, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 143.88, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.039, + "Actual Total Time": 1.374, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.101, + "Actual Rows": 11, + "Actual Loops": 7 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.199, + "Actual Rows": 22, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.430, + "Actual Rows": 66, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.142, + "Actual Rows": 16, + "Actual Loops": 8 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.068, + "Actual Total Time": 1.987, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.232, + "Actual Rows": 36, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.097, + "Actual Total Time": 4.413, + "Actual Rows": 1400, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 75 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 86 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 265 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 127 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 312 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 142 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 1400 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 2235, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '5.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 29 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 104 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 40 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 28 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 25 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 536 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1950505845315524548, + "Planning Time": 14.367, + "Triggers": [ + ], + "Execution Time": 185.018, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1950505845315524548, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS movie_title
FROM info_type AS it,
     keyword AS k,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it.info ='rating'
  AND k.keyword LIKE '%sequel%'
  AND mi_idx.info > '9.0'
  AND t.production_year > 2010
  AND t.id = mi_idx.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2663.95, + "Total Cost": 2663.96, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 155.212, + "Actual Total Time": 155.370, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2663.90, + "Total Cost": 2663.91, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 155.186, + "Actual Total Time": 155.358, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2662.90, + "Total Cost": 2662.91, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 36.132, + "Actual Total Time": 36.135, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.163, + "Actual Total Time": 20.167, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.666, + "Actual Total Time": 7.670, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.407, + "Actual Total Time": 20.411, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.579, + "Actual Total Time": 31.582, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.724, + "Actual Total Time": 15.728, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.825, + "Actual Total Time": 18.829, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.151, + "Actual Total Time": 20.156, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.43, + "Total Cost": 2662.90, + "Plan Rows": 1, + "Plan Width": 22, + "Actual Startup Time": 19.280, + "Actual Total Time": 36.125, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.159, + "Actual Total Time": 20.162, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.662, + "Actual Total Time": 7.665, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.403, + "Actual Total Time": 20.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.468, + "Actual Total Time": 31.562, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.721, + "Actual Total Time": 15.724, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.820, + "Actual Total Time": 18.823, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.147, + "Actual Total Time": 20.151, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 2662.39, + "Plan Rows": 3, + "Plan Width": 26, + "Actual Startup Time": 14.744, + "Actual Total Time": 36.085, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.538, + "Actual Total Time": 20.101, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.662, + "Actual Total Time": 7.664, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.403, + "Actual Total Time": 20.405, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.415, + "Actual Total Time": 31.507, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.358, + "Actual Total Time": 15.668, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.819, + "Actual Total Time": 18.821, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.147, + "Actual Total Time": 20.149, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2633.21, + "Plan Rows": 58, + "Plan Width": 25, + "Actual Startup Time": 6.030, + "Actual Total Time": 35.057, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.383, + "Actual Total Time": 19.446, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.682, + "Actual Total Time": 7.526, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.932, + "Actual Total Time": 19.975, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.395, + "Actual Total Time": 30.303, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.097, + "Actual Total Time": 15.002, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.492, + "Actual Total Time": 18.548, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.408, + "Actual Total Time": 19.943, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1781.39, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 3.410, + "Actual Total Time": 15.136, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.974, + "Actual Total Time": 15.212, + "Actual Rows": 151, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.318, + "Actual Total Time": 6.956, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.100, + "Actual Total Time": 14.663, + "Actual Rows": 240, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.856, + "Actual Total Time": 8.466, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.684, + "Actual Total Time": 11.602, + "Actual Rows": 133, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.913, + "Actual Total Time": 11.201, + "Actual Rows": 320, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.026, + "Actual Total Time": 16.688, + "Actual Rows": 148, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 3.321, + "Actual Total Time": 9.171, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.910, + "Actual Total Time": 13.542, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.240, + "Actual Total Time": 6.698, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.027, + "Actual Total Time": 12.828, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.739, + "Actual Total Time": 2.770, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.591, + "Actual Total Time": 10.271, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.820, + "Actual Total Time": 8.609, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.936, + "Actual Total Time": 15.331, + "Actual Rows": 5, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 143.88, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.048, + "Actual Total Time": 1.462, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.264, + "Actual Rows": 25, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.122, + "Actual Rows": 8, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.431, + "Actual Rows": 60, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.111, + "Actual Total Time": 5.159, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.155, + "Actual Rows": 17, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.802, + "Actual Rows": 107, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.256, + "Actual Rows": 30, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 151 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 15 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 240 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1400 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 133 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 320 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 148 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 405, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '9.0'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 15 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 12 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 47 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 21 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 20, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1950505845315524548, + "Planning Time": 13.615, + "Triggers": [ + ], + "Execution Time": 155.581, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1950505845315524548, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS movie_title
FROM info_type AS it,
     keyword AS k,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it.info ='rating'
  AND k.keyword LIKE '%sequel%'
  AND mi_idx.info > '2.0'
  AND t.production_year > 1990
  AND t.id = mi_idx.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3184.32, + "Total Cost": 3184.33, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 282.572, + "Actual Total Time": 282.835, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3184.28, + "Total Cost": 3184.29, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 282.546, + "Actual Total Time": 282.823, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3183.28, + "Total Cost": 3183.29, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 61.456, + "Actual Total Time": 61.461, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 41.603, + "Actual Total Time": 41.607, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.253, + "Actual Total Time": 29.258, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.409, + "Actual Total Time": 29.414, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.453, + "Actual Total Time": 29.458, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.334, + "Actual Total Time": 29.339, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.325, + "Actual Total Time": 22.333, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.591, + "Actual Total Time": 28.596, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 3179.93, + "Plan Rows": 669, + "Plan Width": 22, + "Actual Startup Time": 7.646, + "Actual Total Time": 60.990, + "Actual Rows": 588, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi_idx.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.747, + "Actual Total Time": 41.163, + "Actual Rows": 422, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.055, + "Actual Total Time": 29.093, + "Actual Rows": 112, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.722, + "Actual Total Time": 29.211, + "Actual Rows": 174, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.387, + "Actual Total Time": 29.343, + "Actual Rows": 82, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.947, + "Actual Total Time": 29.318, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.714, + "Actual Total Time": 22.255, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.301, + "Actual Total Time": 28.349, + "Actual Rows": 207, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 2715.02, + "Plan Rows": 983, + "Plan Width": 13, + "Actual Startup Time": 7.517, + "Actual Total Time": 46.785, + "Actual Rows": 1012, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.435, + "Actual Total Time": 31.173, + "Actual Rows": 514, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.985, + "Actual Total Time": 25.006, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.662, + "Actual Total Time": 22.407, + "Actual Rows": 289, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13.308, + "Actual Total Time": 26.471, + "Actual Rows": 116, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.851, + "Actual Total Time": 28.718, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.433, + "Actual Total Time": 19.925, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.212, + "Actual Total Time": 22.472, + "Actual Rows": 242, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2707.37, + "Plan Rows": 2134, + "Plan Width": 17, + "Actual Startup Time": 7.173, + "Actual Total Time": 45.264, + "Actual Rows": 1870, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.118, + "Actual Total Time": 30.010, + "Actual Rows": 999, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.705, + "Actual Total Time": 24.447, + "Actual Rows": 295, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.348, + "Actual Total Time": 21.618, + "Actual Rows": 545, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.985, + "Actual Total Time": 25.951, + "Actual Rows": 212, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.576, + "Actual Total Time": 28.414, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.982, + "Actual Total Time": 19.324, + "Actual Rows": 138, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.917, + "Actual Total Time": 21.744, + "Actual Rows": 464, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1781.39, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 4.141, + "Actual Total Time": 16.186, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.033, + "Actual Total Time": 7.730, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.633, + "Actual Total Time": 16.906, + "Actual Rows": 196, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.248, + "Actual Total Time": 10.796, + "Actual Rows": 314, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.761, + "Actual Total Time": 22.012, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.042, + "Actual Total Time": 5.237, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.868, + "Actual Total Time": 16.170, + "Actual Rows": 91, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.840, + "Actual Total Time": 12.910, + "Actual Rows": 259, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 4.043, + "Actual Total Time": 10.028, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.923, + "Actual Total Time": 1.957, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.562, + "Actual Total Time": 15.184, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.145, + "Actual Total Time": 8.259, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.671, + "Actual Total Time": 20.727, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.957, + "Actual Total Time": 4.973, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.738, + "Actual Total Time": 15.014, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.762, + "Actual Total Time": 10.509, + "Actual Rows": 4, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 143.88, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.049, + "Actual Total Time": 1.510, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.103, + "Actual Total Time": 5.232, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.200, + "Actual Rows": 24, + "Actual Loops": 8 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.795, + "Actual Rows": 105, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.170, + "Actual Rows": 18, + "Actual Loops": 7 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.240, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.218, + "Actual Rows": 18, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.564, + "Actual Rows": 65, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 12951, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '2.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 1400 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.037, + "Actual Rows": 2, + "Actual Loops": 196 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.033, + "Actual Rows": 2, + "Actual Loops": 314 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.029, + "Actual Rows": 2, + "Actual Loops": 128 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.215, + "Actual Total Time": 1.218, + "Actual Rows": 2, + "Actual Loops": 19 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.033, + "Actual Rows": 2, + "Actual Loops": 91 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.032, + "Actual Rows": 2, + "Actual Loops": 259 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.077, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 8092, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 514 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 162 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 289 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 116 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 19 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 74 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 242 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1950505845315524548, + "Planning Time": 14.618, + "Triggers": [ + ], + "Execution Time": 283.070, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1950505845315524548, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS typical_european_movie
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     title AS t
WHERE ct.kind = 'production companies'
  AND mc.note LIKE '%(theatrical)%'
  AND mc.note LIKE '%(France)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German')
  AND t.production_year > 2005
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND mc.movie_id = mi.movie_id
  AND ct.id = mc.company_type_id
  AND it.id = mi.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 23703.43, + "Total Cost": 23703.44, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 199.185, + "Actual Total Time": 206.504, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 23703.40, + "Total Cost": 23703.41, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 198.435, + "Actual Total Time": 206.489, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 23702.40, + "Total Cost": 23702.41, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 188.871, + "Actual Total Time": 188.876, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 190.209, + "Actual Total Time": 190.214, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 190.921, + "Actual Total Time": 190.926, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 181.885, + "Actual Total Time": 181.889, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 187.715, + "Actual Total Time": 187.719, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 183.780, + "Actual Total Time": 183.785, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 187.780, + "Actual Total Time": 187.786, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 190.957, + "Actual Total Time": 190.961, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.05, + "Total Cost": 23702.40, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 188.866, + "Actual Total Time": 188.870, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 190.204, + "Actual Total Time": 190.209, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 190.916, + "Actual Total Time": 190.921, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 181.880, + "Actual Total Time": 181.883, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 187.711, + "Actual Total Time": 187.715, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 183.774, + "Actual Total Time": 183.779, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 187.775, + "Actual Total Time": 187.779, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 190.950, + "Actual Total Time": 190.954, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.91, + "Total Cost": 23702.24, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 188.865, + "Actual Total Time": 188.869, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 190.204, + "Actual Total Time": 190.207, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 190.916, + "Actual Total Time": 190.919, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 181.879, + "Actual Total Time": 181.882, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 187.711, + "Actual Total Time": 187.714, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 183.773, + "Actual Total Time": 183.777, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 187.774, + "Actual Total Time": 187.778, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 190.949, + "Actual Total Time": 190.952, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 23700.99, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 188.864, + "Actual Total Time": 188.867, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 190.203, + "Actual Total Time": 190.206, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 190.915, + "Actual Total Time": 190.918, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 181.878, + "Actual Total Time": 181.880, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 187.710, + "Actual Total Time": 187.712, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 183.772, + "Actual Total Time": 183.776, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 187.773, + "Actual Total Time": 187.777, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 190.948, + "Actual Total Time": 190.951, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 23699.40, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 188.863, + "Actual Total Time": 188.866, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 190.203, + "Actual Total Time": 190.204, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 190.914, + "Actual Total Time": 190.916, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 181.877, + "Actual Total Time": 181.878, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 187.709, + "Actual Total Time": 187.710, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 183.772, + "Actual Total Time": 183.774, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 187.772, + "Actual Total Time": 187.775, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 190.947, + "Actual Total Time": 190.949, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.00, + "Total Cost": 23682.12, + "Plan Rows": 3003, + "Plan Width": 8, + "Actual Startup Time": 12.583, + "Actual Total Time": 187.672, + "Actual Rows": 3003, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "((mc.note ~~ '%(theatrical)%'::text) AND (mc.note ~~ '%(France)%'::text))", + "Rows Removed by Filter": 323138, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.234, + "Actual Total Time": 189.006, + "Actual Rows": 3317, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.663, + "Actual Total Time": 189.658, + "Actual Rows": 3743, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.699, + "Actual Total Time": 180.840, + "Actual Rows": 2515, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.601, + "Actual Total Time": 186.739, + "Actual Rows": 2615, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.779, + "Actual Total Time": 182.700, + "Actual Rows": 2808, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.535, + "Actual Total Time": 186.513, + "Actual Rows": 2047, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.034, + "Actual Total Time": 189.473, + "Actual Rows": 3805, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.59, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.24, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 9106003620751043838, + "Planning Time": 15.428, + "Triggers": [ + ], + "Execution Time": 206.764, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 9106003620751043838, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS american_vhs_movie
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     title AS t
WHERE ct.kind = 'production companies'
  AND mc.note LIKE '%(VHS)%'
  AND mc.note LIKE '%(USA)%'
  AND mc.note LIKE '%(1994)%'
  AND mi.info IN ('USA',
                  'America')
  AND t.production_year > 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND mc.movie_id = mi.movie_id
  AND ct.id = mc.company_type_id
  AND it.id = mi.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24504.23, + "Total Cost": 24504.24, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 188.393, + "Actual Total Time": 196.316, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24504.20, + "Total Cost": 24504.21, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 177.301, + "Actual Total Time": 196.292, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24503.20, + "Total Cost": 24503.21, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 167.098, + "Actual Total Time": 167.104, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 150.116, + "Actual Total Time": 150.122, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 166.850, + "Actual Total Time": 166.854, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 168.664, + "Actual Total Time": 168.669, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 169.120, + "Actual Total Time": 169.125, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 168.305, + "Actual Total Time": 168.310, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 169.112, + "Actual Total Time": 169.118, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 169.123, + "Actual Total Time": 169.126, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.05, + "Total Cost": 24503.20, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 167.093, + "Actual Total Time": 167.098, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 150.111, + "Actual Total Time": 150.115, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 166.845, + "Actual Total Time": 166.848, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 168.658, + "Actual Total Time": 168.662, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 169.115, + "Actual Total Time": 169.121, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 168.302, + "Actual Total Time": 168.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 169.106, + "Actual Total Time": 169.110, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 169.118, + "Actual Total Time": 169.121, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.62, + "Total Cost": 24502.67, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 167.092, + "Actual Total Time": 167.097, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 150.110, + "Actual Total Time": 150.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 166.844, + "Actual Total Time": 166.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 168.657, + "Actual Total Time": 168.661, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 169.115, + "Actual Total Time": 169.119, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 168.301, + "Actual Total Time": 168.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 169.105, + "Actual Total Time": 169.109, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 169.118, + "Actual Total Time": 169.120, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.48, + "Total Cost": 24502.51, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 167.091, + "Actual Total Time": 167.095, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 150.109, + "Actual Total Time": 150.112, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 166.843, + "Actual Total Time": 166.845, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 168.656, + "Actual Total Time": 168.660, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 169.114, + "Actual Total Time": 169.118, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 168.301, + "Actual Total Time": 168.303, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 169.104, + "Actual Total Time": 169.107, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 169.117, + "Actual Total Time": 169.119, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 24499.47, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 167.091, + "Actual Total Time": 167.094, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 150.108, + "Actual Total Time": 150.111, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 166.842, + "Actual Total Time": 166.844, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 168.656, + "Actual Total Time": 168.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 169.114, + "Actual Total Time": 169.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 168.300, + "Actual Total Time": 168.301, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 169.103, + "Actual Total Time": 169.106, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 169.116, + "Actual Total Time": 169.118, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.00, + "Total Cost": 24497.47, + "Plan Rows": 177, + "Plan Width": 8, + "Actual Startup Time": 9.067, + "Actual Total Time": 166.654, + "Actual Rows": 177, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "((mc.note ~~ '%(VHS)%'::text) AND (mc.note ~~ '%(USA)%'::text) AND (mc.note ~~ '%(1994)%'::text))", + "Rows Removed by Filter": 325964, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.433, + "Actual Total Time": 149.731, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.634, + "Actual Total Time": 166.424, + "Actual Rows": 194, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.200, + "Actual Total Time": 168.329, + "Actual Rows": 212, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.089, + "Actual Total Time": 168.783, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.339, + "Actual Total Time": 167.904, + "Actual Rows": 223, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.534, + "Actual Total Time": 168.726, + "Actual Rows": 217, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.947, + "Actual Total Time": 168.762, + "Actual Rows": 202, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 3.03, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{USA,America}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3414057395363075461, + "Planning Time": 23.545, + "Triggers": [ + ], + "Execution Time": 196.692, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -3414057395363075461, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS american_movie
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     title AS t
WHERE ct.kind = 'production companies'
  AND mc.note NOT LIKE '%(TV)%'
  AND mc.note LIKE '%(USA)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND t.production_year > 1990
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND mc.movie_id = mi.movie_id
  AND ct.id = mc.company_type_id
  AND it.id = mi.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24051.55, + "Total Cost": 24051.56, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 196.246, + "Actual Total Time": 209.324, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24051.52, + "Total Cost": 24051.53, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 196.007, + "Actual Total Time": 209.309, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24050.52, + "Total Cost": 24050.53, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 189.386, + "Actual Total Time": 189.391, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 188.259, + "Actual Total Time": 188.263, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 188.583, + "Actual Total Time": 188.588, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 188.590, + "Actual Total Time": 188.594, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 188.583, + "Actual Total Time": 188.589, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 188.605, + "Actual Total Time": 188.608, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 188.666, + "Actual Total Time": 188.670, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 188.601, + "Actual Total Time": 188.604, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.42, + "Total Cost": 24050.31, + "Plan Rows": 84, + "Plan Width": 17, + "Actual Startup Time": 125.834, + "Actual Total Time": 189.288, + "Actual Rows": 84, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 121.702, + "Actual Total Time": 188.156, + "Actual Rows": 87, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 124.768, + "Actual Total Time": 188.490, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.997, + "Actual Total Time": 188.486, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 124.915, + "Actual Total Time": 188.478, + "Actual Rows": 97, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 124.848, + "Actual Total Time": 188.511, + "Actual Rows": 84, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 125.116, + "Actual Total Time": 188.575, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 125.183, + "Actual Total Time": 188.500, + "Actual Rows": 88, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 24047.59, + "Plan Rows": 84, + "Plan Width": 21, + "Actual Startup Time": 125.525, + "Actual Total Time": 188.852, + "Actual Rows": 84, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 121.473, + "Actual Total Time": 187.798, + "Actual Rows": 87, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 124.498, + "Actual Total Time": 188.099, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.714, + "Actual Total Time": 188.078, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 124.637, + "Actual Total Time": 188.055, + "Actual Rows": 97, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 124.574, + "Actual Total Time": 188.117, + "Actual Rows": 84, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 124.826, + "Actual Total Time": 188.159, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 124.911, + "Actual Total Time": 188.099, + "Actual Rows": 88, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 23943.92, + "Plan Rows": 96, + "Plan Width": 25, + "Actual Startup Time": 123.895, + "Actual Total Time": 177.966, + "Actual Rows": 96, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 121.406, + "Actual Total Time": 179.885, + "Actual Rows": 84, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 121.046, + "Actual Total Time": 175.589, + "Actual Rows": 83, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.300, + "Actual Total Time": 177.765, + "Actual Rows": 108, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.843, + "Actual Total Time": 175.414, + "Actual Rows": 98, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 121.371, + "Actual Total Time": 173.990, + "Actual Rows": 121, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 121.420, + "Actual Total Time": 176.368, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 124.596, + "Actual Total Time": 178.671, + "Actual Rows": 118, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 23882.94, + "Plan Rows": 100, + "Plan Width": 4, + "Actual Startup Time": 123.161, + "Actual Total Time": 174.799, + "Actual Rows": 100, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 121.333, + "Actual Total Time": 177.223, + "Actual Rows": 89, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 120.895, + "Actual Total Time": 173.173, + "Actual Rows": 85, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.204, + "Actual Total Time": 174.628, + "Actual Rows": 110, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.746, + "Actual Total Time": 172.334, + "Actual Rows": 99, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 121.270, + "Actual Total Time": 171.235, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 121.325, + "Actual Total Time": 174.130, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 121.901, + "Actual Total Time": 172.293, + "Actual Rows": 126, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.00, + "Total Cost": 23682.12, + "Plan Rows": 36954, + "Plan Width": 8, + "Actual Startup Time": 0.103, + "Actual Total Time": 165.082, + "Actual Rows": 36954, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "((mc.note !~~ '%(TV)%'::text) AND (mc.note ~~ '%(USA)%'::text))", + "Rows Removed by Filter": 289188, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 167.211, + "Actual Rows": 36422, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.274, + "Actual Total Time": 162.929, + "Actual Rows": 36241, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.118, + "Actual Total Time": 165.346, + "Actual Rows": 36302, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.133, + "Actual Total Time": 162.232, + "Actual Rows": 39220, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 161.923, + "Actual Rows": 36400, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.195, + "Actual Total Time": 164.707, + "Actual Rows": 36362, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 162.829, + "Actual Rows": 36290, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.61, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 798, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 89 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 85 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 110 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 99 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 126 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 68 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 126 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.07, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.103, + "Actual Total Time": 0.112, + "Actual Rows": 1, + "Actual Loops": 767, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 10, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.093, + "Actual Rows": 1, + "Actual Loops": 84 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.137, + "Actual Total Time": 0.149, + "Actual Rows": 1, + "Actual Loops": 83 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.094, + "Actual Rows": 1, + "Actual Loops": 108 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.118, + "Actual Total Time": 0.127, + "Actual Rows": 1, + "Actual Loops": 98 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.109, + "Actual Total Time": 0.115, + "Actual Rows": 1, + "Actual Loops": 121 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.165, + "Actual Total Time": 0.177, + "Actual Rows": 1, + "Actual Loops": 66 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.078, + "Actual Rows": 1, + "Actual Loops": 118 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.66, + "Total Cost": 1.66, + "Plan Rows": 66, + "Plan Width": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 14, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.66, + "Plan Rows": 66, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.064, + "Actual Rows": 113, + "Actual Loops": 1, + "Output": ["it.id"], + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5596001239447068866, + "Planning Time": 14.829, + "Triggers": [ + ], + "Execution Time": 209.528, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 5596001239447068866, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS marvel_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword = 'marvel-cinematic-universe'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2010
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1430.02, + "Total Cost": 1430.03, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 89.653, + "Actual Total Time": 89.785, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.73, + "Total Cost": 1429.97, + "Plan Rows": 6, + "Plan Width": 48, + "Actual Startup Time": 25.017, + "Actual Total Time": 89.757, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1428.97, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 8.538, + "Actual Total Time": 16.616, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.609, + "Actual Total Time": 5.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.360, + "Actual Total Time": 6.363, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.388, + "Actual Total Time": 6.391, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.397, + "Actual Total Time": 6.400, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.465, + "Actual Total Time": 6.468, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.357, + "Actual Total Time": 6.360, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.375, + "Actual Total Time": 6.377, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1428.51, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 8.533, + "Actual Total Time": 16.601, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "k.keyword", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.608, + "Actual Total Time": 5.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.359, + "Actual Total Time": 6.361, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.387, + "Actual Total Time": 6.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.396, + "Actual Total Time": 6.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.464, + "Actual Total Time": 6.467, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.356, + "Actual Total Time": 6.358, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.374, + "Actual Total Time": 6.376, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1348.50, + "Plan Rows": 177, + "Plan Width": 28, + "Actual Startup Time": 6.415, + "Actual Total Time": 7.852, + "Actual Rows": 155, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id", "k.keyword"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.607, + "Actual Total Time": 5.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.359, + "Actual Total Time": 6.360, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.386, + "Actual Total Time": 6.388, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.395, + "Actual Total Time": 6.397, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.464, + "Actual Total Time": 6.466, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.355, + "Actual Total Time": 6.357, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.373, + "Actual Total Time": 6.375, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.45, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 5.608, + "Actual Total Time": 5.625, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.607, + "Actual Total Time": 5.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.358, + "Actual Total Time": 6.359, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.386, + "Actual Total Time": 6.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.394, + "Actual Total Time": 6.395, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.463, + "Actual Total Time": 6.465, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.355, + "Actual Total Time": 6.355, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.373, + "Actual Total Time": 6.374, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 5.595, + "Actual Total Time": 5.598, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'marvel-cinematic-universe'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.606, + "Actual Total Time": 5.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.357, + "Actual Total Time": 6.358, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.385, + "Actual Total Time": 6.385, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.394, + "Actual Total Time": 6.394, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.463, + "Actual Total Time": 6.464, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.354, + "Actual Total Time": 6.355, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.367, + "Actual Total Time": 6.367, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.178, + "Actual Rows": 14, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 90, + "Plan Width": 8, + "Actual Startup Time": 0.514, + "Actual Total Time": 1.239, + "Actual Rows": 89, + "Actual Loops": 14, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1242, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3759324545287071861, + "Planning Time": 12.331, + "Triggers": [ + ], + "Execution Time": 90.046, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3759324545287071861, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS hero_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2014
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3900.31, + "Total Cost": 3900.32, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 197.402, + "Actual Total Time": 220.299, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3900.25, + "Total Cost": 3900.26, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 62.580, + "Actual Total Time": 220.250, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(k.keyword))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3899.25, + "Total Cost": 3899.26, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 97.245, + "Actual Total Time": 97.249, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(k.keyword)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 189.919, + "Actual Total Time": 189.921, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 148.641, + "Actual Total Time": 148.644, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 132.777, + "Actual Total Time": 132.780, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 52.410, + "Actual Total Time": 52.415, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 56.122, + "Actual Total Time": 56.125, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 52.447, + "Actual Total Time": 52.452, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 83.824, + "Actual Total Time": 83.827, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 3899.22, + "Plan Rows": 3, + "Plan Width": 48, + "Actual Startup Time": 86.242, + "Actual Total Time": 97.232, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 186.262, + "Actual Total Time": 189.908, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 126.654, + "Actual Total Time": 148.624, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 132.772, + "Actual Total Time": 132.775, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.863, + "Actual Total Time": 52.383, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 48.763, + "Actual Total Time": 56.095, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 52.441, + "Actual Total Time": 52.445, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 83.820, + "Actual Total Time": 83.822, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 3874.36, + "Plan Rows": 55, + "Plan Width": 37, + "Actual Startup Time": 45.579, + "Actual Total Time": 95.547, + "Actual Rows": 48, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.457, + "Actual Total Time": 187.510, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.739, + "Actual Total Time": 143.834, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 132.772, + "Actual Total Time": 132.774, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.177, + "Actual Total Time": 51.155, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.282, + "Actual Total Time": 54.678, + "Actual Rows": 82, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 52.440, + "Actual Total Time": 52.444, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 83.819, + "Actual Total Time": 83.821, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3867.36, + "Plan Rows": 5, + "Plan Width": 41, + "Actual Startup Time": 45.524, + "Actual Total Time": 94.946, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.332, + "Actual Total Time": 186.880, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.613, + "Actual Total Time": 141.961, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 132.771, + "Actual Total Time": 132.773, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.088, + "Actual Total Time": 50.358, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.231, + "Actual Total Time": 54.122, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 52.440, + "Actual Total Time": 52.443, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 83.819, + "Actual Total Time": 83.820, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1529.20, + "Plan Rows": 5078, + "Plan Width": 20, + "Actual Startup Time": 7.445, + "Actual Total Time": 36.152, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.458, + "Actual Total Time": 56.551, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.204, + "Actual Total Time": 31.690, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.860, + "Actual Total Time": 46.724, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.971, + "Actual Total Time": 45.595, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.634, + "Actual Total Time": 19.959, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 52.439, + "Actual Total Time": 52.441, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.564, + "Actual Total Time": 20.526, + "Actual Rows": 4196, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 7.331, + "Actual Total Time": 12.720, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.298, + "Actual Total Time": 1.348, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.104, + "Actual Total Time": 0.122, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.714, + "Actual Total Time": 0.778, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.912, + "Actual Total Time": 43.803, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.453, + "Actual Total Time": 0.493, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 52.438, + "Actual Total Time": 52.439, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.418, + "Actual Total Time": 2.434, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.42, + "Plan Rows": 4444, + "Plan Width": 8, + "Actual Startup Time": 0.115, + "Actual Total Time": 22.026, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.102, + "Actual Total Time": 26.027, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.096, + "Actual Total Time": 28.534, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.142, + "Actual Total Time": 44.038, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.052, + "Actual Total Time": 1.676, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.170, + "Actual Total Time": 18.843, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.141, + "Actual Total Time": 16.577, + "Actual Rows": 4196, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2014)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 10544 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 6011 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 4196 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.125, + "Actual Rows": 11, + "Actual Loops": 36, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.117, + "Actual Rows": 14, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.096, + "Actual Total Time": 0.137, + "Actual Rows": 8, + "Actual Loops": 13 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.135, + "Actual Total Time": 0.251, + "Actual Rows": 15, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.083, + "Actual Rows": 14, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 383, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 72 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 107 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 46 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 82 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -196995888411579451, + "Planning Time": 13.052, + "Triggers": [ + ], + "Execution Time": 220.613, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -196995888411579451, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS marvel_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword = 'marvel-cinematic-universe'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2014
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1429.99, + "Total Cost": 1430.00, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 41.787, + "Actual Total Time": 41.966, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.73, + "Total Cost": 1429.97, + "Plan Rows": 2, + "Plan Width": 48, + "Actual Startup Time": 38.495, + "Actual Total Time": 41.949, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1428.97, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 11.145, + "Actual Total Time": 11.556, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.549, + "Actual Total Time": 7.552, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.604, + "Actual Total Time": 7.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.611, + "Actual Total Time": 7.614, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.326, + "Actual Total Time": 6.329, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.505, + "Actual Total Time": 7.508, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.611, + "Actual Total Time": 7.614, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.318, + "Actual Total Time": 7.322, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1428.51, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 8.979, + "Actual Total Time": 11.538, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "k.keyword", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.549, + "Actual Total Time": 7.551, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.603, + "Actual Total Time": 7.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.610, + "Actual Total Time": 7.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.324, + "Actual Total Time": 6.327, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.504, + "Actual Total Time": 7.507, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.610, + "Actual Total Time": 7.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.318, + "Actual Total Time": 7.320, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1348.50, + "Plan Rows": 177, + "Plan Width": 28, + "Actual Startup Time": 6.596, + "Actual Total Time": 7.592, + "Actual Rows": 155, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id", "k.keyword"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.548, + "Actual Total Time": 7.549, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.602, + "Actual Total Time": 7.603, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.610, + "Actual Total Time": 7.611, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.324, + "Actual Total Time": 6.325, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.504, + "Actual Total Time": 7.506, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.610, + "Actual Total Time": 7.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.317, + "Actual Total Time": 7.319, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.45, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 6.592, + "Actual Total Time": 6.611, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.547, + "Actual Total Time": 7.548, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.601, + "Actual Total Time": 7.602, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.609, + "Actual Total Time": 7.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.323, + "Actual Total Time": 6.324, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.503, + "Actual Total Time": 7.505, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.608, + "Actual Total Time": 7.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.316, + "Actual Total Time": 7.317, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 6.583, + "Actual Total Time": 6.587, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'marvel-cinematic-universe'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.547, + "Actual Total Time": 7.547, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.601, + "Actual Total Time": 7.601, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.608, + "Actual Total Time": 7.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.322, + "Actual Total Time": 6.323, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.502, + "Actual Total Time": 7.503, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.607, + "Actual Total Time": 7.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.316, + "Actual Total Time": 7.316, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.160, + "Actual Rows": 14, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 90, + "Plan Width": 8, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.527, + "Actual Rows": 89, + "Actual Loops": 14, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1242, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2014)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3759324545287071861, + "Planning Time": 14.435, + "Triggers": [ + ], + "Execution Time": 42.248, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3759324545287071861, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS hero_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2000
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 57375.77, + "Total Cost": 57375.78, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 5109.469, + "Actual Total Time": 5154.743, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 57375.70, + "Total Cost": 57375.71, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 1162.100, + "Actual Total Time": 5154.676, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(k.keyword))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 57374.70, + "Total Cost": 57374.71, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2119.523, + "Actual Total Time": 2119.526, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(k.keyword)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 93.779, + "Actual Total Time": 93.782, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5100.579, + "Actual Total Time": 5100.582, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3769.633, + "Actual Total Time": 3769.636, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2158.614, + "Actual Total Time": 2158.617, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 472.116, + "Actual Total Time": 472.119, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1179.861, + "Actual Total Time": 1179.864, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3020.266, + "Actual Total Time": 3020.269, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 57374.65, + "Plan Rows": 7, + "Plan Width": 48, + "Actual Startup Time": 640.517, + "Actual Total Time": 2119.453, + "Actual Rows": 11, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 93.773, + "Actual Total Time": 93.776, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 569.669, + "Actual Total Time": 5100.466, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1325.118, + "Actual Total Time": 3769.584, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 113.127, + "Actual Total Time": 2158.486, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 197.635, + "Actual Total Time": 472.052, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 618.210, + "Actual Total Time": 1179.776, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1553.643, + "Actual Total Time": 3020.206, + "Actual Rows": 9, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 6699.64, + "Plan Rows": 112104, + "Plan Width": 37, + "Actual Startup Time": 12.892, + "Actual Total Time": 707.649, + "Actual Rows": 98185, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 93.772, + "Actual Total Time": 93.775, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.651, + "Actual Total Time": 1615.016, + "Actual Rows": 282572, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.588, + "Actual Total Time": 1252.739, + "Actual Rows": 194141, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.119, + "Actual Total Time": 756.065, + "Actual Rows": 84039, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.637, + "Actual Total Time": 122.688, + "Actual Rows": 11270, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.096, + "Actual Total Time": 385.948, + "Actual Rows": 38887, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.752, + "Actual Total Time": 1047.641, + "Actual Rows": 137541, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3867.36, + "Plan Rows": 2022, + "Plan Width": 41, + "Actual Startup Time": 12.730, + "Actual Total Time": 91.719, + "Actual Rows": 1771, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 93.772, + "Actual Total Time": 93.773, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.564, + "Actual Total Time": 188.819, + "Actual Rows": 4387, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.465, + "Actual Total Time": 117.703, + "Actual Rows": 2965, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.641, + "Actual Total Time": 76.733, + "Actual Rows": 2120, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.576, + "Actual Total Time": 8.724, + "Actual Rows": 155, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.683, + "Actual Total Time": 36.663, + "Actual Rows": 745, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.684, + "Actual Total Time": 166.141, + "Actual Rows": 3124, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1529.20, + "Plan Rows": 5078, + "Plan Width": 20, + "Actual Startup Time": 12.665, + "Actual Total Time": 32.624, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 93.771, + "Actual Total Time": 93.772, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.500, + "Actual Total Time": 52.330, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.407, + "Actual Total Time": 34.139, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.591, + "Actual Total Time": 17.707, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.509, + "Actual Total Time": 3.957, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.510, + "Actual Total Time": 9.013, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.620, + "Actual Total Time": 39.024, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 12.572, + "Actual Total Time": 12.602, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 93.770, + "Actual Total Time": 93.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.390, + "Actual Total Time": 0.444, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.300, + "Actual Total Time": 0.367, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.487, + "Actual Total Time": 1.504, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.426, + "Actual Total Time": 2.450, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.395, + "Actual Total Time": 0.424, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.506, + "Actual Total Time": 1.534, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.42, + "Plan Rows": 4444, + "Plan Width": 8, + "Actual Startup Time": 0.095, + "Actual Total Time": 18.037, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.080, + "Actual Total Time": 23.725, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.102, + "Actual Total Time": 30.974, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.098, + "Actual Total Time": 14.196, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.072, + "Actual Total Time": 1.337, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.110, + "Actual Total Time": 7.650, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.109, + "Actual Total Time": 33.178, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 6011 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 4196 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 248 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 10544 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.322, + "Actual Rows": 55, + "Actual Loops": 14165, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.298, + "Actual Rows": 64, + "Actual Loops": 4387 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.354, + "Actual Rows": 65, + "Actual Loops": 2965 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.300, + "Actual Rows": 40, + "Actual Loops": 2120 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.693, + "Actual Rows": 73, + "Actual Loops": 155 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.439, + "Actual Rows": 52, + "Actual Loops": 745 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.262, + "Actual Rows": 44, + "Actual Loops": 3124 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 785477, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 282572 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 194141 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 84039 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 11270 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 38887 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 137541 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -196995888411579451, + "Planning Time": 15.388, + "Triggers": [ + ], + "Execution Time": 5155.020, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -196995888411579451, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS marvel_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword = 'marvel-cinematic-universe'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2000
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1430.02, + "Total Cost": 1430.03, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 31.952, + "Actual Total Time": 32.110, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.73, + "Total Cost": 1429.97, + "Plan Rows": 6, + "Plan Width": 48, + "Actual Startup Time": 9.814, + "Actual Total Time": 32.078, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1428.97, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 6.892, + "Actual Total Time": 9.657, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.957, + "Actual Total Time": 5.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.848, + "Actual Total Time": 6.852, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.675, + "Actual Total Time": 8.678, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.685, + "Actual Total Time": 7.688, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.655, + "Actual Total Time": 8.659, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.635, + "Actual Total Time": 8.638, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1428.51, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 6.886, + "Actual Total Time": 9.638, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "k.keyword", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.957, + "Actual Total Time": 5.959, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.848, + "Actual Total Time": 6.851, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.674, + "Actual Total Time": 8.676, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.684, + "Actual Total Time": 7.687, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.654, + "Actual Total Time": 8.657, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.634, + "Actual Total Time": 8.636, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1348.50, + "Plan Rows": 177, + "Plan Width": 28, + "Actual Startup Time": 5.979, + "Actual Total Time": 7.139, + "Actual Rows": 155, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id", "k.keyword"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.956, + "Actual Total Time": 5.958, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.847, + "Actual Total Time": 6.849, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.673, + "Actual Total Time": 8.675, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.684, + "Actual Total Time": 7.685, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.654, + "Actual Total Time": 8.656, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.634, + "Actual Total Time": 8.635, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.45, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 5.969, + "Actual Total Time": 5.991, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.955, + "Actual Total Time": 5.957, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.847, + "Actual Total Time": 6.848, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.673, + "Actual Total Time": 8.674, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.683, + "Actual Total Time": 7.684, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.653, + "Actual Total Time": 8.654, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.633, + "Actual Total Time": 8.634, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 5.955, + "Actual Total Time": 5.959, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'marvel-cinematic-universe'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.955, + "Actual Total Time": 5.955, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.846, + "Actual Total Time": 6.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.672, + "Actual Total Time": 8.672, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.683, + "Actual Total Time": 7.683, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.652, + "Actual Total Time": 8.653, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.632, + "Actual Total Time": 8.633, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.72, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.096, + "Actual Total Time": 0.223, + "Actual Rows": 14, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 90, + "Plan Width": 8, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.621, + "Actual Rows": 89, + "Actual Loops": 14, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1242, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3759324545287071861, + "Planning Time": 14.999, + "Triggers": [ + ], + "Execution Time": 32.464, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3759324545287071861, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS hero_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND t.production_year > 2000
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 58797.54, + "Total Cost": 58797.55, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4524.492, + "Actual Total Time": 4571.660, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 58797.47, + "Total Cost": 58797.48, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 902.483, + "Actual Total Time": 4571.596, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(k.keyword))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 58796.47, + "Total Cost": 58796.48, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1780.454, + "Actual Total Time": 1780.457, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(k.keyword)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 266.067, + "Actual Total Time": 266.069, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3274.427, + "Actual Total Time": 3274.430, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2490.819, + "Actual Total Time": 2490.822, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4516.887, + "Actual Total Time": 4516.890, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 121.118, + "Actual Total Time": 121.122, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1776.205, + "Actual Total Time": 1776.208, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 896.317, + "Actual Total Time": 896.320, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 57954.89, + "Plan Rows": 112211, + "Plan Width": 48, + "Actual Startup Time": 16.367, + "Actual Total Time": 1696.357, + "Actual Rows": 98185, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.357, + "Actual Total Time": 238.273, + "Actual Rows": 11270, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.687, + "Actual Total Time": 3116.991, + "Actual Rows": 194141, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.553, + "Actual Total Time": 2376.057, + "Actual Rows": 137541, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.125, + "Actual Total Time": 4305.707, + "Actual Rows": 282572, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 121.113, + "Actual Total Time": 121.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.613, + "Actual Total Time": 1696.422, + "Actual Rows": 84039, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.954, + "Actual Total Time": 855.036, + "Actual Rows": 38887, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 7512.04, + "Plan Rows": 112211, + "Plan Width": 37, + "Actual Startup Time": 16.297, + "Actual Total Time": 550.326, + "Actual Rows": 98185, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.287, + "Actual Total Time": 71.843, + "Actual Rows": 11270, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.610, + "Actual Total Time": 963.251, + "Actual Rows": 194141, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.467, + "Actual Total Time": 806.407, + "Actual Rows": 137541, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.029, + "Actual Total Time": 1314.229, + "Actual Rows": 282572, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 121.112, + "Actual Total Time": 121.115, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.503, + "Actual Total Time": 557.224, + "Actual Rows": 84039, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.891, + "Actual Total Time": 276.568, + "Actual Rows": 38887, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3867.36, + "Plan Rows": 2024, + "Plan Width": 41, + "Actual Startup Time": 16.220, + "Actual Total Time": 100.904, + "Actual Rows": 1771, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.224, + "Actual Total Time": 8.834, + "Actual Rows": 155, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.510, + "Actual Total Time": 118.172, + "Actual Rows": 2965, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.387, + "Actual Total Time": 177.975, + "Actual Rows": 3124, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.918, + "Actual Total Time": 187.302, + "Actual Rows": 4387, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 121.111, + "Actual Total Time": 121.113, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.401, + "Actual Total Time": 83.697, + "Actual Rows": 2120, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.784, + "Actual Total Time": 44.174, + "Actual Rows": 745, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1529.20, + "Plan Rows": 5078, + "Plan Width": 20, + "Actual Startup Time": 16.071, + "Actual Total Time": 38.172, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.154, + "Actual Total Time": 2.900, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.432, + "Actual Total Time": 35.805, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.775, + "Actual Total Time": 45.698, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.822, + "Actual Total Time": 53.955, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 121.111, + "Actual Total Time": 121.112, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.302, + "Actual Total Time": 18.221, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.608, + "Actual Total Time": 11.741, + "Actual Rows": 1573, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 15.953, + "Actual Total Time": 15.984, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.081, + "Actual Total Time": 1.106, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.299, + "Actual Total Time": 0.360, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.612, + "Actual Total Time": 2.639, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.655, + "Actual Total Time": 1.713, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 121.109, + "Actual Total Time": 121.110, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.144, + "Actual Total Time": 0.159, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.461, + "Actual Total Time": 0.498, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.42, + "Plan Rows": 4444, + "Plan Width": 8, + "Actual Startup Time": 0.119, + "Actual Total Time": 20.246, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.067, + "Actual Total Time": 1.659, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.127, + "Actual Total Time": 32.618, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.152, + "Actual Total Time": 39.048, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.104, + "Actual Total Time": 24.062, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.154, + "Actual Total Time": 15.872, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.142, + "Actual Total Time": 10.287, + "Actual Rows": 1573, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 248 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 6011 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 10544 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 4196 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1573 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 54, + "Plan Width": 8, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.231, + "Actual Rows": 55, + "Actual Loops": 14165, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.373, + "Actual Rows": 73, + "Actual Loops": 155 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.259, + "Actual Rows": 65, + "Actual Loops": 2965 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.183, + "Actual Rows": 44, + "Actual Loops": 3124 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.233, + "Actual Rows": 64, + "Actual Loops": 4387 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.204, + "Actual Rows": 40, + "Actual Loops": 2120 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.284, + "Actual Rows": 52, + "Actual Loops": 745 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 785477, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 11270 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 194141 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 137541 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 282572 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 84039 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 38887 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4608735958739764665, + "Planning Time": 13.880, + "Triggers": [ + ], + "Execution Time": 4572.000, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -4608735958739764665, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(n.name) AS of_person,
       MIN(t.title) AS biography_movie
FROM aka_name AS an,
     cast_info AS ci,
     info_type AS it,
     link_type AS lt,
     movie_link AS ml,
     name AS n,
     person_info AS pi,
     title AS t
WHERE an.name LIKE '%a%'
  AND it.info ='mini biography'
  AND lt.link ='features'
  AND n.name_pcode_cf BETWEEN 'A' AND 'F'
  AND (n.gender='m'
       OR (n.gender = 'f'
           AND n.name LIKE 'B%'))
  AND pi.note ='Volker Boehm'
  AND t.production_year BETWEEN 1980 AND 1995
  AND n.id = an.person_id
  AND n.id = pi.person_id
  AND ci.person_id = n.id
  AND t.id = ci.movie_id
  AND ml.linked_movie_id = t.id
  AND lt.id = ml.link_type_id
  AND it.id = pi.info_type_id
  AND pi.person_id = an.person_id
  AND pi.person_id = ci.person_id
  AND an.person_id = ci.person_id
  AND ci.movie_id = ml.linked_movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 15110.60, + "Total Cost": 15110.61, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 666.489, + "Actual Total Time": 698.455, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 15110.57, + "Total Cost": 15110.58, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 613.583, + "Actual Total Time": 698.400, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 15109.57, + "Total Cost": 15109.58, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 607.167, + "Actual Total Time": 607.175, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 603.475, + "Actual Total Time": 603.481, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 563.965, + "Actual Total Time": 563.970, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 630.555, + "Actual Total Time": 630.562, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 658.292, + "Actual Total Time": 658.302, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 574.078, + "Actual Total Time": 574.085, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.43, + "Total Cost": 15109.54, + "Plan Rows": 6, + "Plan Width": 32, + "Actual Startup Time": 420.588, + "Actual Total Time": 607.152, + "Actual Rows": 5, + "Actual Loops": 6, + "Output": ["n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 358.307, + "Actual Total Time": 603.437, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 203.011, + "Actual Total Time": 563.951, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 491.695, + "Actual Total Time": 630.533, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 658.286, + "Actual Total Time": 658.294, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 456.380, + "Actual Total Time": 574.068, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 15108.07, + "Plan Rows": 3, + "Plan Width": 44, + "Actual Startup Time": 420.434, + "Actual Total Time": 606.838, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.person_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(pi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 358.244, + "Actual Total Time": 603.209, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 202.328, + "Actual Total Time": 563.017, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 491.633, + "Actual Total Time": 629.955, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 658.285, + "Actual Total Time": 658.292, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 456.317, + "Actual Total Time": 573.996, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.17, + "Total Cost": 15106.22, + "Plan Rows": 3, + "Plan Width": 48, + "Actual Startup Time": 420.281, + "Actual Total Time": 606.670, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.person_id", "pi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 358.155, + "Actual Total Time": 603.078, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 202.232, + "Actual Total Time": 562.911, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 491.545, + "Actual Total Time": 629.851, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 658.154, + "Actual Total Time": 658.159, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 456.210, + "Actual Total Time": 573.882, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 12702.94, + "Plan Rows": 3512, + "Plan Width": 40, + "Actual Startup Time": 1.560, + "Actual Total Time": 442.901, + "Actual Rows": 2926, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.737, + "Actual Total Time": 450.586, + "Actual Rows": 2791, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.764, + "Actual Total Time": 415.484, + "Actual Rows": 2530, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.826, + "Actual Total Time": 443.374, + "Actual Rows": 2773, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.244, + "Actual Total Time": 497.908, + "Actual Rows": 3798, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.970, + "Actual Total Time": 412.413, + "Actual Rows": 2785, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 2976.16, + "Plan Rows": 21052, + "Plan Width": 21, + "Actual Startup Time": 1.303, + "Actual Total Time": 150.450, + "Actual Rows": 17544, + "Actual Loops": 6, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.653, + "Actual Total Time": 150.910, + "Actual Rows": 17813, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.845, + "Actual Total Time": 148.650, + "Actual Rows": 15931, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.740, + "Actual Total Time": 154.112, + "Actual Rows": 16392, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.147, + "Actual Total Time": 157.673, + "Actual Rows": 20667, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.690, + "Actual Total Time": 135.044, + "Actual Rows": 16755, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2170.77, + "Plan Rows": 293, + "Plan Width": 25, + "Actual Startup Time": 1.106, + "Actual Total Time": 39.251, + "Actual Rows": 244, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.218, + "Actual Total Time": 40.877, + "Actual Rows": 298, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.737, + "Actual Total Time": 43.545, + "Actual Rows": 249, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.633, + "Actual Total Time": 36.948, + "Actual Rows": 234, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.793, + "Actual Total Time": 39.808, + "Actual Rows": 252, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.575, + "Actual Total Time": 33.636, + "Actual Rows": 199, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 632.40, + "Plan Rows": 1037, + "Plan Width": 4, + "Actual Startup Time": 0.209, + "Actual Total Time": 18.391, + "Actual Rows": 864, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.105, + "Actual Total Time": 19.675, + "Actual Rows": 983, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.229, + "Actual Total Time": 19.640, + "Actual Rows": 881, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.161, + "Actual Total Time": 17.660, + "Actual Rows": 829, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.139, + "Actual Total Time": 19.625, + "Actual Rows": 758, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.364, + "Actual Total Time": 15.256, + "Actual Rows": 863, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.059, + "Actual Total Time": 10.835, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.068, + "Actual Total Time": 11.649, + "Actual Rows": 5211, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.063, + "Actual Total Time": 11.600, + "Actual Rows": 5588, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.077, + "Actual Total Time": 10.368, + "Actual Rows": 4571, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 11.335, + "Actual Rows": 5493, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 8.984, + "Actual Rows": 3981, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 5137, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5211, + "Cache Hits": 5195, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5588, + "Cache Hits": 5572, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4571, + "Cache Hits": 4555, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5493, + "Cache Hits": 5477, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3981, + "Cache Hits": 3965, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = 'features'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 5186, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1980) AND (t.production_year <= 1995))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 983 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 881 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 829 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 758 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 863 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 2.03, + "Plan Rows": 72, + "Plan Width": 8, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.424, + "Actual Rows": 72, + "Actual Loops": 1467, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.344, + "Actual Rows": 60, + "Actual Loops": 298 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.395, + "Actual Rows": 64, + "Actual Loops": 249 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.469, + "Actual Rows": 70, + "Actual Loops": 234 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.433, + "Actual Rows": 82, + "Actual Loops": 252 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.475, + "Actual Rows": 84, + "Actual Loops": 199 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 105262, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((n.name_pcode_cf)::text >= 'A'::text) AND ((n.name_pcode_cf)::text <= 'F'::text) AND (((n.gender)::text = 'm'::text) OR (((n.gender)::text = 'f'::text) AND (n.name ~~ 'B%'::text))))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 17813 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 15931 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 16392 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 20667 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 16755 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.67, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 17559, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(pi.note = 'Volker Boehm'::text)", + "Rows Removed by Filter": 20, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 2791 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 2530 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 2773 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 3798 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 2785 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.069, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'mini biography'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.107, + "Actual Total Time": 0.129, + "Actual Rows": 2, + "Actual Loops": 14, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(an.name ~~ '%a%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.028, + "Actual Rows": 2, + "Actual Loops": 7 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.342, + "Actual Total Time": 0.462, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.184, + "Actual Total Time": 0.187, + "Actual Rows": 2, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.065, + "Actual Rows": 4, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7100159318594498086, + "Planning Time": 72.511, + "Triggers": [ + ], + "Execution Time": 698.911, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7100159318594498086, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(n.name) AS of_person,
       MIN(t.title) AS biography_movie
FROM aka_name AS an,
     cast_info AS ci,
     info_type AS it,
     link_type AS lt,
     movie_link AS ml,
     name AS n,
     person_info AS pi,
     title AS t
WHERE an.name LIKE '%a%'
  AND it.info ='mini biography'
  AND lt.link ='features'
  AND n.name_pcode_cf LIKE 'D%'
  AND n.gender='m'
  AND pi.note ='Volker Boehm'
  AND t.production_year BETWEEN 1980 AND 1984
  AND n.id = an.person_id
  AND n.id = pi.person_id
  AND ci.person_id = n.id
  AND t.id = ci.movie_id
  AND ml.linked_movie_id = t.id
  AND lt.id = ml.link_type_id
  AND it.id = pi.info_type_id
  AND pi.person_id = an.person_id
  AND pi.person_id = ci.person_id
  AND an.person_id = ci.person_id
  AND ci.movie_id = ml.linked_movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5884.64, + "Total Cost": 5884.65, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 228.358, + "Actual Total Time": 245.568, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5884.61, + "Total Cost": 5884.62, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 141.415, + "Actual Total Time": 245.545, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5883.61, + "Total Cost": 5883.62, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 150.333, + "Actual Total Time": 150.340, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 133.481, + "Actual Total Time": 133.486, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 130.459, + "Actual Total Time": 130.464, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 134.768, + "Actual Total Time": 134.774, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 143.605, + "Actual Total Time": 143.615, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 219.293, + "Actual Total Time": 219.298, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.74, + "Total Cost": 5883.59, + "Plan Rows": 3, + "Plan Width": 32, + "Actual Startup Time": 109.499, + "Actual Total Time": 150.326, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 70.696, + "Actual Total Time": 133.449, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 130.454, + "Actual Total Time": 130.458, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 134.763, + "Actual Total Time": 134.769, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 143.597, + "Actual Total Time": 143.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 37.097, + "Actual Total Time": 219.280, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.32, + "Total Cost": 5882.61, + "Plan Rows": 2, + "Plan Width": 44, + "Actual Startup Time": 109.481, + "Actual Total Time": 150.281, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 70.647, + "Actual Total Time": 133.271, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 130.452, + "Actual Total Time": 130.456, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 134.763, + "Actual Total Time": 134.767, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 143.596, + "Actual Total Time": 143.604, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 37.039, + "Actual Total Time": 219.193, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.17, + "Total Cost": 5881.30, + "Plan Rows": 2, + "Plan Width": 48, + "Actual Startup Time": 109.455, + "Actual Total Time": 150.249, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.person_id", "pi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 70.593, + "Actual Total Time": 133.190, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 130.452, + "Actual Total Time": 130.454, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 134.762, + "Actual Total Time": 134.765, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 143.595, + "Actual Total Time": 143.602, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 36.943, + "Actual Total Time": 219.091, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 5734.17, + "Plan Rows": 215, + "Plan Width": 40, + "Actual Startup Time": 8.304, + "Actual Total Time": 145.091, + "Actual Rows": 179, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.928, + "Actual Total Time": 128.488, + "Actual Rows": 156, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.822, + "Actual Total Time": 127.176, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.714, + "Actual Total Time": 130.966, + "Actual Rows": 124, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.680, + "Actual Total Time": 136.305, + "Actual Rows": 149, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.831, + "Actual Total Time": 210.403, + "Actual Rows": 400, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 2696.51, + "Plan Rows": 6683, + "Plan Width": 21, + "Actual Startup Time": 2.646, + "Actual Total Time": 54.395, + "Actual Rows": 5569, + "Actual Loops": 6, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.035, + "Actual Total Time": 42.560, + "Actual Rows": 5124, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.503, + "Actual Total Time": 51.586, + "Actual Rows": 4072, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.166, + "Actual Total Time": 52.478, + "Actual Rows": 3993, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.585, + "Actual Total Time": 57.417, + "Actual Rows": 4083, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.941, + "Actual Total Time": 63.277, + "Actual Rows": 10106, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2170.77, + "Plan Rows": 87, + "Plan Width": 25, + "Actual Startup Time": 2.583, + "Actual Total Time": 29.565, + "Actual Rows": 72, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.967, + "Actual Total Time": 20.141, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.424, + "Actual Total Time": 29.085, + "Actual Rows": 56, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.119, + "Actual Total Time": 29.632, + "Actual Rows": 60, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.523, + "Actual Total Time": 34.292, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.873, + "Actual Total Time": 27.123, + "Actual Rows": 91, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 632.40, + "Plan Rows": 1037, + "Plan Width": 4, + "Actual Startup Time": 0.464, + "Actual Total Time": 16.107, + "Actual Rows": 864, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.960, + "Actual Total Time": 10.524, + "Actual Rows": 577, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.539, + "Actual Total Time": 16.938, + "Actual Rows": 682, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.261, + "Actual Total Time": 15.431, + "Actual Rows": 918, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.106, + "Actual Total Time": 18.216, + "Actual Rows": 925, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.714, + "Actual Total Time": 15.848, + "Actual Rows": 680, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.055, + "Actual Total Time": 9.353, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 6.171, + "Actual Rows": 2962, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.054, + "Actual Total Time": 9.900, + "Actual Rows": 4862, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 8.996, + "Actual Rows": 5241, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.062, + "Actual Total Time": 10.479, + "Actual Rows": 4929, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.086, + "Actual Total Time": 9.182, + "Actual Rows": 4713, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 7274, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2962, + "Cache Hits": 2946, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4862, + "Cache Hits": 4846, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5241, + "Cache Hits": 5225, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4929, + "Cache Hits": 4913, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4713, + "Cache Hits": 4697, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = 'features'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 5186, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1980) AND (t.production_year <= 1984))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 577 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 682 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 918 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 925 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 680 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 5.27, + "Plan Rows": 77, + "Plan Width": 8, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.310, + "Actual Rows": 77, + "Actual Loops": 435, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.340, + "Actual Rows": 87, + "Actual Loops": 59 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.369, + "Actual Rows": 73, + "Actual Loops": 56 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.348, + "Actual Rows": 67, + "Actual Loops": 60 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.321, + "Actual Rows": 62, + "Actual Loops": 66 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.353, + "Actual Rows": 111, + "Actual Loops": 91 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 33415, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((n.name_pcode_cf)::text ~~ 'D%'::text) AND ((n.gender)::text = 'm'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 5124 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 4072 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 3993 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 4083 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 10106 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.67, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1076, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(pi.note = 'Volker Boehm'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 156 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 107 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 124 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 149 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 400 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.64, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["it.id"], + "Cache Key": "pi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 6, + "Cache Hits": 5, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.63, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.066, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["it.id"], + "Index Cond": "(it.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'mini biography'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.088, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.029, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(an.name ~~ '%a%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.026, + "Actual Rows": 2, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.040, + "Actual Rows": 2, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -298514962653462987, + "Planning Time": 63.739, + "Triggers": [ + ], + "Execution Time": 245.988, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -298514962653462987, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(n.name) AS cast_member_name,
       MIN(pi.info) AS cast_member_info
FROM aka_name AS an,
     cast_info AS ci,
     info_type AS it,
     link_type AS lt,
     movie_link AS ml,
     name AS n,
     person_info AS pi,
     title AS t
WHERE an.name IS NOT NULL
  AND (an.name LIKE '%a%'
       OR an.name LIKE 'A%')
  AND it.info ='mini biography'
  AND lt.link IN ('references',
                  'referenced in',
                  'features',
                  'featured in')
  AND n.name_pcode_cf BETWEEN 'A' AND 'F'
  AND (n.gender='m'
       OR (n.gender = 'f'
           AND n.name LIKE 'A%'))
  AND pi.note IS NOT NULL
  AND t.production_year BETWEEN 1980 AND 2010
  AND n.id = an.person_id
  AND n.id = pi.person_id
  AND ci.person_id = n.id
  AND t.id = ci.movie_id
  AND ml.linked_movie_id = t.id
  AND lt.id = ml.link_type_id
  AND it.id = pi.info_type_id
  AND pi.person_id = an.person_id
  AND pi.person_id = ci.person_id
  AND an.person_id = ci.person_id
  AND ci.movie_id = ml.linked_movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 79010.49, + "Total Cost": 79010.50, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 2126.488, + "Actual Total Time": 2214.642, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(pi.info)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 79010.45, + "Total Cost": 79010.46, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 2126.445, + "Actual Total Time": 2214.608, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(pi.info))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 79009.45, + "Total Cost": 79009.46, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1977.828, + "Actual Total Time": 1977.838, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(pi.info)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1942.917, + "Actual Total Time": 1942.928, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1944.459, + "Actual Total Time": 1944.467, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1946.866, + "Actual Total Time": 1946.876, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1962.242, + "Actual Total Time": 1962.252, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1944.948, + "Actual Total Time": 1944.958, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 78193.32, + "Total Cost": 78941.27, + "Plan Rows": 13637, + "Plan Width": 110, + "Actual Startup Time": 1385.587, + "Actual Total Time": 1781.589, + "Actual Rows": 11364, + "Actual Loops": 6, + "Output": ["n.name", "pi.info"], + "Inner Unique": true, + "Hash Cond": "(pi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1379.992, + "Actual Total Time": 1751.628, + "Actual Rows": 11515, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1385.852, + "Actual Total Time": 1755.508, + "Actual Rows": 11605, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1386.494, + "Actual Total Time": 1761.115, + "Actual Rows": 10902, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1385.541, + "Actual Total Time": 1750.858, + "Actual Rows": 11513, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1382.376, + "Actual Total Time": 1758.452, + "Actual Rows": 10369, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 78191.48, + "Total Cost": 78902.28, + "Plan Rows": 13637, + "Plan Width": 114, + "Actual Startup Time": 1385.230, + "Actual Total Time": 1772.472, + "Actual Rows": 11364, + "Actual Loops": 6, + "Output": ["n.name", "pi.info", "pi.info_type_id"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1379.501, + "Actual Total Time": 1742.461, + "Actual Rows": 11515, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1385.617, + "Actual Total Time": 1746.492, + "Actual Rows": 11605, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1386.182, + "Actual Total Time": 1752.441, + "Actual Rows": 10902, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1385.284, + "Actual Total Time": 1741.782, + "Actual Rows": 11513, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1381.867, + "Actual Total Time": 1749.201, + "Actual Rows": 10369, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 78190.29, + "Total Cost": 78850.48, + "Plan Rows": 15609, + "Plan Width": 118, + "Actual Startup Time": 1384.877, + "Actual Total Time": 1761.247, + "Actual Rows": 12942, + "Actual Loops": 6, + "Output": ["ml.link_type_id", "n.name", "pi.info", "pi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1379.490, + "Actual Total Time": 1731.738, + "Actual Rows": 12566, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1385.607, + "Actual Total Time": 1735.228, + "Actual Rows": 13587, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1386.172, + "Actual Total Time": 1741.729, + "Actual Rows": 12318, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1385.272, + "Actual Total Time": 1730.170, + "Actual Rows": 13106, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1379.871, + "Actual Total Time": 1737.887, + "Actual Rows": 12450, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 78189.87, + "Total Cost": 78707.30, + "Plan Rows": 289, + "Plan Width": 130, + "Actual Startup Time": 1384.534, + "Actual Total Time": 1611.462, + "Actual Rows": 7578, + "Actual Loops": 6, + "Output": ["ci.person_id", "ml.link_type_id", "n.name", "n.id", "pi.info", "pi.person_id", "pi.info_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1379.182, + "Actual Total Time": 1588.926, + "Actual Rows": 7338, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1385.109, + "Actual Total Time": 1579.268, + "Actual Rows": 7863, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1385.378, + "Actual Total Time": 1592.739, + "Actual Rows": 7559, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1385.143, + "Actual Total Time": 1583.971, + "Actual Rows": 7433, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1379.800, + "Actual Total Time": 1589.931, + "Actual Rows": 7333, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 78189.44, + "Total Cost": 78494.01, + "Plan Rows": 470, + "Plan Width": 138, + "Actual Startup Time": 1384.453, + "Actual Total Time": 1448.594, + "Actual Rows": 12232, + "Actual Loops": 6, + "Output": ["ci.person_id", "ci.movie_id", "ml.linked_movie_id", "ml.link_type_id", "n.name", "n.id", "pi.info", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Hash Cond": "(ml.linked_movie_id = ci.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1379.119, + "Actual Total Time": 1419.840, + "Actual Rows": 12989, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1385.042, + "Actual Total Time": 1423.363, + "Actual Rows": 11733, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1385.300, + "Actual Total Time": 1424.876, + "Actual Rows": 12701, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1385.039, + "Actual Total Time": 1423.705, + "Actual Rows": 12200, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1379.679, + "Actual Total Time": 1422.204, + "Actual Rows": 11920, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.00, + "Total Cost": 222.99, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 2.137, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 2.185, + "Actual Rows": 5365, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 2.133, + "Actual Rows": 5207, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 2.088, + "Actual Rows": 4810, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 2.029, + "Actual Rows": 4810, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 2.506, + "Actual Rows": 5550, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 76756.18, + "Total Cost": 76756.18, + "Plan Rows": 114661, + "Plan Width": 130, + "Actual Startup Time": 1381.464, + "Actual Total Time": 1381.468, + "Actual Rows": 152882, + "Actual Loops": 6, + "Output": ["ci.person_id", "ci.movie_id", "n.name", "n.id", "pi.info", "pi.person_id", "pi.info_type_id"], + "Hash Buckets": 1048576, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 759232, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1379.075, + "Actual Total Time": 1379.080, + "Actual Rows": 158271, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1384.967, + "Actual Total Time": 1384.970, + "Actual Rows": 142627, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1385.259, + "Actual Total Time": 1385.263, + "Actual Rows": 143103, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1384.987, + "Actual Total Time": 1384.991, + "Actual Rows": 168823, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1379.629, + "Actual Total Time": 1379.633, + "Actual Rows": 156942, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 76756.18, + "Plan Rows": 114661, + "Plan Width": 130, + "Actual Startup Time": 1.517, + "Actual Total Time": 936.139, + "Actual Rows": 152882, + "Actual Loops": 6, + "Output": ["ci.person_id", "ci.movie_id", "n.name", "n.id", "pi.info", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.806, + "Actual Total Time": 934.179, + "Actual Rows": 158271, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.262, + "Actual Total Time": 939.231, + "Actual Rows": 142627, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.210, + "Actual Total Time": 930.783, + "Actual Rows": 143103, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.267, + "Actual Total Time": 941.417, + "Actual Rows": 168823, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.965, + "Actual Total Time": 930.512, + "Actual Rows": 156942, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 68958.94, + "Plan Rows": 1633, + "Plan Width": 122, + "Actual Startup Time": 1.087, + "Actual Total Time": 580.576, + "Actual Rows": 2177, + "Actual Loops": 6, + "Output": ["n.name", "n.id", "pi.info", "pi.person_id", "pi.info_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.733, + "Actual Total Time": 577.009, + "Actual Rows": 2332, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.158, + "Actual Total Time": 581.370, + "Actual Rows": 2212, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.908, + "Actual Total Time": 581.836, + "Actual Rows": 1943, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.165, + "Actual Total Time": 583.653, + "Actual Rows": 2351, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.213, + "Actual Total Time": 573.657, + "Actual Rows": 2054, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.00, + "Total Cost": 55955.58, + "Plan Rows": 10523, + "Plan Width": 103, + "Actual Startup Time": 0.876, + "Actual Total Time": 341.335, + "Actual Rows": 14030, + "Actual Loops": 6, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Filter": "(pi.note IS NOT NULL)", + "Rows Removed by Filter": 479914, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.652, + "Actual Total Time": 343.551, + "Actual Rows": 13805, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.048, + "Actual Total Time": 337.523, + "Actual Rows": 14260, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.773, + "Actual Total Time": 338.996, + "Actual Rows": 13706, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.061, + "Actual Total Time": 345.327, + "Actual Rows": 14388, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 338.987, + "Actual Rows": 13996, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 1.24, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 84183, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = pi.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((n.name_pcode_cf)::text >= 'A'::text) AND ((n.name_pcode_cf)::text <= 'F'::text) AND (((n.gender)::text = 'm'::text) OR (((n.gender)::text = 'f'::text) AND (n.name ~~ 'A%'::text))))",+ "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 13805 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 14260 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 13706 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 14388 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 13996 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.56, + "Plan Rows": 121, + "Plan Width": 8, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.132, + "Actual Rows": 70, + "Actual Loops": 13063, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.124, + "Actual Rows": 68, + "Actual Loops": 2332 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.131, + "Actual Rows": 64, + "Actual Loops": 2212 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.143, + "Actual Rows": 74, + "Actual Loops": 1943 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.124, + "Actual Rows": 72, + "Actual Loops": 2351 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.139, + "Actual Rows": 76, + "Actual Loops": 2054 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 73393, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1980) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 12989 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 11733 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 12701 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 12200 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 11920 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 45471, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((an.name IS NOT NULL) AND ((an.name ~~ '%a%'::text) OR (an.name ~~ 'A%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 7338 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 7863 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 7559 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 7433 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 7333 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.16, + "Total Cost": 1.16, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.16, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.031, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["lt.id"], + "Filter": "((lt.link)::text = ANY ('{references,\"referenced in\",features,\"featured in\"}'::text[]))", + "Rows Removed by Filter": 14, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'mini biography'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7678011977838348522, + "Planning Time": 68.474, + "Triggers": [ + ], + "Execution Time": 2215.016, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -7678011977838348522, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an1.name) AS actress_pseudonym,
       MIN(t.title) AS japanese_movie_dubbed
FROM aka_name AS an1,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n1,
     role_type AS rt,
     title AS t
WHERE ci.note ='(voice: English version)'
  AND cn.country_code ='[jp]'
  AND mc.note LIKE '%(Japan)%'
  AND mc.note NOT LIKE '%(USA)%'
  AND n1.name LIKE '%Yo%'
  AND n1.name NOT LIKE '%Yu%'
  AND rt.role ='actress'
  AND an1.person_id = n1.id
  AND n1.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND an1.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27535.00, + "Total Cost": 27535.01, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1164.360, + "Actual Total Time": 1204.666, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an1.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27534.95, + "Total Cost": 27534.96, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 1111.451, + "Actual Total Time": 1204.628, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an1.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27533.95, + "Total Cost": 27533.96, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1111.954, + "Actual Total Time": 1111.961, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an1.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1153.588, + "Actual Total Time": 1153.594, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1103.718, + "Actual Total Time": 1103.725, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1102.914, + "Actual Total Time": 1102.919, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1101.319, + "Actual Total Time": 1101.326, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1104.493, + "Actual Total Time": 1104.499, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1115.441, + "Actual Total Time": 1115.447, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1103.455, + "Actual Total Time": 1103.461, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 27533.91, + "Plan Rows": 8, + "Plan Width": 33, + "Actual Startup Time": 341.005, + "Actual Total Time": 1111.918, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["an1.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n1.id = an1.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 160.689, + "Actual Total Time": 1153.563, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 531.356, + "Actual Total Time": 1103.706, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 566.261, + "Actual Total Time": 1102.892, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 585.482, + "Actual Total Time": 1101.309, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 253.957, + "Actual Total Time": 1104.428, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 116.888, + "Actual Total Time": 1115.345, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 234.977, + "Actual Total Time": 1103.427, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 27530.61, + "Plan Rows": 5, + "Plan Width": 25, + "Actual Startup Time": 340.849, + "Actual Total Time": 1111.635, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["ci.person_id", "n1.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 160.325, + "Actual Total Time": 1153.153, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 531.295, + "Actual Total Time": 1103.640, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 566.200, + "Actual Total Time": 1102.825, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 585.422, + "Actual Total Time": 1101.246, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 253.871, + "Actual Total Time": 1104.111, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 116.572, + "Actual Total Time": 1114.465, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 234.900, + "Actual Total Time": 1103.246, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 26411.74, + "Plan Rows": 930, + "Plan Width": 21, + "Actual Startup Time": 92.980, + "Actual Total Time": 1096.629, + "Actual Rows": 930, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.974, + "Actual Total Time": 1138.835, + "Actual Rows": 880, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 214.442, + "Actual Total Time": 1094.744, + "Actual Rows": 546, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.099, + "Actual Total Time": 1087.036, + "Actual Rows": 994, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 76.607, + "Actual Total Time": 1088.628, + "Actual Rows": 869, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.383, + "Actual Total Time": 1071.300, + "Actual Rows": 2030, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 94.270, + "Actual Total Time": 1098.085, + "Actual Rows": 1012, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 227.750, + "Actual Total Time": 1093.157, + "Actual Rows": 609, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 26401.93, + "Plan Rows": 2450, + "Plan Width": 25, + "Actual Startup Time": 87.724, + "Actual Total Time": 1094.502, + "Actual Rows": 2450, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.role_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.421, + "Actual Total Time": 1136.912, + "Actual Rows": 1974, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 213.701, + "Actual Total Time": 1093.387, + "Actual Rows": 1266, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.765, + "Actual Total Time": 1084.691, + "Actual Rows": 2784, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 38.682, + "Actual Total Time": 1086.772, + "Actual Rows": 2213, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.850, + "Actual Total Time": 1067.025, + "Actual Rows": 5537, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 93.933, + "Actual Total Time": 1095.886, + "Actual Rows": 2747, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 227.450, + "Actual Total Time": 1091.621, + "Actual Rows": 1711, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 18663.19, + "Plan Rows": 6041, + "Plan Width": 25, + "Actual Startup Time": 0.363, + "Actual Total Time": 202.692, + "Actual Rows": 6041, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.454, + "Actual Total Time": 157.753, + "Actual Rows": 5283, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.484, + "Actual Total Time": 174.624, + "Actual Rows": 5315, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.389, + "Actual Total Time": 175.806, + "Actual Rows": 5055, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.353, + "Actual Total Time": 252.760, + "Actual Rows": 6450, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.233, + "Actual Total Time": 215.283, + "Actual Rows": 8107, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.395, + "Actual Total Time": 224.050, + "Actual Rows": 7431, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.219, + "Actual Total Time": 201.399, + "Actual Rows": 5245, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 7207.59, + "Plan Rows": 6041, + "Plan Width": 4, + "Actual Startup Time": 0.257, + "Actual Total Time": 83.759, + "Actual Rows": 6041, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.375, + "Actual Total Time": 52.768, + "Actual Rows": 5283, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.382, + "Actual Total Time": 72.068, + "Actual Rows": 5315, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.118, + "Actual Total Time": 75.956, + "Actual Rows": 5055, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.241, + "Actual Total Time": 107.112, + "Actual Rows": 6450, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.150, + "Actual Total Time": 67.507, + "Actual Rows": 8107, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.321, + "Actual Total Time": 74.125, + "Actual Rows": 7431, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.131, + "Actual Total Time": 106.993, + "Actual Rows": 5245, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 844, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 12.752, + "Actual Rows": 844, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[jp]'::text)", + "Rows Removed by Filter": 28531, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 4.293, + "Actual Rows": 253, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.050, + "Actual Total Time": 13.004, + "Actual Rows": 818, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 13.680, + "Actual Rows": 844, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 19.371, + "Actual Rows": 1311, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 6.839, + "Actual Rows": 445, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 5.650, + "Actual Rows": 373, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.043, + "Actual Total Time": 20.104, + "Actual Rows": 1402, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 4.49, + "Plan Rows": 7, + "Plan Width": 8, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.080, + "Actual Rows": 7, + "Actual Loops": 6752, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(Japan)%'::text) AND (mc.note !~~ '%(USA)%'::text))", + "Rows Removed by Filter": 8, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.181, + "Actual Rows": 21, + "Actual Loops": 253 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.068, + "Actual Rows": 6, + "Actual Loops": 818 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.069, + "Actual Rows": 6, + "Actual Loops": 844 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.064, + "Actual Rows": 5, + "Actual Loops": 1311 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.128, + "Actual Rows": 18, + "Actual Loops": 445 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.174, + "Actual Rows": 20, + "Actual Loops": 373 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.059, + "Actual Rows": 4, + "Actual Loops": 1402 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.90, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 48328, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 5283 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 5315 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 5055 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 6450 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 8107 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 7431 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 5245 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.141, + "Actual Total Time": 0.146, + "Actual Rows": 0, + "Actual Loops": 48328, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice: English version)'::text)", + "Rows Removed by Filter": 32, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.178, + "Actual Total Time": 0.184, + "Actual Rows": 0, + "Actual Loops": 5283 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.167, + "Actual Total Time": 0.172, + "Actual Rows": 0, + "Actual Loops": 5315 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.171, + "Actual Total Time": 0.179, + "Actual Rows": 1, + "Actual Loops": 5055 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.125, + "Actual Total Time": 0.128, + "Actual Rows": 0, + "Actual Loops": 6450 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.104, + "Actual Rows": 1, + "Actual Loops": 8107 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.111, + "Actual Total Time": 0.116, + "Actual Rows": 0, + "Actual Loops": 7431 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.165, + "Actual Total Time": 0.169, + "Actual Rows": 0, + "Actual Loops": 5245 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n1", + "Startup Cost": 0.43, + "Total Cost": 1.20, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 7438, + "Output": ["n1.id", "n1.name", "n1.imdb_index", "n1.imdb_id", "n1.gender", "n1.name_pcode_cf", "n1.name_pcode_nf", "n1.surname_pcode", "n1.md5sum"], + "Index Cond": "(n1.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n1.name ~~ '%Yo%'::text) AND (n1.name !~~ '%Yu%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 880 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 546 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 994 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 869 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2030 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1012 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 609 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an1", + "Startup Cost": 0.42, + "Total Cost": 0.63, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.054, + "Actual Rows": 2, + "Actual Loops": 38, + "Output": ["an1.id", "an1.person_id", "an1.name", "an1.imdb_index", "an1.name_pcode_cf", "an1.name_pcode_nf", "an1.surname_pcode", "an1.md5sum"], + "Index Cond": "(an1.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.129, + "Actual Total Time": 0.130, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.057, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.059, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.030, + "Actual Rows": 2, + "Actual Loops": 9 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.048, + "Actual Rows": 2, + "Actual Loops": 17 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.054, + "Actual Rows": 2, + "Actual Loops": 3 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 99813637196177449, + "Planning Time": 36.005, + "Triggers": [ + ], + "Execution Time": 1204.983, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 99813637196177449, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(an.name) AS acress_pseudonym,
       MIN(t.title) AS japanese_anime_movie
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note ='(voice: English version)'
  AND cn.country_code ='[jp]'
  AND mc.note LIKE '%(Japan)%'
  AND mc.note NOT LIKE '%(USA)%'
  AND (mc.note LIKE '%(2006)%'
       OR mc.note LIKE '%(2007)%')
  AND n.name LIKE '%Yo%'
  AND n.name NOT LIKE '%Yu%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2006 AND 2007
  AND (t.title LIKE 'One Piece%'
       OR t.title LIKE 'Dragon Ball Z%')
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9134.85, + "Total Cost": 9134.86, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 118.903, + "Actual Total Time": 132.340, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9134.80, + "Total Cost": 9134.81, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 118.340, + "Actual Total Time": 132.315, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9133.80, + "Total Cost": 9133.81, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 109.051, + "Actual Total Time": 109.059, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 109.297, + "Actual Total Time": 109.305, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 108.409, + "Actual Total Time": 108.415, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 108.177, + "Actual Total Time": 108.183, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 108.509, + "Actual Total Time": 108.515, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 108.503, + "Actual Total Time": 108.509, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 107.926, + "Actual Total Time": 107.932, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 104.111, + "Actual Total Time": 104.119, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.27, + "Total Cost": 9133.79, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 97.231, + "Actual Total Time": 109.048, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 109.291, + "Actual Total Time": 109.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 41.894, + "Actual Total Time": 108.386, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 108.173, + "Actual Total Time": 108.179, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 108.505, + "Actual Total Time": 108.510, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 108.497, + "Actual Total Time": 108.503, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 107.922, + "Actual Total Time": 107.928, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 104.107, + "Actual Total Time": 104.115, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 9132.19, + "Plan Rows": 3, + "Plan Width": 41, + "Actual Startup Time": 96.075, + "Actual Total Time": 108.975, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["an.name", "an.person_id", "ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 109.290, + "Actual Total Time": 109.296, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 41.340, + "Actual Total Time": 108.156, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 108.172, + "Actual Total Time": 108.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 108.504, + "Actual Total Time": 108.509, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 108.497, + "Actual Total Time": 108.502, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 107.922, + "Actual Total Time": 107.927, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 104.107, + "Actual Total Time": 104.113, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.41, + "Total Cost": 9130.26, + "Plan Rows": 3, + "Plan Width": 21, + "Actual Startup Time": 96.050, + "Actual Total Time": 107.810, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 109.290, + "Actual Total Time": 109.295, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 41.227, + "Actual Total Time": 107.140, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 108.172, + "Actual Total Time": 108.176, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 108.503, + "Actual Total Time": 108.508, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 108.496, + "Actual Total Time": 108.501, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 107.921, + "Actual Total Time": 107.926, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 104.106, + "Actual Total Time": 104.112, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.31, + "Total Cost": 9129.11, + "Plan Rows": 13, + "Plan Width": 25, + "Actual Startup Time": 95.711, + "Actual Total Time": 107.682, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.role_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 109.205, + "Actual Total Time": 109.208, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 41.027, + "Actual Total Time": 107.030, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 108.116, + "Actual Total Time": 108.119, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 108.422, + "Actual Total Time": 108.425, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 108.413, + "Actual Total Time": 108.416, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 107.855, + "Actual Total Time": 107.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 103.979, + "Actual Total Time": 103.983, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 9089.71, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 95.664, + "Actual Total Time": 107.366, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 109.205, + "Actual Total Time": 109.207, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 40.938, + "Actual Total Time": 106.613, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 108.115, + "Actual Total Time": 108.117, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 108.421, + "Actual Total Time": 108.423, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 108.412, + "Actual Total Time": 108.414, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 107.854, + "Actual Total Time": 107.856, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 103.978, + "Actual Total Time": 103.981, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 7376.39, + "Plan Rows": 1062, + "Plan Width": 4, + "Actual Startup Time": 0.414, + "Actual Total Time": 84.897, + "Actual Rows": 1062, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.344, + "Actual Total Time": 81.858, + "Actual Rows": 1510, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.400, + "Actual Total Time": 84.700, + "Actual Rows": 1275, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.665, + "Actual Total Time": 80.398, + "Actual Rows": 1221, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.291, + "Actual Total Time": 86.977, + "Actual Rows": 899, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.320, + "Actual Total Time": 80.873, + "Actual Rows": 936, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.735, + "Actual Total Time": 92.886, + "Actual Rows": 793, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.477, + "Actual Total Time": 85.308, + "Actual Rows": 1108, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 844, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 14.015, + "Actual Rows": 844, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[jp]'::text)", + "Rows Removed by Filter": 28531, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 13.269, + "Actual Rows": 730, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 17.519, + "Actual Rows": 807, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 13.517, + "Actual Rows": 849, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.083, + "Actual Total Time": 13.460, + "Actual Rows": 902, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 12.232, + "Actual Rows": 821, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.043, + "Actual Total Time": 15.498, + "Actual Rows": 919, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.055, + "Actual Total Time": 14.741, + "Actual Rows": 909, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 4.75, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.083, + "Actual Rows": 1, + "Actual Loops": 6752, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(Japan)%'::text) AND (mc.note !~~ '%(USA)%'::text) AND ((mc.note ~~ '%(2006)%'::text) OR (mc.note ~~ '%(2007)%'::text)))", + "Rows Removed by Filter": 14, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.092, + "Actual Rows": 2, + "Actual Loops": 730 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.082, + "Actual Rows": 2, + "Actual Loops": 807 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 849 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.080, + "Actual Rows": 1, + "Actual Loops": 902 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.082, + "Actual Rows": 1, + "Actual Loops": 821 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.083, + "Actual Rows": 1, + "Actual Loops": 919 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.076, + "Actual Rows": 1, + "Actual Loops": 909 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.44, + "Total Cost": 2.61, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 8495, + "Output": ["t.title", "t.id"], + "Cache Key": "mc.movie_id", + "Cache Mode": "logical", + "Cache Hits": 32, + "Cache Misses": 721, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 49, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1510, + "Cache Hits": 107, + "Cache Misses": 1403, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 94 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1275, + "Cache Hits": 108, + "Cache Misses": 1167, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 78 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1221, + "Cache Hits": 67, + "Cache Misses": 1154, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 77 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 899, + "Cache Hits": 26, + "Cache Misses": 873, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 58 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 936, + "Cache Hits": 25, + "Cache Misses": 911, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 61 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 793, + "Cache Hits": 70, + "Cache Misses": 723, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 49 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1108, + "Cache Hits": 51, + "Cache Misses": 1057, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 71 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 2.60, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 8009, + "Output": ["t.title", "t.id"], + "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2006) AND (t.production_year <= 2007) AND ((t.title ~~ 'One Piece%'::text) OR (t.title ~~ 'Dragon Ball Z%'::text)))",+ "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1403 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1167 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1154 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 873 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 911 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 723 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1057 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 39.08, + "Plan Rows": 26, + "Plan Width": 12, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.611, + "Actual Rows": 26, + "Actual Loops": 4, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice: English version)'::text)", + "Rows Removed by Filter": 17, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.193, + "Actual Rows": 23, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.63, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.353, + "Actual Total Time": 0.370, + "Actual Rows": 1, + "Actual Loops": 25, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.090, + "Actual Rows": 1, + "Actual Loops": 11 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 24, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Yo%'::text) AND (n.name !~~ '%Yu%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 9 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4954783290691726040, + "Planning Time": 39.646, + "Triggers": [ + ], + "Execution Time": 132.816, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 4954783290691726040, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(a1.name) AS writer_pseudo_name,
       MIN(t.title) AS movie_title
FROM aka_name AS a1,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n1,
     role_type AS rt,
     title AS t
WHERE cn.country_code ='[us]'
  AND rt.role ='writer'
  AND a1.person_id = n1.id
  AND n1.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND a1.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 228782.62, + "Total Cost": 228782.63, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 7794.358, + "Actual Total Time": 7869.288, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(a1.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 228782.57, + "Total Cost": 228782.58, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 7735.391, + "Actual Total Time": 7869.251, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(a1.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 228781.57, + "Total Cost": 228781.58, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 7732.677, + "Actual Total Time": 7735.319, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(a1.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7725.509, + "Actual Total Time": 7725.517, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7726.055, + "Actual Total Time": 7726.062, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7725.501, + "Actual Total Time": 7725.508, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7775.504, + "Actual Total Time": 7775.521, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7724.627, + "Actual Total Time": 7724.637, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7723.565, + "Actual Total Time": 7723.574, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7726.047, + "Actual Total Time": 7726.055, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 214618.36, + "Total Cost": 228157.72, + "Plan Rows": 124770, + "Plan Width": 33, + "Actual Startup Time": 7050.512, + "Actual Total Time": 7582.326, + "Actual Rows": 310951, + "Actual Loops": 8, + "Output": ["a1.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(ci.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7049.488, + "Actual Total Time": 7572.156, + "Actual Rows": 314477, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7049.102, + "Actual Total Time": 7573.201, + "Actual Rows": 303369, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7051.730, + "Actual Total Time": 7568.499, + "Actual Rows": 326440, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7049.242, + "Actual Total Time": 7619.698, + "Actual Rows": 323811, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7049.385, + "Actual Total Time": 7576.146, + "Actual Rows": 290532, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7047.728, + "Actual Total Time": 7577.637, + "Actual Rows": 299881, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7049.743, + "Actual Total Time": 7578.382, + "Actual Rows": 289819, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 147152.82, + "Total Cost": 160253.83, + "Plan Rows": 101458, + "Plan Width": 20, + "Actual Startup Time": 5554.642, + "Actual Total Time": 5809.562, + "Actual Rows": 292966, + "Actual Loops": 8, + "Output": ["a1.name", "ci.movie_id"], + "Inner Unique": false, + "Hash Cond": "(a1.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5554.335, + "Actual Total Time": 5802.722, + "Actual Rows": 290393, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5554.359, + "Actual Total Time": 5809.865, + "Actual Rows": 268976, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5556.809, + "Actual Total Time": 5796.315, + "Actual Rows": 295273, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5554.321, + "Actual Total Time": 5829.221, + "Actual Rows": 282611, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5554.347, + "Actual Total Time": 5812.700, + "Actual Rows": 283226, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5554.366, + "Actual Total Time": 5811.651, + "Actual Rows": 303383, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5554.395, + "Actual Total Time": 5811.050, + "Actual Rows": 310434, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "a1", + "Startup Cost": 0.00, + "Total Cost": 12522.68, + "Plan Rows": 112668, + "Plan Width": 20, + "Actual Startup Time": 0.048, + "Actual Total Time": 54.622, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["a1.id", "a1.person_id", "a1.name", "a1.imdb_index", "a1.name_pcode_cf", "a1.name_pcode_nf", "a1.surname_pcode", "a1.md5sum"],+ "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 55.672, + "Actual Rows": 114779, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.053, + "Actual Total Time": 59.299, + "Actual Rows": 117492, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 52.308, + "Actual Rows": 105600, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.052, + "Actual Total Time": 58.288, + "Actual Rows": 104041, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 59.085, + "Actual Rows": 116751, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.051, + "Actual Total Time": 55.432, + "Actual Rows": 112721, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.051, + "Actual Total Time": 56.151, + "Actual Rows": 119490, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 139948.07, + "Total Cost": 139948.07, + "Plan Rows": 576380, + "Plan Width": 12, + "Actual Startup Time": 5552.155, + "Actual Total Time": 5554.791, + "Actual Rows": 341118, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 185408, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5554.059, + "Actual Total Time": 5554.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5554.054, + "Actual Total Time": 5554.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5554.076, + "Actual Total Time": 5554.079, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5554.053, + "Actual Total Time": 5554.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5538.813, + "Actual Total Time": 5538.817, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5554.074, + "Actual Total Time": 5554.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5554.078, + "Actual Total Time": 5554.081, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 45131.29, + "Total Cost": 139948.07, + "Plan Rows": 576380, + "Plan Width": 12, + "Actual Startup Time": 731.435, + "Actual Total Time": 1170.756, + "Actual Rows": 341118, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 731.334, + "Actual Total Time": 731.336, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 731.340, + "Actual Total Time": 731.343, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 731.323, + "Actual Total Time": 731.325, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 731.348, + "Actual Total Time": 731.353, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 731.341, + "Actual Total Time": 731.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 731.321, + "Actual Total Time": 731.324, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 731.357, + "Actual Total Time": 731.360, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 93304.23, + "Plan Rows": 576380, + "Plan Width": 8, + "Actual Startup Time": 0.100, + "Actual Total Time": 261.484, + "Actual Rows": 341118, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id", "rt.role"], + "Filter": "((rt.role)::text = 'writer'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 83504.68, + "Plan Rows": 979846, + "Plan Width": 12, + "Actual Startup Time": 0.758, + "Actual Total Time": 1548.156, + "Actual Rows": 2728943, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.role_id = rt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 38619.15, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 723.413, + "Actual Total Time": 723.414, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 195904, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 731.284, + "Actual Total Time": 731.284, + "Actual Rows": 509321, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 731.297, + "Actual Total Time": 731.298, + "Actual Rows": 473970, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 731.281, + "Actual Total Time": 731.282, + "Actual Rows": 536190, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 731.318, + "Actual Total Time": 731.319, + "Actual Rows": 516060, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 731.302, + "Actual Total Time": 731.302, + "Actual Rows": 543144, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 731.283, + "Actual Total Time": 731.284, + "Actual Rows": 539118, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 668.259, + "Actual Total Time": 668.260, + "Actual Rows": 581940, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n1", + "Startup Cost": 0.43, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 0.367, + "Actual Total Time": 240.246, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.338, + "Actual Total Time": 231.630, + "Actual Rows": 509321, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.441, + "Actual Total Time": 264.596, + "Actual Rows": 473970, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.520, + "Actual Total Time": 236.540, + "Actual Rows": 536190, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.587, + "Actual Total Time": 249.684, + "Actual Rows": 516060, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.488, + "Actual Total Time": 236.829, + "Actual Rows": 543144, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.175, + "Actual Total Time": 229.905, + "Actual Rows": 539118, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.130, + "Actual Total Time": 234.251, + "Actual Rows": 581940, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 65662.73, + "Total Cost": 65662.73, + "Plan Rows": 144225, + "Plan Width": 25, + "Actual Startup Time": 1491.539, + "Actual Total Time": 1491.542, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 2097152, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 87328, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1494.860, + "Actual Total Time": 1494.863, + "Actual Rows": 140545, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1494.430, + "Actual Total Time": 1494.433, + "Actual Rows": 134566, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1494.614, + "Actual Total Time": 1494.617, + "Actual Rows": 162922, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1494.619, + "Actual Total Time": 1494.624, + "Actual Rows": 149111, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1494.210, + "Actual Total Time": 1494.214, + "Actual Rows": 143781, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1493.083, + "Actual Total Time": 1493.087, + "Actual Rows": 128532, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1495.080, + "Actual Total Time": 1495.084, + "Actual Rows": 159687, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 43145.31, + "Total Cost": 65662.73, + "Plan Rows": 144225, + "Plan Width": 25, + "Actual Startup Time": 567.547, + "Actual Total Time": 1293.381, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 567.520, + "Actual Total Time": 1300.120, + "Actual Rows": 140545, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 567.608, + "Actual Total Time": 1320.974, + "Actual Rows": 134566, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 567.676, + "Actual Total Time": 1280.970, + "Actual Rows": 162922, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 567.478, + "Actual Total Time": 1293.388, + "Actual Rows": 149111, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 567.509, + "Actual Total Time": 1296.134, + "Actual Rows": 143781, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 567.512, + "Actual Total Time": 1276.874, + "Actual Rows": 128532, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 567.487, + "Actual Total Time": 1286.128, + "Actual Rows": 159687, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 22139.26, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 0.143, + "Actual Total Time": 539.380, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.153, + "Actual Total Time": 551.565, + "Actual Rows": 140545, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.104, + "Actual Total Time": 562.736, + "Actual Rows": 134566, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.306, + "Actual Total Time": 492.118, + "Actual Rows": 162922, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.098, + "Actual Total Time": 543.724, + "Actual Rows": 149111, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.138, + "Actual Total Time": 548.110, + "Actual Rows": 143781, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.127, + "Actual Total Time": 535.684, + "Actual Rows": 128532, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.119, + "Actual Total Time": 520.615, + "Actual Rows": 159687, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 22.796, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 23.748, + "Actual Rows": 12178, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 22.459, + "Actual Rows": 11377, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 14.891, + "Actual Rows": 7967, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 21.234, + "Actual Rows": 11087, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 21.357, + "Actual Rows": 11511, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 31.893, + "Actual Rows": 9784, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 18.326, + "Actual Rows": 9908, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.043, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.038, + "Actual Rows": 12, + "Actual Loops": 12178 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.041, + "Actual Rows": 12, + "Actual Loops": 11377 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.051, + "Actual Rows": 20, + "Actual Loops": 7967 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.041, + "Actual Rows": 13, + "Actual Loops": 11087 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.040, + "Actual Rows": 12, + "Actual Loops": 11511 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.046, + "Actual Rows": 13, + "Actual Loops": 9784 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.044, + "Actual Rows": 16, + "Actual Loops": 9908 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 39194.39, + "Total Cost": 39194.39, + "Plan Rows": 316039, + "Plan Width": 21, + "Actual Startup Time": 559.992, + "Actual Total Time": 559.992, + "Actual Rows": 316039, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 174848, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 567.309, + "Actual Total Time": 567.310, + "Actual Rows": 309909, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 567.319, + "Actual Total Time": 567.319, + "Actual Rows": 327869, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 567.310, + "Actual Total Time": 567.311, + "Actual Rows": 311294, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 567.319, + "Actual Total Time": 567.320, + "Actual Rows": 327640, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 567.320, + "Actual Total Time": 567.321, + "Actual Rows": 289226, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 567.328, + "Actual Total Time": 567.329, + "Actual Rows": 300075, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 567.311, + "Actual Total Time": 567.312, + "Actual Rows": 327613, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.00, + "Total Cost": 39194.39, + "Plan Rows": 316039, + "Plan Width": 21, + "Actual Startup Time": 0.258, + "Actual Total Time": 203.288, + "Actual Rows": 316039, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.056, + "Actual Total Time": 203.912, + "Actual Rows": 309909, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.571, + "Actual Total Time": 208.920, + "Actual Rows": 327869, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.098, + "Actual Total Time": 203.183, + "Actual Rows": 311294, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.360, + "Actual Total Time": 205.421, + "Actual Rows": 327640, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.106, + "Actual Total Time": 206.847, + "Actual Rows": 289226, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.074, + "Actual Total Time": 200.661, + "Actual Rows": 300075, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.369, + "Actual Total Time": 198.736, + "Actual Rows": 327613, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2444720784039749802, + "Planning Time": 27.328, + "Triggers": [ + ], + "Execution Time": 7869.582, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2444720784039749802, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(an1.name) AS costume_designer_pseudo,
       MIN(t.title) AS movie_with_costumes
FROM aka_name AS an1,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n1,
     role_type AS rt,
     title AS t
WHERE cn.country_code ='[us]'
  AND rt.role ='costume designer'
  AND an1.person_id = n1.id
  AND n1.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND an1.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 228782.62, + "Total Cost": 228782.63, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3013.053, + "Actual Total Time": 3064.824, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an1.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 228782.57, + "Total Cost": 228782.58, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 2957.196, + "Actual Total Time": 3064.790, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an1.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 228781.57, + "Total Cost": 228781.58, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 2950.845, + "Actual Total Time": 2951.979, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an1.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2946.861, + "Actual Total Time": 2946.869, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2969.597, + "Actual Total Time": 2969.614, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2946.909, + "Actual Total Time": 2946.917, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2946.878, + "Actual Total Time": 2946.887, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2946.545, + "Actual Total Time": 2946.556, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2946.841, + "Actual Total Time": 2946.852, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2946.883, + "Actual Total Time": 2946.891, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 214618.36, + "Total Cost": 228157.72, + "Plan Rows": 124770, + "Plan Width": 33, + "Actual Startup Time": 2764.028, + "Actual Total Time": 2923.527, + "Actual Rows": 40376, + "Actual Loops": 8, + "Output": ["an1.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(ci.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2762.657, + "Actual Total Time": 2909.751, + "Actual Rows": 33286, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2762.603, + "Actual Total Time": 2942.506, + "Actual Rows": 47778, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2763.034, + "Actual Total Time": 2913.133, + "Actual Rows": 58023, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2762.613, + "Actual Total Time": 2922.157, + "Actual Rows": 32807, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2762.095, + "Actual Total Time": 2921.399, + "Actual Rows": 43636, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2763.765, + "Actual Total Time": 2917.963, + "Actual Rows": 29457, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2762.817, + "Actual Total Time": 2920.287, + "Actual Rows": 44925, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 147152.82, + "Total Cost": 160253.83, + "Plan Rows": 101458, + "Plan Width": 20, + "Actual Startup Time": 1216.125, + "Actual Total Time": 1326.345, + "Actual Rows": 27371, + "Actual Loops": 8, + "Output": ["an1.name", "ci.movie_id"], + "Inner Unique": false, + "Hash Cond": "(an1.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1216.077, + "Actual Total Time": 1315.357, + "Actual Rows": 19923, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1215.779, + "Actual Total Time": 1330.628, + "Actual Rows": 35502, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1216.453, + "Actual Total Time": 1313.767, + "Actual Rows": 36490, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1216.017, + "Actual Total Time": 1334.246, + "Actual Rows": 22814, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1215.838, + "Actual Total Time": 1329.644, + "Actual Rows": 34831, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1216.978, + "Actual Total Time": 1313.008, + "Actual Rows": 17269, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1216.067, + "Actual Total Time": 1329.553, + "Actual Rows": 30316, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an1", + "Startup Cost": 0.00, + "Total Cost": 12522.68, + "Plan Rows": 112668, + "Plan Width": 20, + "Actual Startup Time": 0.029, + "Actual Total Time": 33.492, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["an1.id", "an1.person_id", "an1.name", "an1.imdb_index", "an1.name_pcode_cf", "an1.name_pcode_nf", "an1.surname_pcode", "an1.md5sum"],+ "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 32.596, + "Actual Rows": 82687, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.070, + "Actual Total Time": 32.718, + "Actual Rows": 134571, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 26.974, + "Actual Rows": 107335, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 35.896, + "Actual Rows": 120508, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 33.578, + "Actual Rows": 131017, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 36.645, + "Actual Rows": 83717, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 33.197, + "Actual Rows": 126218, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 139948.07, + "Total Cost": 139948.07, + "Plan Rows": 576380, + "Plan Width": 12, + "Actual Startup Time": 1213.527, + "Actual Total Time": 1214.654, + "Actual Rows": 34550, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Hash Buckets": 1048576, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 21184, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1215.631, + "Actual Total Time": 1215.635, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1215.603, + "Actual Total Time": 1215.610, + "Actual Rows": 276403, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1215.626, + "Actual Total Time": 1215.629, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1215.616, + "Actual Total Time": 1215.619, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1215.604, + "Actual Total Time": 1215.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1215.633, + "Actual Total Time": 1215.637, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1215.634, + "Actual Total Time": 1215.638, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 45131.29, + "Total Cost": 139948.07, + "Plan Rows": 576380, + "Plan Width": 12, + "Actual Startup Time": 677.655, + "Actual Total Time": 729.244, + "Actual Rows": 34550, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 677.621, + "Actual Total Time": 677.623, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 677.798, + "Actual Total Time": 1081.506, + "Actual Rows": 276403, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 677.645, + "Actual Total Time": 677.648, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 677.614, + "Actual Total Time": 677.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 677.627, + "Actual Total Time": 677.631, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 677.642, + "Actual Total Time": 677.645, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 677.655, + "Actual Total Time": 677.657, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 93304.23, + "Plan Rows": 576380, + "Plan Width": 8, + "Actual Startup Time": 0.024, + "Actual Total Time": 28.130, + "Actual Rows": 34550, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.166, + "Actual Total Time": 225.010, + "Actual Rows": 276403, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id", "rt.role"], + "Filter": "((rt.role)::text = 'costume designer'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 83504.68, + "Plan Rows": 979846, + "Plan Width": 12, + "Actual Startup Time": 0.134, + "Actual Total Time": 165.437, + "Actual Rows": 276403, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.role_id = rt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.134, + "Actual Total Time": 165.437, + "Actual Rows": 276403, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 38619.15, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 669.565, + "Actual Total Time": 669.565, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 195936, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 677.577, + "Actual Total Time": 677.578, + "Actual Rows": 523014, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 613.904, + "Actual Total Time": 613.906, + "Actual Rows": 515909, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 677.503, + "Actual Total Time": 677.503, + "Actual Rows": 516792, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 677.490, + "Actual Total Time": 677.491, + "Actual Rows": 532530, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 677.503, + "Actual Total Time": 677.504, + "Actual Rows": 495198, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 677.524, + "Actual Total Time": 677.525, + "Actual Rows": 539118, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 677.516, + "Actual Total Time": 677.517, + "Actual Rows": 541314, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n1", + "Startup Cost": 0.43, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 0.203, + "Actual Total Time": 199.380, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.231, + "Actual Total Time": 195.865, + "Actual Rows": 523014, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.132, + "Actual Total Time": 202.377, + "Actual Rows": 515909, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.210, + "Actual Total Time": 195.123, + "Actual Rows": 516792, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.309, + "Actual Total Time": 200.118, + "Actual Rows": 532530, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.190, + "Actual Total Time": 210.953, + "Actual Rows": 495198, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.137, + "Actual Total Time": 196.710, + "Actual Rows": 539118, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.163, + "Actual Total Time": 195.959, + "Actual Rows": 541314, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 65662.73, + "Total Cost": 65662.73, + "Plan Rows": 144225, + "Plan Width": 25, + "Actual Startup Time": 1542.636, + "Actual Total Time": 1542.640, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 2097152, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 87328, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1546.237, + "Actual Total Time": 1546.241, + "Actual Rows": 149029, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1546.245, + "Actual Total Time": 1546.250, + "Actual Rows": 119899, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1546.267, + "Actual Total Time": 1546.271, + "Actual Rows": 154642, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1546.238, + "Actual Total Time": 1546.242, + "Actual Rows": 144103, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1546.024, + "Actual Total Time": 1546.029, + "Actual Rows": 126802, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1546.261, + "Actual Total Time": 1546.265, + "Actual Rows": 152678, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1546.248, + "Actual Total Time": 1546.251, + "Actual Rows": 163088, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 43145.31, + "Total Cost": 65662.73, + "Plan Rows": 144225, + "Plan Width": 25, + "Actual Startup Time": 579.414, + "Actual Total Time": 1320.841, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 577.589, + "Actual Total Time": 1327.833, + "Actual Rows": 149029, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 577.688, + "Actual Total Time": 1318.252, + "Actual Rows": 119899, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 577.592, + "Actual Total Time": 1313.782, + "Actual Rows": 154642, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 577.596, + "Actual Total Time": 1319.728, + "Actual Rows": 144103, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 591.992, + "Actual Total Time": 1317.534, + "Actual Rows": 126802, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 577.577, + "Actual Total Time": 1310.845, + "Actual Rows": 152678, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 577.599, + "Actual Total Time": 1342.286, + "Actual Rows": 163088, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 22139.26, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 0.113, + "Actual Total Time": 541.575, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.117, + "Actual Total Time": 566.796, + "Actual Rows": 149029, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.086, + "Actual Total Time": 529.319, + "Actual Rows": 119899, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.121, + "Actual Total Time": 544.179, + "Actual Rows": 154642, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.115, + "Actual Total Time": 562.377, + "Actual Rows": 144103, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.147, + "Actual Total Time": 554.352, + "Actual Rows": 126802, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.104, + "Actual Total Time": 513.912, + "Actual Rows": 152678, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.117, + "Actual Total Time": 519.473, + "Actual Rows": 163088, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 23.535, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 29.220, + "Actual Rows": 11100, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 23.151, + "Actual Rows": 11608, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 18.514, + "Actual Rows": 9563, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 24.833, + "Actual Rows": 11096, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 21.076, + "Actual Rows": 10969, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 18.060, + "Actual Rows": 9079, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 21.199, + "Actual Rows": 11063, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.042, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.042, + "Actual Rows": 13, + "Actual Loops": 11100 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.038, + "Actual Rows": 10, + "Actual Loops": 11608 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.047, + "Actual Rows": 16, + "Actual Loops": 9563 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.042, + "Actual Rows": 13, + "Actual Loops": 11096 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.043, + "Actual Rows": 12, + "Actual Loops": 10969 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.046, + "Actual Rows": 17, + "Actual Loops": 9079 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.038, + "Actual Rows": 15, + "Actual Loops": 11063 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 39194.39, + "Total Cost": 39194.39, + "Plan Rows": 316039, + "Plan Width": 21, + "Actual Startup Time": 568.745, + "Actual Total Time": 568.746, + "Actual Rows": 316039, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 174816, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 577.396, + "Actual Total Time": 577.397, + "Actual Rows": 307964, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 577.385, + "Actual Total Time": 577.386, + "Actual Rows": 299020, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 577.398, + "Actual Total Time": 577.399, + "Actual Rows": 313529, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 577.396, + "Actual Total Time": 577.396, + "Actual Rows": 324177, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 577.401, + "Actual Total Time": 577.402, + "Actual Rows": 314502, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 577.415, + "Actual Total Time": 577.416, + "Actual Rows": 325714, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 577.389, + "Actual Total Time": 577.390, + "Actual Rows": 321027, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.00, + "Total Cost": 39194.39, + "Plan Rows": 316039, + "Plan Width": 21, + "Actual Startup Time": 0.092, + "Actual Total Time": 167.043, + "Actual Rows": 316039, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.094, + "Actual Total Time": 164.935, + "Actual Rows": 307964, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.088, + "Actual Total Time": 162.649, + "Actual Rows": 299020, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.056, + "Actual Total Time": 161.499, + "Actual Rows": 313529, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.094, + "Actual Total Time": 175.690, + "Actual Rows": 324177, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.119, + "Actual Total Time": 159.971, + "Actual Rows": 314502, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.088, + "Actual Total Time": 177.515, + "Actual Rows": 325714, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.112, + "Actual Total Time": 165.620, + "Actual Rows": 321027, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2444720784039749802, + "Planning Time": 32.376, + "Triggers": [ + ], + "Execution Time": 3065.109, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2444720784039749802, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS character_name,
       MIN(t.title) AS movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND mc.note IS NOT NULL
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND n.gender ='f'
  AND n.name LIKE '%Ang%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2005 AND 2015
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 66250.98, + "Total Cost": 66250.99, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 302.219, + "Actual Total Time": 305.289, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 66250.91, + "Total Cost": 66250.92, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 301.832, + "Actual Total Time": 305.262, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 66249.91, + "Total Cost": 66249.92, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 291.571, + "Actual Total Time": 291.579, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 282.731, + "Actual Total Time": 282.739, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 291.721, + "Actual Total Time": 291.728, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 291.400, + "Actual Total Time": 291.408, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 292.675, + "Actual Total Time": 292.683, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 292.691, + "Actual Total Time": 292.699, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 288.540, + "Actual Total Time": 288.547, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 292.415, + "Actual Total Time": 292.422, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.68, + "Total Cost": 66249.79, + "Plan Rows": 15, + "Plan Width": 49, + "Actual Startup Time": 140.666, + "Actual Total Time": 291.533, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 107.477, + "Actual Total Time": 282.707, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 291.717, + "Actual Total Time": 291.723, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 115.921, + "Actual Total Time": 291.275, + "Actual Rows": 61, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 104.529, + "Actual Total Time": 292.625, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 150.847, + "Actual Total Time": 292.684, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 132.779, + "Actual Total Time": 288.496, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 110.776, + "Actual Total Time": 292.400, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 66242.97, + "Plan Rows": 15, + "Plan Width": 53, + "Actual Startup Time": 140.607, + "Actual Total Time": 291.249, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "mc.company_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 107.407, + "Actual Total Time": 282.485, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 291.716, + "Actual Total Time": 291.722, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 115.849, + "Actual Total Time": 290.417, + "Actual Rows": 61, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 104.460, + "Actual Total Time": 292.209, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 150.797, + "Actual Total Time": 292.633, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 132.720, + "Actual Total Time": 288.258, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 110.670, + "Actual Total Time": 292.257, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 66234.89, + "Plan Rows": 16, + "Plan Width": 41, + "Actual Startup Time": 139.692, + "Actual Total Time": 290.896, + "Actual Rows": 16, + "Actual Loops": 8, + "Output": ["an.name", "ci.person_role_id", "mc.company_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 107.311, + "Actual Total Time": 282.296, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 291.716, + "Actual Total Time": 291.721, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 109.219, + "Actual Total Time": 289.557, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 104.377, + "Actual Total Time": 291.376, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 150.683, + "Actual Total Time": 292.517, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 132.616, + "Actual Total Time": 287.962, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 110.580, + "Actual Total Time": 292.121, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 66224.29, + "Plan Rows": 19, + "Plan Width": 45, + "Actual Startup Time": 108.643, + "Actual Total Time": 290.264, + "Actual Rows": 19, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.person_role_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 95.694, + "Actual Total Time": 281.498, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 118.409, + "Actual Total Time": 291.535, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 107.971, + "Actual Total Time": 287.890, + "Actual Rows": 53, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 104.270, + "Actual Total Time": 290.803, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.488, + "Actual Total Time": 292.200, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 121.832, + "Actual Total Time": 287.436, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 110.498, + "Actual Total Time": 291.933, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 66223.12, + "Plan Rows": 19, + "Plan Width": 49, + "Actual Startup Time": 108.320, + "Actual Total Time": 289.893, + "Actual Rows": 19, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.role_id", "ci.person_role_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 95.384, + "Actual Total Time": 281.140, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 118.136, + "Actual Total Time": 291.251, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 107.729, + "Actual Total Time": 287.541, + "Actual Rows": 53, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 103.933, + "Actual Total Time": 290.405, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.139, + "Actual Total Time": 291.820, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 121.528, + "Actual Total Time": 287.084, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 110.180, + "Actual Total Time": 291.601, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 66196.22, + "Plan Rows": 53, + "Plan Width": 28, + "Actual Startup Time": 105.942, + "Actual Total Time": 288.294, + "Actual Rows": 53, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(n.id = ci.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 95.285, + "Actual Total Time": 280.285, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 106.191, + "Actual Total Time": 289.366, + "Actual Rows": 98, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 103.495, + "Actual Total Time": 283.773, + "Actual Rows": 132, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 103.849, + "Actual Total Time": 289.925, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.042, + "Actual Total Time": 290.834, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 119.157, + "Actual Total Time": 284.043, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 110.047, + "Actual Total Time": 290.853, + "Actual Rows": 24, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 65429.83, + "Plan Rows": 195, + "Plan Width": 24, + "Actual Startup Time": 96.844, + "Actual Total Time": 263.722, + "Actual Rows": 195, + "Actual Loops": 8, + "Output": ["an.name", "an.person_id", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 87.363, + "Actual Total Time": 258.670, + "Actual Rows": 164, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 97.215, + "Actual Total Time": 265.865, + "Actual Rows": 163, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 96.742, + "Actual Total Time": 246.006, + "Actual Rows": 458, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.328, + "Actual Total Time": 269.901, + "Actual Rows": 115, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 98.654, + "Actual Total Time": 269.420, + "Actual Rows": 173, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 93.141, + "Actual Total Time": 260.036, + "Actual Rows": 149, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 98.318, + "Actual Total Time": 266.266, + "Actual Rows": 146, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 846, + "Plan Width": 4, + "Actual Startup Time": 96.230, + "Actual Total Time": 248.844, + "Actual Rows": 846, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%Ang%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 520090, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 87.180, + "Actual Total Time": 243.914, + "Actual Rows": 824, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.694, + "Actual Total Time": 251.589, + "Actual Rows": 748, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 95.888, + "Actual Total Time": 228.956, + "Actual Rows": 1534, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.141, + "Actual Total Time": 256.588, + "Actual Rows": 716, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 97.903, + "Actual Total Time": 255.039, + "Actual Rows": 718, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 93.046, + "Actual Total Time": 242.885, + "Actual Rows": 747, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 97.366, + "Actual Total Time": 252.785, + "Actual Rows": 725, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 2.30, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 6768, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 824 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 748 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1534 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 716 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 718 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 747 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 725 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.92, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.119, + "Actual Total Time": 0.125, + "Actual Rows": 0, + "Actual Loops": 1558, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.125, + "Actual Total Time": 0.130, + "Actual Rows": 0, + "Actual Loops": 164 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.143, + "Actual Rows": 1, + "Actual Loops": 163 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.081, + "Actual Rows": 0, + "Actual Loops": 458 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.169, + "Actual Total Time": 0.172, + "Actual Rows": 0, + "Actual Loops": 115 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.119, + "Actual Total Time": 0.122, + "Actual Rows": 0, + "Actual Loops": 173 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.146, + "Actual Total Time": 0.160, + "Actual Rows": 0, + "Actual Loops": 149 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.158, + "Actual Total Time": 0.167, + "Actual Rows": 0, + "Actual Loops": 146 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 425, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2015))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 43 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 98 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 132 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 20 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 52 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.115, + "Actual Total Time": 0.115, + "Actual Rows": 1, + "Actual Loops": 26 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 24 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 155, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note IS NOT NULL) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 5, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 35 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 53 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.045, + "Actual Rows": 2, + "Actual Loops": 12 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 11 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 130, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 64 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 27 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.110, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 123, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 61 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 24 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.068, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6747521538659772949, + "Planning Time": 85.163, + "Triggers": [ + ], + "Execution Time": 305.687, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6747521538659772949, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS voiced_character,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS american_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note = '(voice)'
  AND cn.country_code ='[us]'
  AND mc.note LIKE '%(200%)%'
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND n.gender ='f'
  AND n.name LIKE '%Angel%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2007 AND 2010
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51375.47, + "Total Cost": 51375.48, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1759.186, + "Actual Total Time": 1799.313, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51375.38, + "Total Cost": 51375.39, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 1687.881, + "Actual Total Time": 1799.266, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51374.38, + "Total Cost": 51374.39, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1688.350, + "Actual Total Time": 1688.358, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1677.553, + "Actual Total Time": 1677.562, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1747.341, + "Actual Total Time": 1747.347, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1678.935, + "Actual Total Time": 1678.942, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1679.123, + "Actual Total Time": 1679.129, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1679.081, + "Actual Total Time": 1679.089, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1678.786, + "Actual Total Time": 1678.794, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1679.077, + "Actual Total Time": 1679.084, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.69, + "Total Cost": 51374.33, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 761.969, + "Actual Total Time": 1688.325, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 841.688, + "Actual Total Time": 1677.527, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 129.044, + "Actual Total Time": 1747.300, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 917.261, + "Actual Total Time": 1678.923, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 667.654, + "Actual Total Time": 1679.107, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 230.965, + "Actual Total Time": 1679.033, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1045.489, + "Actual Total Time": 1678.755, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1246.834, + "Actual Total Time": 1679.064, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 51372.35, + "Plan Rows": 4, + "Plan Width": 56, + "Actual Startup Time": 692.703, + "Actual Total Time": 1688.192, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["chn.name", "ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 841.635, + "Actual Total Time": 1677.438, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 128.996, + "Actual Total Time": 1747.119, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 599.787, + "Actual Total Time": 1678.799, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 667.614, + "Actual Total Time": 1678.978, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 230.911, + "Actual Total Time": 1678.801, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1045.445, + "Actual Total Time": 1678.665, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1010.451, + "Actual Total Time": 1678.918, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 51370.28, + "Plan Rows": 4, + "Plan Width": 44, + "Actual Startup Time": 692.592, + "Actual Total Time": 1687.940, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.person_role_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 841.522, + "Actual Total Time": 1677.309, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 128.942, + "Actual Total Time": 1746.644, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 599.473, + "Actual Total Time": 1678.432, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 667.529, + "Actual Total Time": 1678.788, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 230.843, + "Actual Total Time": 1678.359, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1045.359, + "Actual Total Time": 1678.539, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1010.340, + "Actual Total Time": 1678.716, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 50843.45, + "Plan Rows": 946, + "Plan Width": 25, + "Actual Startup Time": 14.290, + "Actual Total Time": 1669.990, + "Actual Rows": 946, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.person_role_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.693, + "Actual Total Time": 1651.181, + "Actual Rows": 768, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.880, + "Actual Total Time": 1726.699, + "Actual Rows": 1291, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.550, + "Actual Total Time": 1665.847, + "Actual Rows": 546, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.796, + "Actual Total Time": 1658.252, + "Actual Rows": 1240, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.350, + "Actual Total Time": 1660.755, + "Actual Rows": 1139, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.980, + "Actual Total Time": 1669.343, + "Actual Rows": 480, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.478, + "Actual Total Time": 1656.322, + "Actual Rows": 1360, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 50830.37, + "Plan Rows": 3374, + "Plan Width": 29, + "Actual Startup Time": 11.276, + "Actual Total Time": 1667.137, + "Actual Rows": 3374, + "Actual Loops": 8, + "Output": ["ci.role_id", "ci.person_id", "ci.person_role_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.102, + "Actual Total Time": 1648.514, + "Actual Rows": 2958, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.480, + "Actual Total Time": 1723.126, + "Actual Rows": 4620, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.223, + "Actual Total Time": 1663.476, + "Actual Rows": 2186, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 17.988, + "Actual Total Time": 1654.909, + "Actual Rows": 4354, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.932, + "Actual Total Time": 1657.842, + "Actual Rows": 3543, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.559, + "Actual Total Time": 1667.272, + "Actual Rows": 2093, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.074, + "Actual Total Time": 1652.876, + "Actual Rows": 4806, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 40287.37, + "Plan Rows": 5876, + "Plan Width": 25, + "Actual Startup Time": 0.436, + "Actual Total Time": 759.272, + "Actual Rows": 5876, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.294, + "Actual Total Time": 755.242, + "Actual Rows": 5183, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.348, + "Actual Total Time": 709.630, + "Actual Rows": 6460, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.773, + "Actual Total Time": 840.170, + "Actual Rows": 6641, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.238, + "Actual Total Time": 820.705, + "Actual Rows": 5163, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.585, + "Actual Total Time": 686.015, + "Actual Rows": 6263, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.223, + "Actual Total Time": 713.374, + "Actual Rows": 5955, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.841, + "Actual Total Time": 761.327, + "Actual Rows": 5949, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 25002.61, + "Plan Rows": 22133, + "Plan Width": 4, + "Actual Startup Time": 0.192, + "Actual Total Time": 440.946, + "Actual Rows": 22133, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.107, + "Actual Total Time": 468.933, + "Actual Rows": 18869, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.174, + "Actual Total Time": 372.982, + "Actual Rows": 24797, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.168, + "Actual Total Time": 490.706, + "Actual Rows": 22519, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.138, + "Actual Total Time": 454.323, + "Actual Rows": 26176, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.231, + "Actual Total Time": 388.270, + "Actual Rows": 21146, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.141, + "Actual Total Time": 424.197, + "Actual Rows": 20854, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.471, + "Actual Total Time": 448.675, + "Actual Rows": 22696, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 17.568, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 21.791, + "Actual Rows": 13093, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 6.973, + "Actual Rows": 2999, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 18.393, + "Actual Rows": 10999, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 19.779, + "Actual Rows": 12823, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 15.149, + "Actual Rows": 8855, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 17.587, + "Actual Rows": 11431, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 19.072, + "Actual Rows": 11006, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 2.02, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.038, + "Actual Rows": 2, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 12, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 13093 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.118, + "Actual Rows": 8, + "Actual Loops": 2999 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.041, + "Actual Rows": 2, + "Actual Loops": 10999 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.032, + "Actual Rows": 2, + "Actual Loops": 12823 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.041, + "Actual Rows": 2, + "Actual Loops": 8855 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.034, + "Actual Rows": 2, + "Actual Loops": 11431 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.038, + "Actual Rows": 2, + "Actual Loops": 11006 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.69, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 177065, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2007) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 18869 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 24797 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 22519 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 26176 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 21146 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 20854 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 22696 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.78, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.140, + "Actual Total Time": 0.153, + "Actual Rows": 1, + "Actual Loops": 47009, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice)'::text)", + "Rows Removed by Filter": 31, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.153, + "Actual Total Time": 0.171, + "Actual Rows": 1, + "Actual Loops": 5183 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.140, + "Actual Total Time": 0.156, + "Actual Rows": 1, + "Actual Loops": 6460 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.111, + "Actual Total Time": 0.123, + "Actual Rows": 0, + "Actual Loops": 6641 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.144, + "Actual Total Time": 0.160, + "Actual Rows": 1, + "Actual Loops": 5163 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.142, + "Actual Total Time": 0.154, + "Actual Rows": 1, + "Actual Loops": 6263 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.148, + "Actual Total Time": 0.159, + "Actual Rows": 0, + "Actual Loops": 5955 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.137, + "Actual Total Time": 0.149, + "Actual Rows": 1, + "Actual Loops": 5949 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.56, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 7565, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Angel%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 768 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1291 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 546 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1240 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1139 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 480 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1360 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 30, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.114, + "Actual Total Time": 0.114, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.117, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 30, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.038, + "Actual Rows": 5, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.039, + "Actual Rows": 2, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 2, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 316739818532851506, + "Planning Time": 67.654, + "Triggers": [ + ], + "Execution Time": 1799.704, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 316739818532851506, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS voiced_character_name,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS american_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76108.33, + "Total Cost": 76108.34, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 581.312, + "Actual Total Time": 589.669, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76108.24, + "Total Cost": 76108.25, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 580.938, + "Actual Total Time": 589.638, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76107.24, + "Total Cost": 76107.25, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 570.198, + "Actual Total Time": 570.206, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 570.508, + "Actual Total Time": 570.516, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 561.734, + "Actual Total Time": 561.741, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 572.053, + "Actual Total Time": 572.060, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 571.996, + "Actual Total Time": 572.005, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 562.135, + "Actual Total Time": 562.142, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 571.196, + "Actual Total Time": 571.203, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 571.989, + "Actual Total Time": 571.996, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.68, + "Total Cost": 76097.06, + "Plan Rows": 1018, + "Plan Width": 64, + "Actual Startup Time": 134.973, + "Actual Total Time": 568.768, + "Actual Rows": 1018, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 126.561, + "Actual Total Time": 569.413, + "Actual Rows": 644, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 151.407, + "Actual Total Time": 560.603, + "Actual Rows": 612, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 139.324, + "Actual Total Time": 570.699, + "Actual Rows": 844, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 144.919, + "Actual Total Time": 571.337, + "Actual Rows": 397, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 119.736, + "Actual Total Time": 560.327, + "Actual Rows": 1433, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 127.349, + "Actual Total Time": 569.879, + "Actual Rows": 828, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 134.566, + "Actual Total Time": 570.930, + "Actual Rows": 711, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 75084.40, + "Plan Rows": 2293, + "Plan Width": 68, + "Actual Startup Time": 127.676, + "Actual Total Time": 534.535, + "Actual Rows": 2293, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "mc.company_id", "n.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 126.480, + "Actual Total Time": 529.258, + "Actual Rows": 2437, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 119.187, + "Actual Total Time": 531.408, + "Actual Rows": 1785, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 139.239, + "Actual Total Time": 533.565, + "Actual Rows": 2359, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 134.631, + "Actual Total Time": 550.931, + "Actual Rows": 1141, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 115.168, + "Actual Total Time": 523.924, + "Actual Rows": 3146, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 127.214, + "Actual Total Time": 535.828, + "Actual Rows": 2046, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 123.609, + "Actual Total Time": 536.425, + "Actual Rows": 1880, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 74550.64, + "Plan Rows": 966, + "Plan Width": 72, + "Actual Startup Time": 127.588, + "Actual Total Time": 518.384, + "Actual Rows": 966, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "chn.name", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 126.394, + "Actual Total Time": 508.864, + "Actual Rows": 1416, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 119.054, + "Actual Total Time": 516.469, + "Actual Rows": 938, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 139.154, + "Actual Total Time": 519.959, + "Actual Rows": 657, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 134.543, + "Actual Total Time": 542.343, + "Actual Rows": 287, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 115.080, + "Actual Total Time": 504.359, + "Actual Rows": 1555, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 127.129, + "Actual Total Time": 516.039, + "Actual Rows": 989, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 123.533, + "Actual Total Time": 523.687, + "Actual Rows": 533, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 74065.20, + "Plan Rows": 966, + "Plan Width": 51, + "Actual Startup Time": 127.499, + "Actual Total Time": 504.804, + "Actual Rows": 966, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "chn.name", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 126.284, + "Actual Total Time": 488.944, + "Actual Rows": 1416, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 118.953, + "Actual Total Time": 502.702, + "Actual Rows": 938, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 139.069, + "Actual Total Time": 508.714, + "Actual Rows": 657, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 134.445, + "Actual Total Time": 535.000, + "Actual Rows": 287, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 114.986, + "Actual Total Time": 486.898, + "Actual Rows": 1555, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 127.039, + "Actual Total Time": 501.798, + "Actual Rows": 989, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 123.461, + "Actual Total Time": 515.051, + "Actual Rows": 533, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.97, + "Total Cost": 73546.85, + "Plan Rows": 1026, + "Plan Width": 39, + "Actual Startup Time": 124.933, + "Actual Total Time": 480.993, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.person_role_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 125.606, + "Actual Total Time": 457.204, + "Actual Rows": 1457, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 110.615, + "Actual Total Time": 474.832, + "Actual Rows": 994, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 138.948, + "Actual Total Time": 492.039, + "Actual Rows": 720, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 134.377, + "Actual Total Time": 523.490, + "Actual Rows": 311, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 114.876, + "Actual Total Time": 460.570, + "Actual Rows": 1659, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 121.512, + "Actual Total Time": 473.048, + "Actual Rows": 1081, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 123.380, + "Actual Total Time": 495.895, + "Actual Rows": 568, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 73542.10, + "Plan Rows": 1026, + "Plan Width": 43, + "Actual Startup Time": 124.543, + "Actual Total Time": 479.199, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.role_id", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = ci.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 125.292, + "Actual Total Time": 455.027, + "Actual Rows": 1457, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 110.279, + "Actual Total Time": 473.130, + "Actual Rows": 994, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 138.616, + "Actual Total Time": 490.521, + "Actual Rows": 720, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 134.110, + "Actual Total Time": 522.622, + "Actual Rows": 311, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 113.978, + "Actual Total Time": 457.689, + "Actual Rows": 1659, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 121.218, + "Actual Total Time": 471.205, + "Actual Rows": 1081, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 123.088, + "Actual Total Time": 494.717, + "Actual Rows": 568, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 68369.91, + "Plan Rows": 1316, + "Plan Width": 39, + "Actual Startup Time": 118.554, + "Actual Total Time": 341.478, + "Actual Rows": 1316, + "Actual Loops": 8, + "Output": ["an.name", "an.person_id", "n.name", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 118.230, + "Actual Total Time": 316.386, + "Actual Rows": 1509, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 109.950, + "Actual Total Time": 335.546, + "Actual Rows": 1119, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 120.056, + "Actual Total Time": 343.200, + "Actual Rows": 1504, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 120.120, + "Actual Total Time": 365.693, + "Actual Rows": 1384, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 109.941, + "Actual Total Time": 334.015, + "Actual Rows": 1213, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 119.637, + "Actual Total Time": 337.922, + "Actual Rows": 1430, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 122.205, + "Actual Total Time": 349.470, + "Actual Rows": 1246, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 6251, + "Plan Width": 19, + "Actual Startup Time": 118.323, + "Actual Total Time": 275.776, + "Actual Rows": 6251, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 514685, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.957, + "Actual Total Time": 246.825, + "Actual Rows": 7099, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 109.715, + "Actual Total Time": 277.474, + "Actual Rows": 5584, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 119.736, + "Actual Total Time": 274.078, + "Actual Rows": 6422, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 119.940, + "Actual Total Time": 294.930, + "Actual Rows": 6715, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 109.616, + "Actual Total Time": 267.803, + "Actual Rows": 6090, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 119.395, + "Actual Total Time": 269.062, + "Actual Rows": 6914, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 122.021, + "Actual Total Time": 287.006, + "Actual Rows": 5684, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.77, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 50011, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 7099 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 5584 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 6422 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 6715 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 6090 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6914 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 5684 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.92, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.103, + "Actual Rows": 1, + "Actual Loops": 10525, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.090, + "Actual Rows": 1, + "Actual Loops": 1509 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.111, + "Actual Total Time": 0.121, + "Actual Rows": 1, + "Actual Loops": 1119 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.088, + "Actual Total Time": 0.097, + "Actual Rows": 0, + "Actual Loops": 1504 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.107, + "Actual Total Time": 0.112, + "Actual Rows": 0, + "Actual Loops": 1384 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.100, + "Actual Rows": 1, + "Actual Loops": 1213 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.092, + "Actual Rows": 1, + "Actual Loops": 1430 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.104, + "Actual Total Time": 0.115, + "Actual Rows": 0, + "Actual Loops": 1246 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 8204, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 1457 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 994 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 720 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 311 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1659 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1081 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 568 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 7726, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1416 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 938 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 657 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 287 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1555 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 989 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 533 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 7726, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 1416 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 938 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.018, + "Actual Rows": 4, + "Actual Loops": 657 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.027, + "Actual Rows": 4, + "Actual Loops": 287 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 1555 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 989 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.022, + "Actual Rows": 4, + "Actual Loops": 533 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 18345, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2437 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1785 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2359 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1141 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 3146 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2046 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1880 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -180252288200201541, + "Planning Time": 67.441, + "Triggers": [ + ], + "Execution Time": 590.041, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -180252288200201541, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS voiced_char_name,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS american_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND n.gender ='f'
  AND rt.role ='actress'
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 210251.87, + "Total Cost": 210251.88, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 8926.894, + "Actual Total Time": 8964.234, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 210251.78, + "Total Cost": 210251.79, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 8668.287, + "Actual Total Time": 8964.191, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 210250.78, + "Total Cost": 210250.79, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 8554.942, + "Actual Total Time": 8554.948, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8329.493, + "Actual Total Time": 8329.499, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8753.776, + "Actual Total Time": 8753.780, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8599.480, + "Actual Total Time": 8599.484, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8434.731, + "Actual Total Time": 8434.736, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8906.934, + "Actual Total Time": 8906.939, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8462.716, + "Actual Total Time": 8462.721, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8284.951, + "Actual Total Time": 8284.957, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 162204.95, + "Total Cost": 209646.93, + "Plan Rows": 60385, + "Plan Width": 64, + "Actual Startup Time": 7318.151, + "Actual Total Time": 8496.937, + "Actual Rows": 60385, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "n.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7347.469, + "Actual Total Time": 8294.469, + "Actual Rows": 32872, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7297.495, + "Actual Total Time": 8709.686, + "Actual Rows": 46146, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7332.828, + "Actual Total Time": 8558.477, + "Actual Rows": 41241, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7314.545, + "Actual Total Time": 8394.512, + "Actual Rows": 38409, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7315.312, + "Actual Total Time": 8803.005, + "Actual Rows": 113518, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7303.448, + "Actual Total Time": 8378.534, + "Actual Rows": 90455, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7311.588, + "Actual Total Time": 8253.696, + "Actual Rows": 31327, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 162204.52, + "Total Cost": 198663.93, + "Plan Rows": 21696, + "Plan Width": 56, + "Actual Startup Time": 7317.951, + "Actual Total Time": 8208.663, + "Actual Rows": 21696, + "Actual Loops": 8, + "Output": ["chn.name", "ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Join Filter": "(ci.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7347.203, + "Actual Total Time": 8067.369, + "Actual Rows": 15621, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7297.458, + "Actual Total Time": 8380.778, + "Actual Rows": 29115, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7332.802, + "Actual Total Time": 8284.039, + "Actual Rows": 23059, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7314.460, + "Actual Total Time": 8150.620, + "Actual Rows": 18480, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7315.272, + "Actual Total Time": 8393.635, + "Actual Rows": 30447, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7302.756, + "Actual Total Time": 8091.249, + "Actual Rows": 18015, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7311.419, + "Actual Total Time": 8048.042, + "Actual Rows": 15749, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 162204.09, + "Total Cost": 188290.74, + "Plan Rows": 21696, + "Plan Width": 47, + "Actual Startup Time": 7317.911, + "Actual Total Time": 7987.745, + "Actual Rows": 21696, + "Actual Loops": 8, + "Output": ["chn.name", "ci.movie_id", "ci.person_id", "mc.movie_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7347.176, + "Actual Total Time": 7893.228, + "Actual Rows": 15621, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7297.399, + "Actual Total Time": 8101.018, + "Actual Rows": 29115, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7332.775, + "Actual Total Time": 8040.948, + "Actual Rows": 23059, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7314.412, + "Actual Total Time": 7950.981, + "Actual Rows": 18480, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7315.230, + "Actual Total Time": 8108.841, + "Actual Rows": 30447, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7302.718, + "Actual Total Time": 7906.621, + "Actual Rows": 18015, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7311.368, + "Actual Total Time": 7880.882, + "Actual Rows": 15749, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 162203.66, + "Total Cost": 176657.56, + "Plan Rows": 21707, + "Plan Width": 28, + "Actual Startup Time": 7317.856, + "Actual Total Time": 7737.698, + "Actual Rows": 21707, + "Actual Loops": 8, + "Output": ["chn.name", "ci.movie_id", "ci.person_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7347.140, + "Actual Total Time": 7697.739, + "Actual Rows": 15625, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7297.334, + "Actual Total Time": 7776.750, + "Actual Rows": 29132, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7332.744, + "Actual Total Time": 7776.454, + "Actual Rows": 23068, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7314.365, + "Actual Total Time": 7721.485, + "Actual Rows": 18506, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7315.161, + "Actual Total Time": 7795.846, + "Actual Rows": 30464, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7302.669, + "Actual Total Time": 7685.129, + "Actual Rows": 18018, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7311.278, + "Actual Total Time": 7687.267, + "Actual Rows": 15754, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 162203.23, + "Total Cost": 164687.12, + "Plan Rows": 23694, + "Plan Width": 16, + "Actual Startup Time": 7317.786, + "Actual Total Time": 7469.738, + "Actual Rows": 23694, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id", "mc.movie_id"], + "Inner Unique": false, + "Merge Cond": "(mc.movie_id = ci.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7347.013, + "Actual Total Time": 7493.661, + "Actual Rows": 17394, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7297.275, + "Actual Total Time": 7447.268, + "Actual Rows": 31051, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7332.689, + "Actual Total Time": 7496.350, + "Actual Rows": 26281, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7314.259, + "Actual Total Time": 7470.568, + "Actual Rows": 20235, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7315.110, + "Actual Total Time": 7456.882, + "Actual Rows": 32760, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7302.598, + "Actual Total Time": 7463.941, + "Actual Rows": 19444, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7311.212, + "Actual Total Time": 7454.208, + "Actual Rows": 17367, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Sort", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 34497.87, + "Total Cost": 34858.44, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 565.928, + "Actual Total Time": 579.551, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Sort Key": ["mc.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 548.676, + "Actual Total Time": 560.816, + "Actual Rows": 119903, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 3073, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 551.869, + "Actual Total Time": 563.874, + "Actual Rows": 138020, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 575.899, + "Actual Total Time": 592.088, + "Actual Rows": 165874, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 575.830, + "Actual Total Time": 591.405, + "Actual Rows": 158704, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 564.499, + "Actual Total Time": 575.259, + "Actual Rows": 131477, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 567.726, + "Actual Total Time": 583.859, + "Actual Rows": 165824, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 6, + "Actual Startup Time": 563.351, + "Actual Total Time": 575.857, + "Actual Rows": 128855, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 3073, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 22139.26, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 0.113, + "Actual Total Time": 486.860, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.084, + "Actual Total Time": 483.465, + "Actual Rows": 119903, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.166, + "Actual Total Time": 474.855, + "Actual Rows": 138020, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.108, + "Actual Total Time": 486.938, + "Actual Rows": 165874, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.134, + "Actual Total Time": 488.403, + "Actual Rows": 158704, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.123, + "Actual Total Time": 492.920, + "Actual Rows": 131477, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.093, + "Actual Total Time": 478.575, + "Actual Rows": 165824, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.113, + "Actual Total Time": 493.342, + "Actual Rows": 128855, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 20.123, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 18.916, + "Actual Rows": 10769, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 20.778, + "Actual Rows": 11518, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 17.112, + "Actual Rows": 9888, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 23.287, + "Actual Rows": 10457, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 21.802, + "Actual Rows": 12221, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 15.318, + "Actual Rows": 8814, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 26.211, + "Actual Rows": 10880, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.038, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.037, + "Actual Rows": 11, + "Actual Loops": 10769 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.034, + "Actual Rows": 12, + "Actual Loops": 11518 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.041, + "Actual Rows": 17, + "Actual Loops": 9888 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.038, + "Actual Rows": 15, + "Actual Loops": 10457 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.034, + "Actual Rows": 11, + "Actual Loops": 12221 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.045, + "Actual Rows": 19, + "Actual Loops": 8814 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.038, + "Actual Rows": 12, + "Actual Loops": 10880 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 127705.36, + "Total Cost": 128395.77, + "Plan Rows": 276166, + "Plan Width": 12, + "Actual Startup Time": 6751.585, + "Actual Total Time": 6800.070, + "Actual Rows": 280728, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Sort Key": ["ci.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6798.324, + "Actual Total Time": 6846.279, + "Actual Rows": 279861, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 6744.939, + "Actual Total Time": 6793.379, + "Actual Rows": 284612, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 6756.300, + "Actual Total Time": 6805.937, + "Actual Rows": 282720, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 6737.934, + "Actual Total Time": 6785.857, + "Actual Rows": 279176, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 6750.182, + "Actual Total Time": 6796.243, + "Actual Rows": 281538, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 6734.859, + "Actual Total Time": 6788.078, + "Actual Rows": 278138, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 6, + "Actual Startup Time": 6747.838, + "Actual Total Time": 6794.268, + "Actual Rows": 279712, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 102746.61, + "Plan Rows": 276166, + "Plan Width": 12, + "Actual Startup Time": 1.211, + "Actual Total Time": 6526.245, + "Actual Rows": 276166, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.887, + "Actual Total Time": 6539.213, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.582, + "Actual Total Time": 6527.283, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.603, + "Actual Total Time": 6521.848, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.626, + "Actual Total Time": 6519.103, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.557, + "Actual Total Time": 6533.086, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.608, + "Actual Total Time": 6517.562, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.279, + "Actual Total Time": 6531.203, + "Actual Rows": 276166, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["rt.id", "rt.role"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.084, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 99983.80, + "Plan Rows": 276166, + "Plan Width": 16, + "Actual Startup Time": 1.163, + "Actual Total Time": 6451.023, + "Actual Rows": 276166, + "Actual Loops": 8, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.role_id = rt.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 7175807, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.808, + "Actual Total Time": 6463.996, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.534, + "Actual Total Time": 6453.329, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.569, + "Actual Total Time": 6447.995, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.580, + "Actual Total Time": 6443.292, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.520, + "Actual Total Time": 6458.081, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.574, + "Actual Total Time": 6442.197, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.194, + "Actual Total Time": 6455.849, + "Actual Rows": 276166, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 189554, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 17394 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 31051 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 26281 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 20235 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 32760 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 19444 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 17367 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 173657, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'f'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 15625 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 29132 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 23068 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 18506 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 30464 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 18018 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 15754 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 173567, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 15621 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 29115 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 23059 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 18480 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 30447 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 18015 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 15749 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 20, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 173567, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 15621 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 2, + "Actual Loops": 29115 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 23059 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 18480 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.012, + "Actual Rows": 4, + "Actual Loops": 30447 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.013, + "Actual Rows": 5, + "Actual Loops": 18015 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 15749 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7221379846823333251, + "Planning Time": 57.192, + "Triggers": [ + ], + "Execution Time": 8992.742, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7221379846823333251, + "JOINS": 7 + } + ] (1 row)
