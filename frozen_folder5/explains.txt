SELECT MIN(chn.name) AS uncredited_voiced_character,
       MIN(t.title) AS russian_movie
FROM char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     company_type AS ct,
     movie_companies AS mc,
     role_type AS rt,
     title AS t
WHERE ci.note LIKE '%(voice)%'
  AND ci.note LIKE '%(uncredited)%'
  AND cn.country_code = '[ru]'
  AND rt.role = 'actor'
  AND t.production_year > 2005
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mc.movie_id
  AND chn.id = ci.person_role_id
  AND rt.id = ci.role_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6812.42, + "Total Cost": 6812.43, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 310.660, + "Actual Total Time": 317.680, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6812.37, + "Total Cost": 6812.38, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 293.900, + "Actual Total Time": 317.641, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6811.37, + "Total Cost": 6811.38, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 286.717, + "Actual Total Time": 286.725, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 285.645, + "Actual Total Time": 285.650, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 284.079, + "Actual Total Time": 284.084, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 286.100, + "Actual Total Time": 286.107, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 286.084, + "Actual Total Time": 286.090, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 286.058, + "Actual Total Time": 286.064, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 286.938, + "Actual Total Time": 286.944, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 285.693, + "Actual Total Time": 285.700, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.97, + "Total Cost": 6811.30, + "Plan Rows": 13, + "Plan Width": 33, + "Actual Startup Time": 42.468, + "Actual Total Time": 286.650, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["chn.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.810, + "Actual Total Time": 285.586, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.985, + "Actual Total Time": 283.970, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 112.025, + "Actual Total Time": 286.048, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.485, + "Actual Total Time": 286.035, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.496, + "Actual Total Time": 285.958, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 45.536, + "Actual Total Time": 286.872, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.544, + "Actual Total Time": 285.644, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 6810.59, + "Plan Rows": 13, + "Plan Width": 37, + "Actual Startup Time": 42.397, + "Actual Total Time": 286.497, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["chn.name", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.741, + "Actual Total Time": 285.433, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.907, + "Actual Total Time": 283.765, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 111.968, + "Actual Total Time": 285.929, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.407, + "Actual Total Time": 285.902, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.407, + "Actual Total Time": 285.757, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 45.463, + "Actual Total Time": 286.720, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.468, + "Actual Total Time": 285.517, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 6786.10, + "Plan Rows": 14, + "Plan Width": 25, + "Actual Startup Time": 42.304, + "Actual Total Time": 285.741, + "Actual Rows": 14, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.654, + "Actual Total Time": 284.716, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.804, + "Actual Total Time": 282.566, + "Actual Rows": 26, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 111.838, + "Actual Total Time": 285.354, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.317, + "Actual Total Time": 285.384, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.310, + "Actual Total Time": 284.460, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 45.380, + "Actual Total Time": 286.003, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.390, + "Actual Total Time": 284.902, + "Actual Rows": 9, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 6784.93, + "Plan Rows": 19, + "Plan Width": 29, + "Actual Startup Time": 31.501, + "Actual Total Time": 285.520, + "Actual Rows": 19, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.577, + "Actual Total Time": 284.556, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.685, + "Actual Total Time": 282.320, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.377, + "Actual Total Time": 285.180, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.216, + "Actual Total Time": 285.222, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.207, + "Actual Total Time": 284.261, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 45.299, + "Actual Total Time": 285.810, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.314, + "Actual Total Time": 284.753, + "Actual Rows": 17, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 6009.85, + "Plan Rows": 567, + "Plan Width": 29, + "Actual Startup Time": 1.027, + "Actual Total Time": 55.028, + "Actual Rows": 567, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.442, + "Actual Total Time": 56.095, + "Actual Rows": 353, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.637, + "Actual Total Time": 40.443, + "Actual Rows": 476, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.230, + "Actual Total Time": 53.145, + "Actual Rows": 639, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.029, + "Actual Total Time": 65.701, + "Actual Rows": 536, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.858, + "Actual Total Time": 61.949, + "Actual Rows": 584, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.097, + "Actual Total Time": 53.352, + "Actual Rows": 624, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.417, + "Actual Total Time": 40.299, + "Actual Rows": 550, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 5495.40, + "Plan Rows": 1099, + "Plan Width": 8, + "Actual Startup Time": 0.288, + "Actual Total Time": 26.296, + "Actual Rows": 1099, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.122, + "Actual Total Time": 19.163, + "Actual Rows": 826, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.457, + "Actual Total Time": 16.954, + "Actual Rows": 934, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.148, + "Actual Total Time": 28.556, + "Actual Rows": 1017, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.896, + "Actual Total Time": 36.658, + "Actual Rows": 1206, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.136, + "Actual Total Time": 32.254, + "Actual Rows": 1328, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.144, + "Actual Total Time": 26.861, + "Actual Rows": 1121, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.275, + "Actual Total Time": 21.049, + "Actual Rows": 903, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 170, + "Plan Width": 4, + "Actual Startup Time": 0.197, + "Actual Total Time": 13.969, + "Actual Rows": 170, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[ru]'::text)", + "Rows Removed by Filter": 29204, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.048, + "Actual Total Time": 10.699, + "Actual Rows": 144, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.348, + "Actual Total Time": 7.252, + "Actual Rows": 86, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.053, + "Actual Total Time": 16.580, + "Actual Rows": 216, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.809, + "Actual Total Time": 18.432, + "Actual Rows": 222, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 18.198, + "Actual Rows": 221, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 15.117, + "Actual Rows": 178, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.183, + "Actual Total Time": 12.232, + "Actual Rows": 150, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 12.49, + "Plan Rows": 6, + "Plan Width": 12, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.064, + "Actual Rows": 6, + "Actual Loops": 1361, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.053, + "Actual Rows": 6, + "Actual Loops": 144 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.103, + "Actual Rows": 11, + "Actual Loops": 86 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.051, + "Actual Rows": 5, + "Actual Loops": 216 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.058, + "Actual Rows": 5, + "Actual Loops": 222 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.059, + "Actual Rows": 6, + "Actual Loops": 221 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.060, + "Actual Rows": 6, + "Actual Loops": 178 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.053, + "Actual Rows": 6, + "Actual Loops": 150 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 8790, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 826 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 934 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1017 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1206 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1328 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1121 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 903 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.35, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.384, + "Actual Total Time": 0.405, + "Actual Rows": 0, + "Actual Loops": 4539, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ci.note ~~ '%(voice)%'::text) AND (ci.note ~~ '%(uncredited)%'::text))", + "Rows Removed by Filter": 50, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.609, + "Actual Total Time": 0.646, + "Actual Rows": 0, + "Actual Loops": 353 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.483, + "Actual Total Time": 0.506, + "Actual Rows": 0, + "Actual Loops": 476 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.343, + "Actual Total Time": 0.362, + "Actual Rows": 0, + "Actual Loops": 639 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.400, + "Actual Total Time": 0.408, + "Actual Rows": 0, + "Actual Loops": 536 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.358, + "Actual Total Time": 0.379, + "Actual Rows": 0, + "Actual Loops": 584 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.338, + "Actual Total Time": 0.371, + "Actual Rows": 0, + "Actual Loops": 624 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.420, + "Actual Total Time": 0.443, + "Actual Rows": 0, + "Actual Loops": 550 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actor'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 1.75, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 112, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 13 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 26 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.072, + "Actual Rows": 1, + "Actual Loops": 17 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 9 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 104, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 11, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 12, + "Cache Hits": 10, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 24, + "Cache Hits": 22, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 10, + "Cache Hits": 8, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 10, + "Cache Hits": 9, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 17, + "Cache Hits": 15, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 10, + "Cache Hits": 9, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 8, + "Cache Hits": 7, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 13, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.069, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6651533820180303979, + "Planning Time": 30.001, + "Triggers": [ + ], + "Execution Time": 318.009, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6651533820180303979, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(chn.name) AS character,
       MIN(t.title) AS russian_mov_with_actor_producer
FROM char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     company_type AS ct,
     movie_companies AS mc,
     role_type AS rt,
     title AS t
WHERE ci.note LIKE '%(producer)%'
  AND cn.country_code = '[ru]'
  AND rt.role = 'actor'
  AND t.production_year > 2010
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mc.movie_id
  AND chn.id = ci.person_role_id
  AND rt.id = ci.role_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6216.65, + "Total Cost": 6216.66, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 100.026, + "Actual Total Time": 132.106, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6216.60, + "Total Cost": 6216.61, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 99.766, + "Actual Total Time": 132.093, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6215.60, + "Total Cost": 6215.61, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 90.343, + "Actual Total Time": 90.348, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.390, + "Actual Total Time": 84.394, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 89.422, + "Actual Total Time": 89.428, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 90.814, + "Actual Total Time": 90.819, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.684, + "Actual Total Time": 90.688, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.933, + "Actual Total Time": 90.937, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 86.062, + "Actual Total Time": 86.067, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.561, + "Actual Total Time": 91.566, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.96, + "Total Cost": 6215.59, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 90.338, + "Actual Total Time": 90.343, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["chn.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.386, + "Actual Total Time": 84.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 89.416, + "Actual Total Time": 89.422, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 90.808, + "Actual Total Time": 90.812, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.681, + "Actual Total Time": 90.685, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.929, + "Actual Total Time": 90.932, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 86.058, + "Actual Total Time": 86.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.556, + "Actual Total Time": 91.561, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 6215.44, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 90.337, + "Actual Total Time": 90.341, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["chn.name", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.385, + "Actual Total Time": 84.388, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 89.416, + "Actual Total Time": 89.421, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 90.807, + "Actual Total Time": 90.811, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.680, + "Actual Total Time": 90.684, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.928, + "Actual Total Time": 90.931, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 86.057, + "Actual Total Time": 86.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.556, + "Actual Total Time": 91.560, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 6214.95, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 90.337, + "Actual Total Time": 90.340, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 84.384, + "Actual Total Time": 84.387, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 89.415, + "Actual Total Time": 89.419, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 90.807, + "Actual Total Time": 90.810, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.679, + "Actual Total Time": 90.682, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.927, + "Actual Total Time": 90.930, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 86.056, + "Actual Total Time": 86.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.555, + "Actual Total Time": 91.558, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 6212.69, + "Plan Rows": 327, + "Plan Width": 29, + "Actual Startup Time": 3.319, + "Actual Total Time": 89.788, + "Actual Rows": 327, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.818, + "Actual Total Time": 83.847, + "Actual Rows": 300, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.806, + "Actual Total Time": 88.798, + "Actual Rows": 487, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.696, + "Actual Total Time": 90.179, + "Actual Rows": 573, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.474, + "Actual Total Time": 90.159, + "Actual Rows": 334, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.092, + "Actual Total Time": 90.433, + "Actual Rows": 205, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.741, + "Actual Total Time": 85.541, + "Actual Rows": 227, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.940, + "Actual Total Time": 91.088, + "Actual Rows": 205, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 6009.85, + "Plan Rows": 157, + "Plan Width": 29, + "Actual Startup Time": 3.001, + "Actual Total Time": 46.557, + "Actual Rows": 157, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.624, + "Actual Total Time": 52.065, + "Actual Rows": 173, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.559, + "Actual Total Time": 51.175, + "Actual Rows": 218, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.999, + "Actual Total Time": 49.153, + "Actual Rows": 274, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.317, + "Actual Total Time": 26.074, + "Actual Rows": 141, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.733, + "Actual Total Time": 44.466, + "Actual Rows": 113, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.343, + "Actual Total Time": 36.879, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.776, + "Actual Total Time": 56.661, + "Actual Rows": 105, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 5495.40, + "Plan Rows": 1099, + "Plan Width": 8, + "Actual Startup Time": 0.586, + "Actual Total Time": 23.537, + "Actual Rows": 1099, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.164, + "Actual Total Time": 23.449, + "Actual Rows": 1154, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.168, + "Actual Total Time": 25.560, + "Actual Rows": 1349, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.185, + "Actual Total Time": 24.049, + "Actual Rows": 1332, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.199, + "Actual Total Time": 12.588, + "Actual Rows": 638, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.307, + "Actual Total Time": 26.916, + "Actual Rows": 902, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.173, + "Actual Total Time": 21.381, + "Actual Rows": 769, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.381, + "Actual Total Time": 28.378, + "Actual Rows": 1269, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 170, + "Plan Width": 4, + "Actual Startup Time": 0.465, + "Actual Total Time": 13.857, + "Actual Rows": 170, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[ru]'::text)", + "Rows Removed by Filter": 29204, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.083, + "Actual Total Time": 13.386, + "Actual Rows": 191, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.074, + "Actual Total Time": 14.695, + "Actual Rows": 177, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.092, + "Actual Total Time": 13.522, + "Actual Rows": 167, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.110, + "Actual Total Time": 7.659, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.224, + "Actual Total Time": 17.516, + "Actual Rows": 150, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.078, + "Actual Total Time": 13.168, + "Actual Rows": 184, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.028, + "Actual Total Time": 17.571, + "Actual Rows": 206, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 12.49, + "Plan Rows": 6, + "Plan Width": 12, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.053, + "Actual Rows": 6, + "Actual Loops": 1361, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.049, + "Actual Rows": 6, + "Actual Loops": 191 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.057, + "Actual Rows": 8, + "Actual Loops": 177 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.058, + "Actual Rows": 8, + "Actual Loops": 167 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.042, + "Actual Rows": 6, + "Actual Loops": 107 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.059, + "Actual Rows": 6, + "Actual Loops": 150 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.042, + "Actual Rows": 4, + "Actual Loops": 184 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.049, + "Actual Rows": 6, + "Actual Loops": 206 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 8790, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1154 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1349 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1332 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 638 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 902 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 769 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1269 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.152, + "Actual Total Time": 0.272, + "Actual Rows": 2, + "Actual Loops": 1259, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note ~~ '%(producer)%'::text)", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.104, + "Actual Total Time": 0.181, + "Actual Rows": 2, + "Actual Loops": 173 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.170, + "Actual Rows": 2, + "Actual Loops": 218 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.147, + "Actual Rows": 2, + "Actual Loops": 274 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.211, + "Actual Total Time": 0.452, + "Actual Rows": 2, + "Actual Loops": 141 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.259, + "Actual Total Time": 0.404, + "Actual Rows": 2, + "Actual Loops": 113 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.206, + "Actual Total Time": 0.465, + "Actual Rows": 2, + "Actual Loops": 104 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.230, + "Actual Total Time": 0.325, + "Actual Rows": 2, + "Actual Loops": 105 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actor'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 988535410010893112, + "Planning Time": 28.283, + "Triggers": [ + ], + "Execution Time": 132.452, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 988535410010893112, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(chn.name) AS character,
       MIN(t.title) AS movie_with_american_producer
FROM char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     company_type AS ct,
     movie_companies AS mc,
     role_type AS rt,
     title AS t
WHERE ci.note LIKE '%(producer)%'
  AND cn.country_code = '[us]'
  AND t.production_year > 1990
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mc.movie_id
  AND chn.id = ci.person_role_id
  AND rt.id = ci.role_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;
QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 201041.52, + "Total Cost": 201041.53, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 11380.109, + "Actual Total Time": 11426.623, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 42719.93, + "Total Cost": 201041.47, + "Plan Rows": 10, + "Plan Width": 33, + "Actual Startup Time": 3266.034, + "Actual Total Time": 11426.558, + "Actual Rows": 10, + "Actual Loops": 1, + "Output": ["chn.name", "t.title"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42718.93, + "Total Cost": 201040.47, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 6975.512, + "Actual Total Time": 11346.079, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5099.651, + "Actual Total Time": 11342.071, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2201.961, + "Actual Total Time": 11342.322, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7425.905, + "Actual Total Time": 11342.378, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11341.684, + "Actual Total Time": 11341.690, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11344.305, + "Actual Total Time": 11344.312, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11363.116, + "Actual Total Time": 11363.124, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3762.227, + "Actual Total Time": 11340.340, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42718.79, + "Total Cost": 201040.31, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 6975.477, + "Actual Total Time": 11346.037, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "ci.role_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5099.597, + "Actual Total Time": 11342.015, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2201.894, + "Actual Total Time": 11342.253, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7425.847, + "Actual Total Time": 11342.303, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11341.683, + "Actual Total Time": 11341.688, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11344.303, + "Actual Total Time": 11344.309, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11363.115, + "Actual Total Time": 11363.123, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3762.165, + "Actual Total Time": 11340.276, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42718.66, + "Total Cost": 201040.16, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 6975.438, + "Actual Total Time": 11345.990, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["chn.name", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5099.532, + "Actual Total Time": 11341.949, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2201.813, + "Actual Total Time": 11342.171, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7425.773, + "Actual Total Time": 11342.207, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11341.682, + "Actual Total Time": 11341.687, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11344.302, + "Actual Total Time": 11344.307, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11363.114, + "Actual Total Time": 11363.121, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3762.101, + "Actual Total Time": 11340.211, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42718.22, + "Total Cost": 160596.02, + "Plan Rows": 97763, + "Plan Width": 29, + "Actual Startup Time": 403.673, + "Actual Total Time": 11183.454, + "Actual Rows": 97763, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "ci.role_id", "mc.company_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 402.521, + "Actual Total Time": 11182.920, + "Actual Rows": 96816, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 402.185, + "Actual Total Time": 11200.732, + "Actual Rows": 89624, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 402.840, + "Actual Total Time": 11170.124, + "Actual Rows": 97687, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 402.664, + "Actual Total Time": 11169.036, + "Actual Rows": 106671, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 402.881, + "Actual Total Time": 11178.105, + "Actual Rows": 100340, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 401.729, + "Actual Total Time": 11177.749, + "Actual Rows": 98129, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 401.467, + "Actual Total Time": 11187.734, + "Actual Rows": 96904, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42717.78, + "Total Cost": 65235.20, + "Plan Rows": 74531, + "Plan Width": 29, + "Actual Startup Time": 403.414, + "Actual Total Time": 1272.511, + "Actual Rows": 74531, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 402.041, + "Actual Total Time": 1169.931, + "Actual Rows": 74158, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 402.040, + "Actual Total Time": 1263.517, + "Actual Rows": 70317, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 402.708, + "Actual Total Time": 1358.532, + "Actual Rows": 77196, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 402.075, + "Actual Total Time": 1302.424, + "Actual Rows": 78489, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 402.746, + "Actual Total Time": 1307.774, + "Actual Rows": 74538, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 401.501, + "Actual Total Time": 1270.102, + "Actual Rows": 73033, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 401.162, + "Actual Total Time": 1224.626, + "Actual Rows": 71255, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 22139.26, + "Plan Rows": 144225, + "Plan Width": 8, + "Actual Startup Time": 0.118, + "Actual Total Time": 661.795, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.146, + "Actual Total Time": 577.340, + "Actual Rows": 119864, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.149, + "Actual Total Time": 646.633, + "Actual Rows": 124880, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.091, + "Actual Total Time": 747.199, + "Actual Rows": 143817, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.129, + "Actual Total Time": 702.959, + "Actual Rows": 148108, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.090, + "Actual Total Time": 670.346, + "Actual Rows": 199753, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.089, + "Actual Total Time": 657.038, + "Actual Rows": 130304, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.144, + "Actual Total Time": 633.854, + "Actual Rows": 130951, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 28.722, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"],+ "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 25.287, + "Actual Rows": 9615, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 28.888, + "Actual Rows": 11131, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 30.272, + "Actual Rows": 11684, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 38.242, + "Actual Rows": 11173, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 24.602, + "Actual Rows": 9711, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 27.756, + "Actual Rows": 10754, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 27.462, + "Actual Rows": 10415, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 14, + "Plan Width": 12, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.052, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.050, + "Actual Rows": 12, + "Actual Loops": 9615 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.049, + "Actual Rows": 11, + "Actual Loops": 11131 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.054, + "Actual Rows": 12, + "Actual Loops": 11684 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.052, + "Actual Rows": 13, + "Actual Loops": 11173 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.056, + "Actual Rows": 21, + "Actual Loops": 9711 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.051, + "Actual Rows": 12, + "Actual Loops": 10754 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.051, + "Actual Rows": 13, + "Actual Loops": 10415 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 39984.49, + "Total Cost": 39984.49, + "Plan Rows": 218629, + "Plan Width": 21, + "Actual Startup Time": 398.592, + "Actual Total Time": 398.593, + "Actual Rows": 218629, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 2097152, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 114496, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 401.615, + "Actual Total Time": 401.616, + "Actual Rows": 210966, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 401.615, + "Actual Total Time": 401.616, + "Actual Rows": 216690, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 401.612, + "Actual Total Time": 401.613, + "Actual Rows": 229226, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 401.751, + "Actual Total Time": 401.752, + "Actual Rows": 225029, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 401.661, + "Actual Total Time": 401.662, + "Actual Rows": 215006, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 401.133, + "Actual Total Time": 401.134, + "Actual Rows": 216342, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 400.746, + "Actual Total Time": 400.747, + "Actual Rows": 213564, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.00, + "Total Cost": 39984.49, + "Plan Rows": 218629, + "Plan Width": 21, + "Actual Startup Time": 0.060, + "Actual Total Time": 168.482, + "Actual Rows": 218629, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 97410, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.055, + "Actual Total Time": 160.818, + "Actual Rows": 210966, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.057, + "Actual Total Time": 162.034, + "Actual Rows": 216690, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 182.046, + "Actual Rows": 229226, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.056, + "Actual Total Time": 170.462, + "Actual Rows": 225029, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 169.782, + "Actual Rows": 215006, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.082, + "Actual Total Time": 164.923, + "Actual Rows": 216342, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.053, + "Actual Total Time": 164.835, + "Actual Rows": 213564, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.131, + "Actual Rows": 1, + "Actual Loops": 596250, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note ~~ '%(producer)%'::text)", + "Rows Removed by Filter": 34, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.133, + "Actual Rows": 1, + "Actual Loops": 74158 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.139, + "Actual Rows": 1, + "Actual Loops": 70317 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.125, + "Actual Rows": 1, + "Actual Loops": 77196 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.124, + "Actual Rows": 1, + "Actual Loops": 78489 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.130, + "Actual Rows": 1, + "Actual Loops": 74538 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.134, + "Actual Rows": 1, + "Actual Loops": 73033 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.138, + "Actual Rows": 1, + "Actual Loops": 71255 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.44, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 782104, + "Output": ["chn.name", "chn.id"], + "Cache Key": "ci.person_role_id", + "Cache Mode": "logical", + "Cache Hits": 95931, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 96816, + "Cache Hits": 96814, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 89624, + "Cache Hits": 89622, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 97687, + "Cache Hits": 97685, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 106671, + "Cache Hits": 106670, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 100340, + "Cache Hits": 100339, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 98129, + "Cache Hits": 98128, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 96904, + "Cache Hits": 96902, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 13, + "Output": ["chn.name", "chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.061, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["rt.id"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2494719406442254794, + "Planning Time": 25.644, + "Triggers": [ + ], + "Execution Time": 11428.651, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 2494719406442254794, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(lt.link) AS movie_link_type,
       MIN(t.title) AS non_polish_sequel_movie
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND t.production_year BETWEEN 1950 AND 2000
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1839.82, + "Total Cost": 1839.83, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 460.949, + "Actual Total Time": 462.676, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1839.77, + "Total Cost": 1839.78, + "Plan Rows": 5, + "Plan Width": 96, + "Actual Startup Time": 456.218, + "Actual Total Time": 462.638, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1838.77, + "Total Cost": 1838.78, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 451.236, + "Actual Total Time": 451.245, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 451.224, + "Actual Total Time": 451.229, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 448.501, + "Actual Total Time": 448.507, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 452.588, + "Actual Total Time": 452.598, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 449.613, + "Actual Total Time": 449.619, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 450.055, + "Actual Total Time": 450.065, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1472.01, + "Total Cost": 1838.31, + "Plan Rows": 62, + "Plan Width": 48, + "Actual Startup Time": 447.373, + "Actual Total Time": 451.163, + "Actual Rows": 52, + "Actual Loops": 6, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 444.775, + "Actual Total Time": 451.144, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 446.559, + "Actual Total Time": 448.487, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 447.568, + "Actual Total Time": 452.403, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 445.158, + "Actual Total Time": 449.456, + "Actual Rows": 182, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 450.048, + "Actual Total Time": 450.057, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.87, + "Total Cost": 1836.94, + "Plan Rows": 66, + "Plan Width": 40, + "Actual Startup Time": 446.995, + "Actual Total Time": 450.752, + "Actual Rows": 55, + "Actual Loops": 6, + "Output": ["cn.name", "ml.link_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 444.546, + "Actual Total Time": 450.862, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 446.149, + "Actual Total Time": 448.188, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 447.254, + "Actual Total Time": 451.950, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 444.693, + "Actual Total Time": 448.872, + "Actual Rows": 182, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 449.769, + "Actual Total Time": 449.777, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.45, + "Total Cost": 1770.59, + "Plan Rows": 148, + "Plan Width": 25, + "Actual Startup Time": 443.548, + "Actual Total Time": 448.930, + "Actual Rows": 124, + "Actual Loops": 6, + "Output": ["mc.company_id", "ml.link_type_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 444.265, + "Actual Total Time": 448.663, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 441.926, + "Actual Total Time": 447.283, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 442.702, + "Actual Total Time": 448.756, + "Actual Rows": 135, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 440.243, + "Actual Total Time": 445.416, + "Actual Rows": 358, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 442.635, + "Actual Total Time": 449.041, + "Actual Rows": 25, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.41, + "Total Cost": 1768.63, + "Plan Rows": 169, + "Plan Width": 29, + "Actual Startup Time": 443.512, + "Actual Total Time": 448.771, + "Actual Rows": 141, + "Actual Loops": 6, + "Output": ["mc.company_type_id", "mc.company_id", "ml.link_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 444.255, + "Actual Total Time": 448.545, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 441.910, + "Actual Total Time": 447.187, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 442.686, + "Actual Total Time": 448.459, + "Actual Rows": 135, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 440.203, + "Actual Total Time": 445.172, + "Actual Rows": 400, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 442.619, + "Actual Total Time": 448.962, + "Actual Rows": 44, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.98, + "Total Cost": 1745.89, + "Plan Rows": 40, + "Plan Width": 33, + "Actual Startup Time": 443.325, + "Actual Total Time": 447.832, + "Actual Rows": 33, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 444.184, + "Actual Total Time": 448.002, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 441.710, + "Actual Total Time": 446.393, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 442.349, + "Actual Total Time": 447.166, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 439.895, + "Actual Total Time": 443.624, + "Actual Rows": 81, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 442.452, + "Actual Total Time": 448.040, + "Actual Rows": 23, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.55, + "Total Cost": 1722.11, + "Plan Rows": 50, + "Plan Width": 12, + "Actual Startup Time": 443.013, + "Actual Total Time": 447.036, + "Actual Rows": 42, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Hash Cond": "(ml.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 444.083, + "Actual Total Time": 447.612, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 441.499, + "Actual Total Time": 445.748, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 442.211, + "Actual Total Time": 446.005, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 439.755, + "Actual Total Time": 442.503, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 442.264, + "Actual Total Time": 447.268, + "Actual Rows": 23, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.00, + "Total Cost": 222.99, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.327, + "Actual Total Time": 2.673, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.250, + "Actual Total Time": 2.775, + "Actual Rows": 6845, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.298, + "Actual Total Time": 2.475, + "Actual Rows": 4070, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.382, + "Actual Total Time": 2.603, + "Actual Rows": 3330, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.393, + "Actual Total Time": 2.084, + "Actual Rows": 3700, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.386, + "Actual Total Time": 3.339, + "Actual Rows": 3885, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1449.72, + "Total Cost": 1449.72, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 442.007, + "Actual Total Time": 442.008, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 544, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 442.736, + "Actual Total Time": 442.737, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 440.973, + "Actual Total Time": 440.975, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 441.006, + "Actual Total Time": 441.008, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 438.647, + "Actual Total Time": 438.648, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 440.971, + "Actual Total Time": 440.974, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1449.72, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 16.192, + "Actual Total Time": 88.835, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.255, + "Actual Total Time": 20.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.498, + "Actual Total Time": 18.499, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.496, + "Actual Total Time": 18.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.155, + "Actual Total Time": 16.156, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.498, + "Actual Total Time": 18.500, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 16.013, + "Actual Total Time": 16.016, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 22362, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.254, + "Actual Total Time": 20.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.497, + "Actual Total Time": 18.498, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.495, + "Actual Total Time": 18.495, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.154, + "Actual Total Time": 16.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.497, + "Actual Total Time": 18.498, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 10544, + "Plan Width": 8, + "Actual Startup Time": 1.058, + "Actual Total Time": 434.060, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 251, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2000))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 27 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 28 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 41 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 101 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 23 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 5, + "Plan Width": 12, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.025, + "Actual Rows": 4, + "Actual Loops": 199, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.017, + "Actual Rows": 6, + "Actual Loops": 27 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.025, + "Actual Rows": 3, + "Actual Loops": 28 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.053, + "Actual Rows": 6, + "Actual Loops": 21 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.017, + "Actual Rows": 5, + "Actual Loops": 81 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.037, + "Actual Rows": 2, + "Actual Loops": 23 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.074, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 742, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 165 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 50 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 135 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 358 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 25 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.13, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.071, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["lt.link", "lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.226, + "Actual Total Time": 0.233, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["lt.link", "lt.id"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -8754961486292191806, + "Planning Time": 55.265, + "Triggers": [ + ], + "Execution Time": 463.080, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -8754961486292191806, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(lt.link) AS movie_link_type,
       MIN(t.title) AS sequel_movie
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follows%'
  AND mc.note IS NULL
  AND t.production_year = 1998
  AND t.title LIKE '%Money%'
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1078.16, + "Total Cost": 1078.17, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 23.150, + "Actual Total Time": 24.189, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1078.12, + "Total Cost": 1078.13, + "Plan Rows": 4, + "Plan Width": 96, + "Actual Startup Time": 22.221, + "Actual Total Time": 24.177, + "Actual Rows": 5, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 4, + "Workers Launched": 4, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1077.12, + "Total Cost": 1077.13, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 13.453, + "Actual Total Time": 13.457, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.954, + "Actual Total Time": 7.958, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.502, + "Actual Total Time": 15.506, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.329, + "Actual Total Time": 13.332, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.928, + "Actual Total Time": 8.932, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1077.09, + "Plan Rows": 4, + "Plan Width": 48, + "Actual Startup Time": 13.174, + "Actual Total Time": 13.448, + "Actual Rows": 3, + "Actual Loops": 5, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.950, + "Actual Total Time": 7.954, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.125, + "Actual Total Time": 15.476, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.323, + "Actual Total Time": 13.326, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.923, + "Actual Total Time": 8.928, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.57, + "Total Cost": 1076.62, + "Plan Rows": 4, + "Plan Width": 52, + "Actual Startup Time": 13.164, + "Actual Total Time": 13.432, + "Actual Rows": 3, + "Actual Loops": 5, + "Output": ["cn.name", "mc.company_type_id", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.949, + "Actual Total Time": 7.952, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.074, + "Actual Total Time": 15.401, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.322, + "Actual Total Time": 13.325, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.923, + "Actual Total Time": 8.926, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1074.38, + "Plan Rows": 5, + "Plan Width": 37, + "Actual Startup Time": 13.153, + "Actual Total Time": 13.376, + "Actual Rows": 4, + "Actual Loops": 5, + "Output": ["mc.company_type_id", "mc.company_id", "lt.link", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.949, + "Actual Total Time": 7.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.021, + "Actual Total Time": 15.128, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.322, + "Actual Total Time": 13.324, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.922, + "Actual Total Time": 8.925, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1073.29, + "Plan Rows": 2, + "Plan Width": 41, + "Actual Startup Time": 13.142, + "Actual Total Time": 13.345, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["mk.movie_id", "ml.movie_id", "lt.link", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.948, + "Actual Total Time": 7.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.968, + "Actual Total Time": 14.975, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.322, + "Actual Total Time": 13.323, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.922, + "Actual Total Time": 8.924, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1070.19, + "Plan Rows": 7, + "Plan Width": 45, + "Actual Startup Time": 13.108, + "Actual Total Time": 13.268, + "Actual Rows": 6, + "Actual Loops": 5, + "Output": ["lt.link", "ml.movie_id", "mk.movie_id", "mk.keyword_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.948, + "Actual Total Time": 7.949, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.804, + "Actual Total Time": 14.596, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.321, + "Actual Total Time": 13.323, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.921, + "Actual Total Time": 8.923, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1066.19, + "Plan Rows": 2, + "Plan Width": 37, + "Actual Startup Time": 13.039, + "Actual Total Time": 13.181, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["lt.link", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.947, + "Actual Total Time": 7.948, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.460, + "Actual Total Time": 14.165, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.321, + "Actual Total Time": 13.322, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.921, + "Actual Total Time": 8.922, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 635.96, + "Plan Rows": 290, + "Plan Width": 16, + "Actual Startup Time": 1.111, + "Actual Total Time": 9.131, + "Actual Rows": 232, + "Actual Loops": 5, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.307, + "Actual Total Time": 5.892, + "Actual Rows": 83, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.173, + "Actual Total Time": 10.052, + "Actual Rows": 250, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.874, + "Actual Total Time": 9.822, + "Actual Rows": 373, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.999, + "Actual Total Time": 7.921, + "Actual Rows": 55, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 445.81, + "Plan Rows": 7499, + "Plan Width": 8, + "Actual Startup Time": 0.078, + "Actual Total Time": 3.727, + "Actual Rows": 5999, + "Actual Loops": 5, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.122, + "Actual Total Time": 2.428, + "Actual Rows": 2277, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.067, + "Actual Total Time": 4.099, + "Actual Rows": 5897, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.065, + "Actual Total Time": 4.032, + "Actual Rows": 7931, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.087, + "Actual Total Time": 3.258, + "Actual Rows": 4230, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.link", "lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 9646, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2277, + "Cache Hits": 2261, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 5897, + "Cache Hits": 5881, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 7931, + "Cache Hits": 7915, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4230, + "Cache Hits": 4215, + "Cache Misses": 15, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 79, + "Output": ["lt.link", "lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follows%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 15 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1158, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.title ~~ '%Money%'::text) AND (t.production_year = 1998))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 83 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 250 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 373 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 55 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.96, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.058, + "Actual Rows": 4, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.058, + "Actual Rows": 4, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 28, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 28 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 7, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 21, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 21 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 14, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 14, + "Cache Hits": 13, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7102013096890644952, + "Planning Time": 51.139, + "Triggers": [ + ], + "Execution Time": 24.538, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7102013096890644952, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_based_on_book
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '20th Century Fox%'
       OR cn.name LIKE 'Twentieth Century Fox%')
  AND ct.kind != 'production companies'
  AND ct.kind IS NOT NULL
  AND k.keyword IN ('sequel',
                    'revenge',
                    'based-on-novel')
  AND mc.note IS NOT NULL
  AND t.production_year > 1950
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3871.49, + "Total Cost": 3871.50, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 976.587, + "Actual Total Time": 976.875, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mc.note)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3871.42, + "Total Cost": 3871.43, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 976.558, + "Actual Total Time": 976.858, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mc.note))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3870.42, + "Total Cost": 3870.43, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 265.422, + "Actual Total Time": 265.429, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mc.note)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 163.776, + "Actual Total Time": 163.781, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 180.992, + "Actual Total Time": 180.998, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 152.592, + "Actual Total Time": 152.598, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 160.453, + "Actual Total Time": 160.461, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 160.523, + "Actual Total Time": 160.529, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 171.503, + "Actual Total Time": 171.508, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 157.816, + "Actual Total Time": 157.822, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1216.05, + "Total Cost": 3863.91, + "Plan Rows": 868, + "Plan Width": 60, + "Actual Startup Time": 127.540, + "Actual Total Time": 264.559, + "Actual Rows": 868, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "t.title"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 163.771, + "Actual Total Time": 163.775, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 180.987, + "Actual Total Time": 180.992, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 70.497, + "Actual Total Time": 152.553, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 160.446, + "Actual Total Time": 160.453, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 63.272, + "Actual Total Time": 160.192, + "Actual Rows": 268, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 171.498, + "Actual Total Time": 171.502, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 157.811, + "Actual Total Time": 157.816, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1215.62, + "Total Cost": 3453.39, + "Plan Rows": 868, + "Plan Width": 55, + "Actual Startup Time": 127.503, + "Actual Total Time": 257.380, + "Actual Rows": 868, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "mc.movie_id", "mk.movie_id", "ml.movie_id"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 163.770, + "Actual Total Time": 163.774, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 180.986, + "Actual Total Time": 180.991, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 70.373, + "Actual Total Time": 152.291, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 160.445, + "Actual Total Time": 160.452, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 63.159, + "Actual Total Time": 157.447, + "Actual Rows": 268, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 171.497, + "Actual Total Time": 171.501, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 157.810, + "Actual Total Time": 157.815, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1214.38, + "Total Cost": 3449.34, + "Plan Rows": 868, + "Plan Width": 59, + "Actual Startup Time": 127.346, + "Actual Total Time": 256.761, + "Actual Rows": 868, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "mc.movie_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mk.keyword_id = k.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 163.690, + "Actual Total Time": 163.693, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 180.895, + "Actual Total Time": 180.898, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 70.195, + "Actual Total Time": 152.102, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 160.278, + "Actual Total Time": 160.283, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 63.077, + "Actual Total Time": 157.183, + "Actual Rows": 268, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 171.322, + "Actual Total Time": 171.325, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 157.635, + "Actual Total Time": 157.639, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.82, + "Total Cost": 1980.57, + "Plan Rows": 97597, + "Plan Width": 63, + "Actual Startup Time": 22.128, + "Actual Total Time": 227.533, + "Actual Rows": 97597, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "mc.movie_id", "mk.movie_id", "mk.keyword_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Merge Cond": "(mk.movie_id = ml.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.850, + "Actual Total Time": 152.871, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.918, + "Actual Total Time": 168.333, + "Actual Rows": 6247, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 53.532, + "Actual Total Time": 146.418, + "Actual Rows": 3805, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.214, + "Actual Total Time": 153.178, + "Actual Rows": 9800, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 48.409, + "Actual Total Time": 142.385, + "Actual Rows": 13936, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.006, + "Actual Total Time": 152.797, + "Actual Rows": 52337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.854, + "Actual Total Time": 152.777, + "Actual Rows": 1579, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.42, + "Total Cost": 47512.09, + "Plan Rows": 1473, + "Plan Width": 55, + "Actual Startup Time": 17.632, + "Actual Total Time": 101.704, + "Actual Rows": 1473, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "mc.movie_id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.272, + "Actual Total Time": 127.270, + "Actual Rows": 675, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.206, + "Actual Total Time": 133.190, + "Actual Rows": 709, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 43.328, + "Actual Total Time": 105.009, + "Actual Rows": 1626, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.536, + "Actual Total Time": 114.762, + "Actual Rows": 499, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 40.061, + "Actual Total Time": 95.223, + "Actual Rows": 3026, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.920, + "Actual Total Time": 67.750, + "Actual Rows": 1467, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.608, + "Actual Total Time": 123.439, + "Actual Rows": 29, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.99, + "Total Cost": 47385.55, + "Plan Rows": 70, + "Plan Width": 47, + "Actual Startup Time": 17.037, + "Actual Total Time": 97.024, + "Actual Rows": 70, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.756, + "Actual Total Time": 124.258, + "Actual Rows": 99, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.638, + "Actual Total Time": 130.135, + "Actual Rows": 81, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 42.946, + "Actual Total Time": 93.575, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.344, + "Actual Total Time": 110.295, + "Actual Rows": 133, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 39.785, + "Actual Total Time": 90.861, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.648, + "Actual Total Time": 63.328, + "Actual Rows": 92, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.549, + "Actual Total Time": 122.077, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.57, + "Total Cost": 44039.79, + "Plan Rows": 6435, + "Plan Width": 32, + "Actual Startup Time": 2.811, + "Actual Total Time": 32.572, + "Actual Rows": 6435, + "Actual Loops": 8, + "Output": ["mc.note", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.206, + "Actual Total Time": 39.921, + "Actual Rows": 8435, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.467, + "Actual Total Time": 43.012, + "Actual Rows": 8420, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.504, + "Actual Total Time": 33.067, + "Actual Rows": 5978, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.445, + "Actual Total Time": 37.441, + "Actual Rows": 7204, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.175, + "Actual Total Time": 29.081, + "Actual Rows": 6111, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.372, + "Actual Total Time": 24.178, + "Actual Rows": 3827, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.226, + "Actual Total Time": 39.570, + "Actual Rows": 8321, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 43874.79, + "Plan Rows": 7116, + "Plan Width": 36, + "Actual Startup Time": 2.755, + "Actual Total Time": 22.096, + "Actual Rows": 7116, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "(mc.note IS NOT NULL)", + "Rows Removed by Filter": 6958, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.159, + "Actual Total Time": 25.912, + "Actual Rows": 9576, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.407, + "Actual Total Time": 28.791, + "Actual Rows": 9212, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.449, + "Actual Total Time": 23.118, + "Actual Rows": 6743, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.379, + "Actual Total Time": 25.558, + "Actual Rows": 7785, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.116, + "Actual Total Time": 19.174, + "Actual Rows": 7003, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.284, + "Actual Total Time": 17.771, + "Actual Rows": 4266, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.181, + "Actual Total Time": 26.524, + "Actual Rows": 8900, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 56930, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 3443, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 9576, + "Cache Hits": 9574, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 9212, + "Cache Hits": 9210, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 6743, + "Cache Hits": 6741, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 7785, + "Cache Hits": 7783, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 7003, + "Cache Hits": 7001, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 4266, + "Cache Hits": 4264, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 8900, + "Cache Hits": 8898, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 16, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind IS NOT NULL) AND ((ct.kind)::text <> 'production companies'::text))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 51483, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '20th Century Fox%'::text) OR (cn.name ~~ 'Twentieth Century Fox%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8435 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 8420 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 5978 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 7204 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 6111 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 3827 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8321 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.60, + "Plan Rows": 21, + "Plan Width": 8, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.059, + "Actual Rows": 21, + "Actual Loops": 562, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.027, + "Actual Rows": 7, + "Actual Loops": 99 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.031, + "Actual Rows": 9, + "Actual Loops": 81 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.294, + "Actual Rows": 44, + "Actual Loops": 37 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.031, + "Actual Rows": 4, + "Actual Loops": 133 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.110, + "Actual Rows": 98, + "Actual Loops": 31 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.042, + "Actual Rows": 16, + "Actual Loops": 92 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.164, + "Actual Total Time": 0.166, + "Actual Rows": 4, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 670.78, + "Plan Rows": 106415, + "Plan Width": 8, + "Actual Startup Time": 0.060, + "Actual Total Time": 77.848, + "Actual Rows": 127442, + "Actual Loops": 8, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.060, + "Actual Total Time": 18.846, + "Actual Rows": 30011, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.059, + "Actual Total Time": 24.825, + "Actual Rows": 36211, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.064, + "Actual Total Time": 31.805, + "Actual Rows": 33774, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.058, + "Actual Total Time": 26.280, + "Actual Rows": 39711, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.065, + "Actual Total Time": 28.855, + "Actual Rows": 43866, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.068, + "Actual Total Time": 50.340, + "Actual Rows": 81617, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.057, + "Actual Total Time": 21.182, + "Actual Rows": 31486, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1212.55, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.393, + "Actual Total Time": 8.393, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.782, + "Actual Total Time": 10.783, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.781, + "Actual Total Time": 10.782, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.394, + "Actual Total Time": 4.395, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.385, + "Actual Total Time": 4.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.782, + "Actual Total Time": 10.783, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.391, + "Actual Total Time": 4.392, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.390, + "Actual Total Time": 4.391, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.461, + "Actual Total Time": 8.336, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id"], + "Filter": "(k.keyword = ANY ('{sequel,revenge,based-on-novel}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.737, + "Actual Total Time": 10.737, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.720, + "Actual Total Time": 10.720, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.336, + "Actual Total Time": 4.337, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.328, + "Actual Total Time": 4.328, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.728, + "Actual Total Time": 10.728, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.337, + "Actual Total Time": 4.337, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.332, + "Actual Total Time": 4.332, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.11, + "Total Cost": 1.11, + "Plan Rows": 11, + "Plan Width": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.075, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.075, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.076, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.11, + "Plan Rows": 11, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.023, + "Actual Rows": 18, + "Actual Loops": 1, + "Output": ["lt.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 6946, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1950)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 268 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2333270921735776355, + "Planning Time": 50.237, + "Triggers": [ + ], + "Execution Time": 977.284, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 2333270921735776355, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS from_company,
       MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_based_on_book
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND ct.kind != 'production companies'
  AND ct.kind IS NOT NULL
  AND k.keyword IN ('sequel',
                    'revenge',
                    'based-on-novel')
  AND mc.note IS NOT NULL
  AND t.production_year > 1950
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2919.28, + "Total Cost": 2919.29, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 388.919, + "Actual Total Time": 405.692, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mc.note)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2919.22, + "Total Cost": 2919.23, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 361.915, + "Actual Total Time": 405.656, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mc.note))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2918.22, + "Total Cost": 2918.23, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 111.938, + "Actual Total Time": 111.946, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mc.note)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.212, + "Actual Total Time": 14.219, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.990, + "Actual Total Time": 14.997, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.093, + "Actual Total Time": 15.101, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.094, + "Actual Total Time": 16.101, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.957, + "Actual Total Time": 14.965, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 380.124, + "Actual Total Time": 380.130, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 79.047, + "Actual Total Time": 79.053, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.27, + "Total Cost": 2902.26, + "Plan Rows": 2128, + "Plan Width": 60, + "Actual Startup Time": 10.372, + "Actual Total Time": 110.438, + "Actual Rows": 1862, + "Actual Loops": 8, + "Output": ["cn.name", "mc.note", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.207, + "Actual Total Time": 14.214, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.985, + "Actual Total Time": 14.992, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.089, + "Actual Total Time": 15.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.089, + "Actual Total Time": 16.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.953, + "Actual Total Time": 14.960, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.040, + "Actual Total Time": 379.103, + "Actual Rows": 1235, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.132, + "Actual Total Time": 78.620, + "Actual Rows": 363, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.85, + "Total Cost": 1957.84, + "Plan Rows": 2131, + "Plan Width": 45, + "Actual Startup Time": 10.351, + "Actual Total Time": 97.263, + "Actual Rows": 1864, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.206, + "Actual Total Time": 14.212, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.984, + "Actual Total Time": 14.990, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.088, + "Actual Total Time": 15.094, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.089, + "Actual Total Time": 16.094, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.953, + "Actual Total Time": 14.959, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.979, + "Actual Total Time": 368.171, + "Actual Rows": 1245, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.071, + "Actual Total Time": 74.178, + "Actual Rows": 363, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.80, + "Total Cost": 1944.81, + "Plan Rows": 2216, + "Plan Width": 49, + "Actual Startup Time": 10.039, + "Actual Total Time": 95.847, + "Actual Rows": 1939, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "mc.company_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.905, + "Actual Total Time": 13.910, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.702, + "Actual Total Time": 14.707, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.760, + "Actual Total Time": 14.765, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.756, + "Actual Total Time": 15.761, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.681, + "Actual Total Time": 14.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.684, + "Actual Total Time": 366.940, + "Actual Rows": 1363, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.795, + "Actual Total Time": 73.508, + "Actual Rows": 409, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.37, + "Total Cost": 1809.01, + "Plan Rows": 209, + "Plan Width": 29, + "Actual Startup Time": 9.886, + "Actual Total Time": 91.895, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.904, + "Actual Total Time": 13.909, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.701, + "Actual Total Time": 14.706, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.759, + "Actual Total Time": 14.763, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.756, + "Actual Total Time": 15.759, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.680, + "Actual Total Time": 14.685, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.592, + "Actual Total Time": 357.754, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.728, + "Actual Total Time": 68.680, + "Actual Rows": 251, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.94, + "Total Cost": 1696.62, + "Plan Rows": 209, + "Plan Width": 8, + "Actual Startup Time": 9.861, + "Actual Total Time": 90.040, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.904, + "Actual Total Time": 13.907, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.701, + "Actual Total Time": 14.705, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.758, + "Actual Total Time": 14.761, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.755, + "Actual Total Time": 15.758, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.680, + "Actual Total Time": 14.683, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.510, + "Actual Total Time": 349.917, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.663, + "Actual Total Time": 65.361, + "Actual Rows": 251, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1694.72, + "Plan Rows": 209, + "Plan Width": 12, + "Actual Startup Time": 9.846, + "Actual Total Time": 89.877, + "Actual Rows": 182, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.898, + "Actual Total Time": 13.899, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.694, + "Actual Total Time": 14.696, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.750, + "Actual Total Time": 14.751, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.748, + "Actual Total Time": 15.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.674, + "Actual Total Time": 14.676, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.490, + "Actual Total Time": 349.274, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.648, + "Actual Total Time": 65.087, + "Actual Rows": 251, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1525.15, + "Plan Rows": 440, + "Plan Width": 4, + "Actual Startup Time": 9.822, + "Actual Total Time": 68.512, + "Actual Rows": 5925, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.897, + "Actual Total Time": 13.898, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.693, + "Actual Total Time": 14.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.749, + "Actual Total Time": 14.750, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.747, + "Actual Total Time": 15.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.673, + "Actual Total Time": 14.674, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.407, + "Actual Total Time": 245.224, + "Actual Rows": 29440, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.601, + "Actual Total Time": 28.340, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.621, + "Actual Total Time": 9.636, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{sequel,revenge,based-on-novel}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.897, + "Actual Total Time": 13.897, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.693, + "Actual Total Time": 14.693, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.749, + "Actual Total Time": 14.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.746, + "Actual Total Time": 15.747, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.673, + "Actual Total Time": 14.673, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.083, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.507, + "Actual Total Time": 0.521, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.59, + "Plan Rows": 15801, + "Plan Width": 8, + "Actual Startup Time": 0.523, + "Actual Total Time": 152.998, + "Actual Rows": 15801, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.339, + "Actual Total Time": 237.845, + "Actual Rows": 29440, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.087, + "Actual Total Time": 25.385, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 47403, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 29440 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 10544 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.11, + "Total Cost": 1.11, + "Plan Rows": 9, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.11, + "Plan Rows": 9, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.012, + "Actual Rows": 18, + "Actual Loops": 1, + "Output": ["lt.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1460, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1950)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 753 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 251 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 11, + "Plan Width": 36, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.018, + "Actual Rows": 11, + "Actual Loops": 1460, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NOT NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 753 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 251 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.034, + "Actual Rows": 3, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind IS NOT NULL) AND ((ct.kind)::text <> 'production companies'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 14916, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[pl]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1245 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 363 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5951735317690032369, + "Planning Time": 54.576, + "Triggers": [ + ], + "Execution Time": 406.167, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -5951735317690032369, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS drama_horror_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     title AS t
WHERE cn.country_code = '[us]'
  AND ct.kind = 'production companies'
  AND it1.info = 'genres'
  AND it2.info = 'rating'
  AND mi.info IN ('Drama',
                  'Horror')
  AND mi_idx.info > '8.0'
  AND t.production_year BETWEEN 2005 AND 2008
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND mi.info_type_id = it1.id
  AND mi_idx.info_type_id = it2.id
  AND t.id = mc.movie_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13300.89, + "Total Cost": 13300.90, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 242.524, + "Actual Total Time": 247.101, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13300.82, + "Total Cost": 13300.83, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 235.137, + "Actual Total Time": 247.053, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13299.82, + "Total Cost": 13299.83, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 227.400, + "Actual Total Time": 227.409, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 225.972, + "Actual Total Time": 225.981, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 226.047, + "Actual Total Time": 226.055, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 226.705, + "Actual Total Time": 226.712, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 225.843, + "Actual Total Time": 225.851, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 224.016, + "Actual Total Time": 224.022, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 222.849, + "Actual Total Time": 222.861, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 233.636, + "Actual Total Time": 233.643, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.44, + "Total Cost": 13299.44, + "Plan Rows": 50, + "Plan Width": 41, + "Actual Startup Time": 30.628, + "Actual Total Time": 227.254, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 38.184, + "Actual Total Time": 225.793, + "Actual Rows": 58, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.438, + "Actual Total Time": 225.898, + "Actual Rows": 56, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.460, + "Actual Total Time": 226.551, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 67.065, + "Actual Total Time": 225.691, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.051, + "Actual Total Time": 223.862, + "Actual Rows": 51, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 55.952, + "Actual Total Time": 222.742, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.100, + "Actual Total Time": 233.505, + "Actual Rows": 39, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.60, + "Total Cost": 13297.47, + "Plan Rows": 50, + "Plan Width": 45, + "Actual Startup Time": 30.310, + "Actual Total Time": 226.830, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 37.918, + "Actual Total Time": 225.400, + "Actual Rows": 58, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.175, + "Actual Total Time": 225.529, + "Actual Rows": 56, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.154, + "Actual Total Time": 226.125, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 66.798, + "Actual Total Time": 225.317, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.739, + "Actual Total Time": 223.437, + "Actual Rows": 51, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 55.708, + "Actual Total Time": 222.420, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.837, + "Actual Total Time": 233.137, + "Actual Rows": 39, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.18, + "Total Cost": 13258.61, + "Plan Rows": 88, + "Plan Width": 30, + "Actual Startup Time": 16.921, + "Actual Total Time": 221.558, + "Actual Rows": 88, + "Actual Loops": 8, + "Output": ["mc.company_id", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.461, + "Actual Total Time": 218.583, + "Actual Rows": 112, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.076, + "Actual Total Time": 220.886, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.084, + "Actual Total Time": 221.168, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 32.691, + "Actual Total Time": 218.658, + "Actual Rows": 102, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.665, + "Actual Total Time": 218.271, + "Actual Rows": 85, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.237, + "Actual Total Time": 217.949, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.658, + "Actual Total Time": 228.429, + "Actual Rows": 63, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 13256.26, + "Plan Rows": 242, + "Plan Width": 34, + "Actual Startup Time": 16.873, + "Actual Total Time": 221.304, + "Actual Rows": 242, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mc.company_type_id", "mc.company_id", "mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.443, + "Actual Total Time": 218.274, + "Actual Rows": 289, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.032, + "Actual Total Time": 220.636, + "Actual Rows": 265, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.014, + "Actual Total Time": 220.909, + "Actual Rows": 252, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 32.651, + "Actual Total Time": 218.414, + "Actual Rows": 193, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.621, + "Actual Total Time": 218.037, + "Actual Rows": 233, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.163, + "Actual Total Time": 217.723, + "Actual Rows": 208, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.630, + "Actual Total Time": 228.205, + "Actual Rows": 197, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 13214.76, + "Plan Rows": 70, + "Plan Width": 38, + "Actual Startup Time": 16.791, + "Actual Total Time": 217.963, + "Actual Rows": 70, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.380, + "Actual Total Time": 214.585, + "Actual Rows": 80, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.960, + "Actual Total Time": 217.320, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.932, + "Actual Total Time": 217.416, + "Actual Rows": 81, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 32.542, + "Actual Total Time": 214.990, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.521, + "Actual Total Time": 214.603, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.055, + "Actual Total Time": 215.163, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.567, + "Actual Total Time": 225.341, + "Actual Rows": 56, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 12538.65, + "Plan Rows": 506, + "Plan Width": 30, + "Actual Startup Time": 2.062, + "Actual Total Time": 143.840, + "Actual Rows": 506, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.025, + "Actual Total Time": 143.008, + "Actual Rows": 576, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.367, + "Actual Total Time": 147.317, + "Actual Rows": 490, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.481, + "Actual Total Time": 135.478, + "Actual Rows": 454, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.634, + "Actual Total Time": 140.897, + "Actual Rows": 508, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.648, + "Actual Total Time": 148.258, + "Actual Rows": 415, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.957, + "Actual Total Time": 136.134, + "Actual Rows": 546, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.374, + "Actual Total Time": 152.339, + "Actual Rows": 509, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10111.41, + "Plan Rows": 1981, + "Plan Width": 9, + "Actual Startup Time": 0.269, + "Actual Total Time": 108.264, + "Actual Rows": 1981, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.186, + "Actual Total Time": 106.652, + "Actual Rows": 2098, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.476, + "Actual Total Time": 113.335, + "Actual Rows": 1877, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.057, + "Actual Total Time": 98.773, + "Actual Rows": 2159, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.175, + "Actual Total Time": 104.916, + "Actual Rows": 1886, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.561, + "Actual Total Time": 112.132, + "Actual Rows": 2027, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.344, + "Actual Total Time": 102.142, + "Actual Rows": 1746, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.260, + "Actual Total Time": 119.265, + "Actual Rows": 1845, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 10091.30, + "Plan Rows": 6706, + "Plan Width": 13, + "Actual Startup Time": 0.085, + "Actual Total Time": 104.504, + "Actual Rows": 6706, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Filter": "(mi_idx.info > '8.0'::text)", + "Rows Removed by Filter": 165798, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.172, + "Actual Total Time": 102.593, + "Actual Rows": 7104, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.063, + "Actual Total Time": 109.594, + "Actual Rows": 6392, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 94.982, + "Actual Rows": 6639, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 101.279, + "Actual Rows": 6542, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 108.365, + "Actual Rows": 6841, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 98.753, + "Actual Rows": 6251, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.234, + "Actual Total Time": 115.545, + "Actual Rows": 6897, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 15849, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2008))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2098 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1877 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2159 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1886 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2027 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1746 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1845 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.33, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.141, + "Actual Total Time": 0.145, + "Actual Rows": 0, + "Actual Loops": 4047, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Drama,Horror}'::text[]))", + "Rows Removed by Filter": 21, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.121, + "Actual Total Time": 0.123, + "Actual Rows": 0, + "Actual Loops": 576 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.142, + "Actual Rows": 0, + "Actual Loops": 490 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.172, + "Actual Total Time": 0.179, + "Actual Rows": 0, + "Actual Loops": 454 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.140, + "Actual Total Time": 0.145, + "Actual Rows": 0, + "Actual Loops": 508 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.153, + "Actual Total Time": 0.159, + "Actual Rows": 0, + "Actual Loops": 415 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.141, + "Actual Total Time": 0.144, + "Actual Rows": 0, + "Actual Loops": 546 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.138, + "Actual Total Time": 0.142, + "Actual Rows": 0, + "Actual Loops": 509 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.56, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.044, + "Actual Rows": 3, + "Actual Loops": 557, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.042, + "Actual Rows": 4, + "Actual Loops": 80 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.044, + "Actual Rows": 4, + "Actual Loops": 68 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.039, + "Actual Rows": 3, + "Actual Loops": 81 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.039, + "Actual Rows": 2, + "Actual Loops": 79 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.050, + "Actual Rows": 4, + "Actual Loops": 63 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.039, + "Actual Rows": 4, + "Actual Loops": 59 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.047, + "Actual Rows": 4, + "Actual Loops": 56 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 1, + "Actual Loops": 708, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 112 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 94 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 88 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 102 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.058, + "Actual Rows": 1, + "Actual Loops": 85 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 74 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.072, + "Actual Rows": 1, + "Actual Loops": 63 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.227, + "Actual Total Time": 0.248, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -9026514954839072455, + "Planning Time": 60.989, + "Triggers": [ + ], + "Execution Time": 247.488, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -9026514954839072455, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi.info) AS budget,
       MIN(t.title) AS unsuccsessful_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind IS NOT NULL
  AND (ct.kind ='production companies'
       OR ct.kind = 'distributors')
  AND it1.info ='budget'
  AND it2.info ='bottom 10 rank'
  AND t.production_year >2000
  AND (t.title LIKE 'Birdemic%'
       OR t.title LIKE '%Movie%')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND mi.info_type_id = it1.id
  AND mi_idx.info_type_id = it2.id
  AND t.id = mc.movie_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10140.16, + "Total Cost": 10140.17, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 103.936, + "Actual Total Time": 109.840, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10140.11, + "Total Cost": 10140.12, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 100.355, + "Actual Total Time": 109.816, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10139.11, + "Total Cost": 10139.12, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 93.173, + "Actual Total Time": 93.182, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.344, + "Actual Total Time": 91.351, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.394, + "Actual Total Time": 92.401, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.510, + "Actual Total Time": 91.517, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 91.918, + "Actual Total Time": 91.927, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 95.072, + "Actual Total Time": 95.081, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.910, + "Actual Total Time": 91.918, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.752, + "Actual Total Time": 91.758, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.53, + "Total Cost": 10139.11, + "Plan Rows": 1, + "Plan Width": 59, + "Actual Startup Time": 92.918, + "Actual Total Time": 93.172, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.339, + "Actual Total Time": 91.346, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.389, + "Actual Total Time": 92.396, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.504, + "Actual Total Time": 91.511, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 91.913, + "Actual Total Time": 91.921, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.065, + "Actual Total Time": 95.041, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.906, + "Actual Total Time": 91.912, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.748, + "Actual Total Time": 91.753, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.40, + "Total Cost": 10138.94, + "Plan Rows": 1, + "Plan Width": 63, + "Actual Startup Time": 92.909, + "Actual Total Time": 93.152, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.338, + "Actual Total Time": 91.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.388, + "Actual Total Time": 92.394, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.503, + "Actual Total Time": 91.510, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 91.912, + "Actual Total Time": 91.919, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.005, + "Actual Total Time": 94.889, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.905, + "Actual Total Time": 91.910, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.747, + "Actual Total Time": 91.752, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.98, + "Total Cost": 10137.17, + "Plan Rows": 4, + "Plan Width": 67, + "Actual Startup Time": 92.898, + "Actual Total Time": 93.015, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mi.info", "mc.company_type_id", "mc.company_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.338, + "Actual Total Time": 91.343, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.388, + "Actual Total Time": 92.393, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.503, + "Actual Total Time": 91.508, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 91.912, + "Actual Total Time": 91.918, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.917, + "Actual Total Time": 93.802, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.904, + "Actual Total Time": 91.909, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.746, + "Actual Total Time": 91.751, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 10136.47, + "Plan Rows": 1, + "Plan Width": 71, + "Actual Startup Time": 92.884, + "Actual Total Time": 92.984, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.337, + "Actual Total Time": 91.342, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.387, + "Actual Total Time": 92.392, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.502, + "Actual Total Time": 91.507, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 91.911, + "Actual Total Time": 91.917, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.811, + "Actual Total Time": 93.566, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.903, + "Actual Total Time": 91.908, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.745, + "Actual Total Time": 91.749, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 10134.55, + "Plan Rows": 28, + "Plan Width": 75, + "Actual Startup Time": 92.531, + "Actual Total Time": 92.664, + "Actual Rows": 28, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.097, + "Actual Total Time": 91.100, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 91.825, + "Actual Total Time": 91.828, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.249, + "Actual Total Time": 91.253, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 91.665, + "Actual Total Time": 91.669, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.160, + "Actual Total Time": 93.188, + "Actual Rows": 221, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.659, + "Actual Total Time": 91.662, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.515, + "Actual Total Time": 91.517, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10132.19, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 92.516, + "Actual Total Time": 92.539, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.096, + "Actual Total Time": 91.099, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 91.824, + "Actual Total Time": 91.827, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.249, + "Actual Total Time": 91.252, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 91.665, + "Actual Total Time": 91.667, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.046, + "Actual Total Time": 92.201, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.658, + "Actual Total Time": 91.661, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.514, + "Actual Total Time": 91.516, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 92.465, + "Actual Total Time": 92.475, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.095, + "Actual Total Time": 91.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 91.824, + "Actual Total Time": 91.825, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 91.248, + "Actual Total Time": 91.250, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 91.664, + "Actual Total Time": 91.666, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.638, + "Actual Total Time": 91.698, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 91.657, + "Actual Total Time": 91.659, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.513, + "Actual Total Time": 91.514, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.016, + "Actual Total Time": 36.545, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 34.269, + "Actual Rows": 157218, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 35.603, + "Actual Rows": 174440, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 35.918, + "Actual Rows": 174460, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 35.965, + "Actual Rows": 175492, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 35.104, + "Actual Rows": 171398, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 40.915, + "Actual Rows": 160007, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 35.971, + "Actual Rows": 176023, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'bottom 10 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 10, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2000) AND ((t.title ~~ 'Birdemic%'::text) OR (t.title ~~ '%Movie%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 112, + "Plan Width": 50, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.397, + "Actual Rows": 110, + "Actual Loops": 2, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.397, + "Actual Rows": 110, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'budget'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 16, + "Plan Width": 12, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.095, + "Actual Rows": 16, + "Actual Loops": 2, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.095, + "Actual Rows": 16, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 33, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 33 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind IS NOT NULL) AND (((ct.kind)::text = 'production companies'::text) OR ((ct.kind)::text = 'distributors'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 10 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5632455736553151255, + "Planning Time": 42.812, + "Triggers": [ + ], + "Execution Time": 110.161, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 5632455736553151255, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS mainstream_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     title AS t
WHERE cn.country_code = '[us]'
  AND ct.kind = 'production companies'
  AND it1.info = 'genres'
  AND it2.info = 'rating'
  AND mi.info IN ('Drama',
                  'Horror',
                  'Western',
                  'Family')
  AND mi_idx.info > '7.0'
  AND t.production_year BETWEEN 2000 AND 2010
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND mi.info_type_id = it1.id
  AND mi_idx.info_type_id = it2.id
  AND t.id = mc.movie_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29633.79, + "Total Cost": 29633.80, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 932.949, + "Actual Total Time": 947.887, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29633.72, + "Total Cost": 29633.73, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 931.988, + "Actual Total Time": 947.860, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29632.72, + "Total Cost": 29632.73, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 924.286, + "Actual Total Time": 924.293, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 922.991, + "Actual Total Time": 922.997, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 922.953, + "Actual Total Time": 922.959, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 923.023, + "Actual Total Time": 923.031, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 924.200, + "Actual Total Time": 924.207, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 923.474, + "Actual Total Time": 923.481, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 923.382, + "Actual Total Time": 923.388, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 923.222, + "Actual Total Time": 923.229, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.44, + "Total Cost": 29628.31, + "Plan Rows": 589, + "Plan Width": 41, + "Actual Startup Time": 9.738, + "Actual Total Time": 923.121, + "Actual Rows": 589, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.199, + "Actual Total Time": 921.893, + "Actual Rows": 567, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.781, + "Actual Total Time": 921.749, + "Actual Rows": 582, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.858, + "Actual Total Time": 921.849, + "Actual Rows": 620, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.939, + "Actual Total Time": 923.113, + "Actual Rows": 555, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.968, + "Actual Total Time": 922.348, + "Actual Rows": 580, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.911, + "Actual Total Time": 922.261, + "Actual Rows": 561, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.259, + "Actual Total Time": 921.941, + "Actual Rows": 613, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.60, + "Total Cost": 29624.86, + "Plan Rows": 589, + "Plan Width": 45, + "Actual Startup Time": 9.416, + "Actual Total Time": 921.905, + "Actual Rows": 589, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.893, + "Actual Total Time": 920.701, + "Actual Rows": 567, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.480, + "Actual Total Time": 920.565, + "Actual Rows": 582, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.555, + "Actual Total Time": 920.622, + "Actual Rows": 620, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.565, + "Actual Total Time": 921.899, + "Actual Rows": 555, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.688, + "Actual Total Time": 921.221, + "Actual Rows": 580, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.621, + "Actual Total Time": 921.126, + "Actual Rows": 561, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.975, + "Actual Total Time": 920.655, + "Actual Rows": 613, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.18, + "Total Cost": 28767.21, + "Plan Rows": 1942, + "Plan Width": 30, + "Actual Startup Time": 3.471, + "Actual Total Time": 884.399, + "Actual Rows": 1942, + "Actual Loops": 8, + "Output": ["mc.company_id", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.823, + "Actual Total Time": 881.687, + "Actual Rows": 2053, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.410, + "Actual Total Time": 884.237, + "Actual Rows": 1919, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.884, + "Actual Total Time": 883.034, + "Actual Rows": 1966, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.042, + "Actual Total Time": 886.308, + "Actual Rows": 1841, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.671, + "Actual Total Time": 882.595, + "Actual Rows": 1976, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.506, + "Actual Total Time": 881.019, + "Actual Rows": 2087, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.918, + "Actual Total Time": 883.908, + "Actual Rows": 1833, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 28735.75, + "Plan Rows": 5626, + "Plan Width": 34, + "Actual Startup Time": 3.432, + "Actual Total Time": 880.551, + "Actual Rows": 5626, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mc.company_type_id", "mc.company_id", "mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.800, + "Actual Total Time": 877.823, + "Actual Rows": 5628, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.398, + "Actual Total Time": 880.413, + "Actual Rows": 5510, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.857, + "Actual Total Time": 879.217, + "Actual Rows": 5713, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.019, + "Actual Total Time": 882.653, + "Actual Rows": 5324, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.635, + "Actual Total Time": 878.715, + "Actual Rows": 5627, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.479, + "Actual Total Time": 877.020, + "Actual Rows": 5878, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.819, + "Actual Total Time": 879.957, + "Actual Rows": 5561, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 28151.13, + "Plan Rows": 996, + "Plan Width": 38, + "Actual Startup Time": 3.361, + "Actual Total Time": 846.013, + "Actual Rows": 996, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.727, + "Actual Total Time": 843.901, + "Actual Rows": 1014, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.328, + "Actual Total Time": 845.590, + "Actual Rows": 1001, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.777, + "Actual Total Time": 844.729, + "Actual Rows": 982, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.950, + "Actual Total Time": 850.104, + "Actual Rows": 980, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.548, + "Actual Total Time": 841.840, + "Actual Rows": 1055, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.417, + "Actual Total Time": 841.845, + "Actual Rows": 1029, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.747, + "Actual Total Time": 845.339, + "Actual Rows": 957, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 20739.59, + "Plan Rows": 6538, + "Plan Width": 30, + "Actual Startup Time": 0.244, + "Actual Total Time": 306.257, + "Actual Rows": 6538, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.132, + "Actual Total Time": 304.416, + "Actual Rows": 7142, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.109, + "Actual Total Time": 306.029, + "Actual Rows": 6808, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.105, + "Actual Total Time": 296.578, + "Actual Rows": 6206, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.156, + "Actual Total Time": 316.890, + "Actual Rows": 6692, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.272, + "Actual Total Time": 315.122, + "Actual Rows": 6578, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.518, + "Actual Total Time": 296.531, + "Actual Rows": 6258, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.482, + "Actual Total Time": 307.095, + "Actual Rows": 6220, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10159.15, + "Plan Rows": 15196, + "Plan Width": 9, + "Actual Startup Time": 0.047, + "Actual Total Time": 107.348, + "Actual Rows": 15196, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 106.585, + "Actual Rows": 15518, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.051, + "Actual Total Time": 107.282, + "Actual Rows": 15368, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 104.132, + "Actual Rows": 14973, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 111.015, + "Actual Rows": 15497, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 109.531, + "Actual Rows": 16073, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 105.992, + "Actual Rows": 14177, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 109.180, + "Actual Rows": 15315, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 10091.30, + "Plan Rows": 24237, + "Plan Width": 13, + "Actual Startup Time": 0.026, + "Actual Total Time": 88.568, + "Actual Rows": 24237, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Filter": "(mi_idx.info > '7.0'::text)", + "Rows Removed by Filter": 148268, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 87.579, + "Actual Rows": 24641, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 88.270, + "Actual Rows": 24585, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 85.702, + "Actual Rows": 23881, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 91.566, + "Actual Rows": 25143, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 90.041, + "Actual Rows": 25332, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 88.083, + "Actual Rows": 23046, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 90.532, + "Actual Rows": 24035, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.70, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 121572, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 15518 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 15368 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 14973 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 15497 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 16073 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 14177 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 15315 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.12, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.082, + "Actual Rows": 0, + "Actual Loops": 52304, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Drama,Horror,Western,Family}'::text[]))", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.075, + "Actual Rows": 0, + "Actual Loops": 7142 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.078, + "Actual Rows": 0, + "Actual Loops": 6808 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.087, + "Actual Rows": 0, + "Actual Loops": 6206 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.079, + "Actual Rows": 0, + "Actual Loops": 6692 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.079, + "Actual Rows": 0, + "Actual Loops": 6578 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.086, + "Actual Rows": 0, + "Actual Loops": 6258 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.086, + "Actual Rows": 0, + "Actual Loops": 6220 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 6, + "Plan Width": 12, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.031, + "Actual Rows": 6, + "Actual Loops": 7964, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.030, + "Actual Rows": 6, + "Actual Loops": 1014 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.031, + "Actual Rows": 6, + "Actual Loops": 1001 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.031, + "Actual Rows": 6, + "Actual Loops": 982 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.029, + "Actual Rows": 5, + "Actual Loops": 980 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.031, + "Actual Rows": 5, + "Actual Loops": 1055 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.030, + "Actual Rows": 6, + "Actual Loops": 1029 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.032, + "Actual Rows": 6, + "Actual Loops": 957 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 15537, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2053 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1919 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1966 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1841 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1976 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2087 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1833 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6417179009749033666, + "Planning Time": 63.294, + "Triggers": [ + ], + "Execution Time": 948.291, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 6417179009749033666, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS german_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[de]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 16836.47, + "Total Cost": 16836.48, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 614.521, + "Actual Total Time": 649.911, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 16836.40, + "Total Cost": 16836.41, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 611.114, + "Actual Total Time": 649.876, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 16835.40, + "Total Cost": 16835.41, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 604.280, + "Actual Total Time": 604.290, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 603.393, + "Actual Total Time": 603.400, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 602.912, + "Actual Total Time": 602.920, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 606.819, + "Actual Total Time": 606.828, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 603.243, + "Actual Total Time": 603.250, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 600.411, + "Actual Total Time": 600.419, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 603.626, + "Actual Total Time": 603.633, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 603.566, + "Actual Total Time": 603.574, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.52, + "Total Cost": 16731.24, + "Plan Rows": 13888, + "Plan Width": 64, + "Actual Startup Time": 8.347, + "Actual Total Time": 590.499, + "Actual Rows": 13888, + "Actual Loops": 8, + "Output": ["mi.info", "miidx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.959, + "Actual Total Time": 590.712, + "Actual Rows": 12308, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.727, + "Actual Total Time": 590.515, + "Actual Rows": 12802, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.150, + "Actual Total Time": 593.132, + "Actual Rows": 12591, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.494, + "Actual Total Time": 589.544, + "Actual Rows": 14280, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.400, + "Actual Total Time": 588.189, + "Actual Rows": 12513, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.929, + "Actual Total Time": 587.418, + "Actual Rows": 17272, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.780, + "Actual Total Time": 588.129, + "Actual Rows": 15126, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.67, + "Total Cost": 16553.63, + "Plan Rows": 64541, + "Plan Width": 68, + "Actual Startup Time": 7.978, + "Actual Total Time": 562.062, + "Actual Rows": 64541, + "Actual Loops": 8, + "Output": ["mi.info", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.681, + "Actual Total Time": 566.196, + "Actual Rows": 56736, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.549, + "Actual Total Time": 562.378, + "Actual Rows": 61733, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.854, + "Actual Total Time": 567.652, + "Actual Rows": 58172, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.715, + "Actual Total Time": 560.953, + "Actual Rows": 66728, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.912, + "Actual Total Time": 561.848, + "Actual Rows": 58764, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.635, + "Actual Total Time": 552.755, + "Actual Rows": 81294, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.533, + "Actual Total Time": 558.837, + "Actual Rows": 66662, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.24, + "Total Cost": 14084.13, + "Plan Rows": 2059, + "Plan Width": 34, + "Actual Startup Time": 7.897, + "Actual Total Time": 372.087, + "Actual Rows": 2059, + "Actual Loops": 8, + "Output": ["mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.612, + "Actual Total Time": 397.649, + "Actual Rows": 2089, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.499, + "Actual Total Time": 386.165, + "Actual Rows": 2055, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.733, + "Actual Total Time": 369.018, + "Actual Rows": 1744, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.656, + "Actual Total Time": 366.695, + "Actual Rows": 2291, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.793, + "Actual Total Time": 356.274, + "Actual Rows": 1973, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.547, + "Actual Total Time": 353.818, + "Actual Rows": 2106, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.449, + "Actual Total Time": 376.255, + "Actual Rows": 2120, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.39, + "Total Cost": 14065.45, + "Plan Rows": 6181, + "Plan Width": 38, + "Actual Startup Time": 7.874, + "Actual Total Time": 368.246, + "Actual Rows": 6181, + "Actual Loops": 8, + "Output": ["mc.movie_id", "miidx.info", "miidx.movie_id", "miidx.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = miidx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.600, + "Actual Total Time": 394.039, + "Actual Rows": 6270, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.488, + "Actual Total Time": 382.550, + "Actual Rows": 6172, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.709, + "Actual Total Time": 365.920, + "Actual Rows": 5236, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.632, + "Actual Total Time": 362.626, + "Actual Rows": 6876, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.768, + "Actual Total Time": 351.476, + "Actual Rows": 5922, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.532, + "Actual Total Time": 350.081, + "Actual Rows": 6328, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.434, + "Actual Total Time": 372.339, + "Actual Rows": 6364, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.97, + "Total Cost": 12021.17, + "Plan Rows": 4107, + "Plan Width": 25, + "Actual Startup Time": 0.413, + "Actual Total Time": 277.321, + "Actual Rows": 4107, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.487, + "Actual Total Time": 304.656, + "Actual Rows": 4350, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.798, + "Actual Total Time": 281.589, + "Actual Rows": 4923, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.279, + "Actual Total Time": 271.816, + "Actual Rows": 3364, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.198, + "Actual Total Time": 273.158, + "Actual Rows": 4376, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.398, + "Actual Total Time": 273.214, + "Actual Rows": 3781, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.289, + "Actual Total Time": 264.517, + "Actual Rows": 4065, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.622, + "Actual Total Time": 286.250, + "Actual Rows": 3980, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.90, + "Total Cost": 11982.55, + "Plan Rows": 8912, + "Plan Width": 29, + "Actual Startup Time": 0.351, + "Actual Total Time": 271.105, + "Actual Rows": 8912, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.480, + "Actual Total Time": 298.384, + "Actual Rows": 9196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.793, + "Actual Total Time": 275.054, + "Actual Rows": 9589, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.269, + "Actual Total Time": 266.684, + "Actual Rows": 7677, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.192, + "Actual Total Time": 266.526, + "Actual Rows": 8973, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.385, + "Actual Total Time": 267.480, + "Actual Rows": 8419, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.281, + "Actual Total Time": 258.805, + "Actual Rows": 8343, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.229, + "Actual Total Time": 279.806, + "Actual Rows": 10220, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 7832.99, + "Plan Rows": 8912, + "Plan Width": 4, + "Actual Startup Time": 0.281, + "Actual Total Time": 126.726, + "Actual Rows": 8912, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.427, + "Actual Total Time": 154.898, + "Actual Rows": 9196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.739, + "Actual Total Time": 129.545, + "Actual Rows": 9589, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.189, + "Actual Total Time": 122.447, + "Actual Rows": 7677, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.132, + "Actual Total Time": 125.166, + "Actual Rows": 8973, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.268, + "Actual Total Time": 129.120, + "Actual Rows": 8419, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.205, + "Actual Total Time": 122.676, + "Actual Rows": 8343, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.149, + "Actual Total Time": 117.978, + "Actual Rows": 10220, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 7731.85, + "Plan Rows": 18516, + "Plan Width": 8, + "Actual Startup Time": 0.119, + "Actual Total Time": 115.172, + "Actual Rows": 18516, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.106, + "Actual Total Time": 142.071, + "Actual Rows": 22981, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.103, + "Actual Total Time": 116.952, + "Actual Rows": 21834, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.122, + "Actual Total Time": 112.879, + "Actual Rows": 14691, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.103, + "Actual Total Time": 113.628, + "Actual Rows": 18129, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.195, + "Actual Total Time": 116.946, + "Actual Rows": 17331, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.122, + "Actual Total Time": 112.198, + "Actual Rows": 16922, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.114, + "Actual Total Time": 105.909, + "Actual Rows": 18452, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1222, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 16.601, + "Actual Rows": 1222, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[de]'::text)", + "Rows Removed by Filter": 28153, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 16.602, + "Actual Rows": 1361, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 14.179, + "Actual Rows": 1162, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 22.762, + "Actual Rows": 983, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 15.783, + "Actual Rows": 1305, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.064, + "Actual Total Time": 17.762, + "Actual Rows": 1406, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 16.676, + "Actual Rows": 1324, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 13.848, + "Actual Rows": 1098, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 3.43, + "Plan Rows": 15, + "Plan Width": 12, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.073, + "Actual Rows": 15, + "Actual Loops": 9775, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.084, + "Actual Rows": 17, + "Actual Loops": 1361 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.080, + "Actual Rows": 19, + "Actual Loops": 1162 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.084, + "Actual Rows": 15, + "Actual Loops": 983 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.068, + "Actual Rows": 14, + "Actual Loops": 1305 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.064, + "Actual Rows": 12, + "Actual Loops": 1406 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.066, + "Actual Rows": 13, + "Actual Loops": 1324 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.075, + "Actual Rows": 17, + "Actual Loops": 1098 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 71294, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 9196 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 9589 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 7677 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 8973 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 8419 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 8343 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 10220 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 2, + "Actual Loops": 32853, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Index Cond": "(miidx.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 4350 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 4923 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 2, + "Actual Loops": 3364 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 4376 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 2, + "Actual Loops": 3781 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 2, + "Actual Loops": 4065 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.020, + "Actual Rows": 2, + "Actual Loops": 3980 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.90, + "Plan Rows": 30, + "Plan Width": 50, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.078, + "Actual Rows": 31, + "Actual Loops": 16470, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.069, + "Actual Rows": 27, + "Actual Loops": 2089 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.072, + "Actual Rows": 30, + "Actual Loops": 2055 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.098, + "Actual Rows": 33, + "Actual Loops": 1744 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.072, + "Actual Rows": 29, + "Actual Loops": 2291 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.091, + "Actual Rows": 30, + "Actual Loops": 1973 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.078, + "Actual Rows": 39, + "Actual Loops": 2106 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.072, + "Actual Rows": 31, + "Actual Loops": 2120 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1829334865866162189, + "Planning Time": 70.147, + "Triggers": [ + ], + "Execution Time": 650.277, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1829334865866162189, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS movie_about_winning
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND t.title != ''
  AND (t.title LIKE '%Champion%'
       OR t.title LIKE '%Loser%')
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38276.92, + "Total Cost": 38276.93, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 851.131, + "Actual Total Time": 871.035, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38276.85, + "Total Cost": 38276.86, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 850.210, + "Actual Total Time": 871.006, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38275.85, + "Total Cost": 38275.86, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 842.537, + "Actual Total Time": 842.546, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 841.013, + "Actual Total Time": 841.021, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 842.552, + "Actual Total Time": 842.562, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 841.945, + "Actual Total Time": 841.953, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 841.471, + "Actual Total Time": 841.480, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 841.330, + "Actual Total Time": 841.337, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 841.402, + "Actual Total Time": 841.409, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 841.275, + "Actual Total Time": 841.284, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.61, + "Total Cost": 38275.71, + "Plan Rows": 19, + "Plan Width": 41, + "Actual Startup Time": 444.444, + "Actual Total Time": 842.476, + "Actual Rows": 46, + "Actual Loops": 8, + "Output": ["cn.name", "miidx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 493.444, + "Actual Total Time": 840.995, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 366.799, + "Actual Total Time": 842.538, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 402.875, + "Actual Total Time": 841.859, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 841.467, + "Actual Total Time": 841.474, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 396.386, + "Actual Total Time": 841.291, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 367.131, + "Actual Total Time": 841.280, + "Actual Rows": 92, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 358.234, + "Actual Total Time": 841.204, + "Actual Rows": 21, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.76, + "Total Cost": 38273.56, + "Plan Rows": 112, + "Plan Width": 45, + "Actual Startup Time": 444.319, + "Actual Total Time": 842.251, + "Actual Rows": 265, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 493.383, + "Actual Total Time": 840.913, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 366.705, + "Actual Total Time": 842.438, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 402.778, + "Actual Total Time": 841.605, + "Actual Rows": 379, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 841.382, + "Actual Total Time": 841.388, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 396.289, + "Actual Total Time": 841.140, + "Actual Rows": 160, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 367.043, + "Actual Total Time": 841.045, + "Actual Rows": 372, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 358.132, + "Actual Total Time": 841.046, + "Actual Rows": 138, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.33, + "Total Cost": 38268.65, + "Plan Rows": 4, + "Plan Width": 53, + "Actual Startup Time": 444.158, + "Actual Total Time": 839.765, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 493.267, + "Actual Total Time": 840.684, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 366.633, + "Actual Total Time": 842.116, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 402.694, + "Actual Total Time": 828.565, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 841.382, + "Actual Total Time": 841.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 396.235, + "Actual Total Time": 840.204, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 366.965, + "Actual Total Time": 839.733, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 357.293, + "Actual Total Time": 839.262, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.91, + "Total Cost": 38264.67, + "Plan Rows": 9, + "Plan Width": 38, + "Actual Startup Time": 372.075, + "Actual Total Time": 839.391, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 438.246, + "Actual Total Time": 840.420, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 366.584, + "Actual Total Time": 841.976, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 402.659, + "Actual Total Time": 828.018, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 320.005, + "Actual Total Time": 841.189, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 396.187, + "Actual Total Time": 839.870, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 366.925, + "Actual Total Time": 839.370, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 357.241, + "Actual Total Time": 838.642, + "Actual Rows": 24, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.77, + "Total Cost": 38263.61, + "Plan Rows": 25, + "Plan Width": 42, + "Actual Startup Time": 372.011, + "Actual Total Time": 839.231, + "Actual Rows": 39, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 438.172, + "Actual Total Time": 840.315, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 366.518, + "Actual Total Time": 841.885, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 402.577, + "Actual Total Time": 827.849, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 319.938, + "Actual Total Time": 841.095, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 396.117, + "Actual Total Time": 839.754, + "Actual Rows": 34, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 366.887, + "Actual Total Time": 839.255, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 357.165, + "Actual Total Time": 838.213, + "Actual Rows": 63, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.34, + "Total Cost": 38260.27, + "Plan Rows": 6, + "Plan Width": 30, + "Actual Startup Time": 371.923, + "Actual Total Time": 838.830, + "Actual Rows": 11, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 438.070, + "Actual Total Time": 840.046, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 366.421, + "Actual Total Time": 841.564, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 402.479, + "Actual Total Time": 827.285, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 319.850, + "Actual Total Time": 840.843, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 396.023, + "Actual Total Time": 839.411, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 366.838, + "Actual Total Time": 838.914, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 357.046, + "Actual Total Time": 837.598, + "Actual Rows": 21, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 38259.11, + "Plan Rows": 22, + "Plan Width": 34, + "Actual Startup Time": 11.358, + "Actual Total Time": 838.762, + "Actual Rows": 44, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.270, + "Actual Total Time": 839.988, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.650, + "Actual Total Time": 841.506, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.606, + "Actual Total Time": 827.193, + "Actual Rows": 58, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.893, + "Actual Total Time": 840.785, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.331, + "Actual Total Time": 839.367, + "Actual Rows": 34, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.037, + "Actual Total Time": 838.864, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.829, + "Actual Total Time": 837.519, + "Actual Rows": 52, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 57491, + "Plan Width": 9, + "Actual Startup Time": 0.037, + "Actual Total Time": 147.306, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 152.679, + "Actual Rows": 53401, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 143.989, + "Actual Rows": 60872, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 139.968, + "Actual Rows": 57977, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 143.764, + "Actual Rows": 56462, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 153.810, + "Actual Rows": 58390, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 139.671, + "Actual Rows": 59943, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 156.476, + "Actual Rows": 52985, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 13, + "Actual Startup Time": 0.016, + "Actual Total Time": 44.960, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 59.815, + "Actual Rows": 160180, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 41.300, + "Actual Rows": 182617, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 40.553, + "Actual Rows": 173937, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 42.481, + "Actual Rows": 169395, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 48.821, + "Actual Rows": 175327, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 40.669, + "Actual Rows": 179835, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 40.357, + "Actual Rows": 158969, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 459925, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.title <> ''::text) AND ((t.title ~~ '%Champion%'::text) OR (t.title ~~ '%Loser%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 53401 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 60872 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 57977 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 56462 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 58390 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 59943 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 52985 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.031, + "Actual Rows": 3, + "Actual Loops": 90, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.048, + "Actual Rows": 4, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.041, + "Actual Rows": 2, + "Actual Loops": 7 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.022, + "Actual Rows": 3, + "Actual Loops": 22 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.037, + "Actual Rows": 2, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.038, + "Actual Rows": 4, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.037, + "Actual Rows": 4, + "Actual Loops": 8 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.026, + "Actual Rows": 3, + "Actual Loops": 21 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 313, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 63, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 19, + "Cache Hits": 17, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 14, + "Cache Hits": 12, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 68, + "Cache Hits": 66, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 14, + "Cache Hits": 12, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 34, + "Cache Hits": 32, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 36, + "Cache Hits": 34, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 63, + "Cache Hits": 61, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 16, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 117, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 10 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 24 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 13 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 24 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 21, + "Plan Width": 8, + "Actual Startup Time": 0.278, + "Actual Total Time": 0.308, + "Actual Rows": 35, + "Actual Loops": 61, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.066, + "Actual Rows": 15, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.152, + "Actual Rows": 10, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.897, + "Actual Total Time": 0.917, + "Actual Rows": 27, + "Actual Loops": 14 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.120, + "Actual Rows": 23, + "Actual Loops": 7 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.102, + "Actual Rows": 34, + "Actual Loops": 11 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.120, + "Actual Total Time": 0.141, + "Actual Rows": 12, + "Actual Loops": 12 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4778871310081631647, + "Planning Time": 71.856, + "Triggers": [ + ], + "Execution Time": 871.455, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 4778871310081631647, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS movie_about_winning
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND t.title != ''
  AND (t.title LIKE 'Champion%'
       OR t.title LIKE 'Loser%')
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38276.92, + "Total Cost": 38276.93, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 766.224, + "Actual Total Time": 785.426, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38276.85, + "Total Cost": 38276.86, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 765.674, + "Actual Total Time": 785.392, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 38275.85, + "Total Cost": 38275.86, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 757.388, + "Actual Total Time": 757.396, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 754.847, + "Actual Total Time": 754.853, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 756.945, + "Actual Total Time": 756.953, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 757.089, + "Actual Total Time": 757.098, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 756.156, + "Actual Total Time": 756.162, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 755.472, + "Actual Total Time": 755.479, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 757.544, + "Actual Total Time": 757.554, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 756.281, + "Actual Total Time": 756.287, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.61, + "Total Cost": 38275.71, + "Plan Rows": 19, + "Plan Width": 41, + "Actual Startup Time": 680.477, + "Actual Total Time": 757.381, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["cn.name", "miidx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 754.842, + "Actual Total Time": 754.848, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 529.450, + "Actual Total Time": 756.918, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 757.084, + "Actual Total Time": 757.091, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 756.153, + "Actual Total Time": 756.158, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 755.468, + "Actual Total Time": 755.475, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 369.781, + "Actual Total Time": 757.495, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 756.277, + "Actual Total Time": 756.283, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.76, + "Total Cost": 38273.56, + "Plan Rows": 112, + "Plan Width": 45, + "Actual Startup Time": 680.371, + "Actual Total Time": 757.261, + "Actual Rows": 27, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 754.781, + "Actual Total Time": 754.787, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 529.369, + "Actual Total Time": 756.795, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 756.993, + "Actual Total Time": 756.999, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 756.096, + "Actual Total Time": 756.100, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 755.407, + "Actual Total Time": 755.413, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 369.695, + "Actual Total Time": 757.346, + "Actual Rows": 159, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 756.219, + "Actual Total Time": 756.224, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.33, + "Total Cost": 38268.65, + "Plan Rows": 4, + "Plan Width": 53, + "Actual Startup Time": 680.357, + "Actual Total Time": 757.197, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 754.781, + "Actual Total Time": 754.786, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 529.312, + "Actual Total Time": 756.598, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 756.992, + "Actual Total Time": 756.998, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 756.095, + "Actual Total Time": 756.099, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 755.406, + "Actual Total Time": 755.411, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 369.642, + "Actual Total Time": 757.040, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 756.218, + "Actual Total Time": 756.223, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.91, + "Total Cost": 38264.67, + "Plan Rows": 9, + "Plan Width": 38, + "Actual Startup Time": 680.346, + "Actual Total Time": 757.110, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 754.780, + "Actual Total Time": 754.785, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 529.271, + "Actual Total Time": 756.271, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 756.992, + "Actual Total Time": 756.997, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 756.095, + "Actual Total Time": 756.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 755.406, + "Actual Total Time": 755.410, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 369.594, + "Actual Total Time": 756.675, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 756.218, + "Actual Total Time": 756.222, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.77, + "Total Cost": 38263.61, + "Plan Rows": 25, + "Plan Width": 42, + "Actual Startup Time": 680.324, + "Actual Total Time": 757.080, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 754.780, + "Actual Total Time": 754.783, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 529.170, + "Actual Total Time": 756.158, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 756.991, + "Actual Total Time": 756.995, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 756.094, + "Actual Total Time": 756.097, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 755.405, + "Actual Total Time": 755.408, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 369.522, + "Actual Total Time": 756.559, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 756.217, + "Actual Total Time": 756.220, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.34, + "Total Cost": 38260.27, + "Plan Rows": 6, + "Plan Width": 30, + "Actual Startup Time": 680.307, + "Actual Total Time": 757.014, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 754.779, + "Actual Total Time": 754.782, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 529.106, + "Actual Total Time": 755.929, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 756.991, + "Actual Total Time": 756.994, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 756.093, + "Actual Total Time": 756.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 755.404, + "Actual Total Time": 755.407, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 369.460, + "Actual Total Time": 756.269, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 756.216, + "Actual Total Time": 756.219, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 38259.11, + "Plan Rows": 22, + "Plan Width": 34, + "Actual Startup Time": 117.545, + "Actual Total Time": 756.993, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.287, + "Actual Total Time": 754.772, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.239, + "Actual Total Time": 755.883, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 45.882, + "Actual Total Time": 756.981, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.964, + "Actual Total Time": 756.086, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.216, + "Actual Total Time": 755.397, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 369.448, + "Actual Total Time": 756.236, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 83.302, + "Actual Total Time": 756.212, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 57491, + "Plan Width": 9, + "Actual Startup Time": 0.038, + "Actual Total Time": 138.140, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 134.626, + "Actual Rows": 57165, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 138.177, + "Actual Rows": 58909, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 139.094, + "Actual Rows": 59537, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 135.810, + "Actual Rows": 57910, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 141.983, + "Actual Rows": 52535, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 142.230, + "Actual Rows": 58210, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 135.835, + "Actual Rows": 56930, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 13, + "Actual Startup Time": 0.015, + "Actual Total Time": 38.957, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 38.688, + "Actual Rows": 171480, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 39.780, + "Actual Rows": 176718, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 39.751, + "Actual Rows": 178617, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 39.006, + "Actual Rows": 173730, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 35.322, + "Actual Rows": 157775, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 41.356, + "Actual Rows": 174643, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 38.579, + "Actual Rows": 170887, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 459925, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.title <> ''::text) AND ((t.title ~~ 'Champion%'::text) OR (t.title ~~ 'Loser%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 57165 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 58909 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 59537 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 57910 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 52535 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 58210 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 56930 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 29, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.016, + "Actual Rows": 4, + "Actual Loops": 12 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 17 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 95, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 43, + "Cache Hits": 41, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 52, + "Cache Hits": 50, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 4, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 32, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 15 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 17 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 21, + "Plan Width": 8, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.027, + "Actual Rows": 16, + "Actual Loops": 14, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = miidx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.023, + "Actual Rows": 8, + "Actual Loops": 7 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.032, + "Actual Rows": 23, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4778871310081631647, + "Planning Time": 102.296, + "Triggers": [ + ], + "Execution Time": 785.816, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 4778871310081631647, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(miidx.info) AS rating,
       MIN(t.title) AS movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it,
     info_type AS it2,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS miidx,
     title AS t
WHERE cn.country_code ='[us]'
  AND ct.kind ='production companies'
  AND it.info ='rating'
  AND it2.info ='release dates'
  AND kt.kind ='movie'
  AND mi.movie_id = t.id
  AND it2.id = mi.info_type_id
  AND kt.id = t.kind_id
  AND mc.movie_id = t.id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND miidx.movie_id = t.id
  AND it.id = miidx.info_type_id
  AND mi.movie_id = miidx.movie_id
  AND mi.movie_id = mc.movie_id
  AND miidx.movie_id = mc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 64068.29, + "Total Cost": 64068.30, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2681.943, + "Actual Total Time": 2726.176, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(miidx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 64068.22, + "Total Cost": 64068.23, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 2674.826, + "Actual Total Time": 2726.134, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(miidx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 64067.22, + "Total Cost": 64067.23, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2667.751, + "Actual Total Time": 2667.762, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(miidx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2665.645, + "Actual Total Time": 2665.652, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2666.299, + "Actual Total Time": 2666.306, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2666.310, + "Actual Total Time": 2666.317, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2665.942, + "Actual Total Time": 2665.950, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2670.885, + "Actual Total Time": 2670.900, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2666.595, + "Actual Total Time": 2666.603, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2666.313, + "Actual Total Time": 2666.323, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10855.58, + "Total Cost": 63438.72, + "Plan Rows": 83799, + "Plan Width": 41, + "Actual Startup Time": 178.016, + "Actual Total Time": 2595.700, + "Actual Rows": 83799, + "Actual Loops": 8, + "Output": ["cn.name", "miidx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 175.331, + "Actual Total Time": 2601.492, + "Actual Rows": 77178, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 175.037, + "Actual Total Time": 2588.934, + "Actual Rows": 80505, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 179.014, + "Actual Total Time": 2600.853, + "Actual Rows": 76457, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 175.630, + "Actual Total Time": 2587.455, + "Actual Rows": 94359, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 175.085, + "Actual Total Time": 2606.614, + "Actual Rows": 73569, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 175.837, + "Actual Total Time": 2589.164, + "Actual Rows": 90841, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 174.926, + "Actual Total Time": 2592.665, + "Actual Rows": 87578, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10853.74, + "Total Cost": 61967.38, + "Plan Rows": 539573, + "Plan Width": 45, + "Actual Startup Time": 177.590, + "Actual Total Time": 2393.199, + "Actual Rows": 539573, + "Actual Loops": 8, + "Output": ["cn.name", "mi.info_type_id", "miidx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 175.123, + "Actual Total Time": 2416.959, + "Actual Rows": 488613, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 174.679, + "Actual Total Time": 2386.965, + "Actual Rows": 510606, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 178.773, + "Actual Total Time": 2420.156, + "Actual Rows": 491647, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 175.345, + "Actual Total Time": 2371.811, + "Actual Rows": 589155, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 174.663, + "Actual Total Time": 2422.707, + "Actual Rows": 479042, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 174.521, + "Actual Total Time": 2361.341, + "Actual Rows": 618764, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 174.659, + "Actual Total Time": 2377.405, + "Actual Rows": 571279, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10853.30, + "Total Cost": 48661.67, + "Plan Rows": 10912, + "Plan Width": 53, + "Actual Startup Time": 176.183, + "Actual Total Time": 1264.606, + "Actual Rows": 10912, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 175.046, + "Actual Total Time": 1381.079, + "Actual Rows": 9806, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 174.593, + "Actual Total Time": 1251.679, + "Actual Rows": 10988, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 178.697, + "Actual Total Time": 1427.688, + "Actual Rows": 10726, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 175.285, + "Actual Total Time": 1202.063, + "Actual Rows": 11217, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 174.579, + "Actual Total Time": 1385.889, + "Actual Rows": 10642, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 174.431, + "Actual Total Time": 1043.621, + "Actual Rows": 12226, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 174.599, + "Actual Total Time": 1168.438, + "Actual Rows": 10960, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10852.24, + "Total Cost": 48529.67, + "Plan Rows": 31069, + "Plan Width": 57, + "Actual Startup Time": 175.531, + "Actual Total Time": 1247.017, + "Actual Rows": 31069, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id", "t.title", "t.id", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 173.398, + "Actual Total Time": 1363.660, + "Actual Rows": 33288, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 174.583, + "Actual Total Time": 1235.047, + "Actual Rows": 29230, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 176.292, + "Actual Total Time": 1407.544, + "Actual Rows": 39803, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 174.710, + "Actual Total Time": 1185.671, + "Actual Rows": 28155, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 174.061, + "Actual Total Time": 1368.096, + "Actual Rows": 32368, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 174.421, + "Actual Total Time": 1027.640, + "Actual Rows": 25069, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 174.591, + "Actual Total Time": 1150.779, + "Actual Rows": 29371, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10851.81, + "Total Cost": 34063.48, + "Plan Rows": 31069, + "Plan Width": 32, + "Actual Startup Time": 175.462, + "Actual Total Time": 835.133, + "Actual Rows": 31069, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 173.322, + "Actual Total Time": 905.737, + "Actual Rows": 33288, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 174.492, + "Actual Total Time": 870.097, + "Actual Rows": 29230, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 176.234, + "Actual Total Time": 906.079, + "Actual Rows": 39803, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 174.645, + "Actual Total Time": 817.810, + "Actual Rows": 28155, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 173.995, + "Actual Total Time": 934.527, + "Actual Rows": 32368, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 174.340, + "Actual Total Time": 683.891, + "Actual Rows": 25069, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 174.525, + "Actual Total Time": 744.947, + "Actual Rows": 29371, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 10850.77, + "Total Cost": 33670.41, + "Plan Rows": 72514, + "Plan Width": 36, + "Actual Startup Time": 175.180, + "Actual Total Time": 796.985, + "Actual Rows": 72514, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "miidx.info", "miidx.movie_id"], + "Inner Unique": false, + "Hash Cond": "(mc.movie_id = miidx.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 173.297, + "Actual Total Time": 844.842, + "Actual Rows": 88878, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 174.419, + "Actual Total Time": 833.994, + "Actual Rows": 81038, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 174.331, + "Actual Total Time": 861.650, + "Actual Rows": 88950, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 174.477, + "Actual Total Time": 785.575, + "Actual Rows": 67723, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 173.967, + "Actual Total Time": 889.888, + "Actual Rows": 92675, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 174.328, + "Actual Total Time": 657.445, + "Actual Rows": 50104, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 174.512, + "Actual Total Time": 716.561, + "Actual Rows": 50603, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 22139.26, + "Plan Rows": 144225, + "Plan Width": 27, + "Actual Startup Time": 0.139, + "Actual Total Time": 475.014, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.178, + "Actual Total Time": 505.146, + "Actual Rows": 173515, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.118, + "Actual Total Time": 477.673, + "Actual Rows": 167353, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.118, + "Actual Total Time": 523.090, + "Actual Rows": 161486, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.130, + "Actual Total Time": 471.655, + "Actual Rows": 134670, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.172, + "Actual Total Time": 536.585, + "Actual Rows": 172366, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.158, + "Actual Total Time": 380.288, + "Actual Rows": 101919, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.115, + "Actual Total Time": 427.780, + "Actual Rows": 116360, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 23, + "Actual Startup Time": 0.020, + "Actual Total Time": 19.233, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 17.366, + "Actual Rows": 9778, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 17.518, + "Actual Rows": 10032, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 20.040, + "Actual Rows": 11473, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 19.503, + "Actual Rows": 10995, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 21.043, + "Actual Rows": 11479, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 15.822, + "Actual Rows": 9137, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 18.506, + "Actual Rows": 10503, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 14, + "Plan Width": 12, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.037, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.042, + "Actual Rows": 18, + "Actual Loops": 9778 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.039, + "Actual Rows": 17, + "Actual Loops": 10032 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.037, + "Actual Rows": 14, + "Actual Loops": 11473 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.035, + "Actual Rows": 12, + "Actual Loops": 10995 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.038, + "Actual Rows": 15, + "Actual Loops": 11479 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.034, + "Actual Rows": 11, + "Actual Loops": 9137 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.034, + "Actual Rows": 11, + "Actual Loops": 10503 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 10131.70, + "Total Cost": 10131.70, + "Plan Rows": 57491, + "Plan Width": 9, + "Actual Startup Time": 173.840, + "Actual Total Time": 173.844, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Hash Buckets": 524288, + "Original Hash Buckets": 524288, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 22240, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 172.992, + "Actual Total Time": 172.995, + "Actual Rows": 58260, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 174.270, + "Actual Total Time": 174.272, + "Actual Rows": 60058, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 174.103, + "Actual Total Time": 174.105, + "Actual Rows": 59252, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 174.258, + "Actual Total Time": 174.261, + "Actual Rows": 58442, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 173.751, + "Actual Total Time": 173.755, + "Actual Rows": 56754, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 174.109, + "Actual Total Time": 174.112, + "Actual Rows": 53807, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 174.268, + "Actual Total Time": 174.270, + "Actual Rows": 57514, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 57491, + "Plan Width": 9, + "Actual Startup Time": 0.154, + "Actual Total Time": 126.205, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["miidx.info", "miidx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(miidx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.149, + "Actual Total Time": 126.795, + "Actual Rows": 58260, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.151, + "Actual Total Time": 127.314, + "Actual Rows": 60058, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.155, + "Actual Total Time": 126.217, + "Actual Rows": 59252, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.153, + "Actual Total Time": 127.450, + "Actual Rows": 58442, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.155, + "Actual Total Time": 125.774, + "Actual Rows": 56754, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.155, + "Actual Total Time": 126.546, + "Actual Rows": 53807, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.147, + "Actual Total Time": 124.969, + "Actual Rows": 57514, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "miidx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 13, + "Actual Startup Time": 0.019, + "Actual Total Time": 40.265, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["miidx.id", "miidx.movie_id", "miidx.info_type_id", "miidx.info", "miidx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 39.419, + "Actual Rows": 174795, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 39.647, + "Actual Rows": 180187, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 39.520, + "Actual Rows": 177746, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 39.418, + "Actual Rows": 175322, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 39.388, + "Actual Rows": 170359, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 45.836, + "Actual Rows": 161585, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 39.047, + "Actual Rows": 172528, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.095, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.098, + "Actual Total Time": 0.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.093, + "Actual Total Time": 0.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.098, + "Actual Total Time": 0.099, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 14, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 248554, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 33288 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 29230 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 39803 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 28155 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 32368 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 25069 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 29371 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.90, + "Plan Rows": 32, + "Plan Width": 8, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.084, + "Actual Rows": 49, + "Actual Loops": 87293, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.085, + "Actual Rows": 50, + "Actual Loops": 9806 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.084, + "Actual Rows": 46, + "Actual Loops": 10988 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.075, + "Actual Rows": 46, + "Actual Loops": 10726 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.084, + "Actual Rows": 53, + "Actual Loops": 11217 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.080, + "Actual Rows": 45, + "Actual Loops": 10642 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.087, + "Actual Rows": 51, + "Actual Loops": 12226 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.088, + "Actual Rows": 52, + "Actual Loops": 10960 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2434959201386717317, + "Planning Time": 66.134, + "Triggers": [ + ], + "Execution Time": 2726.524, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 2434959201386717317, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS northern_dark_movie
FROM info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind = 'movie'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2010
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4297.98, + "Total Cost": 4297.99, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 390.791, + "Actual Total Time": 425.603, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4297.93, + "Total Cost": 4297.94, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 251.034, + "Actual Total Time": 425.570, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4296.93, + "Total Cost": 4296.94, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 118.600, + "Actual Total Time": 118.609, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 244.053, + "Actual Total Time": 244.062, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.495, + "Actual Total Time": 14.504, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 381.913, + "Actual Total Time": 381.918, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.750, + "Actual Total Time": 14.758, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.297, + "Actual Total Time": 14.305, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.768, + "Actual Total Time": 14.776, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.319, + "Actual Total Time": 14.327, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.48, + "Total Cost": 4296.39, + "Plan Rows": 109, + "Plan Width": 22, + "Actual Startup Time": 27.656, + "Actual Total Time": 118.499, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 38.621, + "Actual Total Time": 243.803, + "Actual Rows": 235, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.491, + "Actual Total Time": 14.499, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 66.505, + "Actual Total Time": 381.554, + "Actual Rows": 346, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.745, + "Actual Total Time": 14.753, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.289, + "Actual Total Time": 14.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.763, + "Actual Total Time": 14.770, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.316, + "Actual Total Time": 14.323, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.63, + "Total Cost": 4294.21, + "Plan Rows": 125, + "Plan Width": 26, + "Actual Startup Time": 27.364, + "Actual Total Time": 118.103, + "Actual Rows": 110, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 38.378, + "Actual Total Time": 243.287, + "Actual Rows": 271, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.212, + "Actual Total Time": 14.219, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 66.222, + "Actual Total Time": 380.925, + "Actual Rows": 398, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.411, + "Actual Total Time": 14.418, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.040, + "Actual Total Time": 14.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.431, + "Actual Total Time": 14.437, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.068, + "Actual Total Time": 14.074, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.20, + "Total Cost": 4105.30, + "Plan Rows": 164, + "Plan Width": 34, + "Actual Startup Time": 27.192, + "Actual Total Time": 103.429, + "Actual Rows": 143, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 38.310, + "Actual Total Time": 204.204, + "Actual Rows": 346, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.211, + "Actual Total Time": 14.217, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 66.116, + "Actual Total Time": 332.096, + "Actual Rows": 512, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.411, + "Actual Total Time": 14.416, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.039, + "Actual Total Time": 14.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.430, + "Actual Total Time": 14.435, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.067, + "Actual Total Time": 14.072, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.35, + "Total Cost": 4102.14, + "Plan Rows": 486, + "Plan Width": 38, + "Actual Startup Time": 27.076, + "Actual Total Time": 103.205, + "Actual Rows": 425, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 38.300, + "Actual Total Time": 203.672, + "Actual Rows": 1028, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.206, + "Actual Total Time": 14.211, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 66.104, + "Actual Total Time": 331.350, + "Actual Rows": 1515, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.405, + "Actual Total Time": 14.409, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.034, + "Actual Total Time": 14.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.424, + "Actual Total Time": 14.428, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.063, + "Actual Total Time": 14.066, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 3957.27, + "Plan Rows": 281, + "Plan Width": 25, + "Actual Startup Time": 27.015, + "Actual Total Time": 98.998, + "Actual Rows": 246, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 37.961, + "Actual Total Time": 193.159, + "Actual Rows": 573, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.206, + "Actual Total Time": 14.210, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 66.015, + "Actual Total Time": 317.157, + "Actual Rows": 903, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.404, + "Actual Total Time": 14.408, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.034, + "Actual Total Time": 14.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.424, + "Actual Total Time": 14.427, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.062, + "Actual Total Time": 14.065, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3954.65, + "Plan Rows": 369, + "Plan Width": 29, + "Actual Startup Time": 11.426, + "Actual Total Time": 98.626, + "Actual Rows": 323, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.632, + "Actual Total Time": 192.311, + "Actual Rows": 710, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.200, + "Actual Total Time": 14.202, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.659, + "Actual Total Time": 315.843, + "Actual Rows": 1236, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.396, + "Actual Total Time": 14.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.026, + "Actual Total Time": 14.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.415, + "Actual Total Time": 14.416, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.055, + "Actual Total Time": 14.057, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 10.952, + "Actual Total Time": 47.562, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.178, + "Actual Total Time": 92.244, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.199, + "Actual Total Time": 14.200, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.217, + "Actual Total Time": 113.622, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.396, + "Actual Total Time": 14.397, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.026, + "Actual Total Time": 14.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.414, + "Actual Total Time": 14.415, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.055, + "Actual Total Time": 14.055, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.320, + "Actual Total Time": 9.329, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.101, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.199, + "Actual Total Time": 14.199, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.190, + "Actual Total Time": 0.195, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.395, + "Actual Total Time": 14.396, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.025, + "Actual Total Time": 14.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.413, + "Actual Total Time": 14.413, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.054, + "Actual Total Time": 14.054, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.59, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 4.341, + "Actual Total Time": 98.376, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.071, + "Actual Total Time": 89.614, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.023, + "Actual Total Time": 107.979, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 1966, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 2, + "Actual Loops": 573 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 903 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.101, + "Actual Rows": 1, + "Actual Loops": 1147, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 69, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.112, + "Actual Rows": 1, + "Actual Loops": 346 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.094, + "Actual Rows": 1, + "Actual Loops": 512 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 274192810335693858, + "Planning Time": 52.386, + "Triggers": [ + ], + "Execution Time": 426.125, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 274192810335693858, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_dark_production
FROM info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title')
  AND kt.kind = 'movie'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info > '6.0'
  AND t.production_year > 2010
  AND (t.title LIKE '%murder%'
       OR t.title LIKE '%Murder%'
       OR t.title LIKE '%Mord%')
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2848.54, + "Total Cost": 2848.55, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 263.691, + "Actual Total Time": 263.861, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2848.50, + "Total Cost": 2848.51, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 263.668, + "Actual Total Time": 263.851, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2847.50, + "Total Cost": 2847.51, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 41.934, + "Actual Total Time": 41.941, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.015, + "Actual Total Time": 12.022, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.921, + "Actual Total Time": 11.926, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.143, + "Actual Total Time": 11.150, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.516, + "Actual Total Time": 6.522, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.518, + "Actual Total Time": 12.525, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.705, + "Actual Total Time": 11.711, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.945, + "Actual Total Time": 6.952, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 2847.49, + "Plan Rows": 1, + "Plan Width": 22, + "Actual Startup Time": 30.789, + "Actual Total Time": 41.934, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.009, + "Actual Total Time": 12.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.915, + "Actual Total Time": 11.920, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.138, + "Actual Total Time": 11.145, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.511, + "Actual Total Time": 6.517, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.512, + "Actual Total Time": 12.517, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.700, + "Actual Total Time": 11.705, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.940, + "Actual Total Time": 6.946, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.01, + "Total Cost": 2847.31, + "Plan Rows": 1, + "Plan Width": 26, + "Actual Startup Time": 30.786, + "Actual Total Time": 41.930, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.008, + "Actual Total Time": 12.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.914, + "Actual Total Time": 11.919, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.138, + "Actual Total Time": 11.143, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.510, + "Actual Total Time": 6.515, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.511, + "Actual Total Time": 12.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.699, + "Actual Total Time": 11.704, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.939, + "Actual Total Time": 6.944, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.58, + "Total Cost": 2846.81, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 15.464, + "Actual Total Time": 41.915, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.007, + "Actual Total Time": 12.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.914, + "Actual Total Time": 11.918, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.137, + "Actual Total Time": 11.141, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.509, + "Actual Total Time": 6.514, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.510, + "Actual Total Time": 12.515, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.698, + "Actual Total Time": 11.703, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.938, + "Actual Total Time": 6.943, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.43, + "Total Cost": 2846.62, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 15.459, + "Actual Total Time": 41.905, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.007, + "Actual Total Time": 12.011, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.913, + "Actual Total Time": 11.916, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.136, + "Actual Total Time": 11.139, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.509, + "Actual Total Time": 6.512, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.510, + "Actual Total Time": 12.513, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.698, + "Actual Total Time": 11.701, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.938, + "Actual Total Time": 6.942, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.00, + "Total Cost": 2845.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 15.325, + "Actual Total Time": 41.587, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.006, + "Actual Total Time": 12.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.912, + "Actual Total Time": 11.915, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.135, + "Actual Total Time": 11.137, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.508, + "Actual Total Time": 6.511, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.509, + "Actual Total Time": 12.512, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.697, + "Actual Total Time": 11.700, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.937, + "Actual Total Time": 6.940, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2845.13, + "Plan Rows": 2, + "Plan Width": 29, + "Actual Startup Time": 9.989, + "Actual Total Time": 41.569, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.005, + "Actual Total Time": 12.008, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.912, + "Actual Total Time": 11.913, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.134, + "Actual Total Time": 11.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.507, + "Actual Total Time": 6.509, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.508, + "Actual Total Time": 12.510, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.696, + "Actual Total Time": 11.698, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.936, + "Actual Total Time": 6.939, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1539.56, + "Plan Rows": 2790, + "Plan Width": 4, + "Actual Startup Time": 9.594, + "Actual Total Time": 16.950, + "Actual Rows": 2441, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.005, + "Actual Total Time": 12.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.911, + "Actual Total Time": 11.912, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.133, + "Actual Total Time": 11.134, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.507, + "Actual Total Time": 6.508, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.507, + "Actual Total Time": 12.509, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.695, + "Actual Total Time": 11.696, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.936, + "Actual Total Time": 6.937, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.579, + "Actual Total Time": 9.581, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.004, + "Actual Total Time": 12.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.910, + "Actual Total Time": 11.910, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.132, + "Actual Total Time": 11.132, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.506, + "Actual Total Time": 6.506, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.506, + "Actual Total Time": 12.507, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.694, + "Actual Total Time": 11.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.934, + "Actual Total Time": 6.935, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 19528, + "Plan Width": 8, + "Actual Startup Time": 0.104, + "Actual Total Time": 54.122, + "Actual Rows": 19528, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 19528, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2010) AND ((t.title ~~ '%murder%'::text) OR (t.title ~~ '%Murder%'::text) OR (t.title ~~ '%Mord%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 15, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.246, + "Actual Total Time": 0.251, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 12, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 5, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '6.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4506995590541967356, + "Planning Time": 67.813, + "Triggers": [ + ], + "Execution Time": 264.270, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -4506995590541967356, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS north_european_dark_production
FROM info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IS NOT NULL
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5551.53, + "Total Cost": 5551.54, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 542.748, + "Actual Total Time": 577.295, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5551.49, + "Total Cost": 5551.50, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 338.491, + "Actual Total Time": 577.267, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5550.49, + "Total Cost": 5550.50, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 166.210, + "Actual Total Time": 166.218, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.464, + "Actual Total Time": 20.472, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.374, + "Actual Total Time": 12.383, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.959, + "Actual Total Time": 19.967, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 371.542, + "Actual Total Time": 371.547, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.334, + "Actual Total Time": 13.345, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.675, + "Actual Total Time": 20.683, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 533.823, + "Actual Total Time": 533.827, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.48, + "Total Cost": 5547.55, + "Plan Rows": 588, + "Plan Width": 22, + "Actual Startup Time": 11.894, + "Actual Total Time": 165.818, + "Actual Rows": 514, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.459, + "Actual Total Time": 20.466, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.369, + "Actual Total Time": 12.377, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.954, + "Actual Total Time": 19.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.985, + "Actual Total Time": 370.490, + "Actual Rows": 1382, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.327, + "Actual Total Time": 13.337, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.671, + "Actual Total Time": 20.679, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.472, + "Actual Total Time": 532.509, + "Actual Rows": 1772, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.63, + "Total Cost": 5543.87, + "Plan Rows": 673, + "Plan Width": 26, + "Actual Startup Time": 11.491, + "Actual Total Time": 165.008, + "Actual Rows": 589, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.131, + "Actual Total Time": 20.137, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.011, + "Actual Total Time": 12.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.654, + "Actual Total Time": 19.660, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.646, + "Actual Total Time": 369.049, + "Actual Rows": 1574, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.530, + "Actual Total Time": 12.538, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.338, + "Actual Total Time": 20.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.136, + "Actual Total Time": 530.822, + "Actual Rows": 2007, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.20, + "Total Cost": 4564.80, + "Plan Rows": 850, + "Plan Width": 34, + "Actual Startup Time": 11.456, + "Actual Total Time": 92.213, + "Actual Rows": 744, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.130, + "Actual Total Time": 20.135, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.010, + "Actual Total Time": 12.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.653, + "Actual Total Time": 19.659, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.552, + "Actual Total Time": 170.166, + "Actual Rows": 1969, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.529, + "Actual Total Time": 12.535, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.337, + "Actual Total Time": 20.342, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.055, + "Actual Total Time": 305.677, + "Actual Rows": 2608, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.35, + "Total Cost": 4555.99, + "Plan Rows": 2556, + "Plan Width": 38, + "Actual Startup Time": 11.439, + "Actual Total Time": 91.281, + "Actual Rows": 2236, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.124, + "Actual Total Time": 20.128, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.003, + "Actual Total Time": 12.008, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.648, + "Actual Total Time": 19.651, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.539, + "Actual Total Time": 167.768, + "Actual Rows": 5901, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.516, + "Actual Total Time": 12.521, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.331, + "Actual Total Time": 20.335, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.042, + "Actual Total Time": 302.447, + "Actual Rows": 7869, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 3961.58, + "Plan Rows": 1153, + "Plan Width": 25, + "Actual Startup Time": 11.255, + "Actual Total Time": 73.640, + "Actual Rows": 1009, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.124, + "Actual Total Time": 20.127, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.002, + "Actual Total Time": 12.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.647, + "Actual Total Time": 19.650, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.460, + "Actual Total Time": 121.782, + "Actual Rows": 2502, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.515, + "Actual Total Time": 12.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.330, + "Actual Total Time": 20.334, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.978, + "Actual Total Time": 242.141, + "Actual Rows": 3653, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3954.65, + "Plan Rows": 1391, + "Plan Width": 29, + "Actual Startup Time": 11.175, + "Actual Total Time": 72.666, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.116, + "Actual Total Time": 20.117, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.993, + "Actual Total Time": 11.995, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.640, + "Actual Total Time": 19.641, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.323, + "Actual Total Time": 119.452, + "Actual Rows": 3009, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.498, + "Actual Total Time": 12.501, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.322, + "Actual Total Time": 20.323, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.647, + "Actual Total Time": 238.770, + "Actual Rows": 4326, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 11.147, + "Actual Total Time": 25.804, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.115, + "Actual Total Time": 20.116, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.992, + "Actual Total Time": 11.993, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.639, + "Actual Total Time": 19.640, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.234, + "Actual Total Time": 29.679, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.497, + "Actual Total Time": 12.499, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.321, + "Actual Total Time": 20.322, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.574, + "Actual Total Time": 54.444, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 11.098, + "Actual Total Time": 11.104, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "((k.keyword IS NOT NULL) AND (k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[])))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.114, + "Actual Total Time": 20.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.991, + "Actual Total Time": 11.992, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.638, + "Actual Total Time": 19.639, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.101, + "Actual Total Time": 0.111, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.496, + "Actual Total Time": 12.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.320, + "Actual Total Time": 20.321, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.448, + "Actual Total Time": 0.454, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.59, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.123, + "Actual Total Time": 36.031, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.128, + "Actual Total Time": 27.470, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.122, + "Actual Total Time": 49.069, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 8073, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 2, + "Actual Loops": 2502 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 3653 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.097, + "Actual Rows": 1, + "Actual Loops": 5949, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 71, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.100, + "Actual Rows": 1, + "Actual Loops": 1969 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.085, + "Actual Rows": 1, + "Actual Loops": 2608 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 299267792258938541, + "Planning Time": 58.652, + "Triggers": [ + ], + "Execution Time": 577.746, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 299267792258938541, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(t.title) AS internet_movie
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND mc.note LIKE '%(200%)%'
  AND mc.note LIKE '%(worldwide)%'
  AND mi.note LIKE '%internet%'
  AND mi.info LIKE 'USA:% 200%'
  AND t.production_year > 2000
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27897.93, + "Total Cost": 27897.94, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 602.166, + "Actual Total Time": 639.198, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27897.88, + "Total Cost": 27897.89, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 594.950, + "Actual Total Time": 639.167, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27896.88, + "Total Cost": 27896.89, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 585.271, + "Actual Total Time": 585.279, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 585.863, + "Actual Total Time": 585.871, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 583.069, + "Actual Total Time": 583.076, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 580.392, + "Actual Total Time": 580.399, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 584.213, + "Actual Total Time": 584.221, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 587.434, + "Actual Total Time": 587.443, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 586.251, + "Actual Total Time": 586.259, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 580.802, + "Actual Total Time": 580.808, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.85, + "Total Cost": 27896.68, + "Plan Rows": 41, + "Plan Width": 59, + "Actual Startup Time": 207.607, + "Actual Total Time": 585.216, + "Actual Rows": 41, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.250, + "Actual Total Time": 585.672, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 215.650, + "Actual Total Time": 583.033, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 192.939, + "Actual Total Time": 580.365, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.436, + "Actual Total Time": 584.157, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 163.952, + "Actual Total Time": 587.332, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 586.243, + "Actual Total Time": 586.250, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 52.739, + "Actual Total Time": 580.778, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.43, + "Total Cost": 27878.74, + "Plan Rows": 41, + "Plan Width": 63, + "Actual Startup Time": 207.479, + "Actual Total Time": 583.476, + "Actual Rows": 41, + "Actual Loops": 8, + "Output": ["mi.info", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.987, + "Actual Total Time": 576.742, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 215.599, + "Actual Total Time": 582.501, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 192.891, + "Actual Total Time": 579.985, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.113, + "Actual Total Time": 582.712, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 163.879, + "Actual Total Time": 585.110, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 586.243, + "Actual Total Time": 586.249, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 52.513, + "Actual Total Time": 580.430, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.00, + "Total Cost": 27871.43, + "Plan Rows": 7, + "Plan Width": 75, + "Actual Startup Time": 121.404, + "Actual Total Time": 582.442, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.589, + "Actual Total Time": 575.845, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 215.214, + "Actual Total Time": 581.798, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 192.842, + "Actual Total Time": 579.036, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.983, + "Actual Total Time": 581.757, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 163.540, + "Actual Total Time": 582.926, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 197.827, + "Actual Total Time": 585.709, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 51.985, + "Actual Total Time": 579.475, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.86, + "Total Cost": 27870.17, + "Plan Rows": 7, + "Plan Width": 79, + "Actual Startup Time": 121.369, + "Actual Total Time": 582.343, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.546, + "Actual Total Time": 575.775, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 215.181, + "Actual Total Time": 581.732, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 192.809, + "Actual Total Time": 578.947, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.939, + "Actual Total Time": 581.644, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 163.505, + "Actual Total Time": 582.737, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 197.799, + "Actual Total Time": 585.639, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 51.946, + "Actual Total Time": 579.365, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 27869.63, + "Plan Rows": 7, + "Plan Width": 83, + "Actual Startup Time": 121.288, + "Actual Total Time": 582.226, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.459, + "Actual Total Time": 575.668, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 215.094, + "Actual Total Time": 581.624, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 192.726, + "Actual Total Time": 578.836, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.857, + "Actual Total Time": 581.521, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 163.411, + "Actual Total Time": 582.561, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 197.713, + "Actual Total Time": 585.525, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 51.843, + "Actual Total Time": 579.233, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.28, + "Total Cost": 27172.60, + "Plan Rows": 642, + "Plan Width": 33, + "Actual Startup Time": 5.381, + "Actual Total Time": 522.177, + "Actual Rows": 642, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.558, + "Actual Total Time": 524.805, + "Actual Rows": 625, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.318, + "Actual Total Time": 509.400, + "Actual Rows": 752, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.063, + "Actual Total Time": 533.661, + "Actual Rows": 486, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.584, + "Actual Total Time": 529.065, + "Actual Rows": 509, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.256, + "Actual Total Time": 466.430, + "Actual Rows": 911, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.091, + "Actual Total Time": 534.713, + "Actual Rows": 585, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.540, + "Actual Total Time": 520.379, + "Actual Rows": 605, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 26178.35, + "Plan Rows": 1712, + "Plan Width": 12, + "Actual Startup Time": 4.865, + "Actual Total Time": 498.838, + "Actual Rows": 1712, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.487, + "Actual Total Time": 459.200, + "Actual Rows": 5629, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.777, + "Actual Total Time": 490.954, + "Actual Rows": 1283, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.946, + "Actual Total Time": 520.457, + "Actual Rows": 879, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.511, + "Actual Total Time": 516.710, + "Actual Rows": 788, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.173, + "Actual Total Time": 447.616, + "Actual Rows": 1256, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.012, + "Actual Total Time": 520.391, + "Actual Rows": 893, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.442, + "Actual Total Time": 494.664, + "Actual Rows": 1769, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 23517.91, + "Plan Rows": 5480, + "Plan Width": 8, + "Actual Startup Time": 0.476, + "Actual Total Time": 426.740, + "Actual Rows": 5480, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.481, + "Actual Total Time": 370.073, + "Actual Rows": 7558, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.087, + "Actual Total Time": 413.540, + "Actual Rows": 4862, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.339, + "Actual Total Time": 469.142, + "Actual Rows": 4601, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.536, + "Actual Total Time": 466.536, + "Actual Rows": 4238, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.326, + "Actual Total Time": 381.721, + "Actual Rows": 5159, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.132, + "Actual Total Time": 438.746, + "Actual Rows": 5136, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.507, + "Actual Total Time": 435.140, + "Actual Rows": 4260, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 16.329, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 15.977, + "Actual Rows": 10567, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 18.491, + "Actual Rows": 10905, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 16.603, + "Actual Rows": 11024, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.055, + "Actual Total Time": 13.770, + "Actual Rows": 9107, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 16.452, + "Actual Rows": 10947, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 15.357, + "Actual Rows": 10122, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 16.445, + "Actual Rows": 10823, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.89, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND (mc.note ~~ '%(worldwide)%'::text))", + "Rows Removed by Filter": 13, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 10567 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 10905 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 11024 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 9107 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 10947 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 10122 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 10823 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_aka_title", + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.42, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 43837, + "Output": ["at.movie_id"], + "Index Cond": "(at.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 7558 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 4862 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 4601 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 4238 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 5159 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 5136 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 4260 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 13699, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 5629 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1283 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 879 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 788 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1256 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 893 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1769 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.08, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.093, + "Actual Rows": 0, + "Actual Loops": 5134, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note ~~ '%internet%'::text) AND (mi.info ~~ 'USA:% 200%'::text))", + "Rows Removed by Filter": 72, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.080, + "Actual Rows": 0, + "Actual Loops": 625 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.095, + "Actual Rows": 0, + "Actual Loops": 752 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.092, + "Actual Rows": 0, + "Actual Loops": 486 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.102, + "Actual Rows": 0, + "Actual Loops": 509 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.126, + "Actual Total Time": 0.127, + "Actual Rows": 0, + "Actual Loops": 911 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.086, + "Actual Rows": 0, + "Actual Loops": 585 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.096, + "Actual Total Time": 0.096, + "Actual Rows": 0, + "Actual Loops": 605 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 57, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 6, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 5, + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 7, + "Cache Hits": 6, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 8, + "Cache Hits": 7, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 16, + "Cache Hits": 15, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 5, + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6, + "Cache Hits": 5, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.065, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.068, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.068, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.085, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 57, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 6, + "Plan Width": 8, + "Actual Startup Time": 0.134, + "Actual Total Time": 0.140, + "Actual Rows": 6, + "Actual Loops": 57, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.211, + "Actual Total Time": 0.271, + "Actual Rows": 54, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.128, + "Actual Total Time": 0.136, + "Actual Rows": 6, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.131, + "Actual Total Time": 0.133, + "Actual Rows": 2, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.113, + "Actual Total Time": 0.116, + "Actual Rows": 4, + "Actual Loops": 8 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.128, + "Actual Total Time": 0.133, + "Actual Rows": 4, + "Actual Loops": 16 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.106, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.155, + "Actual Total Time": 0.156, + "Actual Rows": 2, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 328, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 162 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 32 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 33 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 72 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 10 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -460740518707800565, + "Planning Time": 109.846, + "Triggers": [ + ], + "Execution Time": 639.621, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -460740518707800565, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(t.title) AS youtube_movie
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND cn.name = 'YouTube'
  AND it1.info = 'release dates'
  AND mc.note LIKE '%(200%)%'
  AND mc.note LIKE '%(worldwide)%'
  AND mi.note LIKE '%internet%'
  AND mi.info LIKE 'USA:% 200%'
  AND t.production_year BETWEEN 2005 AND 2010
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3506.88, + "Total Cost": 3506.89, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 31.114, + "Actual Total Time": 38.027, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3506.83, + "Total Cost": 3506.84, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 30.654, + "Actual Total Time": 38.006, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3505.83, + "Total Cost": 3505.84, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 20.555, + "Actual Total Time": 20.563, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.775, + "Actual Total Time": 20.782, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.404, + "Actual Total Time": 21.411, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.322, + "Actual Total Time": 14.330, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.410, + "Actual Total Time": 21.417, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.394, + "Actual Total Time": 21.403, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.958, + "Actual Total Time": 13.964, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.399, + "Actual Total Time": 21.406, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.85, + "Total Cost": 3505.81, + "Plan Rows": 5, + "Plan Width": 59, + "Actual Startup Time": 19.847, + "Actual Total Time": 20.551, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.769, + "Actual Total Time": 20.775, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.399, + "Actual Total Time": 21.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.317, + "Actual Total Time": 14.324, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.404, + "Actual Total Time": 21.411, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.761, + "Actual Total Time": 21.348, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.952, + "Actual Total Time": 13.958, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.394, + "Actual Total Time": 21.401, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.43, + "Total Cost": 3503.62, + "Plan Rows": 5, + "Plan Width": 63, + "Actual Startup Time": 19.833, + "Actual Total Time": 20.476, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mi.info", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.768, + "Actual Total Time": 20.773, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.398, + "Actual Total Time": 21.404, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.316, + "Actual Total Time": 14.322, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.403, + "Actual Total Time": 21.410, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.660, + "Actual Total Time": 20.757, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.951, + "Actual Total Time": 13.956, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.393, + "Actual Total Time": 21.399, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.00, + "Total Cost": 3502.49, + "Plan Rows": 1, + "Plan Width": 75, + "Actual Startup Time": 18.960, + "Actual Total Time": 20.452, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.768, + "Actual Total Time": 20.772, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.398, + "Actual Total Time": 21.403, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.315, + "Actual Total Time": 14.320, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.403, + "Actual Total Time": 21.408, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.680, + "Actual Total Time": 20.578, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.950, + "Actual Total Time": 13.955, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.392, + "Actual Total Time": 21.398, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.57, + "Total Cost": 3501.91, + "Plan Rows": 1, + "Plan Width": 54, + "Actual Startup Time": 18.951, + "Actual Total Time": 20.434, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.767, + "Actual Total Time": 20.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.397, + "Actual Total Time": 21.401, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.314, + "Actual Total Time": 14.318, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.402, + "Actual Total Time": 21.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.609, + "Actual Total Time": 20.442, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.949, + "Actual Total Time": 13.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.391, + "Actual Total Time": 21.395, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.44, + "Total Cost": 3501.75, + "Plan Rows": 1, + "Plan Width": 58, + "Actual Startup Time": 18.938, + "Actual Total Time": 20.418, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.766, + "Actual Total Time": 20.770, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.396, + "Actual Total Time": 21.400, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.313, + "Actual Total Time": 14.317, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.401, + "Actual Total Time": 21.405, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.517, + "Actual Total Time": 20.331, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.948, + "Actual Total Time": 13.952, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.390, + "Actual Total Time": 21.394, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 3501.56, + "Plan Rows": 1, + "Plan Width": 62, + "Actual Startup Time": 18.927, + "Actual Total Time": 20.403, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.766, + "Actual Total Time": 20.768, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.396, + "Actual Total Time": 21.398, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.312, + "Actual Total Time": 14.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.400, + "Actual Total Time": 21.402, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.433, + "Actual Total Time": 20.226, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.947, + "Actual Total Time": 13.949, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.389, + "Actual Total Time": 21.392, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 3497.07, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 18.303, + "Actual Total Time": 20.239, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.765, + "Actual Total Time": 20.766, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.395, + "Actual Total Time": 21.396, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.311, + "Actual Total Time": 14.313, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.399, + "Actual Total Time": 21.401, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.447, + "Actual Total Time": 18.919, + "Actual Rows": 27, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.946, + "Actual Total Time": 13.948, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.389, + "Actual Total Time": 21.390, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3478.58, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 18.116, + "Actual Total Time": 19.730, + "Actual Rows": 35, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.764, + "Actual Total Time": 20.765, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.394, + "Actual Total Time": 21.395, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.311, + "Actual Total Time": 14.312, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.398, + "Actual Total Time": 21.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.953, + "Actual Total Time": 14.863, + "Actual Rows": 278, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.945, + "Actual Total Time": 13.946, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.388, + "Actual Total Time": 21.389, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3435.62, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 18.093, + "Actual Total Time": 18.336, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "(((cn.country_code)::text = '[us]'::text) AND (cn.name = 'YouTube'::text))", + "Rows Removed by Filter": 29374, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.762, + "Actual Total Time": 20.763, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.393, + "Actual Total Time": 21.394, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.310, + "Actual Total Time": 14.310, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.397, + "Actual Total Time": 21.398, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.776, + "Actual Total Time": 3.717, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.944, + "Actual Total Time": 13.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 21.387, + "Actual Total Time": 21.388, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 40.18, + "Plan Rows": 278, + "Plan Width": 12, + "Actual Startup Time": 0.172, + "Actual Total Time": 11.036, + "Actual Rows": 278, + "Actual Loops": 1, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND (mc.note ~~ '%(worldwide)%'::text))", + "Rows Removed by Filter": 1180, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.172, + "Actual Total Time": 11.036, + "Actual Rows": 278, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_aka_title", + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.42, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 278, + "Output": ["at.movie_id"], + "Index Cond": "(at.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 278 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.49, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 27, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note ~~ '%internet%'::text) AND (mi.info ~~ 'USA:% 200%'::text))", + "Rows Removed by Filter": 19, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 27 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.01, + "Plan Rows": 12, + "Plan Width": 8, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.051, + "Actual Rows": 12, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.051, + "Actual Rows": 12, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 37, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 37 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4209927756710409746, + "Planning Time": 107.391, + "Triggers": [ + ], + "Execution Time": 38.357, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -4209927756710409746, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS release_date,
       MIN(t.title) AS modern_american_internet_movie
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND mi.note LIKE '%internet%'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'USA:% 199%'
       OR mi.info LIKE 'USA:% 200%')
  AND t.production_year > 1990
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 55999.60, + "Total Cost": 55999.61, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1563.635, + "Actual Total Time": 1581.644, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 55999.55, + "Total Cost": 55999.56, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 1558.940, + "Actual Total Time": 1581.595, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 55998.55, + "Total Cost": 55998.56, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1545.587, + "Actual Total Time": 1545.596, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1540.233, + "Actual Total Time": 1540.239, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1540.792, + "Actual Total Time": 1540.801, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1545.654, + "Actual Total Time": 1545.662, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1540.395, + "Actual Total Time": 1540.403, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1541.626, + "Actual Total Time": 1541.635, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1549.123, + "Actual Total Time": 1549.133, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1548.901, + "Actual Total Time": 1548.910, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.97, + "Total Cost": 55996.93, + "Plan Rows": 324, + "Plan Width": 59, + "Actual Startup Time": 62.559, + "Actual Total Time": 1545.288, + "Actual Rows": 284, + "Actual Loops": 8, + "Output": ["mi.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 163.471, + "Actual Total Time": 1539.959, + "Actual Rows": 264, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.548, + "Actual Total Time": 1540.767, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 118.321, + "Actual Total Time": 1545.076, + "Actual Rows": 537, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.717, + "Actual Total Time": 1540.325, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.641, + "Actual Total Time": 1541.372, + "Actual Rows": 219, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 73.630, + "Actual Total Time": 1548.502, + "Actual Rows": 623, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.038, + "Actual Total Time": 1548.393, + "Actual Rows": 527, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.55, + "Total Cost": 55855.14, + "Plan Rows": 324, + "Plan Width": 63, + "Actual Startup Time": 62.489, + "Actual Total Time": 1541.368, + "Actual Rows": 284, + "Actual Loops": 8, + "Output": ["mi.info", "mk.keyword_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 163.366, + "Actual Total Time": 1537.314, + "Actual Rows": 264, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.470, + "Actual Total Time": 1540.247, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 118.253, + "Actual Total Time": 1538.232, + "Actual Rows": 537, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.650, + "Actual Total Time": 1539.098, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.557, + "Actual Total Time": 1537.659, + "Actual Rows": 219, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 73.558, + "Actual Total Time": 1540.328, + "Actual Rows": 623, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.978, + "Actual Total Time": 1540.844, + "Actual Rows": 527, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 55852.42, + "Plan Rows": 324, + "Plan Width": 67, + "Actual Startup Time": 62.302, + "Actual Total Time": 1540.877, + "Actual Rows": 284, + "Actual Loops": 8, + "Output": ["mi.info", "mi.info_type_id", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 163.257, + "Actual Total Time": 1536.918, + "Actual Rows": 264, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.262, + "Actual Total Time": 1540.014, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 118.071, + "Actual Total Time": 1537.486, + "Actual Rows": 537, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.541, + "Actual Total Time": 1538.927, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.424, + "Actual Total Time": 1537.274, + "Actual Rows": 219, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 73.368, + "Actual Total Time": 1539.481, + "Actual Rows": 623, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.817, + "Actual Total Time": 1540.164, + "Actual Rows": 527, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 55809.02, + "Plan Rows": 41, + "Plan Width": 79, + "Actual Startup Time": 44.583, + "Actual Total Time": 1538.810, + "Actual Rows": 36, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 43.032, + "Actual Total Time": 1534.876, + "Actual Rows": 56, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.157, + "Actual Total Time": 1539.083, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 118.012, + "Actual Total Time": 1534.364, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.945, + "Actual Total Time": 1537.530, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.032, + "Actual Total Time": 1535.352, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 73.102, + "Actual Total Time": 1535.737, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.755, + "Actual Total Time": 1537.652, + "Actual Rows": 46, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.14, + "Total Cost": 55807.66, + "Plan Rows": 41, + "Plan Width": 83, + "Actual Startup Time": 44.516, + "Actual Total Time": 1538.613, + "Actual Rows": 36, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.949, + "Actual Total Time": 1534.628, + "Actual Rows": 56, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.077, + "Actual Total Time": 1538.960, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.948, + "Actual Total Time": 1534.071, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.878, + "Actual Total Time": 1537.420, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.966, + "Actual Total Time": 1535.152, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 73.023, + "Actual Total Time": 1535.474, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.687, + "Actual Total Time": 1537.409, + "Actual Rows": 46, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 55782.49, + "Plan Rows": 57, + "Plan Width": 87, + "Actual Startup Time": 44.448, + "Actual Total Time": 1537.313, + "Actual Rows": 50, + "Actual Loops": 8, + "Output": ["at.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.871, + "Actual Total Time": 1533.037, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.006, + "Actual Total Time": 1538.581, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.882, + "Actual Total Time": 1531.470, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.801, + "Actual Total Time": 1536.852, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.907, + "Actual Total Time": 1533.947, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 72.948, + "Actual Total Time": 1533.709, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.620, + "Actual Total Time": 1535.750, + "Actual Rows": 67, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 55773.21, + "Plan Rows": 17, + "Plan Width": 75, + "Actual Startup Time": 44.347, + "Actual Total Time": 1536.693, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["at.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.763, + "Actual Total Time": 1532.368, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.884, + "Actual Total Time": 1538.301, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.754, + "Actual Total Time": 1530.396, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.695, + "Actual Total Time": 1536.564, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.808, + "Actual Total Time": 1533.298, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 72.854, + "Actual Total Time": 1532.932, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.527, + "Actual Total Time": 1534.891, + "Actual Rows": 25, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 33422.65, + "Plan Rows": 20139, + "Plan Width": 25, + "Actual Startup Time": 0.308, + "Actual Total Time": 537.554, + "Actual Rows": 17622, + "Actual Loops": 8, + "Output": ["at.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.239, + "Actual Total Time": 519.087, + "Actual Rows": 17509, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.321, + "Actual Total Time": 518.290, + "Actual Rows": 17327, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.412, + "Actual Total Time": 551.202, + "Actual Rows": 18017, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.193, + "Actual Total Time": 526.339, + "Actual Rows": 16346, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.150, + "Actual Total Time": 545.255, + "Actual Rows": 18250, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.261, + "Actual Total Time": 547.905, + "Actual Rows": 17006, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.247, + "Actual Total Time": 533.339, + "Actual Rows": 17628, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_aka_title", + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.42, + "Total Cost": 3432.97, + "Plan Rows": 51639, + "Plan Width": 4, + "Actual Startup Time": 0.083, + "Actual Total Time": 30.245, + "Actual Rows": 45184, + "Actual Loops": 8, + "Output": ["at.movie_id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.054, + "Actual Total Time": 28.634, + "Actual Rows": 44216, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.114, + "Actual Total Time": 29.269, + "Actual Rows": 43976, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.102, + "Actual Total Time": 29.960, + "Actual Rows": 45236, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.062, + "Actual Total Time": 28.932, + "Actual Rows": 42995, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.076, + "Actual Total Time": 30.889, + "Actual Rows": 46934, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.118, + "Actual Total Time": 31.612, + "Actual Rows": 44432, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.100, + "Actual Total Time": 30.586, + "Actual Rows": 45436, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 361472, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 44216 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 43976 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 45236 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 42995 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 46934 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 44432 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 45436 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.10, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 140974, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND (mi.note ~~ '%internet%'::text) AND ((mi.info ~~ 'USA:% 199%'::text) OR (mi.info ~~ 'USA:% 200%'::text)))", + "Rows Removed by Filter": 38, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 17509 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 17327 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 18017 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 16346 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 18250 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 17006 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 17628 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.037, + "Actual Rows": 3, + "Actual Loops": 120, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.030, + "Actual Rows": 3, + "Actual Loops": 20 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.064, + "Actual Rows": 3, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.038, + "Actual Rows": 5, + "Actual Loops": 25 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.066, + "Actual Rows": 3, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.036, + "Actual Rows": 3, + "Actual Loops": 16 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.040, + "Actual Rows": 4, + "Actual Loops": 17 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.030, + "Actual Rows": 3, + "Actual Loops": 25 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 400, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 62 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 118 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 46 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 67 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 67 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 284, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 11, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 56, + "Cache Hits": 54, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 8, + "Cache Hits": 6, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 72, + "Cache Hits": 70, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 9, + "Cache Hits": 7, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 33, + "Cache Hits": 31, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 47, + "Cache Hits": 45, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 46, + "Cache Hits": 44, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 8, + "Plan Width": 8, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.052, + "Actual Rows": 8, + "Actual Loops": 284, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.034, + "Actual Rows": 5, + "Actual Loops": 56 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.112, + "Actual Total Time": 0.113, + "Actual Rows": 2, + "Actual Loops": 8 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.039, + "Actual Rows": 7, + "Actual Loops": 72 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.151, + "Actual Rows": 4, + "Actual Loops": 9 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.054, + "Actual Rows": 7, + "Actual Loops": 33 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.064, + "Actual Rows": 13, + "Actual Loops": 47 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.049, + "Actual Rows": 11, + "Actual Loops": 46 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 2271, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 264 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 537 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 37 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 219 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 623 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 527 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4486446217020337985, + "Planning Time": 120.195, + "Triggers": [ + ], + "Execution Time": 1582.092, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 4486446217020337985, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(at.title) AS aka_title,
       MIN(t.title) AS internet_movie_title
FROM aka_title AS at,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND mi.note LIKE '%internet%'
  AND t.production_year > 1990
  AND t.id = at.movie_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = at.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = at.movie_id
  AND mc.movie_id = at.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51412.98, + "Total Cost": 51412.99, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1604.793, + "Actual Total Time": 1650.824, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(at.title)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51412.93, + "Total Cost": 51412.94, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 1599.026, + "Actual Total Time": 1650.793, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(at.title))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51411.93, + "Total Cost": 51411.94, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1590.208, + "Actual Total Time": 1590.216, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(at.title)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1590.503, + "Actual Total Time": 1590.510, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1589.456, + "Actual Total Time": 1589.463, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1584.395, + "Actual Total Time": 1584.402, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1591.027, + "Actual Total Time": 1591.035, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1591.416, + "Actual Total Time": 1591.423, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1590.380, + "Actual Total Time": 1590.386, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1586.387, + "Actual Total Time": 1586.394, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.46, + "Total Cost": 51404.84, + "Plan Rows": 1418, + "Plan Width": 38, + "Actual Startup Time": 81.835, + "Actual Total Time": 1589.013, + "Actual Rows": 1418, + "Actual Loops": 8, + "Output": ["at.title", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.921, + "Actual Total Time": 1589.816, + "Actual Rows": 728, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 114.202, + "Actual Total Time": 1588.587, + "Actual Rows": 942, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.634, + "Actual Total Time": 1583.257, + "Actual Rows": 1333, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.733, + "Actual Total Time": 1589.406, + "Actual Rows": 2095, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 140.644, + "Actual Total Time": 1590.521, + "Actual Rows": 1052, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 82.519, + "Actual Total Time": 1588.580, + "Actual Rows": 2378, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 177.084, + "Actual Total Time": 1584.770, + "Actual Rows": 1834, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.04, + "Total Cost": 50784.29, + "Plan Rows": 1418, + "Plan Width": 42, + "Actual Startup Time": 81.755, + "Actual Total Time": 1574.607, + "Actual Rows": 1418, + "Actual Loops": 8, + "Output": ["at.title", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.827, + "Actual Total Time": 1582.212, + "Actual Rows": 728, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 114.104, + "Actual Total Time": 1578.613, + "Actual Rows": 942, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.556, + "Actual Total Time": 1569.750, + "Actual Rows": 1333, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.668, + "Actual Total Time": 1569.672, + "Actual Rows": 2095, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 140.535, + "Actual Total Time": 1578.508, + "Actual Rows": 1052, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 82.443, + "Actual Total Time": 1567.265, + "Actual Rows": 2378, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 177.008, + "Actual Total Time": 1565.010, + "Actual Rows": 1834, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.61, + "Total Cost": 50663.48, + "Plan Rows": 109, + "Plan Width": 54, + "Actual Startup Time": 18.711, + "Actual Total Time": 1567.817, + "Actual Rows": 109, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mc.movie_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.062, + "Actual Total Time": 1577.033, + "Actual Rows": 86, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.639, + "Actual Total Time": 1571.787, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 31.494, + "Actual Total Time": 1564.597, + "Actual Rows": 123, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.604, + "Actual Total Time": 1562.919, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.417, + "Actual Total Time": 1573.311, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.028, + "Actual Total Time": 1558.380, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.747, + "Actual Total Time": 1557.407, + "Actual Rows": 127, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.56, + "Total Cost": 50661.84, + "Plan Rows": 109, + "Plan Width": 58, + "Actual Startup Time": 18.305, + "Actual Total Time": 1567.162, + "Actual Rows": 109, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.792, + "Actual Total Time": 1576.573, + "Actual Rows": 86, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.279, + "Actual Total Time": 1571.189, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.782, + "Actual Total Time": 1563.624, + "Actual Rows": 123, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.263, + "Actual Total Time": 1562.337, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.130, + "Actual Total Time": 1572.848, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.767, + "Actual Total Time": 1557.846, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.088, + "Actual Total Time": 1556.449, + "Actual Rows": 127, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 50546.13, + "Plan Rows": 262, + "Plan Width": 62, + "Actual Startup Time": 14.897, + "Actual Total Time": 1560.507, + "Actual Rows": 262, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.729, + "Actual Total Time": 1572.897, + "Actual Rows": 189, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.223, + "Actual Total Time": 1565.041, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.727, + "Actual Total Time": 1548.252, + "Actual Rows": 258, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.199, + "Actual Total Time": 1557.072, + "Actual Rows": 285, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.076, + "Actual Total Time": 1569.365, + "Actual Rows": 154, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.703, + "Actual Total Time": 1552.364, + "Actual Rows": 305, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.329, + "Actual Total Time": 1549.903, + "Actual Rows": 287, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 50505.54, + "Plan Rows": 73, + "Plan Width": 50, + "Actual Startup Time": 14.798, + "Actual Total Time": 1557.890, + "Actual Rows": 73, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.634, + "Actual Total Time": 1570.754, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.129, + "Actual Total Time": 1562.159, + "Actual Rows": 80, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.626, + "Actual Total Time": 1545.575, + "Actual Rows": 80, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.109, + "Actual Total Time": 1554.685, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.976, + "Actual Total Time": 1567.279, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.620, + "Actual Total Time": 1549.293, + "Actual Rows": 77, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.161, + "Actual Total Time": 1547.209, + "Actual Rows": 74, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 50503.47, + "Plan Rows": 83, + "Plan Width": 54, + "Actual Startup Time": 14.766, + "Actual Total Time": 1557.471, + "Actual Rows": 83, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.611, + "Actual Total Time": 1570.399, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.107, + "Actual Total Time": 1561.726, + "Actual Rows": 86, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 30.596, + "Actual Total Time": 1545.169, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.087, + "Actual Total Time": 1554.325, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.953, + "Actual Total Time": 1566.947, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 26.595, + "Actual Total Time": 1548.885, + "Actual Rows": 82, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.103, + "Actual Total Time": 1546.666, + "Actual Rows": 85, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 32884.74, + "Plan Rows": 17622, + "Plan Width": 46, + "Actual Startup Time": 1.105, + "Actual Total Time": 666.032, + "Actual Rows": 17622, + "Actual Loops": 8, + "Output": ["at.title", "at.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.567, + "Actual Total Time": 659.926, + "Actual Rows": 17983, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.347, + "Actual Total Time": 671.034, + "Actual Rows": 18063, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.435, + "Actual Total Time": 681.077, + "Actual Rows": 16855, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.337, + "Actual Total Time": 654.306, + "Actual Rows": 17501, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.174, + "Actual Total Time": 681.084, + "Actual Rows": 17710, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.241, + "Actual Total Time": 656.665, + "Actual Rows": 17727, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.421, + "Actual Total Time": 651.571, + "Actual Rows": 17209, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_title", + "Schema": "public", + "Alias": "at", + "Startup Cost": 0.00, + "Total Cost": 6643.84, + "Plan Rows": 45184, + "Plan Width": 25, + "Actual Startup Time": 0.953, + "Actual Total Time": 46.828, + "Actual Rows": 45184, + "Actual Loops": 8, + "Output": ["at.id", "at.movie_id", "at.title", "at.imdb_index", "at.kind_id", "at.production_year", "at.phonetic_code", "at.episode_of_id", "at.season_nr", "at.episode_nr", "at.note", "at.md5sum"],+ "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.208, + "Actual Total Time": 44.027, + "Actual Rows": 46241, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.215, + "Actual Total Time": 48.032, + "Actual Rows": 46431, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.257, + "Actual Total Time": 51.914, + "Actual Rows": 43549, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.212, + "Actual Total Time": 39.334, + "Actual Rows": 44707, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 42.487, + "Actual Rows": 45265, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.174, + "Actual Total Time": 47.441, + "Actual Rows": 45345, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.271, + "Actual Total Time": 43.555, + "Actual Rows": 44485, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.58, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 361472, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"], + "Index Cond": "(t.id = at.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 46241 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 46431 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 43549 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 44707 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 45265 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 45345 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 44485 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.99, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 140974, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.note ~~ '%internet%'::text)", + "Rows Removed by Filter": 38, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 17983 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 18063 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 16855 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 17501 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 17710 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 17727 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 17209 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.031, + "Actual Rows": 4, + "Actual Loops": 584, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.028, + "Actual Rows": 3, + "Actual Loops": 65 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.031, + "Actual Rows": 4, + "Actual Loops": 80 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.029, + "Actual Rows": 3, + "Actual Loops": 80 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.032, + "Actual Rows": 5, + "Actual Loops": 63 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.032, + "Actual Rows": 3, + "Actual Loops": 57 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.035, + "Actual Rows": 4, + "Actual Loops": 77 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.031, + "Actual Rows": 4, + "Actual Loops": 74 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2099, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 189 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 301 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 258 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 285 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 154 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 305 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 287 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.02, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.069, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.029, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["ct.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 13, + "Plan Width": 8, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.055, + "Actual Rows": 13, + "Actual Loops": 875, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.055, + "Actual Rows": 8, + "Actual Loops": 86 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.062, + "Actual Rows": 9, + "Actual Loops": 101 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.036, + "Actual Rows": 11, + "Actual Loops": 123 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.055, + "Actual Rows": 20, + "Actual Loops": 107 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.065, + "Actual Rows": 15, + "Actual Loops": 71 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.067, + "Actual Rows": 20, + "Actual Loops": 118 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.052, + "Actual Rows": 14, + "Actual Loops": 127 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 11347, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 728 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 942 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1333 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 2095 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1052 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 2378 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1834 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -321921298358758659, + "Planning Time": 95.501, + "Triggers": [ + ], + "Execution Time": 1651.265, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -321921298358758659, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND t.episode_nr >= 50
  AND t.episode_nr < 100
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4593.22, + "Total Cost": 4593.23, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 602.199, + "Actual Total Time": 602.369, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4593.18, + "Total Cost": 4593.19, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 602.179, + "Actual Total Time": 602.358, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4592.18, + "Total Cost": 4592.19, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 80.697, + "Actual Total Time": 80.703, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.661, + "Actual Total Time": 5.669, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.889, + "Actual Total Time": 5.896, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.053, + "Actual Total Time": 6.060, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.923, + "Actual Total Time": 7.929, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.248, + "Actual Total Time": 6.255, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.273, + "Actual Total Time": 6.280, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.132, + "Actual Total Time": 6.140, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 4591.90, + "Plan Rows": 55, + "Plan Width": 33, + "Actual Startup Time": 8.352, + "Actual Total Time": 80.662, + "Actual Rows": 48, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.656, + "Actual Total Time": 5.663, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.884, + "Actual Total Time": 5.890, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.048, + "Actual Total Time": 6.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.918, + "Actual Total Time": 7.924, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.244, + "Actual Total Time": 6.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.268, + "Actual Total Time": 6.275, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.127, + "Actual Total Time": 6.135, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 4570.15, + "Plan Rows": 46, + "Plan Width": 25, + "Actual Startup Time": 8.313, + "Actual Total Time": 78.602, + "Actual Rows": 40, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.656, + "Actual Total Time": 5.661, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.883, + "Actual Total Time": 5.888, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.048, + "Actual Total Time": 6.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.917, + "Actual Total Time": 7.922, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.244, + "Actual Total Time": 6.249, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.267, + "Actual Total Time": 6.273, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.126, + "Actual Total Time": 6.133, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 4549.55, + "Plan Rows": 46, + "Plan Width": 21, + "Actual Startup Time": 8.307, + "Actual Total Time": 77.381, + "Actual Rows": 40, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.655, + "Actual Total Time": 5.660, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.882, + "Actual Total Time": 5.886, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.047, + "Actual Total Time": 6.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.917, + "Actual Total Time": 7.921, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.243, + "Actual Total Time": 6.248, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.266, + "Actual Total Time": 6.271, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.126, + "Actual Total Time": 6.130, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 4544.14, + "Plan Rows": 4, + "Plan Width": 29, + "Actual Startup Time": 8.301, + "Actual Total Time": 76.409, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.654, + "Actual Total Time": 5.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.881, + "Actual Total Time": 5.884, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.046, + "Actual Total Time": 6.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.916, + "Actual Total Time": 7.920, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.242, + "Actual Total Time": 6.246, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.265, + "Actual Total Time": 6.269, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.125, + "Actual Total Time": 6.129, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 4540.61, + "Plan Rows": 8, + "Plan Width": 33, + "Actual Startup Time": 8.267, + "Actual Total Time": 76.305, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.654, + "Actual Total Time": 5.657, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.880, + "Actual Total Time": 5.883, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.045, + "Actual Total Time": 6.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.916, + "Actual Total Time": 7.919, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.242, + "Actual Total Time": 6.245, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.264, + "Actual Total Time": 6.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.124, + "Actual Total Time": 6.127, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4529.72, + "Plan Rows": 21, + "Plan Width": 25, + "Actual Startup Time": 7.814, + "Actual Total Time": 76.131, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.653, + "Actual Total Time": 5.655, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.879, + "Actual Total Time": 5.881, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.045, + "Actual Total Time": 6.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.916, + "Actual Total Time": 7.917, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.241, + "Actual Total Time": 6.243, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.263, + "Actual Total Time": 6.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.123, + "Actual Total Time": 6.125, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.68, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 5.736, + "Actual Total Time": 26.620, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.653, + "Actual Total Time": 5.654, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.878, + "Actual Total Time": 5.880, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.044, + "Actual Total Time": 6.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.915, + "Actual Total Time": 7.916, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.240, + "Actual Total Time": 6.242, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.263, + "Actual Total Time": 6.264, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.123, + "Actual Total Time": 6.124, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.721, + "Actual Total Time": 5.722, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.652, + "Actual Total Time": 5.652, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.877, + "Actual Total Time": 5.878, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.043, + "Actual Total Time": 6.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.914, + "Actual Total Time": 7.915, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.240, + "Actual Total Time": 6.240, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.262, + "Actual Total Time": 6.262, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.121, + "Actual Total Time": 6.122, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.108, + "Actual Total Time": 156.564, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.episode_nr >= 50) AND (t.episode_nr < 100))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 146, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 54, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 18, + "Plan Width": 8, + "Actual Startup Time": 0.122, + "Actual Total Time": 0.304, + "Actual Rows": 13, + "Actual Loops": 25, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 323, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 323, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 816913887554954199, + "Planning Time": 56.712, + "Triggers": [ + ], + "Execution Time": 602.736, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 816913887554954199, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 93521.24, + "Total Cost": 93521.25, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 13338.819, + "Actual Total Time": 13399.527, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 93521.19, + "Total Cost": 93521.20, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 13292.138, + "Actual Total Time": 13399.489, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 93520.19, + "Total Cost": 93520.20, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 13283.081, + "Actual Total Time": 13284.371, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13313.940, + "Actual Total Time": 13313.950, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13276.903, + "Actual Total Time": 13276.912, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13276.979, + "Actual Total Time": 13276.992, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 13277.020, + "Actual Total Time": 13277.028, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13276.794, + "Actual Total Time": 13276.802, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13276.374, + "Actual Total Time": 13276.383, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13275.413, + "Actual Total Time": 13275.423, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 78146.48, + "Total Cost": 91201.07, + "Plan Rows": 463824, + "Plan Width": 33, + "Actual Startup Time": 12636.870, + "Actual Total Time": 13045.448, + "Actual Rows": 463824, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(an.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12635.565, + "Actual Total Time": 13068.718, + "Actual Rows": 474389, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12635.375, + "Actual Total Time": 13054.201, + "Actual Rows": 420438, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12635.242, + "Actual Total Time": 13041.475, + "Actual Rows": 484763, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12635.407, + "Actual Total Time": 13038.568, + "Actual Rows": 452850, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12635.326, + "Actual Total Time": 13032.572, + "Actual Rows": 455445, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12634.746, + "Actual Total Time": 13039.602, + "Actual Rows": 471958, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12633.833, + "Actual Total Time": 13032.796, + "Actual Rows": 465664, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.00, + "Total Cost": 12522.68, + "Plan Rows": 112668, + "Plan Width": 20, + "Actual Startup Time": 0.317, + "Actual Total Time": 66.223, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.401, + "Actual Total Time": 61.712, + "Actual Rows": 106898, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.403, + "Actual Total Time": 83.486, + "Actual Rows": 102372, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.089, + "Actual Total Time": 61.819, + "Actual Rows": 117462, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.359, + "Actual Total Time": 63.934, + "Actual Rows": 105286, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.464, + "Actual Total Time": 67.221, + "Actual Rows": 113173, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.268, + "Actual Total Time": 68.944, + "Actual Rows": 121537, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.289, + "Actual Total Time": 60.249, + "Actual Rows": 110624, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 73088.35, + "Total Cost": 73088.35, + "Plan Rows": 404651, + "Plan Width": 25, + "Actual Startup Time": 12626.809, + "Actual Total Time": 12628.098, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 209760, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12634.491, + "Actual Total Time": 12634.498, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12634.468, + "Actual Total Time": 12634.476, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12634.676, + "Actual Total Time": 12634.687, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12634.469, + "Actual Total Time": 12634.476, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12634.538, + "Actual Total Time": 12634.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12633.854, + "Actual Total Time": 12633.862, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 12632.949, + "Actual Total Time": 12632.958, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 48627.33, + "Total Cost": 73088.35, + "Plan Rows": 404651, + "Plan Width": 25, + "Actual Startup Time": 762.596, + "Actual Total Time": 2042.166, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 763.200, + "Actual Total Time": 763.206, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 763.206, + "Actual Total Time": 763.214, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 763.238, + "Actual Total Time": 763.248, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 763.215, + "Actual Total Time": 763.222, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 763.240, + "Actual Total Time": 763.247, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 763.187, + "Actual Total Time": 763.194, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 763.166, + "Actual Total Time": 763.174, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3496.48, + "Total Cost": 26895.29, + "Plan Rows": 404651, + "Plan Width": 21, + "Actual Startup Time": 28.656, + "Actual Total Time": 1077.407, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.290, + "Actual Total Time": 29.295, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.270, + "Actual Total Time": 29.276, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.292, + "Actual Total Time": 29.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.271, + "Actual Total Time": 29.277, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.293, + "Actual Total Time": 29.298, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.308, + "Actual Total Time": 29.313, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.266, + "Actual Total Time": 29.272, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3496.04, + "Total Cost": 11343.96, + "Plan Rows": 9759, + "Plan Width": 29, + "Actual Startup Time": 28.593, + "Actual Total Time": 178.811, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.289, + "Actual Total Time": 29.293, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.268, + "Actual Total Time": 29.273, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.290, + "Actual Total Time": 29.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.270, + "Actual Total Time": 29.275, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.291, + "Actual Total Time": 29.296, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.306, + "Actual Total Time": 29.311, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.265, + "Actual Total Time": 29.270, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 7793.50, + "Plan Rows": 21222, + "Plan Width": 33, + "Actual Startup Time": 5.401, + "Actual Total Time": 142.076, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.103, + "Actual Total Time": 6.105, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.083, + "Actual Total Time": 6.086, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.105, + "Actual Total Time": 6.109, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.086, + "Actual Total Time": 6.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.102, + "Actual Total Time": 6.105, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.123, + "Actual Total Time": 6.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.082, + "Actual Total Time": 6.085, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4499.83, + "Plan Rows": 5977, + "Plan Width": 25, + "Actual Startup Time": 5.387, + "Actual Total Time": 75.040, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.102, + "Actual Total Time": 6.103, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.082, + "Actual Total Time": 6.084, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.104, + "Actual Total Time": 6.107, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.085, + "Actual Total Time": 6.086, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.101, + "Actual Total Time": 6.103, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.121, + "Actual Total Time": 6.124, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.081, + "Actual Total Time": 6.083, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.68, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 5.382, + "Actual Total Time": 21.943, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.101, + "Actual Total Time": 6.101, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.080, + "Actual Total Time": 6.082, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.103, + "Actual Total Time": 6.105, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.084, + "Actual Total Time": 6.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.100, + "Actual Total Time": 6.101, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.121, + "Actual Total Time": 6.122, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.080, + "Actual Total Time": 6.081, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.369, + "Actual Total Time": 5.370, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.100, + "Actual Total Time": 6.100, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.079, + "Actual Total Time": 6.080, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.101, + "Actual Total Time": 6.102, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.083, + "Actual Total Time": 6.083, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.099, + "Actual Total Time": 6.099, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.120, + "Actual Total Time": 6.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.079, + "Actual Total Time": 6.079, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.092, + "Actual Total Time": 121.778, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.011, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 22.931, + "Actual Total Time": 22.932, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4512, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 23.139, + "Actual Total Time": 23.140, + "Actual Rows": 10731, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 23.143, + "Actual Total Time": 23.143, + "Actual Rows": 10798, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.468, + "Actual Total Time": 21.468, + "Actual Rows": 11020, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.144, + "Actual Total Time": 23.145, + "Actual Rows": 10534, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.146, + "Actual Total Time": 23.146, + "Actual Rows": 9653, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.138, + "Actual Total Time": 23.138, + "Actual Rows": 10698, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.138, + "Actual Total Time": 23.139, + "Actual Rows": 10654, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 15.358, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 15.380, + "Actual Rows": 10731, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 15.377, + "Actual Rows": 10798, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 15.481, + "Actual Rows": 11020, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.034, + "Actual Total Time": 15.219, + "Actual Rows": 10534, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 15.336, + "Actual Rows": 9653, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 15.400, + "Actual Rows": 10698, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.065, + "Actual Total Time": 15.347, + "Actual Rows": 10654, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.18, + "Plan Rows": 41, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.095, + "Actual Rows": 41, + "Actual Loops": 68316, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 38619.15, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 725.634, + "Actual Total Time": 725.635, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 195904, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 733.875, + "Actual Total Time": 733.875, + "Actual Rows": 516426, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 733.904, + "Actual Total Time": 733.905, + "Actual Rows": 524327, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 733.920, + "Actual Total Time": 733.921, + "Actual Rows": 539850, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 733.912, + "Actual Total Time": 733.913, + "Actual Rows": 543876, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 733.915, + "Actual Total Time": 733.915, + "Actual Rows": 481290, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 733.854, + "Actual Total Time": 733.855, + "Actual Rows": 495930, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 733.875, + "Actual Total Time": 733.876, + "Actual Rows": 520086, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 1.172, + "Actual Total Time": 261.891, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.677, + "Actual Total Time": 254.663, + "Actual Rows": 516426, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.241, + "Actual Total Time": 252.253, + "Actual Rows": 524327, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.338, + "Actual Total Time": 263.048, + "Actual Rows": 539850, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.118, + "Actual Total Time": 261.264, + "Actual Rows": 543876, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.127, + "Actual Total Time": 272.143, + "Actual Rows": 481290, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.471, + "Actual Total Time": 269.527, + "Actual Rows": 495930, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.332, + "Actual Total Time": 260.655, + "Actual Rows": 520086, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3350265702090035455, + "Planning Time": 53.784, + "Triggers": [ + ], + "Execution Time": 13399.875, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3350265702090035455, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND t.episode_nr < 100
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 35270.21, + "Total Cost": 35270.22, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3279.336, + "Actual Total Time": 3322.766, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 35270.16, + "Total Cost": 35270.17, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 3275.218, + "Actual Total Time": 3322.710, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 35269.16, + "Total Cost": 35269.17, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3266.512, + "Actual Total Time": 3266.521, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3265.432, + "Actual Total Time": 3265.440, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3264.692, + "Actual Total Time": 3264.699, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3265.496, + "Actual Total Time": 3265.505, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3268.352, + "Actual Total Time": 3268.365, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3263.897, + "Actual Total Time": 3263.905, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3264.893, + "Actual Total Time": 3264.901, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3265.310, + "Actual Total Time": 3265.318, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 22115.45, + "Total Cost": 35069.20, + "Plan Rows": 39992, + "Plan Width": 33, + "Actual Startup Time": 3104.460, + "Actual Total Time": 3239.528, + "Actual Rows": 39992, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(an.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3103.646, + "Actual Total Time": 3236.229, + "Actual Rows": 27276, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3102.956, + "Actual Total Time": 3237.937, + "Actual Rows": 43011, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3103.586, + "Actual Total Time": 3237.790, + "Actual Rows": 46376, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3103.946, + "Actual Total Time": 3237.017, + "Actual Rows": 36698, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3102.215, + "Actual Total Time": 3239.760, + "Actual Rows": 39815, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3103.139, + "Actual Total Time": 3239.094, + "Actual Rows": 42430, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3103.592, + "Actual Total Time": 3243.028, + "Actual Rows": 36562, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.00, + "Total Cost": 12522.68, + "Plan Rows": 112668, + "Plan Width": 20, + "Actual Startup Time": 0.074, + "Actual Total Time": 45.026, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.083, + "Actual Total Time": 44.502, + "Actual Rows": 85327, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.081, + "Actual Total Time": 44.957, + "Actual Rows": 121906, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.055, + "Actual Total Time": 40.901, + "Actual Rows": 129694, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.089, + "Actual Total Time": 42.578, + "Actual Rows": 84335, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 47.339, + "Actual Rows": 129623, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.076, + "Actual Total Time": 47.524, + "Actual Rows": 116317, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.091, + "Actual Total Time": 49.572, + "Actual Rows": 109434, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 21719.73, + "Total Cost": 21719.73, + "Plan Rows": 31658, + "Plan Width": 25, + "Actual Startup Time": 3102.995, + "Actual Total Time": 3103.001, + "Actual Rows": 27701, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Hash Buckets": 262144, + "Original Hash Buckets": 262144, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 16512, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3103.186, + "Actual Total Time": 3103.192, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3102.403, + "Actual Total Time": 3102.408, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3103.137, + "Actual Total Time": 3103.145, + "Actual Rows": 221609, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3102.185, + "Actual Total Time": 3102.194, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3101.629, + "Actual Total Time": 3101.635, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3102.476, + "Actual Total Time": 3102.482, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3103.045, + "Actual Total Time": 3103.052, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 21719.73, + "Plan Rows": 31658, + "Plan Width": 25, + "Actual Startup Time": 8.616, + "Actual Total Time": 375.864, + "Actual Rows": 27701, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.023, + "Actual Total Time": 8.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.279, + "Actual Total Time": 7.284, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.995, + "Actual Total Time": 2951.933, + "Actual Rows": 221609, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.086, + "Actual Total Time": 7.094, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.514, + "Actual Total Time": 6.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.309, + "Actual Total Time": 7.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.913, + "Actual Total Time": 7.919, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 7541.79, + "Plan Rows": 31658, + "Plan Width": 21, + "Actual Startup Time": 8.607, + "Actual Total Time": 178.707, + "Actual Rows": 27701, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.022, + "Actual Total Time": 8.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.278, + "Actual Total Time": 7.282, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.930, + "Actual Total Time": 1374.694, + "Actual Rows": 221609, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.085, + "Actual Total Time": 7.091, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.513, + "Actual Total Time": 6.517, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.308, + "Actual Total Time": 7.313, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.912, + "Actual Total Time": 7.917, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 5771.90, + "Plan Rows": 1220, + "Plan Width": 29, + "Actual Startup Time": 8.596, + "Actual Total Time": 98.161, + "Actual Rows": 1067, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.021, + "Actual Total Time": 8.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.277, + "Actual Total Time": 7.280, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.846, + "Actual Total Time": 730.335, + "Actual Rows": 8538, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.084, + "Actual Total Time": 7.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.512, + "Actual Total Time": 6.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.307, + "Actual Total Time": 7.311, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.911, + "Actual Total Time": 7.915, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 5052.48, + "Plan Rows": 1629, + "Plan Width": 33, + "Actual Startup Time": 8.476, + "Actual Total Time": 85.986, + "Actual Rows": 1426, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.020, + "Actual Total Time": 8.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.276, + "Actual Total Time": 7.279, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.893, + "Actual Total Time": 632.950, + "Actual Rows": 11406, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.083, + "Actual Total Time": 7.087, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.511, + "Actual Total Time": 6.514, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.306, + "Actual Total Time": 7.310, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.910, + "Actual Total Time": 7.913, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4514.78, + "Plan Rows": 989, + "Plan Width": 25, + "Actual Startup Time": 8.446, + "Actual Total Time": 76.743, + "Actual Rows": 866, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.019, + "Actual Total Time": 8.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.275, + "Actual Total Time": 7.277, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.661, + "Actual Total Time": 559.021, + "Actual Rows": 6926, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.082, + "Actual Total Time": 7.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.510, + "Actual Total Time": 6.513, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.306, + "Actual Total Time": 7.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.909, + "Actual Total Time": 7.912, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.68, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.972, + "Actual Total Time": 19.725, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.018, + "Actual Total Time": 8.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.274, + "Actual Total Time": 7.275, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.873, + "Actual Total Time": 102.892, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.081, + "Actual Total Time": 7.083, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.509, + "Actual Total Time": 6.511, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.305, + "Actual Total Time": 7.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.908, + "Actual Total Time": 7.910, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.952, + "Actual Total Time": 6.954, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.017, + "Actual Total Time": 8.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.273, + "Actual Total Time": 7.273, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.727, + "Actual Total Time": 0.735, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.080, + "Actual Total Time": 7.081, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.509, + "Actual Total Time": 6.509, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.304, + "Actual Total Time": 7.304, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.907, + "Actual Total Time": 7.907, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.139, + "Actual Total Time": 92.668, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.139, + "Actual Total Time": 92.668, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.episode_nr < 100)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 2, + "Actual Loops": 6926, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 2, + "Actual Loops": 6926 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 11406, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 11406 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 26, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.066, + "Actual Rows": 26, + "Actual Loops": 8538, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.066, + "Actual Rows": 26, + "Actual Loops": 8538 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 221609, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 221609 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 607840843579539521, + "Planning Time": 58.361, + "Triggers": [ + ], + "Execution Time": 3323.124, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 607840843579539521, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS cool_actor_pseudonym,
       MIN(t.title) AS series_named_after_char
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND t.episode_nr >= 5
  AND t.episode_nr < 100
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29113.41, + "Total Cost": 29113.42, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 4052.030, + "Actual Total Time": 4052.201, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29113.37, + "Total Cost": 29113.38, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 4052.009, + "Actual Total Time": 4052.190, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 29112.37, + "Total Cost": 29112.38, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 512.821, + "Actual Total Time": 512.828, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.696, + "Actual Total Time": 8.702, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.453, + "Actual Total Time": 10.458, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.106, + "Actual Total Time": 9.113, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.400, + "Actual Total Time": 2.408, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.134, + "Actual Total Time": 9.141, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.130, + "Actual Total Time": 9.136, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.483, + "Actual Total Time": 2.493, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 28935.05, + "Plan Rows": 35464, + "Plan Width": 33, + "Actual Startup Time": 6.798, + "Actual Total Time": 497.405, + "Actual Rows": 31182, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.692, + "Actual Total Time": 8.697, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.448, + "Actual Total Time": 10.453, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.100, + "Actual Total Time": 9.107, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.392, + "Actual Total Time": 2.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.129, + "Actual Total Time": 9.135, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.126, + "Actual Total Time": 9.132, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.474, + "Actual Total Time": 2.484, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 17552.06, + "Plan Rows": 24069, + "Plan Width": 25, + "Actual Startup Time": 6.786, + "Actual Total Time": 288.988, + "Actual Rows": 21159, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.691, + "Actual Total Time": 8.696, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.447, + "Actual Total Time": 10.451, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.099, + "Actual Total Time": 9.105, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.391, + "Actual Total Time": 2.397, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.128, + "Actual Total Time": 9.133, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.125, + "Actual Total Time": 9.131, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.473, + "Actual Total Time": 2.481, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 6772.84, + "Plan Rows": 24069, + "Plan Width": 21, + "Actual Startup Time": 6.781, + "Actual Total Time": 126.091, + "Actual Rows": 21159, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.690, + "Actual Total Time": 8.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.447, + "Actual Total Time": 10.450, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.098, + "Actual Total Time": 9.103, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.390, + "Actual Total Time": 2.395, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.127, + "Actual Total Time": 9.131, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.125, + "Actual Total Time": 9.129, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.472, + "Actual Total Time": 2.479, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 5472.08, + "Plan Rows": 963, + "Plan Width": 29, + "Actual Startup Time": 6.773, + "Actual Total Time": 75.363, + "Actual Rows": 846, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.690, + "Actual Total Time": 8.693, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.446, + "Actual Total Time": 10.448, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.097, + "Actual Total Time": 9.101, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.389, + "Actual Total Time": 2.394, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.126, + "Actual Total Time": 9.130, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.124, + "Actual Total Time": 9.128, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.471, + "Actual Total Time": 2.476, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 4927.55, + "Plan Rows": 1233, + "Plan Width": 33, + "Actual Startup Time": 6.669, + "Actual Total Time": 66.125, + "Actual Rows": 1083, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.689, + "Actual Total Time": 8.692, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.446, + "Actual Total Time": 10.447, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.096, + "Actual Total Time": 9.099, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.388, + "Actual Total Time": 2.392, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.125, + "Actual Total Time": 9.128, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.124, + "Actual Total Time": 9.127, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.470, + "Actual Total Time": 2.474, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4529.72, + "Plan Rows": 767, + "Plan Width": 25, + "Actual Startup Time": 6.648, + "Actual Total Time": 59.303, + "Actual Rows": 673, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.689, + "Actual Total Time": 8.691, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.445, + "Actual Total Time": 10.447, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.095, + "Actual Total Time": 9.097, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.387, + "Actual Total Time": 2.390, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.125, + "Actual Total Time": 9.127, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.123, + "Actual Total Time": 9.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.469, + "Actual Total Time": 2.472, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.68, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.641, + "Actual Total Time": 14.230, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.688, + "Actual Total Time": 8.690, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.445, + "Actual Total Time": 10.445, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.094, + "Actual Total Time": 9.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.385, + "Actual Total Time": 2.387, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.124, + "Actual Total Time": 9.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.122, + "Actual Total Time": 9.123, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.467, + "Actual Total Time": 2.469, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.624, + "Actual Total Time": 6.625, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.687, + "Actual Total Time": 8.688, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.444, + "Actual Total Time": 10.444, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 9.093, + "Actual Total Time": 9.094, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.384, + "Actual Total Time": 2.385, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.123, + "Actual Total Time": 9.124, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.114, + "Actual Total Time": 9.115, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.466, + "Actual Total Time": 2.466, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.113, + "Actual Total Time": 50.844, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.episode_nr >= 5) AND (t.episode_nr < 100))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 2, + "Actual Loops": 5385, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 8661, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 18, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.051, + "Actual Rows": 25, + "Actual Loops": 6766, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 169273, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 169273, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 816913887554954199, + "Planning Time": 54.512, + "Triggers": [ + ], + "Execution Time": 4052.603, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 816913887554954199, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_american_movie,
       MIN(n.name) AS a1
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND n.name LIKE 'B%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 88028.20, + "Total Cost": 88028.21, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 7019.116, + "Actual Total Time": 7073.278, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 88028.17, + "Total Cost": 88028.18, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 368.571, + "Actual Total Time": 7073.255, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 88027.17, + "Total Cost": 88027.18, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1190.863, + "Actual Total Time": 1190.872, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 359.516, + "Actual Total Time": 359.524, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 359.686, + "Actual Total Time": 359.694, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 352.984, + "Actual Total Time": 352.992, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7008.147, + "Actual Total Time": 7008.158, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 359.661, + "Actual Total Time": 359.668, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 359.680, + "Actual Total Time": 359.688, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 359.662, + "Actual Total Time": 359.670, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 66208.74, + "Total Cost": 87934.93, + "Plan Rows": 36898, + "Plan Width": 15, + "Actual Startup Time": 359.554, + "Actual Total Time": 1179.632, + "Actual Rows": 32286, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 359.511, + "Actual Total Time": 359.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 359.682, + "Actual Total Time": 359.690, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 352.980, + "Actual Total Time": 352.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 357.707, + "Actual Total Time": 6918.279, + "Actual Rows": 258289, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 359.657, + "Actual Total Time": 359.663, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 359.675, + "Actual Total Time": 359.682, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 359.658, + "Actual Total Time": 359.666, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62714.00, + "Total Cost": 84176.61, + "Plan Rows": 100407, + "Plan Width": 19, + "Actual Startup Time": 326.248, + "Actual Total Time": 1115.580, + "Actual Rows": 87856, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 326.592, + "Actual Total Time": 326.598, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 326.642, + "Actual Total Time": 326.648, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 326.611, + "Actual Total Time": 326.616, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 324.024, + "Actual Total Time": 6638.630, + "Actual Rows": 702849, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 326.654, + "Actual Total Time": 326.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 326.685, + "Actual Total Time": 326.691, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 326.331, + "Actual Total Time": 326.336, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62713.57, + "Total Cost": 76595.54, + "Plan Rows": 13331, + "Plan Width": 27, + "Actual Startup Time": 325.811, + "Actual Total Time": 950.085, + "Actual Rows": 11664, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 326.590, + "Actual Total Time": 326.595, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 326.639, + "Actual Total Time": 326.644, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 326.609, + "Actual Total Time": 326.613, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 320.542, + "Actual Total Time": 5314.698, + "Actual Rows": 93315, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 326.652, + "Actual Total Time": 326.656, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 326.682, + "Actual Total Time": 326.687, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 326.329, + "Actual Total Time": 326.333, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 13493.88, + "Plan Rows": 148342, + "Plan Width": 16, + "Actual Startup Time": 6.145, + "Actual Total Time": 566.502, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.878, + "Actual Total Time": 6.881, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.928, + "Actual Total Time": 6.930, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.914, + "Actual Total Time": 6.916, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.786, + "Actual Total Time": 4483.625, + "Actual Rows": 1038393, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.912, + "Actual Total Time": 6.914, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.924, + "Actual Total Time": 6.927, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.910, + "Actual Total Time": 6.912, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4447.47, + "Plan Rows": 5977, + "Plan Width": 8, + "Actual Startup Time": 6.109, + "Actual Total Time": 54.012, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.877, + "Actual Total Time": 6.879, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.926, + "Actual Total Time": 6.928, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.912, + "Actual Total Time": 6.914, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.509, + "Actual Total Time": 383.721, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.910, + "Actual Total Time": 6.912, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.923, + "Actual Total Time": 6.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.909, + "Actual Total Time": 6.911, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.68, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.096, + "Actual Total Time": 16.302, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.876, + "Actual Total Time": 6.877, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.925, + "Actual Total Time": 6.927, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.911, + "Actual Total Time": 6.912, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.413, + "Actual Total Time": 82.050, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.910, + "Actual Total Time": 6.911, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.922, + "Actual Total Time": 6.923, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.908, + "Actual Total Time": 6.909, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.080, + "Actual Total Time": 6.081, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.875, + "Actual Total Time": 6.876, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.924, + "Actual Total Time": 6.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.911, + "Actual Total Time": 6.911, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.286, + "Actual Total Time": 0.294, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.909, + "Actual Total Time": 6.909, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.921, + "Actual Total Time": 6.922, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.907, + "Actual Total Time": 6.907, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.120, + "Actual Total Time": 71.663, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.120, + "Actual Total Time": 71.663, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id"], + "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.18, + "Plan Rows": 33, + "Plan Width": 8, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.092, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.092, + "Actual Rows": 25, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 62175.70, + "Total Cost": 62175.70, + "Plan Rows": 42925, + "Plan Width": 19, + "Actual Startup Time": 318.184, + "Actual Total Time": 318.185, + "Actual Rows": 42925, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 524288, + "Original Hash Buckets": 524288, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 22880, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 319.671, + "Actual Total Time": 319.672, + "Actual Rows": 49054, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 319.669, + "Actual Total Time": 319.671, + "Actual Rows": 39662, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 319.654, + "Actual Total Time": 319.655, + "Actual Rows": 35469, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 308.464, + "Actual Total Time": 308.465, + "Actual Rows": 47559, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 319.692, + "Actual Total Time": 319.693, + "Actual Rows": 46304, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 319.663, + "Actual Total Time": 319.665, + "Actual Rows": 33825, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 319.376, + "Actual Total Time": 319.377, + "Actual Rows": 45770, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 62175.70, + "Plan Rows": 42925, + "Plan Width": 19, + "Actual Startup Time": 49.469, + "Actual Total Time": 269.681, + "Actual Rows": 42925, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Filter": "(n.name ~~ 'B%'::text)", + "Rows Removed by Filter": 478012, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 48.424, + "Actual Total Time": 264.671, + "Actual Rows": 49054, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 48.583, + "Actual Total Time": 271.023, + "Actual Rows": 39662, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 47.235, + "Actual Total Time": 272.362, + "Actual Rows": 35469, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.254, + "Actual Total Time": 267.087, + "Actual Rows": 47559, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 47.849, + "Actual Total Time": 267.850, + "Actual Rows": 46304, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.200, + "Actual Total Time": 278.031, + "Actual Rows": 33825, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 48.574, + "Actual Total Time": 268.475, + "Actual Rows": 45770, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 5, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.011, + "Actual Rows": 8, + "Actual Loops": 93315, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.011, + "Actual Rows": 8, + "Actual Loops": 93315 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 30.559, + "Actual Total Time": 30.560, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4480, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 30.490, + "Actual Total Time": 30.491, + "Actual Rows": 13229, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 32.610, + "Actual Total Time": 32.611, + "Actual Rows": 12292, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.958, + "Actual Total Time": 23.959, + "Actual Rows": 9960, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.338, + "Actual Total Time": 30.339, + "Actual Rows": 11411, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 30.556, + "Actual Total Time": 30.556, + "Actual Rows": 10557, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.446, + "Actual Total Time": 30.446, + "Actual Rows": 11769, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 30.560, + "Actual Total Time": 30.561, + "Actual Rows": 7077, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 21.926, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 21.587, + "Actual Rows": 13229, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.052, + "Actual Total Time": 19.807, + "Actual Rows": 12292, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 16.439, + "Actual Rows": 9960, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 19.700, + "Actual Rows": 11411, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 20.418, + "Actual Rows": 10557, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 21.858, + "Actual Rows": 11769, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 25.796, + "Actual Rows": 7077, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -917204397272063480, + "Planning Time": 36.055, + "Triggers": [ + ], + "Execution Time": 7073.661, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -917204397272063480, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie,
       MIN(n.name) AS a1
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE 'Z%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76574.24, + "Total Cost": 76574.25, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 4296.385, + "Actual Total Time": 4349.345, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76574.21, + "Total Cost": 76574.22, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 251.291, + "Actual Total Time": 4349.319, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76573.21, + "Total Cost": 76573.22, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 748.000, + "Actual Total Time": 748.010, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 241.807, + "Actual Total Time": 241.816, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 241.758, + "Actual Total Time": 241.767, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 238.352, + "Actual Total Time": 238.362, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 241.671, + "Actual Total Time": 241.682, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 243.597, + "Actual Total Time": 243.607, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 242.186, + "Actual Total Time": 242.193, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4284.087, + "Actual Total Time": 4284.100, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 65135.98, + "Total Cost": 76554.56, + "Plan Rows": 7462, + "Plan Width": 15, + "Actual Startup Time": 242.263, + "Actual Total Time": 745.516, + "Actual Rows": 6538, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 241.801, + "Actual Total Time": 241.808, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 241.753, + "Actual Total Time": 241.761, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 238.346, + "Actual Total Time": 238.355, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 241.665, + "Actual Total Time": 241.675, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 243.592, + "Actual Total Time": 243.600, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 242.180, + "Actual Total Time": 242.187, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 238.233, + "Actual Total Time": 4264.195, + "Actual Rows": 52306, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62233.92, + "Total Cost": 73632.89, + "Plan Rows": 7472, + "Plan Width": 19, + "Actual Startup Time": 195.976, + "Actual Total Time": 693.951, + "Actual Rows": 6538, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 196.223, + "Actual Total Time": 196.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 196.235, + "Actual Total Time": 196.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 196.216, + "Actual Total Time": 196.223, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 196.219, + "Actual Total Time": 196.227, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 196.218, + "Actual Total Time": 196.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 196.226, + "Actual Total Time": 196.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 194.265, + "Actual Total Time": 4178.010, + "Actual Rows": 52306, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62233.49, + "Total Cost": 73091.23, + "Plan Rows": 949, + "Plan Width": 27, + "Actual Startup Time": 195.967, + "Actual Total Time": 678.733, + "Actual Rows": 830, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 196.222, + "Actual Total Time": 196.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 196.233, + "Actual Total Time": 196.238, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 196.215, + "Actual Total Time": 196.220, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 196.218, + "Actual Total Time": 196.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 196.217, + "Actual Total Time": 196.222, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 196.224, + "Actual Total Time": 196.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 194.198, + "Actual Total Time": 4056.282, + "Actual Rows": 6642, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62233.06, + "Total Cost": 72666.80, + "Plan Rows": 948, + "Plan Width": 23, + "Actual Startup Time": 195.949, + "Actual Total Time": 671.248, + "Actual Rows": 830, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 196.221, + "Actual Total Time": 196.225, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 196.232, + "Actual Total Time": 196.236, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 196.214, + "Actual Total Time": 196.219, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 196.217, + "Actual Total Time": 196.222, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 196.216, + "Actual Total Time": 196.220, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 196.223, + "Actual Total Time": 196.227, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 194.062, + "Actual Total Time": 3996.414, + "Actual Rows": 6642, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 10045.21, + "Plan Rows": 148342, + "Plan Width": 12, + "Actual Startup Time": 5.837, + "Actual Total Time": 431.859, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.592, + "Actual Total Time": 6.594, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.607, + "Actual Total Time": 6.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.594, + "Actual Total Time": 6.596, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.588, + "Actual Total Time": 6.591, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.601, + "Actual Total Time": 6.603, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.604, + "Actual Total Time": 6.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.525, + "Actual Total Time": 3408.686, + "Actual Rows": 1038393, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.68, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 5.825, + "Actual Total Time": 16.163, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.591, + "Actual Total Time": 6.592, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.606, + "Actual Total Time": 6.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.592, + "Actual Total Time": 6.594, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.587, + "Actual Total Time": 6.589, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.600, + "Actual Total Time": 6.601, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.604, + "Actual Total Time": 6.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.442, + "Actual Total Time": 83.130, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.807, + "Actual Total Time": 5.809, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.590, + "Actual Total Time": 6.591, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.605, + "Actual Total Time": 6.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.591, + "Actual Total Time": 6.592, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.586, + "Actual Total Time": 6.587, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.599, + "Actual Total Time": 6.599, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.603, + "Actual Total Time": 6.603, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.302, + "Actual Total Time": 0.310, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.134, + "Actual Total Time": 72.772, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.134, + "Actual Total Time": 72.772, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 26, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.073, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.073, + "Actual Rows": 25, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 62175.70, + "Total Cost": 62175.70, + "Plan Rows": 4519, + "Plan Width": 19, + "Actual Startup Time": 189.492, + "Actual Total Time": 189.493, + "Actual Rows": 4522, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2624, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 189.591, + "Actual Total Time": 189.592, + "Actual Rows": 4036, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 188.836, + "Actual Total Time": 188.837, + "Actual Rows": 1181, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 189.582, + "Actual Total Time": 189.584, + "Actual Rows": 4882, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 189.588, + "Actual Total Time": 189.590, + "Actual Rows": 3311, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 189.583, + "Actual Total Time": 189.583, + "Actual Rows": 5426, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 189.583, + "Actual Total Time": 189.584, + "Actual Rows": 7524, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 189.584, + "Actual Total Time": 189.585, + "Actual Rows": 4845, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 62175.70, + "Plan Rows": 4519, + "Plan Width": 19, + "Actual Startup Time": 33.140, + "Actual Total Time": 184.966, + "Actual Rows": 4522, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Filter": "(n.name ~~ 'Z%'::text)", + "Rows Removed by Filter": 516415, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.005, + "Actual Total Time": 186.203, + "Actual Rows": 4036, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 88.871, + "Actual Total Time": 187.970, + "Actual Rows": 1181, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.300, + "Actual Total Time": 183.267, + "Actual Rows": 4882, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.426, + "Actual Total Time": 186.740, + "Actual Rows": 3311, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 25.402, + "Actual Total Time": 185.315, + "Actual Rows": 5426, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 25.166, + "Actual Total Time": 181.534, + "Actual Rows": 7524, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.024, + "Actual Total Time": 183.147, + "Actual Rows": 4845, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 6642, + "Output": ["t.id"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 6642 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 7, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.016, + "Actual Rows": 8, + "Actual Loops": 6642, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.016, + "Actual Rows": 8, + "Actual Loops": 6642 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 2482.42, + "Total Cost": 2482.42, + "Plan Rows": 33571, + "Plan Width": 4, + "Actual Startup Time": 45.439, + "Actual Total Time": 45.440, + "Actual Rows": 29375, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 262144, + "Original Hash Buckets": 262144, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 11360, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 45.276, + "Actual Total Time": 45.277, + "Actual Rows": 32127, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.264, + "Actual Total Time": 45.265, + "Actual Rows": 23333, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.848, + "Actual Total Time": 41.849, + "Actual Rows": 29158, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 45.193, + "Actual Total Time": 45.194, + "Actual Rows": 31801, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 47.115, + "Actual Total Time": 47.116, + "Actual Rows": 34356, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 45.668, + "Actual Total Time": 45.669, + "Actual Rows": 33879, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 43.667, + "Actual Total Time": 43.668, + "Actual Rows": 29553, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 2482.42, + "Plan Rows": 33571, + "Plan Width": 4, + "Actual Startup Time": 0.080, + "Actual Total Time": 25.469, + "Actual Rows": 29375, + "Actual Loops": 8, + "Output": ["cn.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.089, + "Actual Total Time": 26.232, + "Actual Rows": 32127, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.168, + "Actual Total Time": 31.315, + "Actual Rows": 23333, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.077, + "Actual Total Time": 24.209, + "Actual Rows": 29158, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.061, + "Actual Total Time": 26.412, + "Actual Rows": 31801, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.075, + "Actual Total Time": 26.072, + "Actual Rows": 34356, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.076, + "Actual Total Time": 25.213, + "Actual Rows": 33879, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.051, + "Actual Total Time": 24.952, + "Actual Rows": 29553, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5459870143170781696, + "Planning Time": 28.832, + "Triggers": [ + ], + "Execution Time": 4349.799, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -5459870143170781696, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie,
       MIN(n.name) AS a1
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE 'X%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 72879.38, + "Total Cost": 72879.39, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3802.285, + "Actual Total Time": 3850.165, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 72879.36, + "Total Cost": 72879.37, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 233.735, + "Actual Total Time": 3850.144, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 72878.36, + "Total Cost": 72878.37, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 667.401, + "Actual Total Time": 667.409, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3784.459, + "Actual Total Time": 3784.465, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 224.017, + "Actual Total Time": 224.026, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 223.774, + "Actual Total Time": 223.782, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 224.080, + "Actual Total Time": 224.089, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 219.226, + "Actual Total Time": 219.234, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 208.525, + "Actual Total Time": 208.533, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 222.521, + "Actual Total Time": 222.530, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62182.02, + "Total Cost": 72877.67, + "Plan Rows": 274, + "Plan Width": 15, + "Actual Startup Time": 227.132, + "Actual Total Time": 667.201, + "Actual Rows": 240, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 262.346, + "Actual Total Time": 3782.837, + "Actual Rows": 1918, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 224.012, + "Actual Total Time": 224.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 223.769, + "Actual Total Time": 223.776, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 224.076, + "Actual Total Time": 224.084, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 219.221, + "Actual Total Time": 219.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 208.519, + "Actual Total Time": 208.527, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 222.516, + "Actual Total Time": 222.523, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62181.59, + "Total Cost": 72755.00, + "Plan Rows": 274, + "Plan Width": 27, + "Actual Startup Time": 227.123, + "Actual Total Time": 665.628, + "Actual Rows": 240, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 262.278, + "Actual Total Time": 3770.275, + "Actual Rows": 1918, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 224.012, + "Actual Total Time": 224.018, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 223.768, + "Actual Total Time": 223.774, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 224.074, + "Actual Total Time": 224.081, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 219.219, + "Actual Total Time": 219.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 208.518, + "Actual Total Time": 208.524, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 222.514, + "Actual Total Time": 222.521, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62181.17, + "Total Cost": 72635.02, + "Plan Rows": 274, + "Plan Width": 31, + "Actual Startup Time": 227.112, + "Actual Total Time": 663.770, + "Actual Rows": 240, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mc.company_id", "mk.movie_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 262.195, + "Actual Total Time": 3755.418, + "Actual Rows": 1918, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 224.011, + "Actual Total Time": 224.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 223.767, + "Actual Total Time": 223.773, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 224.074, + "Actual Total Time": 224.080, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 219.219, + "Actual Total Time": 219.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 208.517, + "Actual Total Time": 208.522, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 222.514, + "Actual Total Time": 222.518, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62180.74, + "Total Cost": 72614.47, + "Plan Rows": 36, + "Plan Width": 23, + "Actual Startup Time": 227.098, + "Actual Total Time": 662.900, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 262.091, + "Actual Total Time": 3748.475, + "Actual Rows": 250, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 224.010, + "Actual Total Time": 224.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 223.766, + "Actual Total Time": 223.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 224.073, + "Actual Total Time": 224.077, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 219.218, + "Actual Total Time": 219.223, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 208.516, + "Actual Total Time": 208.521, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 222.513, + "Actual Total Time": 222.516, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 10045.21, + "Plan Rows": 148342, + "Plan Width": 12, + "Actual Startup Time": 6.736, + "Actual Total Time": 412.523, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.591, + "Actual Total Time": 3246.873, + "Actual Rows": 1038393, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.606, + "Actual Total Time": 7.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.620, + "Actual Total Time": 7.622, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.619, + "Actual Total Time": 7.620, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.591, + "Actual Total Time": 7.593, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.600, + "Actual Total Time": 7.602, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.638, + "Actual Total Time": 7.639, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.68, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.723, + "Actual Total Time": 16.593, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.497, + "Actual Total Time": 79.446, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.605, + "Actual Total Time": 7.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.619, + "Actual Total Time": 7.620, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.617, + "Actual Total Time": 7.618, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.590, + "Actual Total Time": 7.591, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.599, + "Actual Total Time": 7.600, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.636, + "Actual Total Time": 7.637, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.704, + "Actual Total Time": 6.705, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.347, + "Actual Total Time": 0.354, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.604, + "Actual Total Time": 7.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.618, + "Actual Total Time": 7.618, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.616, + "Actual Total Time": 7.616, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.588, + "Actual Total Time": 7.589, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.597, + "Actual Total Time": 7.598, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.635, + "Actual Total Time": 7.635, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.143, + "Actual Total Time": 69.581, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.143, + "Actual Total Time": 69.581, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 26, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.070, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.070, + "Actual Rows": 25, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 62175.70, + "Total Cost": 62175.70, + "Plan Rows": 333, + "Plan Width": 19, + "Actual Startup Time": 213.373, + "Actual Total Time": 213.374, + "Actual Rows": 333, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 4096, + "Original Hash Buckets": 4096, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 288, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 208.277, + "Actual Total Time": 208.278, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 216.098, + "Actual Total Time": 216.099, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 215.832, + "Actual Total Time": 215.833, + "Actual Rows": 1179, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 216.120, + "Actual Total Time": 216.122, + "Actual Rows": 334, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 211.292, + "Actual Total Time": 211.294, + "Actual Rows": 592, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 200.541, + "Actual Total Time": 200.542, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 214.526, + "Actual Total Time": 214.527, + "Actual Rows": 13, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 62175.70, + "Plan Rows": 333, + "Plan Width": 19, + "Actual Startup Time": 110.307, + "Actual Total Time": 213.023, + "Actual Rows": 333, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Filter": "(n.name ~~ 'X%'::text)", + "Rows Removed by Filter": 520603, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 107.760, + "Actual Total Time": 208.041, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 216.006, + "Actual Total Time": 216.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.064, + "Actual Total Time": 214.926, + "Actual Rows": 1179, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 103.155, + "Actual Total Time": 215.708, + "Actual Rows": 334, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 78.828, + "Actual Total Time": 210.797, + "Actual Rows": 592, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 95.103, + "Actual Total Time": 200.309, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 120.366, + "Actual Total Time": 214.401, + "Actual Rows": 13, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 7, + "Plan Width": 8, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.023, + "Actual Rows": 8, + "Actual Loops": 250, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.023, + "Actual Rows": 8, + "Actual Loops": 250 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1918, + "Output": ["cn.id"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1918 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 1918, + "Output": ["t.id"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 1918 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5459870143170781696, + "Planning Time": 35.378, + "Triggers": [ + ], + "Execution Time": 3850.569, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -5459870143170781696, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE '%Bert%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73630.06, + "Total Cost": 73630.07, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 4089.718, + "Actual Total Time": 4139.294, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73630.03, + "Total Cost": 73630.04, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 278.728, + "Actual Total Time": 4139.274, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73629.03, + "Total Cost": 73629.04, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 743.025, + "Actual Total Time": 743.033, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 268.564, + "Actual Total Time": 268.573, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4074.224, + "Actual Total Time": 4074.229, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 255.105, + "Actual Total Time": 255.114, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 261.049, + "Actual Total Time": 261.055, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 268.579, + "Actual Total Time": 268.586, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 269.516, + "Actual Total Time": 269.524, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 269.695, + "Actual Total Time": 269.703, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62186.01, + "Total Cost": 73624.91, + "Plan Rows": 1649, + "Plan Width": 15, + "Actual Startup Time": 269.489, + "Actual Total Time": 742.227, + "Actual Rows": 1442, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 268.557, + "Actual Total Time": 268.565, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 285.976, + "Actual Total Time": 4067.830, + "Actual Rows": 11538, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 255.100, + "Actual Total Time": 255.109, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 261.043, + "Actual Total Time": 261.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 268.575, + "Actual Total Time": 268.582, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 269.512, + "Actual Total Time": 269.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 269.690, + "Actual Total Time": 269.697, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62185.59, + "Total Cost": 72902.85, + "Plan Rows": 1649, + "Plan Width": 19, + "Actual Startup Time": 269.482, + "Actual Total Time": 732.229, + "Actual Rows": 1442, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 268.556, + "Actual Total Time": 268.563, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 285.923, + "Actual Total Time": 3987.860, + "Actual Rows": 11538, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 255.099, + "Actual Total Time": 255.107, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 261.042, + "Actual Total Time": 261.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 268.574, + "Actual Total Time": 268.579, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 269.511, + "Actual Total Time": 269.518, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 269.689, + "Actual Total Time": 269.695, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62185.16, + "Total Cost": 72744.72, + "Plan Rows": 282, + "Plan Width": 27, + "Actual Startup Time": 269.473, + "Actual Total Time": 727.264, + "Actual Rows": 246, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 268.556, + "Actual Total Time": 268.561, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 285.856, + "Actual Total Time": 3948.152, + "Actual Rows": 1972, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 255.098, + "Actual Total Time": 255.104, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 261.041, + "Actual Total Time": 261.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 268.573, + "Actual Total Time": 268.578, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 269.511, + "Actual Total Time": 269.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 269.689, + "Actual Total Time": 269.693, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 62184.73, + "Total Cost": 72618.46, + "Plan Rows": 282, + "Plan Width": 23, + "Actual Startup Time": 269.460, + "Actual Total Time": 724.579, + "Actual Rows": 246, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 268.555, + "Actual Total Time": 268.560, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 285.762, + "Actual Total Time": 3926.678, + "Actual Rows": 1972, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 255.096, + "Actual Total Time": 255.102, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 261.041, + "Actual Total Time": 261.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 268.572, + "Actual Total Time": 268.576, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 269.510, + "Actual Total Time": 269.515, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 269.688, + "Actual Total Time": 269.691, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 10045.21, + "Plan Rows": 148342, + "Plan Width": 12, + "Actual Startup Time": 6.743, + "Actual Total Time": 423.933, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.600, + "Actual Total Time": 7.602, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.584, + "Actual Total Time": 3338.088, + "Actual Rows": 1038393, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.619, + "Actual Total Time": 7.622, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.649, + "Actual Total Time": 7.651, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.619, + "Actual Total Time": 7.621, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.610, + "Actual Total Time": 7.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.632, + "Actual Total Time": 7.633, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.68, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.730, + "Actual Total Time": 17.034, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.599, + "Actual Total Time": 7.600, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.489, + "Actual Total Time": 82.913, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.619, + "Actual Total Time": 7.619, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.648, + "Actual Total Time": 7.649, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.617, + "Actual Total Time": 7.618, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.609, + "Actual Total Time": 7.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.630, + "Actual Total Time": 7.631, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.710, + "Actual Total Time": 6.711, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.598, + "Actual Total Time": 7.598, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.339, + "Actual Total Time": 0.347, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.618, + "Actual Total Time": 7.618, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.647, + "Actual Total Time": 7.647, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.616, + "Actual Total Time": 7.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.608, + "Actual Total Time": 7.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.629, + "Actual Total Time": 7.630, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.141, + "Actual Total Time": 72.440, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.141, + "Actual Total Time": 72.440, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 26, + "Plan Width": 8, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.072, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.072, + "Actual Rows": 25, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 62175.70, + "Total Cost": 62175.70, + "Plan Rows": 652, + "Plan Width": 19, + "Actual Startup Time": 258.684, + "Actual Total Time": 258.685, + "Actual Rows": 652, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 8192, + "Original Hash Buckets": 8192, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 480, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 260.610, + "Actual Total Time": 260.611, + "Actual Rows": 319, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 255.534, + "Actual Total Time": 255.535, + "Actual Rows": 616, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 247.101, + "Actual Total Time": 247.103, + "Actual Rows": 265, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 253.077, + "Actual Total Time": 253.078, + "Actual Rows": 407, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 260.604, + "Actual Total Time": 260.605, + "Actual Rows": 593, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 261.610, + "Actual Total Time": 261.612, + "Actual Rows": 384, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 261.739, + "Actual Total Time": 261.739, + "Actual Rows": 2206, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 62175.70, + "Plan Rows": 652, + "Plan Width": 19, + "Actual Startup Time": 0.443, + "Actual Total Time": 257.758, + "Actual Rows": 652, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Filter": "(n.name ~~ '%Bert%'::text)", + "Rows Removed by Filter": 520284, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.241, + "Actual Total Time": 259.938, + "Actual Rows": 319, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.973, + "Actual Total Time": 254.640, + "Actual Rows": 616, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.974, + "Actual Total Time": 246.513, + "Actual Rows": 265, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.189, + "Actual Total Time": 252.313, + "Actual Rows": 407, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 259.701, + "Actual Rows": 593, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.453, + "Actual Total Time": 260.761, + "Actual Rows": 384, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.450, + "Actual Total Time": 259.692, + "Actual Rows": 2206, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1972, + "Output": ["t.id"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1972 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 6, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.018, + "Actual Rows": 6, + "Actual Loops": 1972, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.018, + "Actual Rows": 6, + "Actual Loops": 1972 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 11538, + "Output": ["cn.id"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 11538 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3199076743843001296, + "Planning Time": 31.664, + "Triggers": [ + ], + "Execution Time": 4139.880, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3199076743843001296, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 96302.85, + "Total Cost": 96302.86, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 9320.115, + "Actual Total Time": 9370.956, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 96302.82, + "Total Cost": 96302.83, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 887.835, + "Actual Total Time": 9370.933, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 96301.82, + "Total Cost": 96301.83, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1927.436, + "Actual Total Time": 1927.445, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 873.436, + "Actual Total Time": 873.443, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9292.009, + "Actual Total Time": 9292.019, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 873.427, + "Actual Total Time": 873.434, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 873.419, + "Actual Total Time": 873.430, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 873.424, + "Actual Total Time": 873.433, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 873.432, + "Actual Total Time": 873.441, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 873.429, + "Actual Total Time": 873.438, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 70881.54, + "Total Cost": 95290.19, + "Plan Rows": 404651, + "Plan Width": 15, + "Actual Startup Time": 874.357, + "Actual Total Time": 1834.141, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 873.431, + "Actual Total Time": 873.438, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 867.412, + "Actual Total Time": 8545.625, + "Actual Rows": 2832555, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 873.423, + "Actual Total Time": 873.429, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 873.414, + "Actual Total Time": 873.423, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 873.420, + "Actual Total Time": 873.427, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 873.426, + "Actual Total Time": 873.434, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 873.423, + "Actual Total Time": 873.432, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3496.48, + "Total Cost": 26842.92, + "Plan Rows": 404651, + "Plan Width": 4, + "Actual Startup Time": 35.173, + "Actual Total Time": 782.721, + "Actual Rows": 354069, + "Actual Loops": 8, + "Output": ["ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.928, + "Actual Total Time": 35.933, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.906, + "Actual Total Time": 6010.240, + "Actual Rows": 2832555, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 35.929, + "Actual Total Time": 35.934, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.920, + "Actual Total Time": 35.927, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.929, + "Actual Total Time": 35.935, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.922, + "Actual Total Time": 35.929, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 35.921, + "Actual Total Time": 35.927, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3496.04, + "Total Cost": 11291.59, + "Plan Rows": 9759, + "Plan Width": 12, + "Actual Startup Time": 35.098, + "Actual Total Time": 150.109, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.926, + "Actual Total Time": 35.929, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.313, + "Actual Total Time": 949.364, + "Actual Rows": 68316, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 35.927, + "Actual Total Time": 35.931, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.919, + "Actual Total Time": 35.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.928, + "Actual Total Time": 35.933, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.921, + "Actual Total Time": 35.926, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 35.920, + "Actual Total Time": 35.925, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 7741.14, + "Plan Rows": 21222, + "Plan Width": 16, + "Actual Startup Time": 6.682, + "Actual Total Time": 110.638, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_id", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.520, + "Actual Total Time": 7.522, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.831, + "Actual Total Time": 832.459, + "Actual Rows": 148552, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.520, + "Actual Total Time": 7.523, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.512, + "Actual Total Time": 7.515, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.522, + "Actual Total Time": 7.525, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.517, + "Actual Total Time": 7.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.521, + "Actual Total Time": 7.524, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4447.47, + "Plan Rows": 5977, + "Plan Width": 8, + "Actual Startup Time": 6.663, + "Actual Total Time": 52.884, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.519, + "Actual Total Time": 7.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.687, + "Actual Total Time": 370.436, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.518, + "Actual Total Time": 7.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.511, + "Actual Total Time": 7.513, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.520, + "Actual Total Time": 7.522, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.515, + "Actual Total Time": 7.517, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.520, + "Actual Total Time": 7.522, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.68, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.651, + "Actual Total Time": 17.689, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.517, + "Actual Total Time": 7.518, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.601, + "Actual Total Time": 88.897, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.517, + "Actual Total Time": 7.518, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.510, + "Actual Total Time": 7.511, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.519, + "Actual Total Time": 7.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.514, + "Actual Total Time": 7.515, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.519, + "Actual Total Time": 7.520, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.619, + "Actual Total Time": 6.620, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.516, + "Actual Total Time": 7.517, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.346, + "Actual Total Time": 0.352, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.517, + "Actual Total Time": 7.517, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.509, + "Actual Total Time": 7.509, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.518, + "Actual Total Time": 7.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.513, + "Actual Total Time": 7.513, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.518, + "Actual Total Time": 7.518, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.248, + "Actual Total Time": 79.451, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.248, + "Actual Total Time": 79.451, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id"], + "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 28.181, + "Actual Total Time": 28.183, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4448, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.368, + "Actual Total Time": 28.369, + "Actual Rows": 12038, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.890, + "Actual Total Time": 26.891, + "Actual Rows": 8590, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.369, + "Actual Total Time": 28.369, + "Actual Rows": 13464, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.364, + "Actual Total Time": 28.366, + "Actual Rows": 8503, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.370, + "Actual Total Time": 28.371, + "Actual Rows": 8650, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.370, + "Actual Total Time": 28.371, + "Actual Rows": 12150, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.363, + "Actual Total Time": 28.364, + "Actual Rows": 9469, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.066, + "Actual Total Time": 16.590, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.068, + "Actual Total Time": 19.246, + "Actual Rows": 12038, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.074, + "Actual Total Time": 13.774, + "Actual Rows": 8590, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.072, + "Actual Total Time": 19.086, + "Actual Rows": 13464, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.080, + "Actual Total Time": 13.641, + "Actual Rows": 8503, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.065, + "Actual Total Time": 13.764, + "Actual Rows": 8650, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.065, + "Actual Total Time": 19.103, + "Actual Rows": 12150, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.073, + "Actual Total Time": 14.983, + "Actual Rows": 9469, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.18, + "Plan Rows": 41, + "Plan Width": 8, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.066, + "Actual Rows": 41, + "Actual Loops": 68316, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.066, + "Actual Rows": 41, + "Actual Loops": 68316 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 60873.36, + "Total Cost": 60873.36, + "Plan Rows": 520936, + "Plan Width": 19, + "Actual Startup Time": 830.027, + "Actual Total Time": 830.028, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 259072, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 837.191, + "Actual Total Time": 837.192, + "Actual Rows": 528559, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 837.180, + "Actual Total Time": 837.181, + "Actual Rows": 537995, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 837.185, + "Actual Total Time": 837.186, + "Actual Rows": 498968, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 837.176, + "Actual Total Time": 837.177, + "Actual Rows": 515867, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 837.176, + "Actual Total Time": 837.177, + "Actual Rows": 526962, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 837.189, + "Actual Total Time": 837.190, + "Actual Rows": 500660, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 837.179, + "Actual Total Time": 837.180, + "Actual Rows": 512159, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 60873.36, + "Plan Rows": 520936, + "Plan Width": 19, + "Actual Startup Time": 0.067, + "Actual Total Time": 254.048, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.072, + "Actual Total Time": 253.357, + "Actual Rows": 528559, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.047, + "Actual Total Time": 254.458, + "Actual Rows": 537995, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.083, + "Actual Total Time": 238.354, + "Actual Rows": 498968, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 260.749, + "Actual Rows": 515867, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.082, + "Actual Total Time": 268.402, + "Actual Rows": 526962, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.072, + "Actual Total Time": 247.617, + "Actual Rows": 500660, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 250.055, + "Actual Rows": 512159, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1944885556475480423, + "Planning Time": 30.649, + "Triggers": [ + ], + "Execution Time": 9371.229, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1944885556475480423, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS member_in_charnamed_movie
FROM cast_info AS ci,
     company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword ='character-name-in-title'
  AND n.name LIKE '%B%'
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.movie_id = mc.movie_id
  AND ci.movie_id = mk.movie_id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 92201.11, + "Total Cost": 92201.12, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 7471.710, + "Actual Total Time": 7525.671, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 92201.09, + "Total Cost": 92201.10, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 422.933, + "Actual Total Time": 7525.645, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 92200.09, + "Total Cost": 92200.10, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1295.428, + "Actual Total Time": 1295.438, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 411.867, + "Actual Total Time": 411.876, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 413.976, + "Actual Total Time": 413.984, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 413.950, + "Actual Total Time": 413.960, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 414.016, + "Actual Total Time": 414.025, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 414.172, + "Actual Total Time": 414.181, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 414.218, + "Actual Total Time": 414.227, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7459.128, + "Actual Total Time": 7459.137, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 65917.56, + "Total Cost": 91803.03, + "Plan Rows": 158824, + "Plan Width": 15, + "Actual Startup Time": 414.084, + "Actual Total Time": 1259.355, + "Actual Rows": 139140, + "Actual Loops": 8, + "Output": ["n.name"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 411.863, + "Actual Total Time": 411.871, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 413.972, + "Actual Total Time": 413.979, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 413.946, + "Actual Total Time": 413.954, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 414.012, + "Actual Total Time": 414.020, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 414.168, + "Actual Total Time": 414.175, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 414.212, + "Actual Total Time": 414.220, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 408.409, + "Actual Total Time": 7170.516, + "Actual Rows": 1113120, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 63015.51, + "Total Cost": 88484.05, + "Plan Rows": 158824, + "Plan Width": 19, + "Actual Startup Time": 364.104, + "Actual Total Time": 1142.734, + "Actual Rows": 139140, + "Actual Loops": 8, + "Output": ["mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 364.847, + "Actual Total Time": 364.853, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 364.836, + "Actual Total Time": 364.842, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 364.808, + "Actual Total Time": 364.814, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 364.843, + "Actual Total Time": 364.849, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 364.797, + "Actual Total Time": 364.802, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 364.819, + "Actual Total Time": 364.825, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 359.077, + "Actual Total Time": 6588.072, + "Actual Rows": 1113120, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 63015.08, + "Total Cost": 76521.68, + "Plan Rows": 21332, + "Plan Width": 27, + "Actual Startup Time": 363.948, + "Actual Total Time": 901.661, + "Actual Rows": 18687, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 364.845, + "Actual Total Time": 364.850, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 364.835, + "Actual Total Time": 364.840, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 364.807, + "Actual Total Time": 364.812, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 364.841, + "Actual Total Time": 364.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 364.795, + "Actual Total Time": 364.800, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 364.817, + "Actual Total Time": 364.823, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 357.837, + "Actual Total Time": 4659.506, + "Actual Rows": 149494, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 13118.50, + "Plan Rows": 148342, + "Plan Width": 16, + "Actual Startup Time": 6.814, + "Actual Total Time": 478.603, + "Actual Rows": 129799, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "mk.movie_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.714, + "Actual Total Time": 7.717, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.702, + "Actual Total Time": 7.705, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.672, + "Actual Total Time": 7.674, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.710, + "Actual Total Time": 7.713, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.667, + "Actual Total Time": 7.669, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.694, + "Actual Total Time": 7.697, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.686, + "Actual Total Time": 3774.980, + "Actual Rows": 1038393, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4447.47, + "Plan Rows": 5977, + "Plan Width": 8, + "Actual Startup Time": 6.800, + "Actual Total Time": 54.704, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.712, + "Actual Total Time": 7.714, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.701, + "Actual Total Time": 7.702, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.671, + "Actual Total Time": 7.672, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.709, + "Actual Total Time": 7.711, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.666, + "Actual Total Time": 7.667, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.693, + "Actual Total Time": 7.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.580, + "Actual Total Time": 383.799, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.68, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.787, + "Actual Total Time": 17.407, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.712, + "Actual Total Time": 7.713, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.700, + "Actual Total Time": 7.701, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.670, + "Actual Total Time": 7.671, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.707, + "Actual Total Time": 7.708, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.665, + "Actual Total Time": 7.666, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.692, + "Actual Total Time": 7.693, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.489, + "Actual Total Time": 85.440, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.768, + "Actual Total Time": 6.769, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.710, + "Actual Total Time": 7.711, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.699, + "Actual Total Time": 7.699, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.669, + "Actual Total Time": 7.669, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.707, + "Actual Total Time": 7.707, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.664, + "Actual Total Time": 7.664, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.690, + "Actual Total Time": 7.691, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.340, + "Actual Total Time": 0.347, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.143, + "Actual Total Time": 74.597, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.143, + "Actual Total Time": 74.597, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840, + "Output": ["t.id"], + "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 26, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.073, + "Actual Rows": 25, + "Actual Loops": 41840, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"],+ "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.073, + "Actual Rows": 25, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 62175.70, + "Total Cost": 62175.70, + "Plan Rows": 67046, + "Plan Width": 19, + "Actual Startup Time": 354.785, + "Actual Total Time": 354.787, + "Actual Rows": 67090, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Hash Buckets": 1048576, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 37536, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 357.103, + "Actual Total Time": 357.104, + "Actual Rows": 67054, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 357.102, + "Actual Total Time": 357.103, + "Actual Rows": 69596, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 357.104, + "Actual Total Time": 357.105, + "Actual Rows": 67175, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 357.099, + "Actual Total Time": 357.100, + "Actual Rows": 57933, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 357.088, + "Actual Total Time": 357.090, + "Actual Rows": 69555, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 357.085, + "Actual Total Time": 357.086, + "Actual Rows": 66357, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 338.608, + "Actual Total Time": 338.609, + "Actual Rows": 68689, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 62175.70, + "Plan Rows": 67046, + "Plan Width": 19, + "Actual Startup Time": 0.088, + "Actual Total Time": 274.561, + "Actual Rows": 67090, + "Actual Loops": 8, + "Output": ["n.name", "n.id"], + "Filter": "(n.name ~~ '%B%'::text)", + "Rows Removed by Filter": 453847, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.077, + "Actual Total Time": 278.363, + "Actual Rows": 67054, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.062, + "Actual Total Time": 272.298, + "Actual Rows": 69596, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.065, + "Actual Total Time": 275.234, + "Actual Rows": 67175, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.083, + "Actual Total Time": 273.922, + "Actual Rows": 57933, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.095, + "Actual Total Time": 270.739, + "Actual Rows": 69555, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.101, + "Actual Total Time": 274.966, + "Actual Rows": 66357, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.117, + "Actual Total Time": 279.304, + "Actual Rows": 68689, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 6, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.011, + "Actual Rows": 7, + "Actual Loops": 149494, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.011, + "Actual Rows": 7, + "Actual Loops": 149494 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 2482.42, + "Total Cost": 2482.42, + "Plan Rows": 33571, + "Plan Width": 4, + "Actual Startup Time": 49.119, + "Actual Total Time": 49.120, + "Actual Rows": 29375, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 262144, + "Original Hash Buckets": 262144, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 11360, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 46.683, + "Actual Total Time": 46.685, + "Actual Rows": 29696, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 48.843, + "Actual Total Time": 48.844, + "Actual Rows": 25161, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.848, + "Actual Total Time": 48.849, + "Actual Rows": 33754, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.874, + "Actual Total Time": 48.874, + "Actual Rows": 25966, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 49.065, + "Actual Total Time": 49.067, + "Actual Rows": 25695, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 49.083, + "Actual Total Time": 49.085, + "Actual Rows": 31957, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 49.044, + "Actual Total Time": 49.045, + "Actual Rows": 30912, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 2482.42, + "Plan Rows": 33571, + "Plan Width": 4, + "Actual Startup Time": 0.097, + "Actual Total Time": 24.000, + "Actual Rows": 29375, + "Actual Loops": 8, + "Output": ["cn.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.078, + "Actual Total Time": 23.549, + "Actual Rows": 29696, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.128, + "Actual Total Time": 26.112, + "Actual Rows": 25161, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.081, + "Actual Total Time": 23.784, + "Actual Rows": 33754, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.058, + "Actual Total Time": 21.999, + "Actual Rows": 25966, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.073, + "Actual Total Time": 23.359, + "Actual Rows": 25695, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.143, + "Actual Total Time": 24.582, + "Actual Rows": 31957, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.162, + "Actual Total Time": 23.137, + "Actual Rows": 30912, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3199076743843001296, + "Planning Time": 35.162, + "Triggers": [ + ], + "Execution Time": 7526.092, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3199076743843001296, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(t.title) AS movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     name AS n,
     title AS t
WHERE ci.note IN ('(producer)',
                  '(executive producer)')
  AND it1.info = 'budget'
  AND it2.info = 'votes'
  AND n.gender = 'm'
  AND n.name LIKE '%Tim%'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 87588.14, + "Total Cost": 87588.15, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 529.691, + "Actual Total Time": 536.454, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 87588.07, + "Total Cost": 87588.08, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 527.871, + "Actual Total Time": 536.411, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 87587.07, + "Total Cost": 87587.08, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 519.159, + "Actual Total Time": 519.168, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 516.801, + "Actual Total Time": 516.807, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 517.674, + "Actual Total Time": 517.680, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 516.770, + "Actual Total Time": 516.778, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 518.055, + "Actual Total Time": 518.063, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 520.202, + "Actual Total Time": 520.209, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 517.943, + "Actual Total Time": 517.950, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 518.988, + "Actual Total Time": 518.995, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.42, + "Total Cost": 87586.69, + "Plan Rows": 51, + "Plan Width": 64, + "Actual Startup Time": 21.074, + "Actual Total Time": 518.838, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.100, + "Actual Total Time": 516.604, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.970, + "Actual Total Time": 517.514, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.352, + "Actual Total Time": 516.576, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.540, + "Actual Total Time": 517.747, + "Actual Rows": 98, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.029, + "Actual Total Time": 520.037, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.133, + "Actual Total Time": 517.666, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.898, + "Actual Total Time": 517.831, + "Actual Rows": 40, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.99, + "Total Cost": 87563.70, + "Plan Rows": 51, + "Plan Width": 59, + "Actual Startup Time": 20.917, + "Actual Total Time": 515.506, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.996, + "Actual Total Time": 512.857, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.608, + "Actual Total Time": 513.677, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.242, + "Actual Total Time": 514.547, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.425, + "Actual Total Time": 512.605, + "Actual Rows": 98, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 32.915, + "Actual Total Time": 517.758, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.044, + "Actual Total Time": 512.953, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.794, + "Actual Total Time": 514.968, + "Actual Rows": 40, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 87533.80, + "Plan Rows": 10301, + "Plan Width": 63, + "Actual Startup Time": 9.800, + "Actual Total Time": 511.926, + "Actual Rows": 10301, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.123, + "Actual Total Time": 509.056, + "Actual Rows": 10067, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.602, + "Actual Total Time": 512.055, + "Actual Rows": 4328, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.768, + "Actual Total Time": 511.766, + "Actual Rows": 7814, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.468, + "Actual Total Time": 505.718, + "Actual Rows": 21672, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.964, + "Actual Total Time": 515.326, + "Actual Rows": 6466, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.718, + "Actual Total Time": 508.645, + "Actual Rows": 12894, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.498, + "Actual Total Time": 511.706, + "Actual Rows": 9130, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 87038.14, + "Plan Rows": 429, + "Plan Width": 13, + "Actual Startup Time": 9.680, + "Actual Total Time": 472.705, + "Actual Rows": 429, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.028, + "Actual Total Time": 473.354, + "Actual Rows": 279, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.505, + "Actual Total Time": 499.234, + "Actual Rows": 136, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.667, + "Actual Total Time": 478.740, + "Actual Rows": 394, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.379, + "Actual Total Time": 455.456, + "Actual Rows": 262, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.862, + "Actual Total Time": 480.545, + "Actual Rows": 377, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.620, + "Actual Total Time": 450.133, + "Actual Rows": 874, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.410, + "Actual Total Time": 458.489, + "Actual Rows": 563, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 87032.79, + "Plan Rows": 1289, + "Plan Width": 17, + "Actual Startup Time": 9.650, + "Actual Total Time": 471.747, + "Actual Rows": 1289, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.010, + "Actual Total Time": 472.699, + "Actual Rows": 838, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.479, + "Actual Total Time": 498.842, + "Actual Rows": 408, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.648, + "Actual Total Time": 477.888, + "Actual Rows": 1182, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.354, + "Actual Total Time": 454.821, + "Actual Rows": 788, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.836, + "Actual Total Time": 479.645, + "Actual Rows": 1131, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.597, + "Actual Total Time": 448.334, + "Actual Rows": 2623, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.388, + "Actual Total Time": 457.279, + "Actual Rows": 1690, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 86607.99, + "Plan Rows": 840, + "Plan Width": 4, + "Actual Startup Time": 4.546, + "Actual Total Time": 447.145, + "Actual Rows": 840, + "Actual Loops": 8, + "Output": ["ci.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.910, + "Actual Total Time": 448.776, + "Actual Rows": 912, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.371, + "Actual Total Time": 489.952, + "Actual Rows": 292, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.563, + "Actual Total Time": 457.373, + "Actual Rows": 652, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.500, + "Actual Total Time": 433.449, + "Actual Rows": 574, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.501, + "Actual Total Time": 451.440, + "Actual Rows": 980, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.661, + "Actual Total Time": 408.019, + "Actual Rows": 1425, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.241, + "Actual Total Time": 430.016, + "Actual Rows": 826, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 1133, + "Plan Width": 4, + "Actual Startup Time": 0.159, + "Actual Total Time": 262.074, + "Actual Rows": 1133, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%Tim%'::text) AND ((n.gender)::text = 'm'::text))", + "Rows Removed by Filter": 519804, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.261, + "Actual Total Time": 261.737, + "Actual Rows": 1064, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.130, + "Actual Total Time": 284.952, + "Actual Rows": 1187, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.167, + "Actual Total Time": 272.996, + "Actual Rows": 1047, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.093, + "Actual Total Time": 264.336, + "Actual Rows": 985, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.183, + "Actual Total Time": 267.006, + "Actual Rows": 1028, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.356, + "Actual Total Time": 228.904, + "Actual Rows": 1574, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 255.239, + "Actual Rows": 1026, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 20.40, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.156, + "Actual Total Time": 0.162, + "Actual Rows": 1, + "Actual Loops": 9062, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(producer),\"(executive producer)\"}'::text[]))", + "Rows Removed by Filter": 10, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.167, + "Actual Total Time": 0.174, + "Actual Rows": 1, + "Actual Loops": 1064 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.168, + "Actual Total Time": 0.171, + "Actual Rows": 0, + "Actual Loops": 1187 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.169, + "Actual Total Time": 0.175, + "Actual Rows": 1, + "Actual Loops": 1047 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.166, + "Actual Total Time": 0.170, + "Actual Rows": 1, + "Actual Loops": 985 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.170, + "Actual Total Time": 0.178, + "Actual Rows": 1, + "Actual Loops": 1028 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.112, + "Actual Rows": 1, + "Actual Loops": 1574 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.162, + "Actual Total Time": 0.169, + "Actual Rows": 1, + "Actual Loops": 1026 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.028, + "Actual Rows": 2, + "Actual Loops": 6719, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 912 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 292 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.030, + "Actual Rows": 2, + "Actual Loops": 652 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 574 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 980 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.027, + "Actual Rows": 2, + "Actual Loops": 1425 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 2, + "Actual Loops": 826 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 19, + "Plan Width": 50, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.081, + "Actual Rows": 24, + "Actual Loops": 3435, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.112, + "Actual Rows": 36, + "Actual Loops": 279 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.081, + "Actual Rows": 32, + "Actual Loops": 136 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.075, + "Actual Rows": 20, + "Actual Loops": 394 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.160, + "Actual Rows": 83, + "Actual Loops": 262 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.085, + "Actual Rows": 17, + "Actual Loops": 377 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.060, + "Actual Rows": 15, + "Actual Loops": 874 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.087, + "Actual Rows": 16, + "Actual Loops": 563 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.074, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'budget'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 410, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.086, + "Actual Rows": 1, + "Actual Loops": 42 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.093, + "Actual Rows": 1, + "Actual Loops": 40 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 55 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 98 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 38 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 72 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.068, + "Actual Rows": 1, + "Actual Loops": 40 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3485514449383768787, + "Planning Time": 39.925, + "Triggers": [ + ], + "Execution Time": 536.761, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -3485514449383768787, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(t.title) AS movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'rating'
  AND mi.info IN ('Horror',
                  'Thriller')
  AND mi.note IS NULL
  AND mi_idx.info > '8.0'
  AND n.gender IS NOT NULL
  AND n.gender = 'f'
  AND t.production_year BETWEEN 2008 AND 2014
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13510.56, + "Total Cost": 13510.57, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 269.085, + "Actual Total Time": 278.882, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13510.49, + "Total Cost": 13510.50, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 268.605, + "Actual Total Time": 278.848, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13509.49, + "Total Cost": 13509.50, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 260.982, + "Actual Total Time": 260.989, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 259.475, + "Actual Total Time": 259.480, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 260.273, + "Actual Total Time": 260.279, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 260.457, + "Actual Total Time": 260.464, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 260.084, + "Actual Total Time": 260.091, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 260.036, + "Actual Total Time": 260.042, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 260.396, + "Actual Total Time": 260.401, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 259.514, + "Actual Total Time": 259.520, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.73, + "Total Cost": 13509.49, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 214.099, + "Actual Total Time": 260.975, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 252.755, + "Actual Total Time": 259.467, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 137.882, + "Actual Total Time": 260.247, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 260.452, + "Actual Total Time": 260.458, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 245.733, + "Actual Total Time": 260.073, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 137.236, + "Actual Total Time": 260.025, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 151.606, + "Actual Total Time": 260.386, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 259.509, + "Actual Total Time": 259.514, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 13509.30, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 214.053, + "Actual Total Time": 260.923, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 252.702, + "Actual Total Time": 259.412, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 137.779, + "Actual Total Time": 260.118, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 260.452, + "Actual Total Time": 260.456, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 245.658, + "Actual Total Time": 259.991, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 137.171, + "Actual Total Time": 259.958, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 151.539, + "Actual Total Time": 260.312, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 259.508, + "Actual Total Time": 259.512, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 13491.97, + "Plan Rows": 34, + "Plan Width": 72, + "Actual Startup Time": 108.563, + "Actual Total Time": 259.663, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 140.370, + "Actual Total Time": 258.302, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 131.351, + "Actual Total Time": 258.841, + "Actual Rows": 34, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 134.779, + "Actual Total Time": 259.328, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 38.333, + "Actual Total Time": 258.745, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 45.700, + "Actual Total Time": 258.413, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 135.458, + "Actual Total Time": 259.031, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 102.932, + "Actual Total Time": 258.428, + "Actual Rows": 27, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 13415.37, + "Plan Rows": 45, + "Plan Width": 80, + "Actual Startup Time": 47.603, + "Actual Total Time": 233.966, + "Actual Rows": 45, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.154, + "Actual Total Time": 244.865, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.844, + "Actual Total Time": 236.701, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.996, + "Actual Total Time": 219.659, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 36.663, + "Actual Total Time": 230.854, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 38.156, + "Actual Total Time": 228.450, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 94.106, + "Actual Total Time": 238.257, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.938, + "Actual Total Time": 232.707, + "Actual Rows": 32, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 12538.65, + "Plan Rows": 769, + "Plan Width": 30, + "Actual Startup Time": 1.996, + "Actual Total Time": 167.057, + "Actual Rows": 769, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.904, + "Actual Total Time": 169.592, + "Actual Rows": 737, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.031, + "Actual Total Time": 169.206, + "Actual Rows": 777, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.853, + "Actual Total Time": 158.480, + "Actual Rows": 718, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.147, + "Actual Total Time": 165.853, + "Actual Rows": 709, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.502, + "Actual Total Time": 166.163, + "Actual Rows": 755, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.277, + "Actual Total Time": 171.061, + "Actual Rows": 776, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.095, + "Actual Total Time": 162.286, + "Actual Rows": 910, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10111.41, + "Plan Rows": 1981, + "Plan Width": 9, + "Actual Startup Time": 0.322, + "Actual Total Time": 109.269, + "Actual Rows": 1981, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.105, + "Actual Total Time": 108.741, + "Actual Rows": 1986, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.417, + "Actual Total Time": 111.034, + "Actual Rows": 1926, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.124, + "Actual Total Time": 105.488, + "Actual Rows": 1891, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.702, + "Actual Total Time": 107.774, + "Actual Rows": 1867, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.418, + "Actual Total Time": 111.434, + "Actual Rows": 1984, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.154, + "Actual Total Time": 114.017, + "Actual Rows": 2071, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.172, + "Actual Total Time": 103.072, + "Actual Rows": 2145, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 10091.30, + "Plan Rows": 6706, + "Plan Width": 13, + "Actual Startup Time": 0.108, + "Actual Total Time": 105.043, + "Actual Rows": 6706, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Filter": "(mi_idx.info > '8.0'::text)", + "Rows Removed by Filter": 165798, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 104.523, + "Actual Rows": 6921, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.183, + "Actual Total Time": 106.844, + "Actual Rows": 6951, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 101.583, + "Actual Rows": 6101, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.087, + "Actual Total Time": 103.752, + "Actual Rows": 6457, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.344, + "Actual Total Time": 107.191, + "Actual Rows": 6904, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.055, + "Actual Total Time": 109.761, + "Actual Rows": 6736, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.070, + "Actual Total Time": 98.814, + "Actual Rows": 6648, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.23, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 15849, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2008) AND (t.production_year <= 2014))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1986 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1926 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1891 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1867 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1984 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 2071 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 2145 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.086, + "Actual Rows": 0, + "Actual Loops": 6152, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note IS NULL) AND (mi.info = ANY ('{Horror,Thriller}'::text[])))", + "Rows Removed by Filter": 18, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.100, + "Actual Total Time": 0.101, + "Actual Rows": 0, + "Actual Loops": 737 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.086, + "Actual Rows": 0, + "Actual Loops": 777 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.084, + "Actual Rows": 0, + "Actual Loops": 718 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.090, + "Actual Rows": 0, + "Actual Loops": 709 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.081, + "Actual Rows": 0, + "Actual Loops": 755 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.085, + "Actual Rows": 0, + "Actual Loops": 776 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.076, + "Actual Rows": 0, + "Actual Loops": 910 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.69, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.460, + "Actual Total Time": 0.571, + "Actual Rows": 1, + "Actual Loops": 358, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 34, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.298, + "Actual Total Time": 0.360, + "Actual Rows": 1, + "Actual Loops": 37 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.383, + "Actual Total Time": 0.449, + "Actual Rows": 1, + "Actual Loops": 49 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.653, + "Actual Total Time": 0.964, + "Actual Rows": 1, + "Actual Loops": 41 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.429, + "Actual Total Time": 0.533, + "Actual Rows": 1, + "Actual Loops": 52 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.503, + "Actual Total Time": 0.573, + "Actual Rows": 1, + "Actual Loops": 52 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.458, + "Actual Total Time": 0.504, + "Actual Rows": 1, + "Actual Loops": 41 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.607, + "Actual Total Time": 0.800, + "Actual Rows": 1, + "Actual Loops": 32 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 268, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender IS NOT NULL) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 31 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 34 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 31 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 35 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 35 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 32 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 27 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 11, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 5, + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.095, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2924466581088026648, + "Planning Time": 42.955, + "Triggers": [ + ], + "Execution Time": 279.246, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2924466581088026648, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(t.title) AS movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 100470.29, + "Total Cost": 100470.30, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 5008.483, + "Actual Total Time": 5052.807, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 100470.22, + "Total Cost": 100470.23, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 5008.320, + "Actual Total Time": 5052.788, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 100469.22, + "Total Cost": 100469.23, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4999.409, + "Actual Total Time": 4999.415, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4998.062, + "Actual Total Time": 4998.069, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4996.451, + "Actual Total Time": 4996.459, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4998.118, + "Actual Total Time": 4998.123, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5000.571, + "Actual Total Time": 5000.577, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4997.268, + "Actual Total Time": 4997.274, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4997.178, + "Actual Total Time": 4997.183, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5000.110, + "Actual Total Time": 5000.115, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.42, + "Total Cost": 100442.91, + "Plan Rows": 3509, + "Plan Width": 64, + "Actual Startup Time": 35.999, + "Actual Total Time": 4990.517, + "Actual Rows": 3509, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.652, + "Actual Total Time": 4989.189, + "Actual Rows": 3601, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.971, + "Actual Total Time": 4987.352, + "Actual Rows": 3508, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 53.574, + "Actual Total Time": 4989.007, + "Actual Rows": 3457, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.198, + "Actual Total Time": 4991.959, + "Actual Rows": 3502, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.192, + "Actual Total Time": 4988.630, + "Actual Rows": 3407, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 42.236, + "Actual Total Time": 4988.602, + "Actual Rows": 3400, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 71.379, + "Actual Total Time": 4990.938, + "Actual Rows": 3682, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.99, + "Total Cost": 98708.59, + "Plan Rows": 3509, + "Plan Width": 59, + "Actual Startup Time": 35.904, + "Actual Total Time": 4916.072, + "Actual Rows": 3509, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.533, + "Actual Total Time": 4913.273, + "Actual Rows": 3601, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.853, + "Actual Total Time": 4911.250, + "Actual Rows": 3508, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 53.512, + "Actual Total Time": 4919.824, + "Actual Rows": 3457, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.106, + "Actual Total Time": 4913.648, + "Actual Rows": 3502, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.111, + "Actual Total Time": 4914.108, + "Actual Rows": 3407, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 42.109, + "Actual Total Time": 4920.786, + "Actual Rows": 3400, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 71.263, + "Actual Total Time": 4914.717, + "Actual Rows": 3682, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.56, + "Total Cost": 95258.32, + "Plan Rows": 6769, + "Plan Width": 63, + "Actual Startup Time": 15.554, + "Actual Total Time": 4773.513, + "Actual Rows": 6769, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.150, + "Actual Total Time": 4764.152, + "Actual Rows": 7039, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.520, + "Actual Total Time": 4773.909, + "Actual Rows": 6651, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.010, + "Actual Total Time": 4780.550, + "Actual Rows": 6685, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.659, + "Actual Total Time": 4768.155, + "Actual Rows": 6833, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.881, + "Actual Total Time": 4776.866, + "Actual Rows": 6466, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 25.927, + "Actual Total Time": 4777.225, + "Actual Rows": 6573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.765, + "Actual Total Time": 4765.199, + "Actual Rows": 7059, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.12, + "Total Cost": 75732.10, + "Plan Rows": 12814, + "Plan Width": 55, + "Actual Startup Time": 1.576, + "Actual Total Time": 2405.857, + "Actual Rows": 12814, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.767, + "Actual Total Time": 2360.440, + "Actual Rows": 13066, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.628, + "Actual Total Time": 2403.953, + "Actual Rows": 12661, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.573, + "Actual Total Time": 2441.167, + "Actual Rows": 12784, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.225, + "Actual Total Time": 2366.510, + "Actual Rows": 12689, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.582, + "Actual Total Time": 2394.185, + "Actual Rows": 12402, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.232, + "Actual Total Time": 2492.873, + "Actual Rows": 12923, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.124, + "Actual Total Time": 2370.351, + "Actual Rows": 13152, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.28, + "Total Cost": 75694.55, + "Plan Rows": 13112, + "Plan Width": 59, + "Actual Startup Time": 1.304, + "Actual Total Time": 2383.876, + "Actual Rows": 13112, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.497, + "Actual Total Time": 2333.910, + "Actual Rows": 13337, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.375, + "Actual Total Time": 2383.962, + "Actual Rows": 13073, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.310, + "Actual Total Time": 2415.202, + "Actual Rows": 13015, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.977, + "Actual Total Time": 2342.951, + "Actual Rows": 13074, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.271, + "Actual Total Time": 2374.046, + "Actual Rows": 12695, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.007, + "Actual Total Time": 2473.744, + "Actual Rows": 13126, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.878, + "Actual Total Time": 2349.632, + "Actual Rows": 13453, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 57491, + "Plan Width": 9, + "Actual Startup Time": 0.044, + "Actual Total Time": 166.308, + "Actual Rows": 57491, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 163.968, + "Actual Rows": 57167, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 165.744, + "Actual Rows": 57683, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 168.261, + "Actual Rows": 57855, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 157.885, + "Actual Rows": 53272, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 169.178, + "Actual Rows": 56470, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 172.715, + "Actual Rows": 61641, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 168.089, + "Actual Rows": 58210, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 13, + "Actual Startup Time": 0.018, + "Actual Total Time": 50.026, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 49.929, + "Actual Rows": 171499, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 50.167, + "Actual Rows": 173157, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 48.952, + "Actual Rows": 173560, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 46.768, + "Actual Rows": 159832, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 47.561, + "Actual Rows": 169397, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 51.858, + "Actual Rows": 185078, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 54.494, + "Actual Rows": 174622, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 459925, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 15, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 57167 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 57683 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 57855 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 53272 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 56470 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 61641 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 58210 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.51, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.159, + "Actual Total Time": 0.183, + "Actual Rows": 1, + "Actual Loops": 102516, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 39, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.157, + "Actual Total Time": 0.182, + "Actual Rows": 1, + "Actual Loops": 13066 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.161, + "Actual Total Time": 0.185, + "Actual Rows": 1, + "Actual Loops": 12661 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.157, + "Actual Total Time": 0.181, + "Actual Rows": 1, + "Actual Loops": 12784 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.162, + "Actual Total Time": 0.188, + "Actual Rows": 1, + "Actual Loops": 12689 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.165, + "Actual Total Time": 0.190, + "Actual Rows": 1, + "Actual Loops": 12402 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.154, + "Actual Total Time": 0.175, + "Actual Rows": 1, + "Actual Loops": 12923 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.156, + "Actual Total Time": 0.180, + "Actual Rows": 1, + "Actual Loops": 13152 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 54155, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 7039 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6651 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6685 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6833 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6466 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 6573 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 7059 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 28073, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 3601 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 3508 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 3457 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 3502 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 3407 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 3400 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 3682 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1168076528610430802, + "Planning Time": 34.124, + "Triggers": [ + ], + "Execution Time": 5053.156, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1168076528610430802, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND mc.note IS NOT NULL
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%Ang%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2005 AND 2009
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 65093.16, + "Total Cost": 65093.17, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 340.382, + "Actual Total Time": 344.869, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 65093.11, + "Total Cost": 65093.12, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 339.916, + "Actual Total Time": 344.843, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 65092.11, + "Total Cost": 65092.12, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 330.716, + "Actual Total Time": 330.727, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 330.743, + "Actual Total Time": 330.752, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 329.936, + "Actual Total Time": 329.947, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 325.739, + "Actual Total Time": 325.749, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 331.533, + "Actual Total Time": 331.543, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 331.729, + "Actual Total Time": 331.740, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 330.127, + "Actual Total Time": 330.138, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 327.028, + "Actual Total Time": 327.038, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.25, + "Total Cost": 65092.00, + "Plan Rows": 23, + "Plan Width": 32, + "Actual Startup Time": 112.788, + "Actual Total Time": 330.682, + "Actual Rows": 23, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.799, + "Actual Total Time": 330.639, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 51.239, + "Actual Total Time": 329.899, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 325.733, + "Actual Total Time": 325.742, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 95.983, + "Actual Total Time": 331.523, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 114.769, + "Actual Total Time": 331.723, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 115.972, + "Actual Total Time": 330.121, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 74.427, + "Actual Total Time": 326.994, + "Actual Rows": 16, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.82, + "Total Cost": 65080.99, + "Plan Rows": 24, + "Plan Width": 36, + "Actual Startup Time": 112.512, + "Actual Total Time": 329.844, + "Actual Rows": 24, + "Actual Loops": 8, + "Output": ["ci.person_role_id", "n.name", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 66.272, + "Actual Total Time": 328.725, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 51.013, + "Actual Total Time": 329.187, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 325.732, + "Actual Total Time": 325.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 95.765, + "Actual Total Time": 331.282, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 114.500, + "Actual Total Time": 331.413, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 115.889, + "Actual Total Time": 330.027, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 73.960, + "Actual Total Time": 325.682, + "Actual Rows": 18, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.39, + "Total Cost": 65080.47, + "Plan Rows": 1, + "Plan Width": 31, + "Actual Startup Time": 108.563, + "Actual Total Time": 329.195, + "Actual Rows": 40, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_role_id", "mc.movie_id", "mi.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.591, + "Actual Total Time": 327.175, + "Actual Rows": 120, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 50.907, + "Actual Total Time": 328.738, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 325.731, + "Actual Total Time": 325.739, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 95.635, + "Actual Total Time": 331.125, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 105.532, + "Actual Total Time": 330.787, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 115.782, + "Actual Total Time": 329.909, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 52.412, + "Actual Total Time": 324.208, + "Actual Rows": 80, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.25, + "Total Cost": 65079.80, + "Plan Rows": 4, + "Plan Width": 35, + "Actual Startup Time": 108.527, + "Actual Total Time": 328.869, + "Actual Rows": 40, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_role_id", "mc.movie_id", "mi.movie_id", "mi.info_type_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(mc.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.564, + "Actual Total Time": 326.389, + "Actual Rows": 120, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 50.868, + "Actual Total Time": 328.503, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 325.730, + "Actual Total Time": 325.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 95.583, + "Actual Total Time": 331.053, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 105.488, + "Actual Total Time": 330.500, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 115.732, + "Actual Total Time": 329.851, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 52.364, + "Actual Total Time": 323.469, + "Actual Rows": 80, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.82, + "Total Cost": 65072.67, + "Plan Rows": 6, + "Plan Width": 27, + "Actual Startup Time": 64.203, + "Actual Total Time": 322.377, + "Actual Rows": 45, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_role_id", "mc.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.458, + "Actual Total Time": 309.579, + "Actual Rows": 92, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 50.734, + "Actual Total Time": 327.315, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.805, + "Actual Total Time": 325.607, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 60.016, + "Actual Total Time": 329.601, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 104.981, + "Actual Total Time": 319.162, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.578, + "Actual Total Time": 327.030, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 49.392, + "Actual Total Time": 312.147, + "Actual Rows": 126, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 65064.62, + "Plan Rows": 18, + "Plan Width": 31, + "Actual Startup Time": 64.121, + "Actual Total Time": 321.397, + "Actual Rows": 47, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_role_id", "mc.movie_id", "mc.company_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.365, + "Actual Total Time": 307.963, + "Actual Rows": 92, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 50.643, + "Actual Total Time": 326.961, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.730, + "Actual Total Time": 325.518, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 59.891, + "Actual Total Time": 329.157, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 104.909, + "Actual Total Time": 318.187, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 76.497, + "Actual Total Time": 326.382, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 49.319, + "Actual Total Time": 309.574, + "Actual Rows": 136, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.97, + "Total Cost": 65034.80, + "Plan Rows": 53, + "Plan Width": 23, + "Actual Startup Time": 57.794, + "Actual Total Time": 318.621, + "Actual Rows": 53, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_role_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 56.077, + "Actual Total Time": 303.671, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 50.223, + "Actual Total Time": 325.504, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.619, + "Actual Total Time": 324.816, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 50.794, + "Actual Total Time": 326.244, + "Actual Rows": 83, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 104.750, + "Actual Total Time": 316.666, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 45.132, + "Actual Total Time": 324.361, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 49.192, + "Actual Total Time": 302.999, + "Actual Rows": 176, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 65033.51, + "Plan Rows": 53, + "Plan Width": 27, + "Actual Startup Time": 56.488, + "Actual Total Time": 317.207, + "Actual Rows": 53, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = ci.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 55.749, + "Actual Total Time": 303.217, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 49.965, + "Actual Total Time": 325.204, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.011, + "Actual Total Time": 324.197, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 50.495, + "Actual Total Time": 325.812, + "Actual Rows": 83, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 104.280, + "Actual Total Time": 316.139, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 44.882, + "Actual Total Time": 324.044, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 48.598, + "Actual Total Time": 302.074, + "Actual Rows": 176, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 64262.73, + "Plan Rows": 195, + "Plan Width": 23, + "Actual Startup Time": 41.946, + "Actual Total Time": 288.704, + "Actual Rows": 195, + "Actual Loops": 8, + "Output": ["an.person_id", "n.name", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 41.808, + "Actual Total Time": 280.417, + "Actual Rows": 150, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 42.193, + "Actual Total Time": 295.013, + "Actual Rows": 183, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 40.587, + "Actual Total Time": 297.913, + "Actual Rows": 159, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 43.466, + "Actual Total Time": 298.689, + "Actual Rows": 158, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 42.529, + "Actual Total Time": 291.073, + "Actual Rows": 132, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 42.260, + "Actual Total Time": 293.121, + "Actual Rows": 183, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 40.025, + "Actual Total Time": 263.689, + "Actual Rows": 446, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 846, + "Plan Width": 19, + "Actual Startup Time": 40.665, + "Actual Total Time": 277.892, + "Actual Rows": 846, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%Ang%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 520090, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 41.439, + "Actual Total Time": 271.329, + "Actual Rows": 829, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 41.480, + "Actual Total Time": 285.031, + "Actual Rows": 696, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 35.966, + "Actual Total Time": 286.396, + "Actual Rows": 809, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 42.652, + "Actual Total Time": 287.949, + "Actual Rows": 799, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 42.432, + "Actual Total Time": 281.268, + "Actual Rows": 685, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 41.692, + "Actual Total Time": 282.678, + "Actual Rows": 743, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 37.719, + "Actual Total Time": 247.610, + "Actual Rows": 1435, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 6768, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 829 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 696 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 809 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 799 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 685 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 743 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 1435 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.94, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.145, + "Actual Rows": 0, + "Actual Loops": 1558, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.140, + "Actual Total Time": 0.150, + "Actual Rows": 0, + "Actual Loops": 150 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.160, + "Actual Total Time": 0.164, + "Actual Rows": 0, + "Actual Loops": 183 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.163, + "Actual Total Time": 0.164, + "Actual Rows": 0, + "Actual Loops": 159 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.166, + "Actual Total Time": 0.170, + "Actual Rows": 1, + "Actual Loops": 158 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.182, + "Actual Total Time": 0.188, + "Actual Rows": 0, + "Actual Loops": 132 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.160, + "Actual Total Time": 0.167, + "Actual Rows": 0, + "Actual Loops": 183 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.085, + "Actual Rows": 0, + "Actual Loops": 446 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.971, + "Actual Total Time": 0.973, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.109, + "Actual Total Time": 0.111, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.172, + "Actual Total Time": 0.173, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.073, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 2.419, + "Actual Total Time": 2.421, + "Actual Rows": 0, + "Actual Loops": 3, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 4, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 425, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note IS NOT NULL) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 4, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.077, + "Actual Rows": 2, + "Actual Loops": 54 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.118, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.225, + "Actual Total Time": 0.230, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 83 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.066, + "Actual Rows": 1, + "Actual Loops": 22 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.070, + "Actual Rows": 1, + "Actual Loops": 28 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 176 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 373, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 92 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 13 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 24 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 21 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 136 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.16, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.143, + "Actual Rows": 1, + "Actual Loops": 359, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 107, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.120, + "Actual Total Time": 0.181, + "Actual Rows": 1, + "Actual Loops": 92 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.115, + "Actual Rows": 2, + "Actual Loops": 10 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.107, + "Actual Total Time": 0.110, + "Actual Rows": 0, + "Actual Loops": 13 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.257, + "Actual Total Time": 0.470, + "Actual Rows": 1, + "Actual Loops": 24 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.138, + "Actual Total Time": 0.139, + "Actual Rows": 0, + "Actual Loops": 20 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.088, + "Actual Rows": 1, + "Actual Loops": 126 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 324, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 120 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 24 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 30 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 80 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 324, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2009))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 120 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 24 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 30 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 80 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 189, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 76 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 24 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.078, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.100, + "Actual Total Time": 0.100, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 18 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2080431693778951356, + "Planning Time": 216.727, + "Triggers": [ + ], + "Execution Time": 345.324, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2080431693778951356, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS kung_fu_panda
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note = '(voice)'
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND mc.note LIKE '%(200%)%'
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%2007%'
       OR mi.info LIKE 'USA:%2008%')
  AND n.gender ='f'
  AND n.name LIKE '%Angel%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2007 AND 2008
  AND t.title LIKE '%Kung%Fu%Panda%'
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 40352.11, + "Total Cost": 40352.12, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1058.962, + "Actual Total Time": 1095.938, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 40352.06, + "Total Cost": 40352.07, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 1044.532, + "Actual Total Time": 1095.907, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 40351.06, + "Total Cost": 40351.07, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1032.185, + "Actual Total Time": 1032.195, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1033.851, + "Actual Total Time": 1033.859, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1026.094, + "Actual Total Time": 1026.103, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1026.146, + "Actual Total Time": 1026.156, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1030.473, + "Actual Total Time": 1030.485, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1035.566, + "Actual Total Time": 1035.574, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1034.217, + "Actual Total Time": 1034.225, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1027.675, + "Actual Total Time": 1027.682, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.27, + "Total Cost": 40351.05, + "Plan Rows": 2, + "Plan Width": 32, + "Actual Startup Time": 928.332, + "Actual Total Time": 1032.184, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1033.846, + "Actual Total Time": 1033.853, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1026.090, + "Actual Total Time": 1026.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1026.141, + "Actual Total Time": 1026.149, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 510.412, + "Actual Total Time": 1030.459, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1035.561, + "Actual Total Time": 1035.568, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1034.209, + "Actual Total Time": 1034.217, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 716.943, + "Actual Total Time": 1027.664, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.85, + "Total Cost": 40350.53, + "Plan Rows": 1, + "Plan Width": 40, + "Actual Startup Time": 928.317, + "Actual Total Time": 1032.165, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1033.845, + "Actual Total Time": 1033.852, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1026.089, + "Actual Total Time": 1026.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1026.140, + "Actual Total Time": 1026.147, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 510.350, + "Actual Total Time": 1030.368, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1035.560, + "Actual Total Time": 1035.567, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1034.208, + "Actual Total Time": 1034.215, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 716.893, + "Actual Total Time": 1027.608, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.70, + "Total Cost": 40350.35, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 928.307, + "Actual Total Time": 1032.153, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info_type_id", "n.name", "n.id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1033.844, + "Actual Total Time": 1033.850, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1026.089, + "Actual Total Time": 1026.094, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1026.139, + "Actual Total Time": 1026.145, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 510.313, + "Actual Total Time": 1030.320, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1035.560, + "Actual Total Time": 1035.565, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1034.207, + "Actual Total Time": 1034.213, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 716.859, + "Actual Total Time": 1027.573, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 40349.13, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 928.277, + "Actual Total Time": 1031.964, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "n.name", "n.id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1033.844, + "Actual Total Time": 1033.849, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1026.088, + "Actual Total Time": 1026.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1026.138, + "Actual Total Time": 1026.144, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 510.196, + "Actual Total Time": 1029.319, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1035.559, + "Actual Total Time": 1035.564, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1034.206, + "Actual Total Time": 1034.212, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 716.736, + "Actual Total Time": 1027.068, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 40348.66, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 928.257, + "Actual Total Time": 1031.941, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id", "mc.movie_id", "n.name", "n.id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1033.843, + "Actual Total Time": 1033.848, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1026.087, + "Actual Total Time": 1026.091, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1026.137, + "Actual Total Time": 1026.142, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 510.131, + "Actual Total Time": 1029.233, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1035.559, + "Actual Total Time": 1035.563, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1034.205, + "Actual Total Time": 1034.210, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 716.651, + "Actual Total Time": 1026.982, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 40346.99, + "Plan Rows": 3, + "Plan Width": 37, + "Actual Startup Time": 926.864, + "Actual Total Time": 1031.857, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1033.843, + "Actual Total Time": 1033.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1026.086, + "Actual Total Time": 1026.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1026.136, + "Actual Total Time": 1026.141, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 509.944, + "Actual Total Time": 1028.899, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1035.558, + "Actual Total Time": 1035.562, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1034.205, + "Actual Total Time": 1034.209, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 705.691, + "Actual Total Time": 1026.649, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 40345.85, + "Plan Rows": 12, + "Plan Width": 41, + "Actual Startup Time": 926.653, + "Actual Total Time": 1031.673, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1033.768, + "Actual Total Time": 1033.770, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1025.926, + "Actual Total Time": 1025.927, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1025.954, + "Actual Total Time": 1025.956, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 509.607, + "Actual Total Time": 1028.683, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1035.480, + "Actual Total Time": 1035.483, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1034.024, + "Actual Total Time": 1034.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 705.362, + "Actual Total Time": 1026.432, + "Actual Rows": 48, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 40342.73, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 926.628, + "Actual Total Time": 1031.285, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1033.768, + "Actual Total Time": 1033.769, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1025.925, + "Actual Total Time": 1025.926, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1025.953, + "Actual Total Time": 1025.955, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 509.493, + "Actual Total Time": 1026.749, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1035.480, + "Actual Total Time": 1035.481, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1034.022, + "Actual Total Time": 1034.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 705.282, + "Actual Total Time": 1025.268, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 25002.61, + "Plan Rows": 22133, + "Plan Width": 4, + "Actual Startup Time": 3.357, + "Actual Total Time": 616.128, + "Actual Rows": 22133, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.433, + "Actual Total Time": 609.003, + "Actual Rows": 25044, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.496, + "Actual Total Time": 561.770, + "Actual Rows": 23436, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.923, + "Actual Total Time": 569.766, + "Actual Rows": 26013, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.018, + "Actual Total Time": 631.323, + "Actual Rows": 22147, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.743, + "Actual Total Time": 666.590, + "Actual Rows": 17166, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.907, + "Actual Total Time": 603.821, + "Actual Rows": 22102, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.420, + "Actual Total Time": 628.450, + "Actual Rows": 20691, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.062, + "Actual Total Time": 24.696, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.044, + "Actual Total Time": 19.580, + "Actual Rows": 12182, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.079, + "Actual Total Time": 20.134, + "Actual Rows": 12297, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.060, + "Actual Total Time": 12.772, + "Actual Rows": 7461, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.081, + "Actual Total Time": 23.218, + "Actual Rows": 12567, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 43.372, + "Actual Rows": 10909, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.042, + "Actual Total Time": 28.312, + "Actual Rows": 9518, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.097, + "Actual Total Time": 20.799, + "Actual Rows": 10116, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 2.02, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.054, + "Actual Rows": 2, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 12, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.047, + "Actual Rows": 2, + "Actual Loops": 12182 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.043, + "Actual Rows": 2, + "Actual Loops": 12297 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.073, + "Actual Rows": 3, + "Actual Loops": 7461 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.047, + "Actual Rows": 2, + "Actual Loops": 12567 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.056, + "Actual Rows": 2, + "Actual Loops": 10909 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.058, + "Actual Rows": 2, + "Actual Loops": 9518 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.059, + "Actual Rows": 2, + "Actual Loops": 10116 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.69, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 177065, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2007) AND (t.production_year <= 2008) AND (t.title ~~ '%Kung%Fu%Panda%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 25044 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 23436 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 26013 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 22147 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 17166 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 22102 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 20691 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 2.81, + "Plan Rows": 25, + "Plan Width": 16, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.754, + "Actual Rows": 25, + "Actual Loops": 4, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice)'::text)", + "Rows Removed by Filter": 127, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.946, + "Actual Rows": 26, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.563, + "Actual Rows": 24, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.078, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.56, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 24, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Angel%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 12 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 12 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.080, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.21, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.104, + "Actual Total Time": 0.496, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%2007%'::text) OR (mi.info ~~ 'USA:%2008%'::text)))", + "Rows Removed by Filter": 372, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.495, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.498, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.043, + "Actual Rows": 5, + "Actual Loops": 3, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.040, + "Actual Rows": 5, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.049, + "Actual Rows": 5, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2216088972165640435, + "Planning Time": 239.436, + "Triggers": [ + ], + "Execution Time": 1096.397, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2216088972165640435, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS jap_engl_voiced_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year > 2000
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73465.10, + "Total Cost": 73465.11, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 587.367, + "Actual Total Time": 595.433, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73465.05, + "Total Cost": 73465.06, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 586.917, + "Actual Total Time": 595.399, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 73464.05, + "Total Cost": 73464.06, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 574.782, + "Actual Total Time": 574.797, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 572.016, + "Actual Total Time": 572.029, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 578.251, + "Actual Total Time": 578.266, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 575.171, + "Actual Total Time": 575.186, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 572.956, + "Actual Total Time": 572.971, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 572.978, + "Actual Total Time": 572.992, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 575.259, + "Actual Total Time": 575.271, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 565.617, + "Actual Total Time": 565.629, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.95, + "Total Cost": 73461.81, + "Plan Rows": 447, + "Plan Width": 32, + "Actual Startup Time": 61.299, + "Actual Total Time": 574.218, + "Actual Rows": 447, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.073, + "Actual Total Time": 571.230, + "Actual Rows": 573, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 70.064, + "Actual Total Time": 577.621, + "Actual Rows": 533, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 62.193, + "Actual Total Time": 574.066, + "Actual Rows": 993, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 73.509, + "Actual Total Time": 572.857, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 47.303, + "Actual Total Time": 572.616, + "Actual Rows": 315, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 58.069, + "Actual Total Time": 574.723, + "Actual Rows": 447, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 41.409, + "Actual Total Time": 564.828, + "Actual Rows": 473, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.85, + "Total Cost": 73459.13, + "Plan Rows": 447, + "Plan Width": 36, + "Actual Startup Time": 60.900, + "Actual Total Time": 573.246, + "Actual Rows": 447, + "Actual Loops": 8, + "Output": ["ci.role_id", "n.name", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 50.494, + "Actual Total Time": 569.915, + "Actual Rows": 573, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 69.746, + "Actual Total Time": 576.612, + "Actual Rows": 533, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 61.964, + "Actual Total Time": 572.631, + "Actual Rows": 993, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 72.937, + "Actual Total Time": 572.185, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 46.722, + "Actual Total Time": 571.632, + "Actual Rows": 315, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 57.787, + "Actual Total Time": 573.869, + "Actual Rows": 447, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 41.089, + "Actual Total Time": 563.849, + "Actual Rows": 473, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.42, + "Total Cost": 73455.28, + "Plan Rows": 8, + "Plan Width": 31, + "Actual Startup Time": 59.201, + "Actual Total Time": 566.420, + "Actual Rows": 514, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "mc.movie_id", "mi.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 50.413, + "Actual Total Time": 561.099, + "Actual Rows": 623, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 56.635, + "Actual Total Time": 569.031, + "Actual Rows": 580, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 61.898, + "Actual Total Time": 557.901, + "Actual Rows": 1163, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 72.868, + "Actual Total Time": 570.769, + "Actual Rows": 92, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 46.655, + "Actual Total Time": 567.461, + "Actual Rows": 315, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 57.709, + "Actual Total Time": 565.217, + "Actual Rows": 667, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 41.018, + "Actual Total Time": 556.980, + "Actual Rows": 496, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.00, + "Total Cost": 73446.01, + "Plan Rows": 21, + "Plan Width": 35, + "Actual Startup Time": 58.973, + "Actual Total Time": 544.761, + "Actual Rows": 1678, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "mc.movie_id", "mc.company_id", "mi.movie_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 50.354, + "Actual Total Time": 529.665, + "Actual Rows": 2391, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 56.572, + "Actual Total Time": 540.422, + "Actual Rows": 2225, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 61.540, + "Actual Total Time": 524.385, + "Actual Rows": 2728, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 72.806, + "Actual Total Time": 565.758, + "Actual Rows": 325, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 46.507, + "Actual Total Time": 555.518, + "Actual Rows": 906, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 57.645, + "Actual Total Time": 539.821, + "Actual Rows": 2032, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 39.990, + "Actual Total Time": 526.970, + "Actual Rows": 2253, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.57, + "Total Cost": 73443.22, + "Plan Rows": 5, + "Plan Width": 27, + "Actual Startup Time": 56.435, + "Actual Total Time": 535.416, + "Actual Rows": 489, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "mi.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 50.257, + "Actual Total Time": 507.584, + "Actual Rows": 1458, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 56.507, + "Actual Total Time": 533.431, + "Actual Rows": 209, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 61.445, + "Actual Total Time": 510.781, + "Actual Rows": 633, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 53.083, + "Actual Total Time": 563.471, + "Actual Rows": 112, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 46.405, + "Actual Total Time": 551.815, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 57.565, + "Actual Total Time": 524.755, + "Actual Rows": 1040, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 39.910, + "Actual Total Time": 518.835, + "Actual Rows": 200, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 73213.02, + "Plan Rows": 502, + "Plan Width": 31, + "Actual Startup Time": 56.097, + "Actual Total Time": 522.932, + "Actual Rows": 502, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "mi.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 49.966, + "Actual Total Time": 480.857, + "Actual Rows": 1479, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 56.158, + "Actual Total Time": 525.607, + "Actual Rows": 217, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 61.342, + "Actual Total Time": 492.131, + "Actual Rows": 660, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 52.630, + "Actual Total Time": 556.902, + "Actual Rows": 114, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 45.859, + "Actual Total Time": 544.860, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 57.299, + "Actual Total Time": 506.351, + "Actual Rows": 1046, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 39.449, + "Actual Total Time": 509.973, + "Actual Rows": 229, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 73209.81, + "Plan Rows": 502, + "Plan Width": 35, + "Actual Startup Time": 56.069, + "Actual Total Time": 522.163, + "Actual Rows": 502, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "mi.movie_id", "mi.info_type_id", "n.name"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 49.944, + "Actual Total Time": 478.688, + "Actual Rows": 1479, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 56.135, + "Actual Total Time": 525.206, + "Actual Rows": 217, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 61.321, + "Actual Total Time": 491.170, + "Actual Rows": 660, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 52.610, + "Actual Total Time": 556.669, + "Actual Rows": 114, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 45.830, + "Actual Total Time": 544.599, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 57.278, + "Actual Total Time": 504.946, + "Actual Rows": 1046, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 39.429, + "Actual Total Time": 509.538, + "Actual Rows": 229, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 72004.86, + "Plan Rows": 1026, + "Plan Width": 27, + "Actual Startup Time": 47.821, + "Actual Total Time": 486.028, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.role_id", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = ci.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 46.545, + "Actual Total Time": 415.548, + "Actual Rows": 2318, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.702, + "Actual Total Time": 493.832, + "Actual Rows": 610, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 45.427, + "Actual Total Time": 437.906, + "Actual Rows": 1475, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 50.774, + "Actual Total Time": 541.109, + "Actual Rows": 450, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 41.924, + "Actual Total Time": 522.255, + "Actual Rows": 388, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 56.912, + "Actual Total Time": 446.906, + "Actual Rows": 2124, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 39.252, + "Actual Total Time": 481.456, + "Actual Rows": 403, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 66803.05, + "Plan Rows": 1316, + "Plan Width": 23, + "Actual Startup Time": 41.733, + "Actual Total Time": 340.707, + "Actual Rows": 1316, + "Actual Loops": 8, + "Output": ["an.person_id", "n.name", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 38.457, + "Actual Total Time": 266.908, + "Actual Rows": 1192, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.562, + "Actual Total Time": 355.305, + "Actual Rows": 1270, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 42.123, + "Actual Total Time": 325.010, + "Actual Rows": 1347, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 39.253, + "Actual Total Time": 369.866, + "Actual Rows": 1515, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 39.969, + "Actual Total Time": 368.419, + "Actual Rows": 1312, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 41.814, + "Actual Total Time": 324.154, + "Actual Rows": 946, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 33.039, + "Actual Total Time": 333.981, + "Actual Rows": 1507, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 6251, + "Plan Width": 19, + "Actual Startup Time": 41.504, + "Actual Total Time": 281.370, + "Actual Rows": 6251, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 514685, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 38.130, + "Actual Total Time": 206.205, + "Actual Rows": 5610, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 45.468, + "Actual Total Time": 298.256, + "Actual Rows": 6082, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 42.000, + "Actual Total Time": 271.049, + "Actual Rows": 5982, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 39.076, + "Actual Total Time": 302.752, + "Actual Rows": 7261, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 39.527, + "Actual Total Time": 305.467, + "Actual Rows": 6614, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 41.708, + "Actual Total Time": 279.996, + "Actual Rows": 4743, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 32.702, + "Actual Total Time": 270.034, + "Actual Rows": 6870, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 50011, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 5610 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6082 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 5982 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 7261 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6614 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 4743 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 6870 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.94, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.100, + "Actual Total Time": 0.109, + "Actual Rows": 1, + "Actual Loops": 10525, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.101, + "Actual Total Time": 0.123, + "Actual Rows": 2, + "Actual Loops": 1192 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.099, + "Actual Total Time": 0.108, + "Actual Rows": 0, + "Actual Loops": 1270 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.082, + "Actual Rows": 1, + "Actual Loops": 1347 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.112, + "Actual Rows": 0, + "Actual Loops": 1515 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.116, + "Actual Rows": 0, + "Actual Loops": 1312 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.128, + "Actual Rows": 2, + "Actual Loops": 946 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.097, + "Actual Rows": 0, + "Actual Loops": 1507 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.16, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 8204, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 15, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 2318 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 610 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1475 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 450 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 388 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 2124 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.068, + "Actual Rows": 1, + "Actual Loops": 403 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 4014, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 1479 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 217 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 660 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 114 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 143 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 1046 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 229 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 3913, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 1458 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.026, + "Actual Rows": 11, + "Actual Loops": 209 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.018, + "Actual Rows": 4, + "Actual Loops": 633 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 112 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.021, + "Actual Rows": 6, + "Actual Loops": 143 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 1040 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.033, + "Actual Rows": 11, + "Actual Loops": 200 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 13425, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 2391 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 2225 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 2728 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 325 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 906 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 2032 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 2253 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 4113, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 623 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 580 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1163 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 92 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 315 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 667 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 496 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.068, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5068614643165729469, + "Planning Time": 202.048, + "Triggers": [ + ], + "Execution Time": 595.862, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 5068614643165729469, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS voicing_actress,
       MIN(t.title) AS jap_engl_voiced_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND n.gender ='f'
  AND rt.role ='actress'
  AND t.production_year > 2000
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mi.movie_id = ci.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 184626.58, + "Total Cost": 184626.59, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 10903.786, + "Actual Total Time": 10960.596, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 184626.53, + "Total Cost": 184626.54, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 10877.635, + "Actual Total Time": 10960.549, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 184625.53, + "Total Cost": 184625.54, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 10867.576, + "Actual Total Time": 10867.591, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10859.367, + "Actual Total Time": 10859.382, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10887.112, + "Actual Total Time": 10887.129, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10867.603, + "Actual Total Time": 10867.617, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10860.353, + "Actual Total Time": 10860.368, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10860.877, + "Actual Total Time": 10860.891, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10867.643, + "Actual Total Time": 10867.659, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10861.199, + "Actual Total Time": 10861.212, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 174470.04, + "Total Cost": 183525.13, + "Plan Rows": 220081, + "Plan Width": 32, + "Actual Startup Time": 10574.826, + "Actual Total Time": 10751.782, + "Actual Rows": 220081, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(an.person_id = n.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10569.088, + "Actual Total Time": 10743.075, + "Actual Rows": 235501, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10577.118, + "Actual Total Time": 10741.587, + "Actual Rows": 280893, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10577.155, + "Actual Total Time": 10760.006, + "Actual Rows": 217992, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10570.125, + "Actual Total Time": 10754.135, + "Actual Rows": 188645, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10570.749, + "Actual Total Time": 10745.792, + "Actual Rows": 219804, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10577.222, + "Actual Total Time": 10753.901, + "Actual Rows": 199502, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10570.892, + "Actual Total Time": 10751.353, + "Actual Rows": 226627, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 8730.32, + "Plan Rows": 81581, + "Plan Width": 4, + "Actual Startup Time": 0.463, + "Actual Total Time": 113.808, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["an.person_id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.423, + "Actual Total Time": 115.244, + "Actual Rows": 109371, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.463, + "Actual Total Time": 80.084, + "Actual Rows": 67364, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.709, + "Actual Total Time": 123.462, + "Actual Rows": 122660, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.183, + "Actual Total Time": 126.298, + "Actual Rows": 127241, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.963, + "Actual Total Time": 110.157, + "Actual Rows": 115102, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.748, + "Actual Total Time": 118.690, + "Actual Rows": 117976, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.138, + "Actual Total Time": 118.386, + "Actual Rows": 113721, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 173239.87, + "Total Cost": 173239.87, + "Plan Rows": 98380, + "Plan Width": 40, + "Actual Startup Time": 10481.630, + "Actual Total Time": 10481.643, + "Actual Rows": 98380, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Hash Buckets": 1048576, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 69408, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10478.190, + "Actual Total Time": 10478.204, + "Actual Rows": 84568, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10486.370, + "Actual Total Time": 10486.384, + "Actual Rows": 118225, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10486.516, + "Actual Total Time": 10486.528, + "Actual Rows": 98564, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10479.099, + "Actual Total Time": 10479.112, + "Actual Rows": 87503, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10479.554, + "Actual Total Time": 10479.566, + "Actual Rows": 71256, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10486.558, + "Actual Total Time": 10486.572, + "Actual Rows": 157822, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10479.859, + "Actual Total Time": 10479.871, + "Actual Rows": 92101, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42148.12, + "Total Cost": 173239.87, + "Plan Rows": 98380, + "Plan Width": 40, + "Actual Startup Time": 461.848, + "Actual Total Time": 10358.922, + "Actual Rows": 98380, + "Actual Loops": 8, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 455.208, + "Actual Total Time": 10375.415, + "Actual Rows": 84568, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 466.318, + "Actual Total Time": 10353.453, + "Actual Rows": 118225, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 466.407, + "Actual Total Time": 10327.079, + "Actual Rows": 98564, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 459.523, + "Actual Total Time": 10377.214, + "Actual Rows": 87503, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 468.881, + "Actual Total Time": 10393.550, + "Actual Rows": 71256, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 462.395, + "Actual Total Time": 10273.820, + "Actual Rows": 157822, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 457.128, + "Actual Total Time": 10382.917, + "Actual Rows": 92101, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42146.28, + "Total Cost": 171730.99, + "Plan Rows": 553355, + "Plan Width": 44, + "Actual Startup Time": 461.738, + "Actual Total Time": 10140.837, + "Actual Rows": 553355, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info_type_id", "n.name", "n.id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 455.081, + "Actual Total Time": 10184.889, + "Actual Rows": 494177, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 466.181, + "Actual Total Time": 10108.880, + "Actual Rows": 599222, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 466.302, + "Actual Total Time": 10115.393, + "Actual Rows": 508085, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 459.454, + "Actual Total Time": 10121.726, + "Actual Rows": 720723, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 468.802, + "Actual Total Time": 10232.253, + "Actual Rows": 404681, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 462.294, + "Actual Total Time": 9955.445, + "Actual Rows": 819389, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 457.047, + "Actual Total Time": 10183.690, + "Actual Rows": 482462, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42145.84, + "Total Cost": 157434.04, + "Plan Rows": 12165, + "Plan Width": 52, + "Actual Startup Time": 461.660, + "Actual Total Time": 9328.860, + "Actual Rows": 12165, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "n.name", "n.id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 454.978, + "Actual Total Time": 9497.658, + "Actual Rows": 8210, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 466.087, + "Actual Total Time": 9271.304, + "Actual Rows": 10754, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 466.249, + "Actual Total Time": 9360.947, + "Actual Rows": 11092, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 459.389, + "Actual Total Time": 9151.785, + "Actual Rows": 13419, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 468.729, + "Actual Total Time": 9599.484, + "Actual Rows": 10971, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 462.193, + "Actual Total Time": 8818.230, + "Actual Rows": 12275, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 456.973, + "Actual Total Time": 9402.798, + "Actual Rows": 14797, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42145.41, + "Total Cost": 150906.64, + "Plan Rows": 12173, + "Plan Width": 33, + "Actual Startup Time": 461.432, + "Actual Total Time": 9105.917, + "Actual Rows": 12173, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 454.691, + "Actual Total Time": 9331.476, + "Actual Rows": 8220, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 465.715, + "Actual Total Time": 9068.105, + "Actual Rows": 10756, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 466.182, + "Actual Total Time": 9150.266, + "Actual Rows": 11102, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 459.319, + "Actual Total Time": 8901.802, + "Actual Rows": 13425, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 468.445, + "Actual Total Time": 9377.006, + "Actual Rows": 10983, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 461.836, + "Actual Total Time": 8599.183, + "Actual Rows": 12285, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 456.646, + "Actual Total Time": 9153.024, + "Actual Rows": 14807, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42144.98, + "Total Cost": 144922.78, + "Plan Rows": 13049, + "Plan Width": 37, + "Actual Startup Time": 460.698, + "Actual Total Time": 8838.737, + "Actual Rows": 13049, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 454.297, + "Actual Total Time": 9146.038, + "Actual Rows": 9131, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 461.437, + "Actual Total Time": 8821.315, + "Actual Rows": 11381, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 465.880, + "Actual Total Time": 8890.134, + "Actual Rows": 11892, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 459.216, + "Actual Total Time": 8608.360, + "Actual Rows": 14451, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 468.121, + "Actual Total Time": 9118.972, + "Actual Rows": 11954, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 461.738, + "Actual Total Time": 8345.747, + "Actual Rows": 13210, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 456.328, + "Actual Total Time": 8830.645, + "Actual Rows": 15768, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42143.88, + "Total Cost": 144763.08, + "Plan Rows": 44650, + "Plan Width": 41, + "Actual Startup Time": 458.833, + "Actual Total Time": 8810.856, + "Actual Rows": 44650, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 453.741, + "Actual Total Time": 9124.859, + "Actual Rows": 31788, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 457.497, + "Actual Total Time": 8796.326, + "Actual Rows": 37455, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 465.665, + "Actual Total Time": 8863.453, + "Actual Rows": 42078, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 459.005, + "Actual Total Time": 8577.053, + "Actual Rows": 50884, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 460.772, + "Actual Total Time": 9093.115, + "Actual Rows": 40004, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 459.520, + "Actual Total Time": 8316.231, + "Actual Rows": 48124, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 456.129, + "Actual Total Time": 8798.915, + "Actual Rows": 53628, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 42143.44, + "Total Cost": 64660.86, + "Plan Rows": 58598, + "Plan Width": 25, + "Actual Startup Time": 453.035, + "Actual Total Time": 1209.317, + "Actual Rows": 58598, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 453.028, + "Actual Total Time": 1228.114, + "Actual Rows": 62588, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 453.048, + "Actual Total Time": 1187.470, + "Actual Rows": 52294, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 453.040, + "Actual Total Time": 1166.396, + "Actual Rows": 60608, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 453.023, + "Actual Total Time": 1190.850, + "Actual Rows": 55532, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 453.059, + "Actual Total Time": 1247.914, + "Actual Rows": 62447, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 453.044, + "Actual Total Time": 1118.734, + "Actual Rows": 54031, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 453.019, + "Actual Total Time": 1264.123, + "Actual Rows": 62928, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 22139.26, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 0.086, + "Actual Total Time": 585.321, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.083, + "Actual Total Time": 593.455, + "Actual Rows": 166404, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.091, + "Actual Total Time": 579.135, + "Actual Rows": 133103, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.084, + "Actual Total Time": 557.608, + "Actual Rows": 127519, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.086, + "Actual Total Time": 564.559, + "Actual Rows": 135428, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.084, + "Actual Total Time": 615.432, + "Actual Rows": 158648, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.089, + "Actual Total Time": 508.628, + "Actual Rows": 110477, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.088, + "Actual Total Time": 633.390, + "Actual Rows": 142085, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 24.446, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 22.137, + "Actual Rows": 10038, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 23.467, + "Actual Rows": 10242, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 24.882, + "Actual Rows": 10488, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 27.258, + "Actual Rows": 10895, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 23.249, + "Actual Rows": 10229, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 23.230, + "Actual Rows": 10556, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 26.996, + "Actual Rows": 11899, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.046, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.050, + "Actual Rows": 17, + "Actual Loops": 10038 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.048, + "Actual Rows": 13, + "Actual Loops": 10242 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.045, + "Actual Rows": 12, + "Actual Loops": 10488 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.043, + "Actual Rows": 12, + "Actual Loops": 10895 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.050, + "Actual Rows": 16, + "Actual Loops": 10229 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.040, + "Actual Rows": 10, + "Actual Loops": 10556 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.045, + "Actual Rows": 12, + "Actual Loops": 11899 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 39984.49, + "Total Cost": 39984.49, + "Plan Rows": 172682, + "Plan Width": 21, + "Actual Startup Time": 446.561, + "Actual Total Time": 446.562, + "Actual Rows": 172682, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 2097152, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 93920, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 452.903, + "Actual Total Time": 452.905, + "Actual Rows": 173134, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 402.132, + "Actual Total Time": 402.133, + "Actual Rows": 175946, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 452.920, + "Actual Total Time": 452.921, + "Actual Rows": 178252, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 452.897, + "Actual Total Time": 452.898, + "Actual Rows": 172560, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 452.902, + "Actual Total Time": 452.903, + "Actual Rows": 163382, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 452.922, + "Actual Total Time": 452.923, + "Actual Rows": 170036, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 452.892, + "Actual Total Time": 452.893, + "Actual Rows": 171355, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.00, + "Total Cost": 39984.49, + "Plan Rows": 172682, + "Plan Width": 21, + "Actual Startup Time": 0.141, + "Actual Total Time": 238.820, + "Actual Rows": 172682, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 143357, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.091, + "Actual Total Time": 240.853, + "Actual Rows": 173134, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.058, + "Actual Total Time": 238.488, + "Actual Rows": 175946, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.059, + "Actual Total Time": 235.150, + "Actual Rows": 178252, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.244, + "Actual Total Time": 242.749, + "Actual Rows": 172560, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.299, + "Actual Total Time": 234.281, + "Actual Rows": 163382, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.283, + "Actual Total Time": 241.510, + "Actual Rows": 170036, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.053, + "Actual Total Time": 241.718, + "Actual Rows": 171355, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.35, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.112, + "Actual Total Time": 0.128, + "Actual Rows": 1, + "Actual Loops": 468787, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))",+ "Rows Removed by Filter": 34, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.124, + "Actual Rows": 1, + "Actual Loops": 62588 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.126, + "Actual Total Time": 0.144, + "Actual Rows": 1, + "Actual Loops": 52294 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.109, + "Actual Total Time": 0.125, + "Actual Rows": 1, + "Actual Loops": 60608 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.114, + "Actual Total Time": 0.131, + "Actual Rows": 1, + "Actual Loops": 55532 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.124, + "Actual Rows": 1, + "Actual Loops": 62447 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.114, + "Actual Total Time": 0.132, + "Actual Rows": 1, + "Actual Loops": 54031 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.103, + "Actual Total Time": 0.118, + "Actual Rows": 1, + "Actual Loops": 62928 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.088, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.088, + "Actual Total Time": 0.088, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.088, + "Actual Total Time": 0.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.093, + "Actual Total Time": 0.094, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.084, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.095, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 104391, + "Output": ["chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 9131 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 11381 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 11892 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 14451 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 11954 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 13210 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 15768 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 97386, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'f'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 8220 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 10756 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 11102 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 13425 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 10983 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 12285 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 14807 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 21, + "Plan Width": 8, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.048, + "Actual Rows": 45, + "Actual Loops": 97320, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.060, + "Actual Rows": 60, + "Actual Loops": 8210 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.055, + "Actual Rows": 56, + "Actual Loops": 10754 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.048, + "Actual Rows": 46, + "Actual Loops": 11092 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.052, + "Actual Rows": 54, + "Actual Loops": 13419 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.042, + "Actual Rows": 37, + "Actual Loops": 10971 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.067, + "Actual Rows": 67, + "Actual Loops": 12275 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.039, + "Actual Rows": 33, + "Actual Loops": 14797 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 19, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7915967579038312663, + "Planning Time": 205.584, + "Triggers": [ + ], + "Execution Time": 10961.061, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7915967579038312663, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'top 250 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND (mc.note LIKE '%(co-production)%'
       OR mc.note LIKE '%(presents)%')
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10160.05, + "Total Cost": 10160.06, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 166.627, + "Actual Total Time": 170.522, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10159.98, + "Total Cost": 10159.99, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 153.407, + "Actual Total Time": 170.494, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10158.98, + "Total Cost": 10158.99, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 130.560, + "Actual Total Time": 130.566, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 124.178, + "Actual Total Time": 124.184, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 157.803, + "Actual Total Time": 157.809, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 121.954, + "Actual Total Time": 121.961, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.021, + "Actual Total Time": 122.027, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 123.704, + "Actual Total Time": 123.711, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 121.968, + "Actual Total Time": 121.975, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 120.455, + "Actual Total Time": 120.462, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10158.84, + "Plan Rows": 18, + "Plan Width": 45, + "Actual Startup Time": 123.849, + "Actual Total Time": 130.512, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Join Filter": "(mc.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 124.171, + "Actual Total Time": 124.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 124.706, + "Actual Total Time": 157.565, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 121.947, + "Actual Total Time": 121.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.015, + "Actual Total Time": 122.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 123.697, + "Actual Total Time": 123.703, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 121.962, + "Actual Total Time": 121.968, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 120.448, + "Actual Total Time": 120.455, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.41, + "Total Cost": 10149.94, + "Plan Rows": 18, + "Plan Width": 32, + "Actual Startup Time": 123.827, + "Actual Total Time": 129.966, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mc.note", "mc.movie_id", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 124.170, + "Actual Total Time": 124.175, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 124.608, + "Actual Total Time": 154.806, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 121.946, + "Actual Total Time": 121.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.014, + "Actual Total Time": 122.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 123.697, + "Actual Total Time": 123.702, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 121.962, + "Actual Total Time": 121.966, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 120.448, + "Actual Total Time": 120.453, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10149.07, + "Plan Rows": 18, + "Plan Width": 36, + "Actual Startup Time": 123.786, + "Actual Total Time": 129.858, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "mc.note", "mc.company_type_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 124.169, + "Actual Total Time": 124.172, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 124.547, + "Actual Total Time": 154.427, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 121.945, + "Actual Total Time": 121.949, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.013, + "Actual Total Time": 122.017, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 123.696, + "Actual Total Time": 123.700, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 121.961, + "Actual Total Time": 121.964, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 120.447, + "Actual Total Time": 120.450, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 31, + "Plan Width": 4, + "Actual Startup Time": 123.693, + "Actual Total Time": 123.773, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 124.168, + "Actual Total Time": 124.170, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 123.960, + "Actual Total Time": 124.345, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 121.945, + "Actual Total Time": 121.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.012, + "Actual Total Time": 122.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 123.695, + "Actual Total Time": 123.698, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 121.960, + "Actual Total Time": 121.962, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 120.446, + "Actual Total Time": 120.448, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.102, + "Actual Total Time": 63.790, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 62.107, + "Actual Rows": 179487, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 63.333, + "Actual Rows": 188371, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 77.852, + "Actual Rows": 130120, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.100, + "Actual Total Time": 55.457, + "Actual Rows": 129577, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 65.069, + "Actual Rows": 207123, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.073, + "Actual Total Time": 61.432, + "Actual Rows": 175679, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.189, + "Actual Total Time": 58.255, + "Actual Rows": 171659, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.078, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'top 250 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 0.191, + "Actual Total Time": 0.193, + "Actual Rows": 1, + "Actual Loops": 250, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text) AND ((mc.note ~~ '%(co-production)%'::text) OR (mc.note ~~ '%(presents)%'::text)))", + "Rows Removed by Filter": 33, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.183, + "Actual Total Time": 0.184, + "Actual Rows": 1, + "Actual Loops": 162 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 147, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 50, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 95, + "Cache Hits": 94, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.099, + "Actual Total Time": 0.099, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 142, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 95 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1116224040252844741, + "Planning Time": 20.079, + "Triggers": [ + ], + "Execution Time": 170.866, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1116224040252844741, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'bottom 10 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND t.production_year BETWEEN 2005 AND 2010
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10134.58, + "Total Cost": 10134.59, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 117.675, + "Actual Total Time": 121.192, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10134.51, + "Total Cost": 10134.52, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 112.378, + "Actual Total Time": 121.172, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10133.51, + "Total Cost": 10133.52, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 103.171, + "Actual Total Time": 103.177, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 105.645, + "Actual Total Time": 105.650, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.739, + "Actual Total Time": 102.745, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 102.738, + "Actual Total Time": 102.742, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 104.607, + "Actual Total Time": 104.612, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.938, + "Actual Total Time": 103.943, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 101.311, + "Actual Total Time": 101.316, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.871, + "Actual Total Time": 92.876, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10133.50, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 103.161, + "Actual Total Time": 103.169, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 105.600, + "Actual Total Time": 105.634, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.735, + "Actual Total Time": 102.740, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 102.733, + "Actual Total Time": 102.736, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 104.599, + "Actual Total Time": 104.604, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.931, + "Actual Total Time": 103.937, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 101.306, + "Actual Total Time": 101.310, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.866, + "Actual Total Time": 92.870, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 10132.89, + "Plan Rows": 8, + "Plan Width": 49, + "Actual Startup Time": 102.579, + "Actual Total Time": 103.149, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "t.title", "t.production_year"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 100.956, + "Actual Total Time": 105.488, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.734, + "Actual Total Time": 102.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 102.732, + "Actual Total Time": 102.734, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 104.598, + "Actual Total Time": 104.602, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.930, + "Actual Total Time": 103.934, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 101.305, + "Actual Total Time": 101.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.864, + "Actual Total Time": 92.867, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10132.18, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 102.565, + "Actual Total Time": 102.591, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.production_year", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 100.849, + "Actual Total Time": 101.034, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.733, + "Actual Total Time": 102.736, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 102.731, + "Actual Total Time": 102.733, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 104.598, + "Actual Total Time": 104.600, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.930, + "Actual Total Time": 103.933, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 101.304, + "Actual Total Time": 101.307, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.864, + "Actual Total Time": 92.866, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 102.518, + "Actual Total Time": 102.526, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 100.471, + "Actual Total Time": 100.524, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.733, + "Actual Total Time": 102.734, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 102.731, + "Actual Total Time": 102.732, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 104.596, + "Actual Total Time": 104.599, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.929, + "Actual Total Time": 103.932, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 101.304, + "Actual Total Time": 101.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.863, + "Actual Total Time": 92.865, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.018, + "Actual Total Time": 39.149, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 37.308, + "Actual Rows": 144471, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 38.710, + "Actual Rows": 166080, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 39.578, + "Actual Rows": 171126, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 40.918, + "Actual Rows": 219486, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 39.942, + "Actual Rows": 172545, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 38.536, + "Actual Rows": 166973, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 35.687, + "Actual Rows": 153764, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.078, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'bottom 10 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 10, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 16, + "Plan Width": 32, + "Actual Startup Time": 1.073, + "Actual Total Time": 1.106, + "Actual Rows": 16, + "Actual Loops": 4, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.073, + "Actual Total Time": 1.106, + "Actual Rows": 16, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 66, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 66, + "Cache Hits": 64, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4074774145614403639, + "Planning Time": 16.208, + "Triggers": [ + ], + "Execution Time": 121.477, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -4074774145614403639, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'top 250 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND (mc.note LIKE '%(co-production)%')
  AND t.production_year >2010
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10149.06, + "Total Cost": 10149.07, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 106.598, + "Actual Total Time": 110.892, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10148.99, + "Total Cost": 10149.00, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 106.562, + "Actual Total Time": 110.873, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10147.99, + "Total Cost": 10148.00, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 93.635, + "Actual Total Time": 93.640, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.537, + "Actual Total Time": 91.542, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 80.539, + "Actual Total Time": 80.545, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.274, + "Actual Total Time": 98.280, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 95.017, + "Actual Total Time": 95.023, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.867, + "Actual Total Time": 92.871, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.455, + "Actual Total Time": 92.460, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.652, + "Actual Total Time": 92.657, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10147.99, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 93.057, + "Actual Total Time": 93.632, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.532, + "Actual Total Time": 91.536, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 80.532, + "Actual Total Time": 80.538, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.267, + "Actual Total Time": 98.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 95.008, + "Actual Total Time": 95.014, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.862, + "Actual Total Time": 92.866, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.452, + "Actual Total Time": 92.456, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.646, + "Actual Total Time": 92.651, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 10147.82, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 93.050, + "Actual Total Time": 93.622, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "t.title", "t.production_year"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.531, + "Actual Total Time": 91.535, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 80.531, + "Actual Total Time": 80.536, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.266, + "Actual Total Time": 98.271, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 95.008, + "Actual Total Time": 95.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.861, + "Actual Total Time": 92.864, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.451, + "Actual Total Time": 92.454, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.645, + "Actual Total Time": 92.649, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10146.71, + "Plan Rows": 2, + "Plan Width": 29, + "Actual Startup Time": 92.645, + "Actual Total Time": 93.448, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.production_year", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.530, + "Actual Total Time": 91.533, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 80.530, + "Actual Total Time": 80.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.265, + "Actual Total Time": 98.268, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 92.607, + "Actual Total Time": 94.380, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.861, + "Actual Total Time": 92.863, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.451, + "Actual Total Time": 92.453, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.645, + "Actual Total Time": 92.648, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 31, + "Plan Width": 4, + "Actual Startup Time": 92.301, + "Actual Total Time": 92.370, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 91.530, + "Actual Total Time": 91.532, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 80.529, + "Actual Total Time": 80.532, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.265, + "Actual Total Time": 98.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 91.379, + "Actual Total Time": 91.547, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.860, + "Actual Total Time": 92.862, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.450, + "Actual Total Time": 92.452, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.644, + "Actual Total Time": 92.646, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.015, + "Actual Total Time": 34.953, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 34.528, + "Actual Rows": 182793, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 30.949, + "Actual Rows": 147828, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 32.190, + "Actual Rows": 168709, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 34.879, + "Actual Rows": 160094, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 35.869, + "Actual Rows": 179157, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 38.030, + "Actual Rows": 182952, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 35.419, + "Actual Rows": 183848, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'top 250 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 250, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 88 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 0.112, + "Actual Total Time": 0.113, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text) AND (mc.note ~~ '%(co-production)%'::text))", + "Rows Removed by Filter": 31, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.104, + "Actual Total Time": 0.104, + "Actual Rows": 0, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 946838174961328458, + "Planning Time": 16.028, + "Triggers": [ + ], + "Execution Time": 111.201, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 946838174961328458, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mc.note) AS production_note,
       MIN(t.title) AS movie_title,
       MIN(t.production_year) AS movie_year
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info_idx AS mi_idx,
     title AS t
WHERE ct.kind = 'production companies'
  AND it.info = 'bottom 10 rank'
  AND mc.note NOT LIKE '%(as Metro-Goldwyn-Mayer Pictures)%'
  AND t.production_year >2000
  AND ct.id = mc.company_type_id
  AND t.id = mc.movie_id
  AND t.id = mi_idx.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10134.59, + "Total Cost": 10134.60, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 110.776, + "Actual Total Time": 115.824, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mc.note)", "min(t.title)", "min(t.production_year)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10134.52, + "Total Cost": 10134.53, + "Plan Rows": 8, + "Plan Width": 68, + "Actual Startup Time": 104.924, + "Actual Total Time": 115.801, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mc.note))", "(PARTIAL min(t.title))", "(PARTIAL min(t.production_year))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 10133.52, + "Total Cost": 10133.53, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 96.233, + "Actual Total Time": 96.239, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mc.note)", "PARTIAL min(t.title)", "PARTIAL min(t.production_year)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 101.545, + "Actual Total Time": 101.552, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.840, + "Actual Total Time": 95.844, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 96.648, + "Actual Total Time": 96.653, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.669, + "Actual Total Time": 96.673, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 96.647, + "Actual Total Time": 96.652, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 81.860, + "Actual Total Time": 81.865, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.635, + "Actual Total Time": 96.641, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 10133.51, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 96.200, + "Actual Total Time": 96.230, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.note", "t.title", "t.production_year"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 101.316, + "Actual Total Time": 101.526, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.837, + "Actual Total Time": 95.840, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 96.642, + "Actual Total Time": 96.646, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.664, + "Actual Total Time": 96.668, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 96.641, + "Actual Total Time": 96.645, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 81.856, + "Actual Total Time": 81.860, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.628, + "Actual Total Time": 96.633, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 10132.84, + "Plan Rows": 10, + "Plan Width": 49, + "Actual Startup Time": 95.566, + "Actual Total Time": 96.205, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["mc.note", "mc.company_type_id", "t.title", "t.production_year"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 96.249, + "Actual Total Time": 101.337, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.836, + "Actual Total Time": 95.839, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 96.641, + "Actual Total Time": 96.644, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.663, + "Actual Total Time": 96.666, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 96.640, + "Actual Total Time": 96.643, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 81.855, + "Actual Total Time": 81.859, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.627, + "Actual Total Time": 96.630, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.27, + "Total Cost": 10132.18, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 95.549, + "Actual Total Time": 95.592, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id", "t.title", "t.production_year", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 96.118, + "Actual Total Time": 96.443, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.835, + "Actual Total Time": 95.837, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 96.640, + "Actual Total Time": 96.643, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.663, + "Actual Total Time": 96.665, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 96.639, + "Actual Total Time": 96.642, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 81.854, + "Actual Total Time": 81.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.626, + "Actual Total Time": 96.629, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.84, + "Total Cost": 10131.70, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 95.529, + "Actual Total Time": 95.540, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 95.969, + "Actual Total Time": 96.039, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 95.835, + "Actual Total Time": 95.836, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 96.640, + "Actual Total Time": 96.641, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.662, + "Actual Total Time": 96.664, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 96.638, + "Actual Total Time": 96.640, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 81.854, + "Actual Total Time": 81.856, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 96.624, + "Actual Total Time": 96.627, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.00, + "Total Cost": 9660.04, + "Plan Rows": 172504, + "Plan Width": 8, + "Actual Startup Time": 0.016, + "Actual Total Time": 38.068, + "Actual Rows": 172504, + "Actual Loops": 8, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 47.000, + "Actual Rows": 163906, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 37.048, + "Actual Rows": 184909, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 37.165, + "Actual Rows": 174461, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 36.802, + "Actual Rows": 173745, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 37.391, + "Actual Rows": 197574, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 32.336, + "Actual Rows": 115456, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 37.087, + "Actual Rows": 186298, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.068, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.059, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'bottom 10 rank'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi_idx.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 13, + "Plan Width": 32, + "Actual Startup Time": 0.776, + "Actual Total Time": 0.809, + "Actual Rows": 13, + "Actual Loops": 6, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note !~~ '%(as Metro-Goldwyn-Mayer Pictures)%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.776, + "Actual Total Time": 0.809, + "Actual Rows": 13, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 78, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 78, + "Cache Hits": 76, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6885312641126422993, + "Planning Time": 12.660, + "Triggers": [ + ], + "Execution Time": 116.087, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6885312641126422993, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS complete_downey_ironman_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     keyword AS k,
     kind_type AS kt,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name NOT LIKE '%Sherlock%'
  AND (chn.name LIKE '%Tony%Stark%'
       OR chn.name LIKE '%Iron%Man%')
  AND k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND kt.kind = 'movie'
  AND t.production_year > 1950
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND ci.movie_id = cc.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 31224.37, + "Total Cost": 31224.38, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 4429.395, + "Actual Total Time": 4464.254, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 31224.34, + "Total Cost": 31224.35, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 4381.065, + "Actual Total Time": 4464.217, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 31223.34, + "Total Cost": 31223.35, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 4380.515, + "Actual Total Time": 4380.525, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4371.107, + "Actual Total Time": 4371.116, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4367.650, + "Actual Total Time": 4367.659, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4381.892, + "Actual Total Time": 4381.901, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4408.511, + "Actual Total Time": 4408.519, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4370.497, + "Actual Total Time": 4370.507, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4372.026, + "Actual Total Time": 4372.034, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4392.189, + "Actual Total Time": 4392.198, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.83, + "Total Cost": 31223.33, + "Plan Rows": 5, + "Plan Width": 17, + "Actual Startup Time": 3471.451, + "Actual Total Time": 4380.505, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1269.126, + "Actual Total Time": 4371.102, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4367.644, + "Actual Total Time": 4367.653, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4381.887, + "Actual Total Time": 4381.894, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4408.505, + "Actual Total Time": 4408.511, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4370.491, + "Actual Total Time": 4370.500, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1724.342, + "Actual Total Time": 4371.943, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2869.376, + "Actual Total Time": 4392.178, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.40, + "Total Cost": 31221.09, + "Plan Rows": 5, + "Plan Width": 21, + "Actual Startup Time": 3471.414, + "Actual Total Time": 4380.411, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1269.028, + "Actual Total Time": 4371.003, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4367.643, + "Actual Total Time": 4367.651, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4381.886, + "Actual Total Time": 4381.893, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4408.504, + "Actual Total Time": 4408.510, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4370.490, + "Actual Total Time": 4370.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1724.248, + "Actual Total Time": 4371.437, + "Actual Rows": 28, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2869.276, + "Actual Total Time": 4392.039, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.98, + "Total Cost": 31210.33, + "Plan Rows": 24, + "Plan Width": 25, + "Actual Startup Time": 3218.088, + "Actual Total Time": 4375.648, + "Actual Rows": 164, + "Actual Loops": 8, + "Output": ["ci.person_id", "mk.keyword_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1264.126, + "Actual Total Time": 4361.505, + "Actual Rows": 123, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4367.643, + "Actual Total Time": 4367.650, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4381.885, + "Actual Total Time": 4381.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4408.503, + "Actual Total Time": 4408.509, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4370.490, + "Actual Total Time": 4370.496, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1723.298, + "Actual Total Time": 4351.502, + "Actual Rows": 986, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2864.283, + "Actual Total Time": 4384.684, + "Actual Rows": 171, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.55, + "Total Cost": 31209.00, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 3217.835, + "Actual Total Time": 4375.105, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "ci.movie_id", "ci.person_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1263.273, + "Actual Total Time": 4360.236, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4367.642, + "Actual Total Time": 4367.649, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4381.885, + "Actual Total Time": 4381.890, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4408.503, + "Actual Total Time": 4408.508, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4370.489, + "Actual Total Time": 4370.495, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1722.840, + "Actual Total Time": 4349.449, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2863.986, + "Actual Total Time": 4384.140, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.41, + "Total Cost": 31208.53, + "Plan Rows": 4, + "Plan Width": 37, + "Actual Startup Time": 3167.525, + "Actual Total Time": 4375.046, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "ci.movie_id", "ci.person_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1263.184, + "Actual Total Time": 4360.145, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4367.642, + "Actual Total Time": 4367.647, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4381.884, + "Actual Total Time": 4381.889, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4408.502, + "Actual Total Time": 4408.506, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3968.336, + "Actual Total Time": 4370.392, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1722.750, + "Actual Total Time": 4349.324, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2863.888, + "Actual Total Time": 4384.041, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.98, + "Total Cost": 11299.04, + "Plan Rows": 43626, + "Plan Width": 41, + "Actual Startup Time": 0.574, + "Actual Total Time": 1634.424, + "Actual Rows": 268787, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "ci.movie_id", "ci.person_role_id", "ci.person_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.279, + "Actual Total Time": 1614.549, + "Actual Rows": 268459, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.265, + "Actual Total Time": 1656.741, + "Actual Rows": 269726, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.516, + "Actual Total Time": 1631.237, + "Actual Rows": 268196, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.330, + "Actual Total Time": 1644.351, + "Actual Rows": 274006, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.359, + "Actual Total Time": 1613.483, + "Actual Rows": 270427, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.555, + "Actual Total Time": 1603.973, + "Actual Rows": 268681, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.428, + "Actual Total Time": 1683.219, + "Actual Rows": 261727, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.54, + "Total Cost": 8785.27, + "Plan Rows": 1246, + "Plan Width": 29, + "Actual Startup Time": 0.466, + "Actual Total Time": 280.692, + "Actual Rows": 5146, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.192, + "Actual Total Time": 275.554, + "Actual Rows": 5074, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.187, + "Actual Total Time": 286.306, + "Actual Rows": 5206, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.436, + "Actual Total Time": 277.141, + "Actual Rows": 5115, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.260, + "Actual Total Time": 282.774, + "Actual Rows": 5223, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.267, + "Actual Total Time": 267.658, + "Actual Rows": 5151, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.336, + "Actual Total Time": 297.087, + "Actual Rows": 5110, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.296, + "Actual Total Time": 267.785, + "Actual Rows": 5076, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 8747.45, + "Plan Rows": 8722, + "Plan Width": 33, + "Actual Startup Time": 0.217, + "Actual Total Time": 267.025, + "Actual Rows": 14328, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.129, + "Actual Total Time": 262.252, + "Actual Rows": 14291, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.120, + "Actual Total Time": 272.103, + "Actual Rows": 15418, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.202, + "Actual Total Time": 263.607, + "Actual Rows": 14327, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.127, + "Actual Total Time": 269.335, + "Actual Rows": 13599, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.184, + "Actual Total Time": 254.098, + "Actual Rows": 13536, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.157, + "Actual Total Time": 283.013, + "Actual Rows": 15190, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.163, + "Actual Total Time": 255.152, + "Actual Rows": 13540, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 9649, + "Plan Width": 8, + "Actual Startup Time": 0.121, + "Actual Total Time": 37.441, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 35.149, + "Actual Rows": 16835, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 37.007, + "Actual Rows": 17945, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.097, + "Actual Total Time": 34.996, + "Actual Rows": 16835, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 36.944, + "Actual Rows": 16280, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.084, + "Actual Total Time": 33.705, + "Actual Rows": 16095, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.054, + "Actual Total Time": 36.244, + "Actual Rows": 17796, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.049, + "Actual Total Time": 42.834, + "Actual Rows": 15910, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.072, + "Actual Total Time": 9.838, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 9.858, + "Actual Rows": 16835, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 10.569, + "Actual Rows": 17945, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.081, + "Actual Total Time": 9.392, + "Actual Rows": 16835, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 10.436, + "Actual Rows": 16280, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.066, + "Actual Total Time": 9.184, + "Actual Rows": 16095, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 9.781, + "Actual Rows": 17796, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 9.051, + "Actual Rows": 15910, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.220, + "Actual Total Time": 0.223, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 135086, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1950)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 16835 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 17945 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 16835 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 16280 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 16095 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 17796 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 15910 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.134, + "Actual Total Time": 0.135, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.808, + "Actual Total Time": 0.829, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.20, + "Plan Rows": 82, + "Plan Width": 12, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.237, + "Actual Rows": 52, + "Actual Loops": 41167, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.238, + "Actual Rows": 53, + "Actual Loops": 5074 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.238, + "Actual Rows": 52, + "Actual Loops": 5206 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.239, + "Actual Rows": 52, + "Actual Loops": 5115 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.233, + "Actual Rows": 52, + "Actual Loops": 5223 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.235, + "Actual Rows": 52, + "Actual Loops": 5151 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.230, + "Actual Rows": 53, + "Actual Loops": 5110 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.252, + "Actual Rows": 52, + "Actual Loops": 5076 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 2150293, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name !~~ '%Sherlock%'::text) AND ((chn.name ~~ '%Tony%Stark%'::text) OR (chn.name ~~ '%Iron%Man%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 268459 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 269726 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 268196 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 274006 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 270427 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 268681 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 261727 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.086, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.099, + "Actual Total Time": 0.100, + "Actual Rows": 0, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 6, + "Cache Hits": 5, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.095, + "Actual Rows": 1, + "Actual Loops": 1, + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.075, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.079, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.093, + "Actual Total Time": 0.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.079, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.087, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.96, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.233, + "Actual Total Time": 0.391, + "Actual Rows": 146, + "Actual Loops": 9, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.847, + "Actual Total Time": 1.180, + "Actual Rows": 123, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.244, + "Actual Rows": 164, + "Actual Loops": 6 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.291, + "Actual Total Time": 0.435, + "Actual Rows": 171, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1314, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.076, + "Actual Rows": 0, + "Actual Loops": 123 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 986 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 171 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 33, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.094, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 28 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2202723705874175045, + "Planning Time": 124.202, + "Triggers": [ + ], + "Execution Time": 4464.658, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2202723705874175045, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(t.title) AS complete_downey_ironman_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     keyword AS k,
     kind_type AS kt,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name NOT LIKE '%Sherlock%'
  AND (chn.name LIKE '%Tony%Stark%'
       OR chn.name LIKE '%Iron%Man%')
  AND k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND kt.kind = 'movie'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND ci.movie_id = cc.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7304.77, + "Total Cost": 7304.78, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 2720.028, + "Actual Total Time": 2761.479, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7304.74, + "Total Cost": 7304.75, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 2702.235, + "Actual Total Time": 2761.453, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 7303.74, + "Total Cost": 7303.75, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 2696.803, + "Actual Total Time": 2696.814, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2709.970, + "Actual Total Time": 2709.979, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2695.498, + "Actual Total Time": 2695.508, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2690.773, + "Actual Total Time": 2690.783, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2685.785, + "Actual Total Time": 2685.794, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2700.402, + "Actual Total Time": 2700.411, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2690.689, + "Actual Total Time": 2690.698, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2699.938, + "Actual Total Time": 2699.948, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1595.68, + "Total Cost": 7303.73, + "Plan Rows": 2, + "Plan Width": 17, + "Actual Startup Time": 2388.745, + "Actual Total Time": 2696.800, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2709.964, + "Actual Total Time": 2709.972, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2695.493, + "Actual Total Time": 2695.502, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1130.883, + "Actual Total Time": 2690.731, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1781.236, + "Actual Total Time": 2685.771, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2700.398, + "Actual Total Time": 2700.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2690.685, + "Actual Total Time": 2690.693, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2699.931, + "Actual Total Time": 2699.941, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1595.55, + "Total Cost": 7303.41, + "Plan Rows": 2, + "Plan Width": 21, + "Actual Startup Time": 2388.731, + "Actual Total Time": 2696.768, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2709.963, + "Actual Total Time": 2709.971, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2695.492, + "Actual Total Time": 2695.500, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1130.820, + "Actual Total Time": 2690.564, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1781.194, + "Actual Total Time": 2685.694, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2700.397, + "Actual Total Time": 2700.404, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2690.684, + "Actual Total Time": 2690.691, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2699.931, + "Actual Total Time": 2699.939, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1595.42, + "Total Cost": 7303.09, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 2388.720, + "Actual Total Time": 2696.739, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["cc.subject_id", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2709.962, + "Actual Total Time": 2709.970, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2695.492, + "Actual Total Time": 2695.499, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1130.775, + "Actual Total Time": 2690.411, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1781.155, + "Actual Total Time": 2685.622, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2700.396, + "Actual Total Time": 2700.402, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2690.683, + "Actual Total Time": 2690.690, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2699.930, + "Actual Total Time": 2699.938, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1594.99, + "Total Cost": 7302.63, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 2388.695, + "Actual Total Time": 2696.682, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "ci.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2709.962, + "Actual Total Time": 2709.968, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2695.491, + "Actual Total Time": 2695.498, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1130.690, + "Actual Total Time": 2690.137, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1781.041, + "Actual Total Time": 2685.452, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2700.395, + "Actual Total Time": 2700.401, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2690.682, + "Actual Total Time": 2690.688, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2699.929, + "Actual Total Time": 2699.936, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1594.56, + "Total Cost": 7302.17, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 1169.847, + "Actual Total Time": 2696.495, + "Actual Rows": 6, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "ci.movie_id", "ci.person_role_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1915.167, + "Actual Total Time": 2709.883, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 619.481, + "Actual Total Time": 2695.371, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 941.318, + "Actual Total Time": 2689.672, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 343.262, + "Actual Total Time": 2685.241, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1950.925, + "Actual Total Time": 2700.344, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 400.855, + "Actual Total Time": 2690.478, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2008.046, + "Actual Total Time": 2699.821, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1594.13, + "Total Cost": 7261.94, + "Plan Rows": 89, + "Plan Width": 24, + "Actual Startup Time": 344.309, + "Actual Total Time": 1055.633, + "Actual Rows": 114198, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "ci.movie_id", "ci.person_role_id", "ci.person_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 342.749, + "Actual Total Time": 1048.157, + "Actual Rows": 115964, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 342.531, + "Actual Total Time": 1051.132, + "Actual Rows": 116535, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 343.937, + "Actual Total Time": 1044.753, + "Actual Rows": 115807, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 342.894, + "Actual Total Time": 1035.439, + "Actual Rows": 116163, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 343.770, + "Actual Total Time": 1047.935, + "Actual Rows": 108344, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 343.303, + "Actual Total Time": 1037.228, + "Actual Rows": 114301, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 343.858, + "Actual Total Time": 1081.624, + "Actual Rows": 113536, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1593.09, + "Total Cost": 7259.94, + "Plan Rows": 178, + "Plan Width": 28, + "Actual Startup Time": 343.999, + "Actual Total Time": 945.591, + "Actual Rows": 114198, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "ci.movie_id", "ci.person_role_id", "ci.person_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 342.520, + "Actual Total Time": 938.094, + "Actual Rows": 115964, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 342.268, + "Actual Total Time": 944.945, + "Actual Rows": 116535, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 343.600, + "Actual Total Time": 933.602, + "Actual Rows": 115807, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 342.598, + "Actual Total Time": 925.720, + "Actual Rows": 116163, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 343.467, + "Actual Total Time": 940.937, + "Actual Rows": 108344, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 343.010, + "Actual Total Time": 924.739, + "Actual Rows": 114301, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 343.488, + "Actual Total Time": 973.878, + "Actual Rows": 113536, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1592.65, + "Total Cost": 2619.55, + "Plan Rows": 1830, + "Plan Width": 16, + "Actual Startup Time": 343.857, + "Actual Total Time": 363.662, + "Actual Rows": 1601, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 342.342, + "Actual Total Time": 362.348, + "Actual Rows": 1604, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 342.140, + "Actual Total Time": 361.042, + "Actual Rows": 1644, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 343.394, + "Actual Total Time": 361.989, + "Actual Rows": 1585, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 342.444, + "Actual Total Time": 361.107, + "Actual Rows": 1597, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 343.345, + "Actual Total Time": 367.070, + "Actual Rows": 1461, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 342.908, + "Actual Total Time": 361.778, + "Actual Rows": 1590, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 343.351, + "Actual Total Time": 363.429, + "Actual Rows": 1696, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.064, + "Actual Total Time": 5.517, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.081, + "Actual Total Time": 5.738, + "Actual Rows": 17945, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.052, + "Actual Total Time": 5.387, + "Actual Rows": 17760, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.110, + "Actual Total Time": 6.084, + "Actual Rows": 16095, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.066, + "Actual Total Time": 5.684, + "Actual Rows": 16650, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 4.437, + "Actual Rows": 13356, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 5.334, + "Actual Rows": 17205, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.061, + "Actual Total Time": 5.729, + "Actual Rows": 18315, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1529.18, + "Total Cost": 1529.18, + "Plan Rows": 5078, + "Plan Width": 4, + "Actual Startup Time": 343.570, + "Actual Total Time": 343.572, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2016, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 342.184, + "Actual Total Time": 342.186, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 342.027, + "Actual Total Time": 342.029, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 343.230, + "Actual Total Time": 343.232, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 342.317, + "Actual Total Time": 342.319, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 343.151, + "Actual Total Time": 343.153, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 342.774, + "Actual Total Time": 342.776, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 343.216, + "Actual Total Time": 343.218, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1529.18, + "Plan Rows": 5078, + "Plan Width": 4, + "Actual Startup Time": 9.227, + "Actual Total Time": 206.704, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.986, + "Actual Total Time": 212.094, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.645, + "Actual Total Time": 334.658, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.203, + "Actual Total Time": 329.847, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.021, + "Actual Total Time": 61.067, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.179, + "Actual Total Time": 62.180, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.670, + "Actual Total Time": 140.455, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.044, + "Actual Total Time": 327.736, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.388, + "Actual Total Time": 12.913, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.551, + "Actual Total Time": 0.575, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.177, + "Actual Total Time": 0.224, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.703, + "Actual Total Time": 0.769, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.401, + "Actual Total Time": 37.376, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.178, + "Actual Total Time": 62.178, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.125, + "Actual Total Time": 0.160, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.608, + "Actual Total Time": 1.633, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.39, + "Plan Rows": 4444, + "Plan Width": 8, + "Actual Startup Time": 0.883, + "Actual Total Time": 192.345, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.430, + "Actual Total Time": 210.101, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.429, + "Actual Total Time": 165.565, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.495, + "Actual Total Time": 326.981, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.615, + "Actual Total Time": 23.588, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.540, + "Actual Total Time": 139.658, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.430, + "Actual Total Time": 322.925, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 141, + "Plan Width": 12, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.328, + "Actual Rows": 71, + "Actual Loops": 12810, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.322, + "Actual Rows": 72, + "Actual Loops": 1604 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.321, + "Actual Rows": 71, + "Actual Loops": 1644 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.323, + "Actual Rows": 73, + "Actual Loops": 1585 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.317, + "Actual Rows": 73, + "Actual Loops": 1597 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.356, + "Actual Rows": 74, + "Actual Loops": 1461 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.318, + "Actual Rows": 72, + "Actual Loops": 1590 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.326, + "Actual Rows": 67, + "Actual Loops": 1696 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 913582, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 115964 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 116535 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 115807 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 116163 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 108344 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 114301 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 113536 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 51, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name !~~ '%Sherlock%'::text) AND ((chn.name ~~ '%Tony%Stark%'::text) OR (chn.name ~~ '%Iron%Man%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.082, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 19 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 17, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 13 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 17, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 13 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 17, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 13 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -310926232940389306, + "Planning Time": 115.078, + "Triggers": [ + ], + "Execution Time": 2761.854, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -310926232940389306, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(n.name) AS cast_member,
       MIN(t.title) AS complete_dynamic_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     keyword AS k,
     kind_type AS kt,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence',
                    'magnet',
                    'web',
                    'claw',
                    'laser')
  AND kt.kind = 'movie'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND ci.movie_id = cc.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6026.75, + "Total Cost": 6026.76, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1509.223, + "Actual Total Time": 1556.048, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6026.71, + "Total Cost": 6026.72, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 1499.282, + "Actual Total Time": 1556.010, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 6025.71, + "Total Cost": 6025.72, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1487.889, + "Actual Total Time": 1487.900, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1481.549, + "Actual Total Time": 1481.560, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1483.551, + "Actual Total Time": 1483.560, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1491.870, + "Actual Total Time": 1491.878, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1498.050, + "Actual Total Time": 1498.061, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1479.690, + "Actual Total Time": 1479.700, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1489.148, + "Actual Total Time": 1489.159, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1480.835, + "Actual Total Time": 1480.845, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1459.25, + "Total Cost": 6021.85, + "Plan Rows": 772, + "Plan Width": 32, + "Actual Startup Time": 97.663, + "Actual Total Time": 1486.528, + "Actual Rows": 676, + "Actual Loops": 8, + "Output": ["n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 115.938, + "Actual Total Time": 1480.374, + "Actual Rows": 569, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.586, + "Actual Total Time": 1482.042, + "Actual Rows": 776, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 80.547, + "Actual Total Time": 1490.481, + "Actual Rows": 657, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 116.122, + "Actual Total Time": 1496.437, + "Actual Rows": 935, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 108.379, + "Actual Total Time": 1478.596, + "Actual Rows": 472, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 82.111, + "Actual Total Time": 1488.026, + "Actual Rows": 488, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 87.598, + "Actual Total Time": 1479.230, + "Actual Rows": 847, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1458.20, + "Total Cost": 6016.63, + "Plan Rows": 772, + "Plan Width": 36, + "Actual Startup Time": 97.528, + "Actual Total Time": 1485.536, + "Actual Rows": 676, + "Actual Loops": 8, + "Output": ["cc.status_id", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 115.754, + "Actual Total Time": 1479.449, + "Actual Rows": 569, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.498, + "Actual Total Time": 1481.002, + "Actual Rows": 776, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 80.467, + "Actual Total Time": 1489.549, + "Actual Rows": 657, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 116.029, + "Actual Total Time": 1495.268, + "Actual Rows": 935, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 108.206, + "Actual Total Time": 1477.761, + "Actual Rows": 472, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 82.030, + "Actual Total Time": 1487.274, + "Actual Rows": 488, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 87.533, + "Actual Total Time": 1478.121, + "Actual Rows": 847, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1457.14, + "Total Cost": 6012.12, + "Plan Rows": 817, + "Plan Width": 40, + "Actual Startup Time": 97.504, + "Actual Total Time": 1484.161, + "Actual Rows": 715, + "Actual Loops": 8, + "Output": ["cc.status_id", "n.name", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 115.726, + "Actual Total Time": 1478.260, + "Actual Rows": 601, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.482, + "Actual Total Time": 1479.522, + "Actual Rows": 801, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 80.445, + "Actual Total Time": 1488.164, + "Actual Rows": 715, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 116.012, + "Actual Total Time": 1493.544, + "Actual Rows": 962, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 108.178, + "Actual Total Time": 1476.686, + "Actual Rows": 530, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 82.014, + "Actual Total Time": 1486.215, + "Actual Rows": 532, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 87.516, + "Actual Total Time": 1476.483, + "Actual Rows": 892, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1456.71, + "Total Cost": 6010.28, + "Plan Rows": 4, + "Plan Width": 31, + "Actual Startup Time": 81.278, + "Actual Total Time": 1444.229, + "Actual Rows": 2590, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 74.813, + "Actual Total Time": 1441.634, + "Actual Rows": 2427, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 87.970, + "Actual Total Time": 1441.458, + "Actual Rows": 2602, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 80.271, + "Actual Total Time": 1450.276, + "Actual Rows": 2666, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 80.515, + "Actual Total Time": 1453.037, + "Actual Rows": 2808, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 75.125, + "Actual Total Time": 1438.515, + "Actual Rows": 2473, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 81.904, + "Actual Total Time": 1435.065, + "Actual Rows": 2441, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 74.901, + "Actual Total Time": 1438.242, + "Actual Rows": 2649, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1456.28, + "Total Cost": 6008.48, + "Plan Rows": 4, + "Plan Width": 20, + "Actual Startup Time": 81.186, + "Actual Total Time": 1387.290, + "Actual Rows": 2590, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "ci.movie_id", "ci.person_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 74.675, + "Actual Total Time": 1388.722, + "Actual Rows": 2427, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 87.901, + "Actual Total Time": 1386.811, + "Actual Rows": 2602, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 80.130, + "Actual Total Time": 1395.054, + "Actual Rows": 2666, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 80.442, + "Actual Total Time": 1389.162, + "Actual Rows": 2808, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 75.009, + "Actual Total Time": 1383.688, + "Actual Rows": 2473, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 81.829, + "Actual Total Time": 1372.487, + "Actual Rows": 2441, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 74.837, + "Actual Total Time": 1383.035, + "Actual Rows": 2649, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1456.14, + "Total Cost": 6007.94, + "Plan Rows": 6, + "Plan Width": 24, + "Actual Startup Time": 81.112, + "Actual Total Time": 1377.304, + "Actual Rows": 3820, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "ci.movie_id", "ci.person_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 74.545, + "Actual Total Time": 1378.928, + "Actual Rows": 3640, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 87.827, + "Actual Total Time": 1376.864, + "Actual Rows": 3949, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 80.046, + "Actual Total Time": 1385.579, + "Actual Rows": 3622, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 80.386, + "Actual Total Time": 1378.708, + "Actual Rows": 4157, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.910, + "Actual Total Time": 1373.381, + "Actual Rows": 3715, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 81.764, + "Actual Total Time": 1362.934, + "Actual Rows": 3680, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 74.787, + "Actual Total Time": 1373.282, + "Actual Rows": 3845, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1455.71, + "Total Cost": 5907.18, + "Plan Rows": 222, + "Plan Width": 28, + "Actual Startup Time": 78.041, + "Actual Total Time": 592.572, + "Actual Rows": 88035, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "ci.movie_id", "ci.person_role_id", "ci.person_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 72.817, + "Actual Total Time": 589.350, + "Actual Rows": 86094, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 77.995, + "Actual Total Time": 603.433, + "Actual Rows": 88427, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 79.610, + "Actual Total Time": 608.701, + "Actual Rows": 82296, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 78.210, + "Actual Total Time": 593.332, + "Actual Rows": 91606, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 74.223, + "Actual Total Time": 588.342, + "Actual Rows": 86398, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 79.775, + "Actual Total Time": 576.192, + "Actual Rows": 82414, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 73.943, + "Actual Total Time": 588.716, + "Actual Rows": 95118, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1455.27, + "Total Cost": 2504.22, + "Plan Rows": 1342, + "Plan Width": 16, + "Actual Startup Time": 77.893, + "Actual Total Time": 98.071, + "Actual Rows": 1174, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 72.614, + "Actual Total Time": 91.288, + "Actual Rows": 1126, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 77.846, + "Actual Total Time": 98.714, + "Actual Rows": 1237, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 79.487, + "Actual Total Time": 97.944, + "Actual Rows": 1025, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 78.076, + "Actual Total Time": 97.433, + "Actual Rows": 1175, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 73.993, + "Actual Total Time": 96.731, + "Actual Rows": 1185, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 79.663, + "Actual Total Time": 101.729, + "Actual Rows": 1174, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 73.802, + "Actual Total Time": 93.502, + "Actual Rows": 1237, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.106, + "Actual Total Time": 5.603, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.096, + "Actual Total Time": 4.854, + "Actual Rows": 14651, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.402, + "Actual Total Time": 6.065, + "Actual Rows": 18130, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 4.775, + "Actual Rows": 14800, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.057, + "Actual Total Time": 5.239, + "Actual Rows": 16280, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.093, + "Actual Total Time": 6.432, + "Actual Rows": 19240, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.061, + "Actual Total Time": 6.747, + "Actual Rows": 18685, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.054, + "Actual Total Time": 5.407, + "Actual Rows": 17020, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1412.24, + "Total Cost": 1412.24, + "Plan Rows": 3442, + "Plan Width": 4, + "Actual Startup Time": 77.617, + "Actual Total Time": 77.618, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 32768, + "Original Hash Buckets": 32768, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 1344, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 72.333, + "Actual Total Time": 72.335, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 77.327, + "Actual Total Time": 77.329, + "Actual Rows": 398, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 79.267, + "Actual Total Time": 79.268, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 77.903, + "Actual Total Time": 77.905, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 73.798, + "Actual Total Time": 73.800, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 79.496, + "Actual Total Time": 79.497, + "Actual Rows": 409, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 73.681, + "Actual Total Time": 73.683, + "Actual Rows": 9226, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.46, + "Total Cost": 1412.24, + "Plan Rows": 3442, + "Plan Width": 4, + "Actual Startup Time": 2.457, + "Actual Total Time": 35.605, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.212, + "Actual Total Time": 22.610, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.192, + "Actual Total Time": 27.428, + "Actual Rows": 398, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.522, + "Actual Total Time": 28.479, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.612, + "Actual Total Time": 48.328, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.182, + "Actual Total Time": 25.339, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.340, + "Actual Total Time": 29.605, + "Actual Rows": 409, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.321, + "Actual Total Time": 67.195, + "Actual Rows": 9226, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.03, + "Total Cost": 1236.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 1.189, + "Actual Total Time": 10.582, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,tv-special,fight,violence,magnet,web,claw,laser}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.350, + "Actual Total Time": 18.339, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.508, + "Actual Total Time": 19.914, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.365, + "Actual Total Time": 15.727, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.442, + "Actual Total Time": 0.489, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.852, + "Actual Total Time": 1.862, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.625, + "Actual Total Time": 12.202, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.200, + "Actual Total Time": 0.245, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.62, + "Plan Rows": 2409, + "Plan Width": 8, + "Actual Startup Time": 1.072, + "Actual Total Time": 19.185, + "Actual Rows": 2409, + "Actual Loops": 10, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.850, + "Actual Total Time": 4.193, + "Actual Rows": 126, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.373, + "Actual Total Time": 3.669, + "Actual Rows": 199, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.152, + "Actual Total Time": 12.126, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.163, + "Actual Total Time": 45.929, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.318, + "Actual Total Time": 21.907, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.136, + "Actual Total Time": 8.610, + "Actual Rows": 204, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.115, + "Actual Total Time": 64.037, + "Actual Rows": 9226, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 141, + "Plan Width": 12, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.379, + "Actual Rows": 75, + "Actual Loops": 9392, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.400, + "Actual Rows": 76, + "Actual Loops": 1126 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.370, + "Actual Rows": 71, + "Actual Loops": 1237 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.436, + "Actual Rows": 80, + "Actual Loops": 1025 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.382, + "Actual Rows": 78, + "Actual Loops": 1175 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.376, + "Actual Rows": 73, + "Actual Loops": 1185 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.367, + "Actual Rows": 70, + "Actual Loops": 1174 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.360, + "Actual Rows": 77, + "Actual Loops": 1237 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 704280, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 86094 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 88427 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 82296 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 91606 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 86398 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 82414 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 95118 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 30558, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 3948, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3640, + "Cache Hits": 3638, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3949, + "Cache Hits": 3947, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3622, + "Cache Hits": 3620, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 4157, + "Cache Hits": 4155, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 3715, + "Cache Hits": 3713, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3680, + "Cache Hits": 3678, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3845, + "Cache Hits": 3843, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 16, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 20718, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 2427 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 2602 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 2666 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 2808 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 2473 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 2441 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 2649 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 20718, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2427 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2602 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2666 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2808 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2473 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 2441 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2649 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.081, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6387362809141986757, + "Planning Time": 126.125, + "Triggers": [ + ], + "Execution Time": 1556.471, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6387362809141986757, + "JOINS": 9 + } + ] (1 row)
SELECT MIN(cn.name) AS company_name,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS western_follow_up
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German')
  AND t.production_year BETWEEN 1950 AND 2000
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1865.42, + "Total Cost": 1865.43, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 88.633, + "Actual Total Time": 88.996, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1865.37, + "Total Cost": 1865.38, + "Plan Rows": 5, + "Plan Width": 96, + "Actual Startup Time": 88.615, + "Actual Total Time": 88.984, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1864.37, + "Total Cost": 1864.38, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 65.755, + "Actual Total Time": 65.762, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 53.613, + "Actual Total Time": 53.624, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 60.835, + "Actual Total Time": 60.841, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 59.569, + "Actual Total Time": 59.576, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 58.863, + "Actual Total Time": 58.868, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 73.854, + "Actual Total Time": 73.863, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1472.45, + "Total Cost": 1862.25, + "Plan Rows": 282, + "Plan Width": 48, + "Actual Startup Time": 57.370, + "Actual Total Time": 65.492, + "Actual Rows": 235, + "Actual Loops": 6, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 53.605, + "Actual Total Time": 53.615, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 52.748, + "Actual Total Time": 60.477, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 53.369, + "Actual Total Time": 59.550, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 58.859, + "Actual Total Time": 58.864, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.303, + "Actual Total Time": 73.351, + "Actual Rows": 285, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1471.30, + "Total Cost": 1860.19, + "Plan Rows": 282, + "Plan Width": 40, + "Actual Startup Time": 56.642, + "Actual Total Time": 64.592, + "Actual Rows": 235, + "Actual Loops": 6, + "Output": ["cn.name", "ml.link_type_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 53.035, + "Actual Total Time": 53.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 52.458, + "Actual Total Time": 59.972, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 53.145, + "Actual Total Time": 59.322, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 58.635, + "Actual Total Time": 58.639, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.723, + "Actual Total Time": 72.442, + "Actual Rows": 285, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.26, + "Total Cost": 1857.52, + "Plan Rows": 301, + "Plan Width": 44, + "Actual Startup Time": 56.612, + "Actual Total Time": 64.356, + "Actual Rows": 251, + "Actual Loops": 6, + "Output": ["cn.name", "mc.company_type_id", "ml.link_type_id", "t.title"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 53.026, + "Actual Total Time": 53.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 52.443, + "Actual Total Time": 59.703, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 53.132, + "Actual Total Time": 59.304, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 58.631, + "Actual Total Time": 58.634, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 61.702, + "Actual Total Time": 72.029, + "Actual Rows": 285, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.83, + "Total Cost": 1857.05, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 54.750, + "Actual Total Time": 60.910, + "Actual Rows": 318, + "Actual Loops": 6, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 53.025, + "Actual Total Time": 53.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 52.338, + "Actual Total Time": 56.581, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 53.053, + "Actual Total Time": 59.190, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 58.630, + "Actual Total Time": 58.633, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 50.753, + "Actual Total Time": 63.700, + "Actual Rows": 475, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.40, + "Total Cost": 1855.91, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 53.382, + "Actual Total Time": 57.544, + "Actual Rows": 75, + "Actual Loops": 6, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 53.024, + "Actual Total Time": 53.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.965, + "Actual Total Time": 54.338, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 52.963, + "Actual Total Time": 59.072, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 55.686, + "Actual Total Time": 56.260, + "Actual Rows": 33, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 50.368, + "Actual Total Time": 56.658, + "Actual Rows": 95, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.98, + "Total Cost": 1750.55, + "Plan Rows": 235, + "Plan Width": 24, + "Actual Startup Time": 50.042, + "Actual Total Time": 54.974, + "Actual Rows": 196, + "Actual Loops": 6, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 44.896, + "Actual Total Time": 51.338, + "Actual Rows": 53, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.747, + "Actual Total Time": 52.346, + "Actual Rows": 168, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.813, + "Actual Total Time": 58.083, + "Actual Rows": 80, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 52.235, + "Actual Total Time": 55.704, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 48.384, + "Actual Total Time": 50.674, + "Actual Rows": 307, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.55, + "Total Cost": 1722.11, + "Plan Rows": 50, + "Plan Width": 12, + "Actual Startup Time": 49.868, + "Actual Total Time": 53.743, + "Actual Rows": 42, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Hash Cond": "(ml.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 44.716, + "Actual Total Time": 49.811, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.633, + "Actual Total Time": 51.448, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.686, + "Actual Total Time": 57.370, + "Actual Rows": 34, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 51.833, + "Actual Total Time": 55.053, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 48.202, + "Actual Total Time": 48.625, + "Actual Rows": 44, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.00, + "Total Cost": 222.99, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.441, + "Actual Total Time": 3.465, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.477, + "Actual Total Time": 3.537, + "Actual Rows": 3885, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.440, + "Actual Total Time": 3.613, + "Actual Rows": 3885, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.351, + "Actual Total Time": 3.953, + "Actual Rows": 7612, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.386, + "Actual Total Time": 3.034, + "Actual Rows": 7400, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.499, + "Actual Total Time": 2.776, + "Actual Rows": 2405, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1449.72, + "Total Cost": 1449.72, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 48.123, + "Actual Total Time": 48.124, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 544, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 43.348, + "Actual Total Time": 43.350, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.043, + "Actual Total Time": 46.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.204, + "Actual Total Time": 51.205, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 50.465, + "Actual Total Time": 50.466, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 43.994, + "Actual Total Time": 43.996, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1449.72, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 8.241, + "Actual Total Time": 15.789, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.601, + "Actual Total Time": 5.602, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.223, + "Actual Total Time": 8.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.384, + "Actual Total Time": 13.385, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.164, + "Actual Total Time": 45.442, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.191, + "Actual Total Time": 6.193, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 8.222, + "Actual Total Time": 8.224, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 22362, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.600, + "Actual Total Time": 5.600, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.221, + "Actual Total Time": 8.221, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.383, + "Actual Total Time": 13.383, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.065, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.190, + "Actual Total Time": 6.190, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 10544, + "Plan Width": 8, + "Actual Startup Time": 0.105, + "Actual Total Time": 43.112, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.105, + "Actual Total Time": 43.112, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 5, + "Plan Width": 12, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.026, + "Actual Rows": 5, + "Actual Loops": 251, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.048, + "Actual Rows": 2, + "Actual Loops": 29 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.022, + "Actual Rows": 5, + "Actual Loops": 36 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.019, + "Actual Rows": 2, + "Actual Loops": 34 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.038, + "Actual Rows": 4, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.040, + "Actual Rows": 7, + "Actual Loops": 44 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1173, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 53 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 168 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 80 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 64 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 307 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.08, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.042, + "Actual Rows": 4, + "Actual Loops": 452, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German}'::text[]))", + "Rows Removed by Filter": 21, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.031, + "Actual Rows": 4, + "Actual Loops": 67 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.055, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.071, + "Actual Rows": 0, + "Actual Loops": 33 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.069, + "Actual Rows": 5, + "Actual Loops": 95 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1911, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2000))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 301 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 475 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.13, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.405, + "Actual Total Time": 0.405, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["lt.link", "lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.072, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 2.144, + "Actual Total Time": 2.185, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["lt.link", "lt.id"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1038524182031953798, + "Planning Time": 116.557, + "Triggers": [ + ], + "Execution Time": 89.376, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1038524182031953798, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS company_name,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS german_follow_up
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Germany',
                  'German')
  AND t.production_year BETWEEN 2000 AND 2010
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1737.39, + "Total Cost": 1737.40, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 51.587, + "Actual Total Time": 54.416, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1737.38, + "Total Cost": 1737.39, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 41.576, + "Actual Total Time": 54.400, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 1, + "Workers Launched": 1, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1736.38, + "Total Cost": 1736.39, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 41.052, + "Actual Total Time": 41.061, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 41.231, + "Actual Total Time": 41.236, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.69, + "Total Cost": 1736.21, + "Plan Rows": 22, + "Plan Width": 48, + "Actual Startup Time": 37.998, + "Actual Total Time": 41.027, + "Actual Rows": 19, + "Actual Loops": 2, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.129, + "Actual Total Time": 41.176, + "Actual Rows": 38, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.55, + "Total Cost": 1735.23, + "Plan Rows": 22, + "Plan Width": 52, + "Actual Startup Time": 37.970, + "Actual Total Time": 40.970, + "Actual Rows": 19, + "Actual Loops": 2, + "Output": ["cn.name", "mc.company_type_id", "lt.link", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 35.074, + "Actual Total Time": 41.065, + "Actual Rows": 38, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.13, + "Total Cost": 1700.26, + "Plan Rows": 78, + "Plan Width": 37, + "Actual Startup Time": 37.907, + "Actual Total Time": 40.378, + "Actual Rows": 66, + "Actual Loops": 2, + "Output": ["mc.company_type_id", "mc.company_id", "lt.link", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.949, + "Actual Total Time": 39.882, + "Actual Rows": 133, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.70, + "Total Cost": 1693.86, + "Plan Rows": 11, + "Plan Width": 45, + "Actual Startup Time": 37.844, + "Actual Total Time": 40.136, + "Actual Rows": 10, + "Actual Loops": 2, + "Output": ["mk.movie_id", "mi.movie_id", "ml.movie_id", "lt.link", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.822, + "Actual Total Time": 39.398, + "Actual Rows": 19, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.26, + "Total Cost": 1667.77, + "Plan Rows": 28, + "Plan Width": 41, + "Actual Startup Time": 36.282, + "Actual Total Time": 39.106, + "Actual Rows": 24, + "Actual Loops": 2, + "Output": ["mk.movie_id", "ml.movie_id", "lt.link", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.699, + "Actual Total Time": 37.339, + "Actual Rows": 48, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.83, + "Total Cost": 1612.15, + "Plan Rows": 117, + "Plan Width": 20, + "Actual Startup Time": 36.249, + "Actual Total Time": 38.111, + "Actual Rows": 100, + "Actual Loops": 2, + "Output": ["mk.movie_id", "ml.movie_id", "lt.link"], + "Inner Unique": false, + "Hash Cond": "(ml.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.633, + "Actual Total Time": 35.351, + "Actual Rows": 199, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.29, + "Total Cost": 136.66, + "Plan Rows": 1362, + "Plan Width": 16, + "Actual Startup Time": 0.096, + "Actual Total Time": 1.535, + "Actual Rows": 1158, + "Actual Loops": 2, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.189, + "Actual Total Time": 3.067, + "Actual Rows": 2315, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["lt.id", "lt.link"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 8, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.026, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 123.95, + "Plan Rows": 1158, + "Plan Width": 8, + "Actual Startup Time": 0.186, + "Actual Total Time": 1.202, + "Actual Rows": 1158, + "Actual Loops": 2, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.link_type_id = lt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.186, + "Actual Total Time": 1.202, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1449.72, + "Total Cost": 1449.72, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 35.853, + "Actual Total Time": 35.855, + "Actual Rows": 5272, + "Actual Loops": 2, + "Output": ["mk.movie_id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 544, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.352, + "Actual Total Time": 31.354, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1449.72, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 16.416, + "Actual Total Time": 33.819, + "Actual Rows": 5272, + "Actual Loops": 2, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.273, + "Actual Total Time": 31.274, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 16.379, + "Actual Total Time": 21.421, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 67084, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.272, + "Actual Total Time": 31.272, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 10544, + "Plan Width": 8, + "Actual Startup Time": 0.062, + "Actual Total Time": 22.814, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 199, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 199 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 48, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Germany,German}'::text[]))", + "Rows Removed by Filter": 29, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 48 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 6, + "Plan Width": 12, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.022, + "Actual Rows": 7, + "Actual Loops": 19, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 6, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.022, + "Actual Rows": 7, + "Actual Loops": 19 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 133, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 133 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 38, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 38, + "Cache Hits": 37, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4184495773567888797, + "Planning Time": 115.543, + "Triggers": [ + ], + "Execution Time": 54.780, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 4184495773567888797, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS company_name,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS western_follow_up
FROM company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'English')
  AND t.production_year BETWEEN 1950 AND 2010
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1960.82, + "Total Cost": 1960.83, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 61.029, + "Actual Total Time": 63.354, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1960.77, + "Total Cost": 1960.78, + "Plan Rows": 5, + "Plan Width": 96, + "Actual Startup Time": 46.715, + "Actual Total Time": 63.311, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1959.77, + "Total Cost": 1959.78, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 41.971, + "Actual Total Time": 41.982, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 48.325, + "Actual Total Time": 48.331, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.936, + "Actual Total Time": 46.946, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.908, + "Actual Total Time": 33.918, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 41.462, + "Actual Total Time": 41.472, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.315, + "Actual Total Time": 35.325, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1472.47, + "Total Cost": 1956.96, + "Plan Rows": 375, + "Plan Width": 48, + "Actual Startup Time": 34.468, + "Actual Total Time": 41.616, + "Actual Rows": 312, + "Actual Loops": 6, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.160, + "Actual Total Time": 47.603, + "Actual Rows": 1092, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.630, + "Actual Total Time": 46.072, + "Actual Rows": 475, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.600, + "Actual Total Time": 33.883, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.165, + "Actual Total Time": 40.933, + "Actual Rows": 301, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.308, + "Actual Total Time": 35.318, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1472.01, + "Total Cost": 1872.21, + "Plan Rows": 80, + "Plan Width": 64, + "Actual Startup Time": 34.367, + "Actual Total Time": 38.939, + "Actual Rows": 67, + "Actual Loops": 6, + "Output": ["cn.name", "mc.movie_id", "mk.movie_id", "ml.movie_id", "lt.link", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ml.link_type_id = lt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.075, + "Actual Total Time": 41.539, + "Actual Rows": 238, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 31.467, + "Actual Total Time": 39.775, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.520, + "Actual Total Time": 33.761, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.047, + "Actual Total Time": 37.673, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.307, + "Actual Total Time": 35.316, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.87, + "Total Cost": 1870.79, + "Plan Rows": 84, + "Plan Width": 56, + "Actual Startup Time": 33.918, + "Actual Total Time": 38.416, + "Actual Rows": 70, + "Actual Loops": 6, + "Output": ["cn.name", "mc.movie_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.736, + "Actual Total Time": 41.026, + "Actual Rows": 238, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.900, + "Actual Total Time": 39.012, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.121, + "Actual Total Time": 33.357, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 32.609, + "Actual Total Time": 37.116, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.756, + "Actual Total Time": 34.763, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1470.45, + "Total Cost": 1776.64, + "Plan Rows": 210, + "Plan Width": 41, + "Actual Startup Time": 31.123, + "Actual Total Time": 36.032, + "Actual Rows": 175, + "Actual Loops": 6, + "Output": ["mc.movie_id", "mc.company_id", "mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.691, + "Actual Total Time": 37.575, + "Actual Rows": 464, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.087, + "Actual Total Time": 33.444, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.057, + "Actual Total Time": 32.728, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.505, + "Actual Total Time": 34.150, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.491, + "Actual Total Time": 34.097, + "Actual Rows": 25, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1469.41, + "Total Cost": 1774.32, + "Plan Rows": 235, + "Plan Width": 45, + "Actual Startup Time": 31.099, + "Actual Total Time": 35.796, + "Actual Rows": 196, + "Actual Loops": 6, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.670, + "Actual Total Time": 37.260, + "Actual Rows": 505, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.064, + "Actual Total Time": 32.920, + "Actual Rows": 279, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.041, + "Actual Total Time": 32.654, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.489, + "Actual Total Time": 33.872, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.470, + "Actual Total Time": 34.006, + "Actual Rows": 44, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.98, + "Total Cost": 1745.89, + "Plan Rows": 50, + "Plan Width": 33, + "Actual Startup Time": 31.017, + "Actual Total Time": 34.738, + "Actual Rows": 42, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.621, + "Actual Total Time": 35.949, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.949, + "Actual Total Time": 30.944, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.966, + "Actual Total Time": 32.136, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.401, + "Actual Total Time": 32.950, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.350, + "Actual Total Time": 33.159, + "Actual Rows": 24, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1468.55, + "Total Cost": 1722.11, + "Plan Rows": 50, + "Plan Width": 12, + "Actual Startup Time": 30.926, + "Actual Total Time": 34.036, + "Actual Rows": 42, + "Actual Loops": 6, + "Output": ["mk.movie_id", "ml.link_type_id", "ml.movie_id"], + "Inner Unique": false, + "Hash Cond": "(ml.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.558, + "Actual Total Time": 35.148, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.818, + "Actual Total Time": 29.794, + "Actual Rows": 44, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.880, + "Actual Total Time": 31.741, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 29.305, + "Actual Total Time": 32.399, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.242, + "Actual Total Time": 32.466, + "Actual Rows": 24, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.00, + "Total Cost": 222.99, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.030, + "Actual Total Time": 1.401, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 1.357, + "Actual Rows": 7215, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 1.157, + "Actual Rows": 2590, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 1.444, + "Actual Rows": 4837, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 1.438, + "Actual Rows": 4995, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 1.892, + "Actual Rows": 4255, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1449.72, + "Total Cost": 1449.72, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 30.185, + "Actual Total Time": 30.187, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 544, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.475, + "Actual Total Time": 31.476, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 26.542, + "Actual Total Time": 26.544, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.853, + "Actual Total Time": 27.855, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.472, + "Actual Total Time": 28.474, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.327, + "Actual Total Time": 27.329, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1449.72, + "Plan Rows": 1506, + "Plan Width": 4, + "Actual Startup Time": 10.894, + "Actual Total Time": 16.257, + "Actual Rows": 1757, + "Actual Loops": 6, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.837, + "Actual Total Time": 15.838, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.949, + "Actual Total Time": 10.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.189, + "Actual Total Time": 12.190, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.840, + "Actual Total Time": 12.841, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.704, + "Actual Total Time": 11.705, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 10.879, + "Actual Total Time": 10.880, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 22362, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.836, + "Actual Total Time": 15.836, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.948, + "Actual Total Time": 10.948, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.188, + "Actual Total Time": 12.188, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 12.839, + "Actual Total Time": 12.839, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.703, + "Actual Total Time": 11.703, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 10544, + "Plan Width": 8, + "Actual Startup Time": 0.076, + "Actual Total Time": 29.619, + "Actual Rows": 10544, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 251, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 94 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 44 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 25 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 24 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 5, + "Plan Width": 12, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.021, + "Actual Rows": 5, + "Actual Loops": 251, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.012, + "Actual Rows": 5, + "Actual Loops": 94 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.037, + "Actual Rows": 6, + "Actual Loops": 44 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.033, + "Actual Rows": 4, + "Actual Loops": 14 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.030, + "Actual Rows": 6, + "Actual Loops": 25 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.032, + "Actual Rows": 2, + "Actual Loops": 24 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1052, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 464 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 276 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 30 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 162 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 25 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.13, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["lt.link", "lt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.025, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["lt.link", "lt.id"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.00, + "Plan Rows": 5, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.037, + "Actual Rows": 5, + "Actual Loops": 402, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,English}'::text[]))", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.024, + "Actual Rows": 5, + "Actual Loops": 238 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.062, + "Actual Rows": 5, + "Actual Loops": 95 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.056, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.046, + "Actual Rows": 5, + "Actual Loops": 65 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7971004576533452411, + "Planning Time": 111.727, + "Triggers": [ + ], + "Execution Time": 63.726, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -7971004576533452411, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Germany',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '7.0'
  AND t.production_year > 2008
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4749.56, + "Total Cost": 4749.57, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 682.170, + "Actual Total Time": 713.649, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4749.50, + "Total Cost": 4749.51, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 483.742, + "Actual Total Time": 713.612, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4748.50, + "Total Cost": 4748.51, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 233.064, + "Actual Total Time": 233.075, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 25.002, + "Actual Total Time": 25.015, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 584.195, + "Actual Total Time": 584.201, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.135, + "Actual Total Time": 26.146, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.390, + "Actual Total Time": 26.399, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.444, + "Actual Total Time": 26.456, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 666.978, + "Actual Total Time": 666.985, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.555, + "Actual Total Time": 26.568, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.07, + "Total Cost": 4745.50, + "Plan Rows": 399, + "Plan Width": 41, + "Actual Startup Time": 37.543, + "Actual Total Time": 232.784, + "Actual Rows": 356, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.995, + "Actual Total Time": 25.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.041, + "Actual Total Time": 583.263, + "Actual Rows": 1173, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.128, + "Actual Total Time": 26.138, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.385, + "Actual Total Time": 26.392, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.436, + "Actual Total Time": 26.447, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 117.803, + "Actual Total Time": 666.191, + "Actual Rows": 1040, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.547, + "Actual Total Time": 26.559, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.01, + "Total Cost": 4742.66, + "Plan Rows": 423, + "Plan Width": 45, + "Actual Startup Time": 23.467, + "Actual Total Time": 232.298, + "Actual Rows": 378, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.852, + "Actual Total Time": 24.861, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.949, + "Actual Total Time": 582.119, + "Actual Rows": 1247, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.003, + "Actual Total Time": 26.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.257, + "Actual Total Time": 26.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.306, + "Actual Total Time": 26.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.175, + "Actual Total Time": 665.091, + "Actual Rows": 1095, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.390, + "Actual Total Time": 26.400, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.87, + "Total Cost": 4742.17, + "Plan Rows": 5, + "Plan Width": 49, + "Actual Startup Time": 23.447, + "Actual Total Time": 231.924, + "Actual Rows": 378, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi_idx.info", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.852, + "Actual Total Time": 24.859, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.891, + "Actual Total Time": 580.853, + "Actual Rows": 1247, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.002, + "Actual Total Time": 26.009, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.256, + "Actual Total Time": 26.261, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.305, + "Actual Total Time": 26.312, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.112, + "Actual Total Time": 664.075, + "Actual Rows": 1095, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.388, + "Actual Total Time": 26.397, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.72, + "Total Cost": 4741.06, + "Plan Rows": 14, + "Plan Width": 53, + "Actual Startup Time": 22.412, + "Actual Total Time": 230.569, + "Actual Rows": 1394, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi_idx.info", "mi_idx.info_type_id", "t.title", "t.kind_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.851, + "Actual Total Time": 24.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.850, + "Actual Total Time": 576.418, + "Actual Rows": 4370, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.001, + "Actual Total Time": 26.007, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.255, + "Actual Total Time": 26.259, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.303, + "Actual Total Time": 26.310, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.067, + "Actual Total Time": 660.386, + "Actual Rows": 3990, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.387, + "Actual Total Time": 26.394, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.29, + "Total Cost": 4738.42, + "Plan Rows": 5, + "Plan Width": 60, + "Actual Startup Time": 22.385, + "Actual Total Time": 224.452, + "Actual Rows": 526, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.850, + "Actual Total Time": 24.855, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.761, + "Actual Total Time": 556.843, + "Actual Rows": 1624, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.000, + "Actual Total Time": 26.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.254, + "Actual Total Time": 26.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.303, + "Actual Total Time": 26.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.993, + "Actual Total Time": 643.487, + "Actual Rows": 1536, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.386, + "Actual Total Time": 26.392, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 4737.59, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 22.368, + "Actual Total Time": 221.837, + "Actual Rows": 574, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.849, + "Actual Total Time": 24.853, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.710, + "Actual Total Time": 548.464, + "Actual Rows": 1762, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.998, + "Actual Total Time": 26.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.253, + "Actual Total Time": 26.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.302, + "Actual Total Time": 26.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.948, + "Actual Total Time": 636.284, + "Actual Rows": 1668, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.385, + "Actual Total Time": 26.390, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 4727.72, + "Plan Rows": 10, + "Plan Width": 56, + "Actual Startup Time": 20.111, + "Actual Total Time": 139.154, + "Actual Rows": 571, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.848, + "Actual Total Time": 24.852, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.775, + "Actual Total Time": 290.449, + "Actual Rows": 1718, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.998, + "Actual Total Time": 26.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.252, + "Actual Total Time": 26.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.301, + "Actual Total Time": 26.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.897, + "Actual Total Time": 423.173, + "Actual Rows": 1722, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.384, + "Actual Total Time": 26.389, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 4385.60, + "Plan Rows": 728, + "Plan Width": 41, + "Actual Startup Time": 18.674, + "Actual Total Time": 131.415, + "Actual Rows": 648, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.848, + "Actual Total Time": 24.851, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.693, + "Actual Total Time": 266.363, + "Actual Rows": 1946, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.997, + "Actual Total Time": 25.999, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.251, + "Actual Total Time": 26.253, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.300, + "Actual Total Time": 26.303, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.841, + "Actual Total Time": 402.107, + "Actual Rows": 1973, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.383, + "Actual Total Time": 26.387, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3954.65, + "Plan Rows": 800, + "Plan Width": 29, + "Actual Startup Time": 16.833, + "Actual Total Time": 104.867, + "Actual Rows": 701, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.847, + "Actual Total Time": 24.849, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.385, + "Actual Total Time": 203.908, + "Actual Rows": 1659, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.996, + "Actual Total Time": 25.998, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.250, + "Actual Total Time": 26.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.299, + "Actual Total Time": 26.301, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.873, + "Actual Total Time": 328.235, + "Actual Rows": 2577, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.382, + "Actual Total Time": 26.385, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 16.669, + "Actual Total Time": 49.750, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.846, + "Actual Total Time": 24.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.205, + "Actual Total Time": 95.374, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.994, + "Actual Total Time": 25.995, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.249, + "Actual Total Time": 26.250, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.298, + "Actual Total Time": 26.300, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.877, + "Actual Total Time": 120.978, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.381, + "Actual Total Time": 26.383, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 16.598, + "Actual Total Time": 16.605, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 24.845, + "Actual Total Time": 24.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.085, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 25.993, + "Actual Total Time": 25.994, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.248, + "Actual Total Time": 26.248, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 26.297, + "Actual Total Time": 26.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.561, + "Actual Total Time": 0.567, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 26.379, + "Actual Total Time": 26.380, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.59, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.181, + "Actual Total Time": 85.229, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.126, + "Actual Total Time": 92.856, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.308, + "Actual Total Time": 115.861, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2008)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 5606, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 8, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 1659 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 2577 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 5186, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1946 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1973 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.144, + "Actual Rows": 1, + "Actual Loops": 4569, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Germany,German,USA,American}'::text[]))", + "Rows Removed by Filter": 177, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.149, + "Actual Rows": 1, + "Actual Loops": 1718 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.123, + "Actual Rows": 1, + "Actual Loops": 1722 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 4593, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1762 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1668 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 3, + "Actual Loops": 4205, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '7.0'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.011, + "Actual Rows": 3, + "Actual Loops": 1624 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 3, + "Actual Loops": 1536 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 11154, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 2790, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4370, + "Cache Hits": 4366, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 3990, + "Cache Hits": 3986, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 1, + "Actual Loops": 3027, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 684, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 1, + "Actual Loops": 1247, + "Cache Hits": 1246, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 1, + "Actual Loops": 1095, + "Cache Hits": 1094, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.075, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.034, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7110568913434103698, + "Planning Time": 266.552, + "Triggers": [ + ], + "Execution Time": 714.262, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -7110568913434103698, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Germany',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '7.0'
  AND t.production_year > 2009
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4290.62, + "Total Cost": 4290.63, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 280.189, + "Actual Total Time": 311.994, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4290.56, + "Total Cost": 4290.57, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 164.899, + "Actual Total Time": 311.971, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4289.56, + "Total Cost": 4289.57, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 91.525, + "Actual Total Time": 91.535, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.309, + "Actual Total Time": 28.322, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 154.271, + "Actual Total Time": 154.279, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.332, + "Actual Total Time": 29.341, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.311, + "Actual Total Time": 30.324, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.517, + "Actual Total Time": 29.528, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.030, + "Actual Total Time": 30.038, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 266.468, + "Actual Total Time": 266.475, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.07, + "Total Cost": 4289.52, + "Plan Rows": 5, + "Plan Width": 41, + "Actual Startup Time": 33.421, + "Actual Total Time": 91.519, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.301, + "Actual Total Time": 28.313, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.477, + "Actual Total Time": 154.252, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.327, + "Actual Total Time": 29.334, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.304, + "Actual Total Time": 30.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.510, + "Actual Total Time": 29.521, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.026, + "Actual Total Time": 30.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 71.162, + "Actual Total Time": 266.440, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.93, + "Total Cost": 4289.03, + "Plan Rows": 5, + "Plan Width": 45, + "Actual Startup Time": 33.398, + "Actual Total Time": 91.488, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.299, + "Actual Total Time": 28.310, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.395, + "Actual Total Time": 154.157, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.326, + "Actual Total Time": 29.333, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.303, + "Actual Total Time": 30.314, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.510, + "Actual Total Time": 29.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.026, + "Actual Total Time": 30.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 71.102, + "Actual Total Time": 266.358, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.79, + "Total Cost": 4288.20, + "Plan Rows": 5, + "Plan Width": 49, + "Actual Startup Time": 33.393, + "Actual Total Time": 91.458, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.299, + "Actual Total Time": 28.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.381, + "Actual Total Time": 154.103, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.325, + "Actual Total Time": 29.332, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.302, + "Actual Total Time": 30.312, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.509, + "Actual Total Time": 29.518, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.025, + "Actual Total Time": 30.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 71.090, + "Actual Total Time": 266.266, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.64, + "Total Cost": 4287.09, + "Plan Rows": 14, + "Plan Width": 53, + "Actual Startup Time": 33.374, + "Actual Total Time": 91.417, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi.info_type_id", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.298, + "Actual Total Time": 28.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.320, + "Actual Total Time": 153.998, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.325, + "Actual Total Time": 29.330, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.301, + "Actual Total Time": 30.310, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.508, + "Actual Total Time": 29.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.024, + "Actual Total Time": 30.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 71.050, + "Actual Total Time": 266.160, + "Actual Rows": 41, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.21, + "Total Cost": 4284.45, + "Plan Rows": 5, + "Plan Width": 60, + "Actual Startup Time": 33.355, + "Actual Total Time": 91.320, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.297, + "Actual Total Time": 28.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.258, + "Actual Total Time": 153.810, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.324, + "Actual Total Time": 29.328, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.301, + "Actual Total Time": 30.308, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.507, + "Actual Total Time": 29.514, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.023, + "Actual Total Time": 30.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 71.004, + "Actual Total Time": 265.827, + "Actual Rows": 15, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.78, + "Total Cost": 4275.57, + "Plan Rows": 9, + "Plan Width": 52, + "Actual Startup Time": 28.516, + "Actual Total Time": 90.884, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.296, + "Actual Total Time": 28.303, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.856, + "Actual Total Time": 153.094, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.323, + "Actual Total Time": 29.327, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.300, + "Actual Total Time": 30.307, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.506, + "Actual Total Time": 29.512, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.023, + "Actual Total Time": 30.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.754, + "Actual Total Time": 264.334, + "Actual Rows": 28, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 4274.47, + "Plan Rows": 10, + "Plan Width": 56, + "Actual Startup Time": 28.371, + "Actual Total Time": 90.710, + "Actual Rows": 9, + "Actual Loops": 8, + "Output": ["cn.name", "mc.movie_id", "mc.company_type_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.166, + "Actual Total Time": 28.170, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.765, + "Actual Total Time": 152.958, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.199, + "Actual Total Time": 29.201, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.186, + "Actual Total Time": 30.190, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.388, + "Actual Total Time": 29.391, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.899, + "Actual Total Time": 29.901, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.596, + "Actual Total Time": 264.070, + "Actual Rows": 30, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 4266.01, + "Plan Rows": 18, + "Plan Width": 41, + "Actual Startup Time": 21.971, + "Actual Total Time": 90.463, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.165, + "Actual Total Time": 28.168, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.709, + "Actual Total Time": 152.470, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.198, + "Actual Total Time": 29.200, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.185, + "Actual Total Time": 30.188, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.387, + "Actual Total Time": 29.390, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.897, + "Actual Total Time": 29.900, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.288, + "Actual Total Time": 263.260, + "Actual Rows": 56, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3954.65, + "Plan Rows": 578, + "Plan Width": 29, + "Actual Startup Time": 18.943, + "Actual Total Time": 79.832, + "Actual Rows": 505, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.164, + "Actual Total Time": 28.166, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.324, + "Actual Total Time": 125.174, + "Actual Rows": 1167, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.197, + "Actual Total Time": 29.199, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.184, + "Actual Total Time": 30.186, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.386, + "Actual Total Time": 29.388, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.897, + "Actual Total Time": 29.898, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.738, + "Actual Total Time": 228.359, + "Actual Rows": 1858, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 18.846, + "Actual Total Time": 33.752, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.163, + "Actual Total Time": 28.165, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.192, + "Actual Total Time": 33.003, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.196, + "Actual Total Time": 29.197, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.183, + "Actual Total Time": 30.185, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.385, + "Actual Total Time": 29.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.896, + "Actual Total Time": 29.897, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.181, + "Actual Total Time": 52.876, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 18.801, + "Actual Total Time": 18.808, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.162, + "Actual Total Time": 28.163, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.101, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.195, + "Actual Total Time": 29.196, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.182, + "Actual Total Time": 30.183, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.384, + "Actual Total Time": 29.384, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.895, + "Actual Total Time": 29.895, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.010, + "Actual Total Time": 1.017, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.59, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.112, + "Actual Total Time": 36.808, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.099, + "Actual Total Time": 30.690, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.164, + "Actual Total Time": 47.486, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2009)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 4040, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 8, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1167 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1858 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 123, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 32 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 56 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.020, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 62, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Germany,German,USA,American}'::text[]))", + "Rows Removed by Filter": 48, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 28 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 37, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '7.0'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 9 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.020, + "Actual Rows": 3, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 101, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 33, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 24, + "Cache Hits": 21, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 41, + "Cache Hits": 38, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 9, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 34, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 14 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 31, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 10, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 8, + "Cache Hits": 7, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 12, + "Cache Hits": 11, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.074, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7110568913434103698, + "Planning Time": 287.494, + "Triggers": [ + ], + "Execution Time": 312.488, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -7110568913434103698, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5764.40, + "Total Cost": 5764.41, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 940.823, + "Actual Total Time": 975.901, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5764.34, + "Total Cost": 5764.35, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 744.992, + "Actual Total Time": 975.861, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5763.34, + "Total Cost": 5763.35, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 314.627, + "Actual Total Time": 314.642, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.808, + "Actual Total Time": 15.819, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 765.681, + "Actual Total Time": 765.687, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.110, + "Actual Total Time": 16.126, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.233, + "Actual Total Time": 15.244, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.065, + "Actual Total Time": 14.076, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.803, + "Actual Total Time": 16.813, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 929.252, + "Actual Total Time": 929.258, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.37, + "Total Cost": 5740.31, + "Plan Rows": 3070, + "Plan Width": 41, + "Actual Startup Time": 18.119, + "Actual Total Time": 312.926, + "Actual Rows": 2686, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.804, + "Actual Total Time": 15.814, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.229, + "Actual Total Time": 760.869, + "Actual Rows": 7787, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.100, + "Actual Total Time": 16.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.228, + "Actual Total Time": 15.239, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.061, + "Actual Total Time": 14.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.799, + "Actual Total Time": 16.808, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.394, + "Actual Total Time": 924.560, + "Actual Rows": 7733, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.33, + "Total Cost": 5722.66, + "Plan Rows": 3070, + "Plan Width": 45, + "Actual Startup Time": 17.772, + "Actual Total Time": 311.418, + "Actual Rows": 2686, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.532, + "Actual Total Time": 15.541, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.850, + "Actual Total Time": 757.206, + "Actual Rows": 7787, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.473, + "Actual Total Time": 15.485, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.963, + "Actual Total Time": 14.973, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.732, + "Actual Total Time": 13.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.497, + "Actual Total Time": 16.505, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.097, + "Actual Total Time": 921.024, + "Actual Rows": 7733, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.48, + "Total Cost": 5695.67, + "Plan Rows": 9233, + "Plan Width": 49, + "Actual Startup Time": 17.400, + "Actual Total Time": 308.309, + "Actual Rows": 8078, + "Actual Loops": 8, + "Output": ["cn.name", "mc.company_type_id", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.524, + "Actual Total Time": 15.532, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.805, + "Actual Total Time": 748.335, + "Actual Rows": 23391, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.455, + "Actual Total Time": 15.466, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.956, + "Actual Total Time": 14.964, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.724, + "Actual Total Time": 13.732, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.490, + "Actual Total Time": 16.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.012, + "Actual Total Time": 912.337, + "Actual Rows": 23180, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.06, + "Total Cost": 5695.20, + "Plan Rows": 1, + "Plan Width": 34, + "Actual Startup Time": 17.379, + "Actual Total Time": 247.444, + "Actual Rows": 8725, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mc.company_id", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.524, + "Actual Total Time": 15.531, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.761, + "Actual Total Time": 574.722, + "Actual Rows": 25199, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.454, + "Actual Total Time": 15.464, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.956, + "Actual Total Time": 14.963, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.723, + "Actual Total Time": 13.730, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.489, + "Actual Total Time": 16.495, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.938, + "Actual Total Time": 742.305, + "Actual Rows": 25176, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.63, + "Total Cost": 5694.63, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 10.104, + "Actual Total Time": 206.132, + "Actual Rows": 1550, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.523, + "Actual Total Time": 15.530, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.549, + "Actual Total Time": 460.716, + "Actual Rows": 4159, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.453, + "Actual Total Time": 15.462, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.955, + "Actual Total Time": 14.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.723, + "Actual Total Time": 13.729, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.488, + "Actual Total Time": 16.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.247, + "Actual Total Time": 613.861, + "Actual Rows": 5340, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.20, + "Total Cost": 5293.86, + "Plan Rows": 759, + "Plan Width": 29, + "Actual Startup Time": 10.082, + "Actual Total Time": 194.981, + "Actual Rows": 664, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.522, + "Actual Total Time": 15.528, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.484, + "Actual Total Time": 432.057, + "Actual Rows": 1687, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.453, + "Actual Total Time": 15.461, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.954, + "Actual Total Time": 14.960, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.722, + "Actual Total Time": 13.728, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.488, + "Actual Total Time": 16.493, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.196, + "Actual Total Time": 580.043, + "Actual Rows": 2378, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.36, + "Total Cost": 5289.67, + "Plan Rows": 860, + "Plan Width": 33, + "Actual Startup Time": 10.068, + "Actual Total Time": 194.358, + "Actual Rows": 752, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.514, + "Actual Total Time": 15.519, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.471, + "Actual Total Time": 430.545, + "Actual Rows": 1908, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.438, + "Actual Total Time": 15.444, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.948, + "Actual Total Time": 14.952, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.711, + "Actual Total Time": 13.715, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.479, + "Actual Total Time": 16.483, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.185, + "Actual Total Time": 578.056, + "Actual Rows": 2658, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 3961.58, + "Plan Rows": 1153, + "Plan Width": 25, + "Actual Startup Time": 10.031, + "Actual Total Time": 68.364, + "Actual Rows": 1009, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.514, + "Actual Total Time": 15.518, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.375, + "Actual Total Time": 116.457, + "Actual Rows": 2502, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.437, + "Actual Total Time": 15.442, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.947, + "Actual Total Time": 14.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.711, + "Actual Total Time": 13.714, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.478, + "Actual Total Time": 16.481, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.100, + "Actual Total Time": 220.896, + "Actual Rows": 3653, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3954.65, + "Plan Rows": 1391, + "Plan Width": 29, + "Actual Startup Time": 9.971, + "Actual Total Time": 67.329, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.505, + "Actual Total Time": 15.508, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.277, + "Actual Total Time": 113.990, + "Actual Rows": 3009, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.423, + "Actual Total Time": 15.425, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.940, + "Actual Total Time": 14.943, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.704, + "Actual Total Time": 13.706, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.471, + "Actual Total Time": 16.473, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.841, + "Actual Total Time": 217.402, + "Actual Rows": 4326, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 9.946, + "Actual Total Time": 24.638, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.505, + "Actual Total Time": 15.506, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.205, + "Actual Total Time": 30.442, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.422, + "Actual Total Time": 15.423, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.939, + "Actual Total Time": 14.941, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.703, + "Actual Total Time": 13.705, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.470, + "Actual Total Time": 16.471, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.764, + "Actual Total Time": 51.604, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.906, + "Actual Total Time": 9.918, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.504, + "Actual Total Time": 15.504, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.095, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.420, + "Actual Total Time": 15.421, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.939, + "Actual Total Time": 14.939, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.703, + "Actual Total Time": 13.703, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.470, + "Actual Total Time": 16.470, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.648, + "Actual Total Time": 0.653, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.59, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.098, + "Actual Total Time": 36.274, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.113, + "Actual Total Time": 28.264, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.110, + "Actual Total Time": 46.494, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.009, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.093, + "Actual Total Time": 0.124, + "Actual Rows": 1, + "Actual Loops": 8073, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 57, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.125, + "Actual Rows": 1, + "Actual Loops": 2502 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.097, + "Actual Rows": 1, + "Actual Loops": 3653 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 5316, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 1687 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 2378 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.025, + "Actual Rows": 6, + "Actual Loops": 12401, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 10, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.025, + "Actual Rows": 6, + "Actual Loops": 4159 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.022, + "Actual Rows": 5, + "Actual Loops": 5340 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 69797, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 25199 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 25176 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.02, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["ct.id"], + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5949668645089970217, + "Planning Time": 271.466, + "Triggers": [ + ], + "Execution Time": 976.440, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -5949668645089970217, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS western_violent_movie
FROM company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5910.91, + "Total Cost": 5910.92, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1295.229, + "Actual Total Time": 1330.446, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5910.85, + "Total Cost": 5910.86, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 862.417, + "Actual Total Time": 1330.418, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5909.85, + "Total Cost": 5909.86, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 413.686, + "Actual Total Time": 413.697, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1285.405, + "Actual Total Time": 1285.411, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1070.149, + "Actual Total Time": 1070.157, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.452, + "Actual Total Time": 17.461, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.226, + "Actual Total Time": 22.235, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.588, + "Actual Total Time": 17.602, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.530, + "Actual Total Time": 17.540, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.676, + "Actual Total Time": 17.690, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.37, + "Total Cost": 5860.26, + "Plan Rows": 6612, + "Plan Width": 41, + "Actual Startup Time": 12.908, + "Actual Total Time": 410.066, + "Actual Rows": 5785, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.775, + "Actual Total Time": 1274.242, + "Actual Rows": 18079, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.680, + "Actual Total Time": 1060.010, + "Actual Rows": 16022, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.447, + "Actual Total Time": 17.455, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.222, + "Actual Total Time": 22.230, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.580, + "Actual Total Time": 17.593, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 17.524, + "Actual Total Time": 17.533, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.668, + "Actual Total Time": 17.682, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.53, + "Total Cost": 5804.15, + "Plan Rows": 19926, + "Plan Width": 45, + "Actual Startup Time": 12.302, + "Actual Total Time": 402.707, + "Actual Rows": 17435, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.471, + "Actual Total Time": 1252.647, + "Actual Rows": 54089, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.347, + "Actual Total Time": 1040.543, + "Actual Rows": 48221, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.899, + "Actual Total Time": 16.907, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.983, + "Actual Total Time": 21.990, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.946, + "Actual Total Time": 16.958, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.942, + "Actual Total Time": 16.950, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.038, + "Actual Total Time": 17.050, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.11, + "Total Cost": 5803.71, + "Plan Rows": 1, + "Plan Width": 30, + "Actual Startup Time": 11.766, + "Actual Total Time": 232.886, + "Actual Rows": 24455, + "Actual Loops": 8, + "Output": ["mc.company_id", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.815, + "Actual Total Time": 734.376, + "Actual Rows": 76948, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.578, + "Actual Total Time": 565.872, + "Actual Rows": 68095, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.899, + "Actual Total Time": 16.906, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.982, + "Actual Total Time": 21.989, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.945, + "Actual Total Time": 16.956, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.941, + "Actual Total Time": 16.948, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.036, + "Actual Total Time": 17.048, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.68, + "Total Cost": 5803.19, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 11.748, + "Actual Total Time": 151.979, + "Actual Rows": 8506, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mc.company_id", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.770, + "Actual Total Time": 481.251, + "Actual Rows": 27084, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.514, + "Actual Total Time": 340.345, + "Actual Rows": 23470, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.898, + "Actual Total Time": 16.904, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.982, + "Actual Total Time": 21.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.944, + "Actual Total Time": 16.954, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.940, + "Actual Total Time": 16.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.036, + "Actual Total Time": 17.046, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.63, + "Total Cost": 5785.41, + "Plan Rows": 3096, + "Plan Width": 41, + "Actual Startup Time": 11.735, + "Actual Total Time": 147.274, + "Actual Rows": 8506, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mc.movie_id", "mc.company_type_id", "mc.company_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.763, + "Actual Total Time": 466.521, + "Actual Rows": 27084, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.505, + "Actual Total Time": 327.256, + "Actual Rows": 23470, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.891, + "Actual Total Time": 16.896, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.977, + "Actual Total Time": 21.982, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.936, + "Actual Total Time": 16.944, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.930, + "Actual Total Time": 16.936, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.025, + "Actual Total Time": 17.034, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.20, + "Total Cost": 5293.86, + "Plan Rows": 759, + "Plan Width": 29, + "Actual Startup Time": 11.717, + "Actual Total Time": 131.761, + "Actual Rows": 664, + "Actual Loops": 8, + "Output": ["mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.718, + "Actual Total Time": 416.825, + "Actual Rows": 2378, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.446, + "Actual Total Time": 285.279, + "Actual Rows": 1687, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.890, + "Actual Total Time": 16.895, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.976, + "Actual Total Time": 21.980, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.935, + "Actual Total Time": 16.942, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.930, + "Actual Total Time": 16.935, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.024, + "Actual Total Time": 17.032, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.36, + "Total Cost": 5289.67, + "Plan Rows": 860, + "Plan Width": 33, + "Actual Startup Time": 11.700, + "Actual Total Time": 131.271, + "Actual Rows": 752, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.709, + "Actual Total Time": 415.217, + "Actual Rows": 2658, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.435, + "Actual Total Time": 284.029, + "Actual Rows": 1908, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.877, + "Actual Total Time": 16.881, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.968, + "Actual Total Time": 21.972, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.920, + "Actual Total Time": 16.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.913, + "Actual Total Time": 16.917, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.009, + "Actual Total Time": 17.015, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 3961.58, + "Plan Rows": 1153, + "Plan Width": 25, + "Actual Startup Time": 11.669, + "Actual Total Time": 67.063, + "Actual Rows": 1009, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.641, + "Actual Total Time": 213.045, + "Actual Rows": 3653, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.339, + "Actual Total Time": 111.513, + "Actual Rows": 2502, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.876, + "Actual Total Time": 16.879, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.968, + "Actual Total Time": 21.970, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.919, + "Actual Total Time": 16.924, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.912, + "Actual Total Time": 16.915, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 17.008, + "Actual Total Time": 17.013, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3954.65, + "Plan Rows": 1391, + "Plan Width": 29, + "Actual Startup Time": 11.611, + "Actual Total Time": 66.165, + "Actual Rows": 1217, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.408, + "Actual Total Time": 209.936, + "Actual Rows": 4326, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.252, + "Actual Total Time": 109.321, + "Actual Rows": 3009, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.864, + "Actual Total Time": 16.866, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.954, + "Actual Total Time": 21.955, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.905, + "Actual Total Time": 16.908, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.898, + "Actual Total Time": 16.899, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.995, + "Actual Total Time": 16.997, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 11.589, + "Actual Total Time": 25.214, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.346, + "Actual Total Time": 49.366, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.184, + "Actual Total Time": 29.341, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.863, + "Actual Total Time": 16.864, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.953, + "Actual Total Time": 21.954, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.904, + "Actual Total Time": 16.906, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.897, + "Actual Total Time": 16.898, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.993, + "Actual Total Time": 16.995, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 11.554, + "Actual Total Time": 11.560, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.258, + "Actual Total Time": 0.263, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.091, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 16.863, + "Actual Total Time": 16.863, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.953, + "Actual Total Time": 21.953, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.903, + "Actual Total Time": 16.904, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 16.896, + "Actual Total Time": 16.897, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.993, + "Actual Total Time": 16.993, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.59, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.086, + "Actual Total Time": 33.589, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.085, + "Actual Total Time": 44.826, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.099, + "Actual Total Time": 27.220, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 37091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 19528 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8337 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.009, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 8073, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 57, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 3653 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.068, + "Actual Rows": 1, + "Actual Loops": 2502 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 12, + "Plan Width": 12, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.019, + "Actual Rows": 13, + "Actual Loops": 5316, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.017, + "Actual Rows": 11, + "Actual Loops": 2378 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.021, + "Actual Rows": 14, + "Actual Loops": 1687 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.02, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.009, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["ct.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 68049, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 27084 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 23470 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 195643, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 76948 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 68095 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.068, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.076, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1524343667767028728, + "Planning Time": 255.705, + "Triggers": [ + ], + "Execution Time": 1330.999, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1524343667767028728, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(kt.kind) AS movie_kind,
       MIN(t.title) AS complete_us_internet_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'complete+verified'
  AND cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND kt.kind IN ('movie')
  AND mi.note LIKE '%internet%'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'USA:% 199%'
       OR mi.info LIKE 'USA:% 200%')
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND cct1.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4053.93, + "Total Cost": 4053.94, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 136.287, + "Actual Total Time": 138.337, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((kt.kind)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4053.88, + "Total Cost": 4053.89, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 126.551, + "Actual Total Time": 138.313, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((kt.kind)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4052.88, + "Total Cost": 4052.89, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 117.415, + "Actual Total Time": 117.426, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((kt.kind)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.608, + "Actual Total Time": 113.616, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 117.791, + "Actual Total Time": 117.800, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.302, + "Actual Total Time": 117.312, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 118.299, + "Actual Total Time": 118.309, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 112.318, + "Actual Total Time": 112.326, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 116.747, + "Actual Total Time": 116.757, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.584, + "Actual Total Time": 117.594, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.96, + "Total Cost": 4052.44, + "Plan Rows": 88, + "Plan Width": 27, + "Actual Startup Time": 105.298, + "Actual Total Time": 117.348, + "Actual Rows": 77, + "Actual Loops": 8, + "Output": ["kt.kind", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.603, + "Actual Total Time": 113.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 71.677, + "Actual Total Time": 117.490, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.297, + "Actual Total Time": 117.307, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 72.419, + "Actual Total Time": 118.291, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.397, + "Actual Total Time": 112.057, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 116.742, + "Actual Total Time": 116.752, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.580, + "Actual Total Time": 117.589, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.54, + "Total Cost": 4013.93, + "Plan Rows": 88, + "Plan Width": 31, + "Actual Startup Time": 105.274, + "Actual Total Time": 115.991, + "Actual Rows": 77, + "Actual Loops": 8, + "Output": ["mk.keyword_id", "t.title", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.602, + "Actual Total Time": 113.609, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 71.617, + "Actual Total Time": 109.934, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.296, + "Actual Total Time": 117.305, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 72.350, + "Actual Total Time": 118.170, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.339, + "Actual Total Time": 108.887, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 116.742, + "Actual Total Time": 116.750, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.579, + "Actual Total Time": 117.588, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.10, + "Total Cost": 4011.82, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 105.155, + "Actual Total Time": 115.738, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mi.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.602, + "Actual Total Time": 113.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 71.207, + "Actual Total Time": 108.859, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.296, + "Actual Total Time": 117.304, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 71.860, + "Actual Total Time": 117.660, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.288, + "Actual Total Time": 108.451, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 116.741, + "Actual Total Time": 116.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.579, + "Actual Total Time": 117.587, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.95, + "Total Cost": 4011.62, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 105.138, + "Actual Total Time": 115.717, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.601, + "Actual Total Time": 113.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 71.174, + "Actual Total Time": 108.815, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.295, + "Actual Total Time": 117.302, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 71.810, + "Actual Total Time": 117.603, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.240, + "Actual Total Time": 108.395, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 116.740, + "Actual Total Time": 116.746, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.578, + "Actual Total Time": 117.585, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.82, + "Total Cost": 4011.47, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 105.115, + "Actual Total Time": 115.690, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.600, + "Actual Total Time": 113.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 71.125, + "Actual Total Time": 108.757, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.294, + "Actual Total Time": 117.301, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 71.751, + "Actual Total Time": 117.537, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.164, + "Actual Total Time": 108.310, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 116.739, + "Actual Total Time": 116.745, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.577, + "Actual Total Time": 117.583, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.40, + "Total Cost": 4011.03, + "Plan Rows": 1, + "Plan Width": 55, + "Actual Startup Time": 105.094, + "Actual Total Time": 115.659, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.600, + "Actual Total Time": 113.604, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 71.072, + "Actual Total Time": 108.678, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.294, + "Actual Total Time": 117.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 71.698, + "Actual Total Time": 117.450, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.108, + "Actual Total Time": 108.234, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 116.739, + "Actual Total Time": 116.744, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.577, + "Actual Total Time": 117.582, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.97, + "Total Cost": 4010.50, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 105.065, + "Actual Total Time": 115.622, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 113.599, + "Actual Total Time": 113.602, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 71.016, + "Actual Total Time": 108.595, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.293, + "Actual Total Time": 117.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 71.588, + "Actual Total Time": 117.327, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.046, + "Actual Total Time": 108.150, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 116.738, + "Actual Total Time": 116.742, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 117.576, + "Actual Total Time": 117.581, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.54, + "Total Cost": 3841.67, + "Plan Rows": 148, + "Plan Width": 35, + "Actual Startup Time": 0.644, + "Actual Total Time": 61.548, + "Actual Rows": 129, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.253, + "Actual Total Time": 60.939, + "Actual Rows": 132, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.748, + "Actual Total Time": 61.150, + "Actual Rows": 118, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.761, + "Actual Total Time": 62.688, + "Actual Rows": 142, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.387, + "Actual Total Time": 67.844, + "Actual Rows": 124, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.520, + "Actual Total Time": 57.734, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.414, + "Actual Total Time": 56.134, + "Actual Rows": 119, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.600, + "Actual Total Time": 60.113, + "Actual Rows": 156, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 3839.35, + "Plan Rows": 298, + "Plan Width": 29, + "Actual Startup Time": 0.413, + "Actual Total Time": 61.080, + "Actual Rows": 260, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.143, + "Actual Total Time": 60.553, + "Actual Rows": 238, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.654, + "Actual Total Time": 60.724, + "Actual Rows": 289, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.780, + "Actual Total Time": 62.320, + "Actual Rows": 268, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.289, + "Actual Total Time": 67.460, + "Actual Rows": 316, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.406, + "Actual Total Time": 57.350, + "Actual Rows": 292, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.330, + "Actual Total Time": 55.791, + "Actual Rows": 215, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.534, + "Actual Total Time": 59.743, + "Actual Rows": 251, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 3513, + "Plan Width": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 12.077, + "Actual Rows": 3074, + "Actual Loops": 8, + "Output": ["cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.064, + "Actual Total Time": 9.934, + "Actual Rows": 2794, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.053, + "Actual Total Time": 12.531, + "Actual Rows": 3157, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.049, + "Actual Total Time": 12.016, + "Actual Rows": 3128, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.063, + "Actual Total Time": 14.021, + "Actual Rows": 3432, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.053, + "Actual Total Time": 11.167, + "Actual Rows": 2868, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.048, + "Actual Total Time": 11.476, + "Actual Rows": 2949, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.054, + "Actual Total Time": 10.811, + "Actual Rows": 3087, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 8, + "Actual Startup Time": 0.034, + "Actual Total Time": 4.370, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 3.562, + "Actual Rows": 13875, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 4.546, + "Actual Rows": 18130, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 4.347, + "Actual Rows": 17205, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 5.136, + "Actual Rows": 20535, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 4.085, + "Actual Rows": 16131, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 4.036, + "Actual Rows": 16280, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 3.861, + "Actual Rows": 15170, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 24592, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2794 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3157 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3128 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3432 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2868 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2949 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3087 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.kind", "kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.kind", "kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.417, + "Actual Total Time": 0.417, + "Actual Rows": 0, + "Actual Loops": 1033, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND (mi.note ~~ '%internet%'::text) AND ((mi.info ~~ 'USA:% 199%'::text) OR (mi.info ~~ 'USA:% 200%'::text)))", + "Rows Removed by Filter": 211, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.398, + "Actual Total Time": 0.398, + "Actual Rows": 0, + "Actual Loops": 132 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.400, + "Actual Total Time": 0.401, + "Actual Rows": 0, + "Actual Loops": 118 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.383, + "Actual Total Time": 0.383, + "Actual Rows": 0, + "Actual Loops": 142 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.398, + "Actual Total Time": 0.398, + "Actual Rows": 0, + "Actual Loops": 124 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.461, + "Actual Total Time": 0.461, + "Actual Rows": 0, + "Actual Loops": 109 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.508, + "Actual Total Time": 0.508, + "Actual Rows": 0, + "Actual Loops": 119 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.367, + "Actual Total Time": 0.367, + "Actual Rows": 0, + "Actual Loops": 156 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.116, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 113, + "Plan Width": 8, + "Actual Startup Time": 0.165, + "Actual Total Time": 0.294, + "Actual Rows": 103, + "Actual Loops": 6, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.214, + "Actual Total Time": 0.473, + "Actual Rows": 153, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.248, + "Actual Total Time": 0.250, + "Actual Rows": 3, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.158, + "Actual Rows": 153, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 618, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 306 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 306 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4445581228366823766, + "Planning Time": 264.136, + "Triggers": [ + ], + "Execution Time": 138.764, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 4445581228366823766, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(kt.kind) AS movie_kind,
       MIN(t.title) AS complete_nerdy_internet_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'complete+verified'
  AND cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND k.keyword IN ('nerd',
                    'loner',
                    'alienation',
                    'dignity')
  AND kt.kind IN ('movie')
  AND mi.note LIKE '%internet%'
  AND mi.info LIKE 'USA:% 200%'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND cct1.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1501.05, + "Total Cost": 1501.06, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 44.753, + "Actual Total Time": 48.187, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((kt.kind)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1501.01, + "Total Cost": 1501.02, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 44.732, + "Actual Total Time": 48.175, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((kt.kind)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1500.01, + "Total Cost": 1500.02, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 27.452, + "Actual Total Time": 27.462, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((kt.kind)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.400, + "Actual Total Time": 28.410, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 28.398, + "Actual Total Time": 28.409, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.964, + "Actual Total Time": 20.977, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.257, + "Actual Total Time": 21.266, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.273, + "Actual Total Time": 28.283, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.508, + "Actual Total Time": 21.519, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.071, + "Actual Total Time": 27.080, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 1500.00, + "Plan Rows": 2, + "Plan Width": 27, + "Actual Startup Time": 24.604, + "Actual Total Time": 27.449, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["kt.kind", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.767, + "Actual Total Time": 28.393, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.833, + "Actual Total Time": 28.382, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.957, + "Actual Total Time": 20.969, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.250, + "Actual Total Time": 21.259, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.267, + "Actual Total Time": 28.275, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.502, + "Actual Total Time": 21.512, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.435, + "Actual Total Time": 27.057, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.88, + "Total Cost": 1499.67, + "Plan Rows": 2, + "Plan Width": 21, + "Actual Startup Time": 24.586, + "Actual Total Time": 27.421, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.729, + "Actual Total Time": 28.336, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.798, + "Actual Total Time": 28.329, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.956, + "Actual Total Time": 20.966, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.249, + "Actual Total Time": 21.257, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.266, + "Actual Total Time": 28.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.501, + "Actual Total Time": 21.510, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.388, + "Actual Total Time": 26.992, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.74, + "Total Cost": 1499.29, + "Plan Rows": 2, + "Plan Width": 25, + "Actual Startup Time": 24.561, + "Actual Total Time": 27.387, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.673, + "Actual Total Time": 28.260, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.748, + "Actual Total Time": 28.258, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.955, + "Actual Total Time": 20.965, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.248, + "Actual Total Time": 21.255, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.266, + "Actual Total Time": 28.273, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.500, + "Actual Total Time": 21.509, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.319, + "Actual Total Time": 26.905, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.61, + "Total Cost": 1498.99, + "Plan Rows": 2, + "Plan Width": 29, + "Actual Startup Time": 24.525, + "Actual Total Time": 27.344, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mc.company_type_id", "mi.info_type_id", "t.title", "t.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.589, + "Actual Total Time": 28.161, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.669, + "Actual Total Time": 28.163, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.954, + "Actual Total Time": 20.963, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.247, + "Actual Total Time": 21.253, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.265, + "Actual Total Time": 28.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.499, + "Actual Total Time": 21.507, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.218, + "Actual Total Time": 26.790, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.19, + "Total Cost": 1498.11, + "Plan Rows": 2, + "Plan Width": 33, + "Actual Startup Time": 24.494, + "Actual Total Time": 27.296, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mc.company_id", "mc.company_type_id", "mi.info_type_id", "t.title", "t.kind_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.521, + "Actual Total Time": 28.055, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.608, + "Actual Total Time": 28.063, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.953, + "Actual Total Time": 20.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.246, + "Actual Total Time": 21.252, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.264, + "Actual Total Time": 28.270, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.498, + "Actual Total Time": 21.505, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.143, + "Actual Total Time": 26.682, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.76, + "Total Cost": 1497.04, + "Plan Rows": 2, + "Plan Width": 41, + "Actual Startup Time": 24.459, + "Actual Total Time": 27.240, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.450, + "Actual Total Time": 27.937, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.538, + "Actual Total Time": 27.948, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.952, + "Actual Total Time": 20.959, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.246, + "Actual Total Time": 21.251, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.264, + "Actual Total Time": 28.269, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.497, + "Actual Total Time": 21.503, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.038, + "Actual Total Time": 26.533, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.32, + "Total Cost": 1488.16, + "Plan Rows": 9, + "Plan Width": 33, + "Actual Startup Time": 17.612, + "Actual Total Time": 25.398, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.069, + "Actual Total Time": 24.465, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.101, + "Actual Total Time": 26.403, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.952, + "Actual Total Time": 20.957, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.245, + "Actual Total Time": 21.249, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.263, + "Actual Total Time": 28.268, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.496, + "Actual Total Time": 21.501, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.578, + "Actual Total Time": 21.776, + "Actual Rows": 18, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.89, + "Total Cost": 1467.44, + "Plan Rows": 45, + "Plan Width": 8, + "Actual Startup Time": 17.223, + "Actual Total Time": 24.407, + "Actual Rows": 40, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.976, + "Actual Total Time": 22.403, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.456, + "Actual Total Time": 25.423, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.951, + "Actual Total Time": 20.955, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 21.244, + "Actual Total Time": 21.247, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.263, + "Actual Total Time": 28.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.495, + "Actual Total Time": 21.499, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.422, + "Actual Total Time": 19.358, + "Actual Rows": 104, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 1465.92, + "Plan Rows": 90, + "Plan Width": 12, + "Actual Startup Time": 14.430, + "Actual Total Time": 23.777, + "Actual Rows": 79, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.938, + "Actual Total Time": 21.827, + "Actual Rows": 123, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.241, + "Actual Total Time": 24.934, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.288, + "Actual Total Time": 20.290, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.585, + "Actual Total Time": 20.587, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.974, + "Actual Total Time": 27.976, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.748, + "Actual Total Time": 20.750, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.850, + "Actual Total Time": 18.399, + "Actual Rows": 181, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1393.38, + "Plan Rows": 162, + "Plan Width": 4, + "Actual Startup Time": 13.310, + "Actual Total Time": 17.057, + "Actual Rows": 142, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.692, + "Actual Total Time": 6.780, + "Actual Rows": 195, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.666, + "Actual Total Time": 15.747, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.287, + "Actual Total Time": 20.288, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.584, + "Actual Total Time": 20.586, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.973, + "Actual Total Time": 27.974, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.746, + "Actual Total Time": 20.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.625, + "Actual Total Time": 8.801, + "Actual Rows": 302, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 12.921, + "Actual Total Time": 13.586, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{nerd,loner,alienation,dignity}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.178, + "Actual Total Time": 3.625, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.184, + "Actual Total Time": 11.995, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.285, + "Actual Total Time": 20.286, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.583, + "Actual Total Time": 20.584, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.973, + "Actual Total Time": 27.973, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.745, + "Actual Total Time": 20.746, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.885, + "Actual Total Time": 1.911, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.04, + "Plan Rows": 283, + "Plan Width": 8, + "Actual Startup Time": 0.768, + "Actual Total Time": 6.790, + "Actual Rows": 283, + "Actual Loops": 4, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.509, + "Actual Total Time": 3.041, + "Actual Rows": 195, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.478, + "Actual Total Time": 3.693, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.731, + "Actual Total Time": 6.742, + "Actual Rows": 302, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 1133, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.075, + "Actual Rows": 1, + "Actual Loops": 195 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.083, + "Actual Rows": 1, + "Actual Loops": 109 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 302 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.080, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.088, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 318, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 74 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 37 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 104 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.238, + "Actual Total Time": 0.239, + "Actual Rows": 0, + "Actual Loops": 61, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.note ~~ '%internet%'::text) AND (mi.info ~~ 'USA:% 200%'::text))", + "Rows Removed by Filter": 212, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.244, + "Actual Total Time": 0.246, + "Actual Rows": 0, + "Actual Loops": 14 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.187, + "Actual Total Time": 0.190, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.261, + "Actual Total Time": 0.262, + "Actual Rows": 0, + "Actual Loops": 18 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 14, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 16, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7994933085961275538, + "Planning Time": 274.673, + "Triggers": [ + ], + "Execution Time": 48.646, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -7994933085961275538, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(kt.kind) AS movie_kind,
       MIN(t.title) AS complete_us_internet_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'complete+verified'
  AND cn.country_code = '[us]'
  AND it1.info = 'release dates'
  AND kt.kind IN ('movie',
                  'tv movie',
                  'video movie',
                  'video game')
  AND mi.note LIKE '%internet%'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'USA:% 199%'
       OR mi.info LIKE 'USA:% 200%')
  AND t.production_year > 1990
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND cn.id = mc.company_id
  AND ct.id = mc.company_type_id
  AND cct1.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4689.67, + "Total Cost": 4689.68, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 226.566, + "Actual Total Time": 238.970, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((kt.kind)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4689.63, + "Total Cost": 4689.64, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 225.842, + "Actual Total Time": 238.948, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((kt.kind)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4688.63, + "Total Cost": 4688.64, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 210.562, + "Actual Total Time": 210.571, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((kt.kind)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 206.404, + "Actual Total Time": 206.414, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 205.970, + "Actual Total Time": 205.978, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 207.884, + "Actual Total Time": 207.893, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 215.848, + "Actual Total Time": 215.856, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 206.944, + "Actual Total Time": 206.954, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 208.442, + "Actual Total Time": 208.450, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 208.202, + "Actual Total Time": 208.210, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.98, + "Total Cost": 4688.18, + "Plan Rows": 90, + "Plan Width": 27, + "Actual Startup Time": 167.200, + "Actual Total Time": 210.487, + "Actual Rows": 78, + "Actual Loops": 8, + "Output": ["kt.kind", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 206.398, + "Actual Total Time": 206.406, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 205.963, + "Actual Total Time": 205.971, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 124.289, + "Actual Total Time": 207.591, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 130.749, + "Actual Total Time": 215.837, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 197.288, + "Actual Total Time": 206.648, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 208.435, + "Actual Total Time": 208.443, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 208.198, + "Actual Total Time": 208.204, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.56, + "Total Cost": 4648.79, + "Plan Rows": 90, + "Plan Width": 31, + "Actual Startup Time": 167.169, + "Actual Total Time": 209.542, + "Actual Rows": 78, + "Actual Loops": 8, + "Output": ["mk.keyword_id", "t.title", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 206.397, + "Actual Total Time": 206.404, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 205.963, + "Actual Total Time": 205.970, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 124.218, + "Actual Total Time": 203.944, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 130.681, + "Actual Total Time": 215.711, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 197.227, + "Actual Total Time": 203.065, + "Actual Rows": 306, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 208.435, + "Actual Total Time": 208.442, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 208.196, + "Actual Total Time": 208.203, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.13, + "Total Cost": 4646.90, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 167.138, + "Actual Total Time": 209.399, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mi.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 206.396, + "Actual Total Time": 206.403, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 205.962, + "Actual Total Time": 205.968, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 124.147, + "Actual Total Time": 203.436, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 130.619, + "Actual Total Time": 215.628, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 197.171, + "Actual Total Time": 202.594, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 208.434, + "Actual Total Time": 208.441, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 208.196, + "Actual Total Time": 208.201, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.97, + "Total Cost": 4646.71, + "Plan Rows": 1, + "Plan Width": 47, + "Actual Startup Time": 167.113, + "Actual Total Time": 209.370, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 206.395, + "Actual Total Time": 206.401, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 205.961, + "Actual Total Time": 205.966, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 124.090, + "Actual Total Time": 203.367, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 130.570, + "Actual Total Time": 215.572, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 197.119, + "Actual Total Time": 202.530, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 208.433, + "Actual Total Time": 208.439, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 208.195, + "Actual Total Time": 208.200, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.84, + "Total Cost": 4646.56, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 167.080, + "Actual Total Time": 209.333, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 206.394, + "Actual Total Time": 206.399, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 205.960, + "Actual Total Time": 205.964, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 124.006, + "Actual Total Time": 203.275, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 130.494, + "Actual Total Time": 215.488, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 197.038, + "Actual Total Time": 202.439, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 208.433, + "Actual Total Time": 208.438, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 208.194, + "Actual Total Time": 208.198, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.42, + "Total Cost": 4646.11, + "Plan Rows": 1, + "Plan Width": 55, + "Actual Startup Time": 167.050, + "Actual Total Time": 209.292, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 206.393, + "Actual Total Time": 206.398, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 205.959, + "Actual Total Time": 205.962, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 123.935, + "Actual Total Time": 203.179, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 130.441, + "Actual Total Time": 215.402, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 196.974, + "Actual Total Time": 202.353, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 208.431, + "Actual Total Time": 208.436, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 208.193, + "Actual Total Time": 208.197, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.99, + "Total Cost": 4645.59, + "Plan Rows": 1, + "Plan Width": 43, + "Actual Startup Time": 167.013, + "Actual Total Time": 209.248, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cc.movie_id", "mi.movie_id", "mi.info_type_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 206.393, + "Actual Total Time": 206.397, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 205.958, + "Actual Total Time": 205.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 123.842, + "Actual Total Time": 203.059, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 130.375, + "Actual Total Time": 215.324, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 196.903, + "Actual Total Time": 202.258, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 208.430, + "Actual Total Time": 208.434, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 208.192, + "Actual Total Time": 208.196, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.56, + "Total Cost": 3844.30, + "Plan Rows": 722, + "Plan Width": 35, + "Actual Startup Time": 0.756, + "Actual Total Time": 68.172, + "Actual Rows": 632, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.id", "kt.kind"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.461, + "Actual Total Time": 70.038, + "Actual Rows": 638, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.515, + "Actual Total Time": 66.770, + "Actual Rows": 652, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.797, + "Actual Total Time": 70.128, + "Actual Rows": 554, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.230, + "Actual Total Time": 63.345, + "Actual Rows": 664, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.461, + "Actual Total Time": 63.706, + "Actual Rows": 652, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.446, + "Actual Total Time": 71.660, + "Actual Rows": 670, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.652, + "Actual Total Time": 67.333, + "Actual Rows": 586, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 3839.35, + "Plan Rows": 918, + "Plan Width": 29, + "Actual Startup Time": 0.510, + "Actual Total Time": 67.006, + "Actual Rows": 803, + "Actual Loops": 8, + "Output": ["cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.287, + "Actual Total Time": 68.917, + "Actual Rows": 855, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.306, + "Actual Total Time": 65.620, + "Actual Rows": 774, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.270, + "Actual Total Time": 68.924, + "Actual Rows": 764, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.133, + "Actual Total Time": 62.296, + "Actual Rows": 787, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.245, + "Actual Total Time": 62.510, + "Actual Rows": 835, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.246, + "Actual Total Time": 70.482, + "Actual Rows": 914, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.454, + "Actual Total Time": 66.212, + "Actual Rows": 682, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 3513, + "Plan Width": 4, + "Actual Startup Time": 0.087, + "Actual Total Time": 14.496, + "Actual Rows": 3074, + "Actual Loops": 8, + "Output": ["cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.202, + "Actual Total Time": 17.345, + "Actual Rows": 3004, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.084, + "Actual Total Time": 13.531, + "Actual Rows": 3070, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.064, + "Actual Total Time": 13.590, + "Actual Rows": 2866, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 13.025, + "Actual Rows": 3042, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.080, + "Actual Total Time": 13.097, + "Actual Rows": 3059, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.080, + "Actual Total Time": 14.573, + "Actual Rows": 3481, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.081, + "Actual Total Time": 13.875, + "Actual Rows": 2909, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 8, + "Actual Startup Time": 0.032, + "Actual Total Time": 4.369, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 4.161, + "Actual Rows": 16280, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 4.482, + "Actual Rows": 17796, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 4.187, + "Actual Rows": 14800, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 4.146, + "Actual Rows": 16650, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 4.356, + "Actual Rows": 17205, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.042, + "Actual Total Time": 4.824, + "Actual Rows": 18870, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 4.558, + "Actual Rows": 16650, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.80, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 24592, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 3004 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 3070 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2866 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3042 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3059 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3481 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2909 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.06, + "Total Cost": 1.06, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.kind", "kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.077, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.080, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.077, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.06, + "Plan Rows": 2, + "Plan Width": 14, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.030, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["kt.kind", "kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,\"tv movie\",\"video movie\",\"video game\"}'::text[]))", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.10, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.222, + "Actual Total Time": 0.222, + "Actual Rows": 0, + "Actual Loops": 5053, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND (mi.note ~~ '%internet%'::text) AND ((mi.info ~~ 'USA:% 199%'::text) OR (mi.info ~~ 'USA:% 200%'::text)))", + "Rows Removed by Filter": 123, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.213, + "Actual Total Time": 0.213, + "Actual Rows": 0, + "Actual Loops": 638 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.212, + "Actual Total Time": 0.212, + "Actual Rows": 0, + "Actual Loops": 652 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.239, + "Actual Total Time": 0.239, + "Actual Rows": 0, + "Actual Loops": 554 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.228, + "Actual Total Time": 0.228, + "Actual Rows": 0, + "Actual Loops": 664 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.211, + "Actual Total Time": 0.211, + "Actual Rows": 0, + "Actual Loops": 652 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.203, + "Actual Total Time": 0.203, + "Actual Rows": 0, + "Actual Loops": 670 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.239, + "Actual Total Time": 0.239, + "Actual Rows": 0, + "Actual Loops": 586 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.072, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 4, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.98, + "Plan Rows": 91, + "Plan Width": 8, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.122, + "Actual Rows": 90, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.187, + "Actual Rows": 153, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.037, + "Actual Rows": 3, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.169, + "Actual Rows": 153, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 628, + "Output": ["k.id"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 306 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 306 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1076878163750528468, + "Planning Time": 293.157, + "Triggers": [ + ], + "Execution Time": 239.503, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1076878163750528468, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char_name,
       MIN(n.name) AS voicing_actress_name,
       MIN(t.title) AS voiced_action_movie_jap_eng
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND k.keyword IN ('hero',
                    'martial-arts',
                    'hand-to-hand-combat')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%201%'
       OR mi.info LIKE 'USA:%201%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year > 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND ci.movie_id = mk.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2377.37, + "Total Cost": 2377.38, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 217.358, + "Actual Total Time": 250.438, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2377.31, + "Total Cost": 2377.32, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 162.320, + "Actual Total Time": 250.403, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2376.31, + "Total Cost": 2376.32, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 79.839, + "Actual Total Time": 79.849, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 165.505, + "Actual Total Time": 165.512, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.162, + "Actual Total Time": 19.176, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.101, + "Actual Total Time": 19.109, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 208.372, + "Actual Total Time": 208.379, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.223, + "Actual Total Time": 24.230, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.229, + "Actual Total Time": 20.240, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.786, + "Actual Total Time": 20.794, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.15, + "Total Cost": 2376.02, + "Plan Rows": 39, + "Plan Width": 48, + "Actual Startup Time": 35.257, + "Actual Total Time": 79.812, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.040, + "Actual Total Time": 165.405, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.156, + "Actual Total Time": 19.169, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.095, + "Actual Total Time": 19.102, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 47.494, + "Actual Total Time": 208.270, + "Actual Rows": 138, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.216, + "Actual Total Time": 24.223, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.220, + "Actual Total Time": 20.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.779, + "Actual Total Time": 20.786, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.73, + "Total Cost": 2366.25, + "Plan Rows": 20, + "Plan Width": 56, + "Actual Startup Time": 28.760, + "Actual Total Time": 79.626, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "n.name", "n.id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.618, + "Actual Total Time": 164.713, + "Actual Rows": 65, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.155, + "Actual Total Time": 19.167, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.095, + "Actual Total Time": 19.101, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 44.592, + "Actual Total Time": 207.656, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.216, + "Actual Total Time": 24.222, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.219, + "Actual Total Time": 20.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.777, + "Actual Total Time": 20.784, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.31, + "Total Cost": 2347.25, + "Plan Rows": 43, + "Plan Width": 60, + "Actual Startup Time": 28.742, + "Actual Total Time": 79.206, + "Actual Rows": 38, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "n.name", "n.id", "chn.name", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.571, + "Actual Total Time": 163.214, + "Actual Rows": 137, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.154, + "Actual Total Time": 19.166, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.094, + "Actual Total Time": 19.100, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 44.545, + "Actual Total Time": 206.096, + "Actual Rows": 142, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.215, + "Actual Total Time": 24.221, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.218, + "Actual Total Time": 20.227, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.776, + "Actual Total Time": 20.782, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.88, + "Total Cost": 2344.09, + "Plan Rows": 5, + "Plan Width": 72, + "Actual Startup Time": 28.726, + "Actual Total Time": 79.036, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "n.name", "n.id", "mi.movie_id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.522, + "Actual Total Time": 162.463, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.154, + "Actual Total Time": 19.164, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.093, + "Actual Total Time": 19.098, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 44.496, + "Actual Total Time": 205.622, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.214, + "Actual Total Time": 24.219, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.217, + "Actual Total Time": 20.225, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.776, + "Actual Total Time": 20.781, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.74, + "Total Cost": 2343.30, + "Plan Rows": 5, + "Plan Width": 76, + "Actual Startup Time": 28.683, + "Actual Total Time": 78.962, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "n.name", "n.id", "mi.movie_id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.227, + "Actual Total Time": 162.060, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.153, + "Actual Total Time": 19.162, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.093, + "Actual Total Time": 19.097, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 44.467, + "Actual Total Time": 205.489, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.214, + "Actual Total Time": 24.218, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.216, + "Actual Total Time": 20.223, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.775, + "Actual Total Time": 20.780, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.31, + "Total Cost": 2340.77, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 28.665, + "Actual Total Time": 78.862, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.153, + "Actual Total Time": 161.700, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.152, + "Actual Total Time": 19.160, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.092, + "Actual Total Time": 19.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 44.423, + "Actual Total Time": 205.174, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.213, + "Actual Total Time": 24.217, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.216, + "Actual Total Time": 20.221, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.774, + "Actual Total Time": 20.778, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.17, + "Total Cost": 2339.94, + "Plan Rows": 5, + "Plan Width": 68, + "Actual Startup Time": 28.651, + "Actual Total Time": 78.812, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.105, + "Actual Total Time": 161.539, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.151, + "Actual Total Time": 19.157, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.092, + "Actual Total Time": 19.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 44.387, + "Actual Total Time": 205.002, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.213, + "Actual Total Time": 24.217, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.215, + "Actual Total Time": 20.220, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.773, + "Actual Total Time": 20.777, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 2335.99, + "Plan Rows": 4, + "Plan Width": 60, + "Actual Startup Time": 28.621, + "Actual Total Time": 78.525, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.992, + "Actual Total Time": 160.551, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.150, + "Actual Total Time": 19.154, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.091, + "Actual Total Time": 19.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 44.310, + "Actual Total Time": 204.098, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.212, + "Actual Total Time": 24.215, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.214, + "Actual Total Time": 20.218, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.773, + "Actual Total Time": 20.775, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 2133.97, + "Plan Rows": 375, + "Plan Width": 41, + "Actual Startup Time": 16.498, + "Actual Total Time": 72.622, + "Actual Rows": 328, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.237, + "Actual Total Time": 144.853, + "Actual Rows": 796, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.149, + "Actual Total Time": 19.152, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.090, + "Actual Total Time": 19.092, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.993, + "Actual Total Time": 189.125, + "Actual Rows": 947, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.212, + "Actual Total Time": 24.214, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.213, + "Actual Total Time": 20.216, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.772, + "Actual Total Time": 20.774, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2037.18, + "Plan Rows": 71, + "Plan Width": 25, + "Actual Startup Time": 13.466, + "Actual Total Time": 37.479, + "Actual Rows": 62, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.322, + "Actual Total Time": 48.278, + "Actual Rows": 113, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.148, + "Actual Total Time": 19.151, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.089, + "Actual Total Time": 19.091, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.501, + "Actual Total Time": 82.030, + "Actual Rows": 244, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.211, + "Actual Total Time": 24.213, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.212, + "Actual Total Time": 20.215, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.771, + "Actual Total Time": 20.773, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1399.46, + "Plan Rows": 1385, + "Plan Width": 4, + "Actual Startup Time": 13.318, + "Actual Total Time": 20.079, + "Actual Rows": 1212, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.112, + "Actual Total Time": 14.158, + "Actual Rows": 2373, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.147, + "Actual Total Time": 19.149, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.088, + "Actual Total Time": 19.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.398, + "Actual Total Time": 22.018, + "Actual Rows": 4400, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.210, + "Actual Total Time": 24.212, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.211, + "Actual Total Time": 20.213, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.770, + "Actual Total Time": 20.771, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1212.55, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 12.985, + "Actual Total Time": 13.001, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{hero,martial-arts,hand-to-hand-combat}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.385, + "Actual Total Time": 0.429, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.146, + "Actual Total Time": 19.147, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.088, + "Actual Total Time": 19.088, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 24.209, + "Actual Total Time": 24.210, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.210, + "Actual Total Time": 20.211, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 20.770, + "Actual Total Time": 20.770, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.59, + "Plan Rows": 3232, + "Plan Width": 8, + "Actual Startup Time": 0.883, + "Actual Total Time": 17.832, + "Actual Rows": 3232, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.722, + "Actual Total Time": 12.990, + "Actual Rows": 2373, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.357, + "Actual Total Time": 20.576, + "Actual Rows": 4400, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 9696, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2373 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 4400 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.30, + "Plan Rows": 5, + "Plan Width": 16, + "Actual Startup Time": 0.401, + "Actual Total Time": 0.564, + "Actual Rows": 5, + "Actual Loops": 495, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 83, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.566, + "Actual Total Time": 0.850, + "Actual Rows": 7, + "Actual Loops": 113 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.315, + "Actual Total Time": 0.436, + "Actual Rows": 4, + "Actual Loops": 244 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2625, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 796 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 947 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.073, + "Actual Rows": 1, + "Actual Loops": 30, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%201%'::text) OR (mi.info ~~ 'USA:%201%'::text)))", + "Rows Removed by Filter": 46, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.080, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.073, + "Actual Rows": 1, + "Actual Loops": 12 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 37, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 16 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 37, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 16 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 36, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 16 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 8, + "Plan Width": 8, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.032, + "Actual Rows": 8, + "Actual Loops": 36, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.044, + "Actual Rows": 9, + "Actual Loops": 15 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.024, + "Actual Rows": 9, + "Actual Loops": 16 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 300, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 137 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 142 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 2, + "Actual Loops": 141, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 2, + "Actual Loops": 65 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 2, + "Actual Loops": 59 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6624959997497422723, + "Planning Time": 2738.434, + "Triggers": [ + ], + "Execution Time": 250.939, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 6624959997497422723, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char_name,
       MIN(n.name) AS voicing_actress_name,
       MIN(t.title) AS kung_fu_panda
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND cn.name = 'DreamWorks Animation'
  AND it.info = 'release dates'
  AND k.keyword IN ('hero',
                    'martial-arts',
                    'hand-to-hand-combat',
                    'computer-animated-movie')
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%201%'
       OR mi.info LIKE 'USA:%201%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year > 2010
  AND t.title LIKE 'Kung Fu Panda%'
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND ci.movie_id = mk.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2080.24, + "Total Cost": 2080.25, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 118.910, + "Actual Total Time": 135.570, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2080.18, + "Total Cost": 2080.19, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 67.886, + "Actual Total Time": 135.542, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2079.18, + "Total Cost": 2079.19, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 40.081, + "Actual Total Time": 40.092, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.386, + "Actual Total Time": 19.398, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 108.861, + "Actual Total Time": 108.871, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.497, + "Actual Total Time": 20.506, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.484, + "Actual Total Time": 19.491, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.234, + "Actual Total Time": 20.247, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.222, + "Actual Total Time": 18.231, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 47.029, + "Actual Total Time": 47.038, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.13, + "Total Cost": 2079.13, + "Plan Rows": 6, + "Plan Width": 48, + "Actual Startup Time": 32.162, + "Actual Total Time": 40.079, + "Actual Rows": 6, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.381, + "Actual Total Time": 19.392, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 66.895, + "Actual Total Time": 108.837, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.492, + "Actual Total Time": 20.500, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.478, + "Actual Total Time": 19.484, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.226, + "Actual Total Time": 20.238, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.217, + "Actual Total Time": 18.225, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.682, + "Actual Total Time": 47.008, + "Actual Rows": 20, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.70, + "Total Cost": 2078.62, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 32.144, + "Actual Total Time": 40.050, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "n.name", "n.id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.379, + "Actual Total Time": 19.390, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 66.820, + "Actual Total Time": 108.718, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.491, + "Actual Total Time": 20.499, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.477, + "Actual Total Time": 19.483, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.224, + "Actual Total Time": 20.236, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.216, + "Actual Total Time": 18.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.615, + "Actual Total Time": 46.909, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.27, + "Total Cost": 2078.11, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 32.133, + "Actual Total Time": 40.031, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.378, + "Actual Total Time": 19.388, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 66.776, + "Actual Total Time": 108.642, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.491, + "Actual Total Time": 20.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.476, + "Actual Total Time": 19.482, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.224, + "Actual Total Time": 20.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.215, + "Actual Total Time": 18.223, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.575, + "Actual Total Time": 46.843, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.84, + "Total Cost": 2073.26, + "Plan Rows": 9, + "Plan Width": 25, + "Actual Startup Time": 32.106, + "Actual Total Time": 39.927, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.378, + "Actual Total Time": 19.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 66.670, + "Actual Total Time": 108.218, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.490, + "Actual Total Time": 20.496, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.476, + "Actual Total Time": 19.481, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.223, + "Actual Total Time": 20.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.214, + "Actual Total Time": 18.221, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.474, + "Actual Total Time": 46.446, + "Actual Rows": 30, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.74, + "Total Cost": 2072.04, + "Plan Rows": 35, + "Plan Width": 29, + "Actual Startup Time": 31.930, + "Actual Total Time": 39.770, + "Actual Rows": 30, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.234, + "Actual Total Time": 19.240, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 66.425, + "Actual Total Time": 108.042, + "Actual Rows": 125, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.368, + "Actual Total Time": 20.373, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.384, + "Actual Total Time": 19.387, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.071, + "Actual Total Time": 20.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.092, + "Actual Total Time": 18.097, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.250, + "Actual Total Time": 46.315, + "Actual Rows": 119, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.30, + "Total Cost": 2070.43, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 31.913, + "Actual Total Time": 39.358, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.233, + "Actual Total Time": 19.239, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 66.353, + "Actual Total Time": 106.369, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.367, + "Actual Total Time": 20.372, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.384, + "Actual Total Time": 19.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.070, + "Actual Total Time": 20.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.092, + "Actual Total Time": 18.096, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.185, + "Actual Total Time": 44.703, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 2070.24, + "Plan Rows": 1, + "Plan Width": 37, + "Actual Startup Time": 31.899, + "Actual Total Time": 39.341, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.232, + "Actual Total Time": 19.236, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 66.294, + "Actual Total Time": 106.300, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.367, + "Actual Total Time": 20.370, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.383, + "Actual Total Time": 19.385, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.069, + "Actual Total Time": 20.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.091, + "Actual Total Time": 18.094, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.136, + "Actual Total Time": 44.644, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.71, + "Total Cost": 2069.24, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 26.665, + "Actual Total Time": 39.225, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.231, + "Actual Total Time": 19.235, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.498, + "Actual Total Time": 105.646, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.366, + "Actual Total Time": 20.369, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.382, + "Actual Total Time": 19.385, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.068, + "Actual Total Time": 20.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.091, + "Actual Total Time": 18.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.069, + "Actual Total Time": 44.375, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 2065.22, + "Plan Rows": 9, + "Plan Width": 33, + "Actual Startup Time": 26.594, + "Actual Total Time": 39.093, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.230, + "Actual Total Time": 19.233, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 24.351, + "Actual Total Time": 105.006, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.366, + "Actual Total Time": 20.368, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.382, + "Actual Total Time": 19.384, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.067, + "Actual Total Time": 20.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.090, + "Actual Total Time": 18.092, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.649, + "Actual Total Time": 43.968, + "Actual Rows": 26, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2064.60, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 24.071, + "Actual Total Time": 36.549, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.229, + "Actual Total Time": 19.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.242, + "Actual Total Time": 84.779, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.365, + "Actual Total Time": 20.366, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.381, + "Actual Total Time": 19.383, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.066, + "Actual Total Time": 20.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.089, + "Actual Total Time": 18.091, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.580, + "Actual Total Time": 43.855, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1423.42, + "Plan Rows": 1385, + "Plan Width": 4, + "Actual Startup Time": 12.209, + "Actual Total Time": 18.608, + "Actual Rows": 1212, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.228, + "Actual Total Time": 19.230, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.162, + "Actual Total Time": 21.474, + "Actual Rows": 4400, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.364, + "Actual Total Time": 20.365, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.380, + "Actual Total Time": 19.381, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.065, + "Actual Total Time": 20.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.089, + "Actual Total Time": 18.090, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.299, + "Actual Total Time": 12.088, + "Actual Rows": 2373, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 12.177, + "Actual Total Time": 12.194, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{hero,martial-arts,hand-to-hand-combat,computer-animated-movie}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 19.227, + "Actual Total Time": 19.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.091, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.363, + "Actual Total Time": 20.363, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.379, + "Actual Total Time": 19.380, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 20.064, + "Actual Total Time": 20.065, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.088, + "Actual Total Time": 18.088, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.223, + "Actual Total Time": 0.267, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.59, + "Plan Rows": 3232, + "Plan Width": 8, + "Actual Startup Time": 0.082, + "Actual Total Time": 15.954, + "Actual Rows": 3232, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.115, + "Actual Total Time": 19.784, + "Actual Rows": 4400, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.073, + "Actual Total Time": 11.098, + "Actual Rows": 2373, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 9696, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2010) AND (t.title ~~ 'Kung Fu Panda%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 4400 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2373 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 9, + "Plan Width": 8, + "Actual Startup Time": 2.890, + "Actual Total Time": 2.899, + "Actual Rows": 9, + "Actual Loops": 7, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 4.031, + "Actual Total Time": 4.039, + "Actual Rows": 7, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.048, + "Actual Rows": 13, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 62, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text = '[us]'::text) AND (cn.name = 'DreamWorks Animation'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 36 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 26 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.151, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%201%'::text) OR (mi.info ~~ 'USA:%201%'::text)))", + "Rows Removed by Filter": 89, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.107, + "Actual Total Time": 0.161, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.131, + "Actual Rows": 2, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 9, + "Output": ["it.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 5, + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 4, + "Cache Hits": 3, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.30, + "Plan Rows": 25, + "Plan Width": 16, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.356, + "Actual Rows": 27, + "Actual Loops": 9, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 91, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.326, + "Actual Rows": 25, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.393, + "Actual Rows": 30, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 62, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 32 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 30 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 9, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.022, + "Actual Rows": 5, + "Actual Loops": 9, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 5, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 5, + "Actual Loops": 4 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1322643491423167220, + "Planning Time": 2961.605, + "Triggers": [ + ], + "Execution Time": 136.072, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1322643491423167220, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS male_writer,
       MIN(t.title) AS violent_movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity')
  AND mi.info = 'Horror'
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13405.75, + "Total Cost": 13405.76, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 2254.810, + "Actual Total Time": 2293.425, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13405.67, + "Total Cost": 13405.68, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 2005.237, + "Actual Total Time": 2293.382, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 13404.67, + "Total Cost": 13404.68, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1229.196, + "Actual Total Time": 1229.204, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2245.392, + "Actual Total Time": 2245.397, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1347.063, + "Actual Total Time": 1347.071, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1992.309, + "Actual Total Time": 1992.317, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2153.900, + "Actual Total Time": 2153.906, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.392, + "Actual Total Time": 28.399, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.935, + "Actual Total Time": 33.942, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.366, + "Actual Total Time": 28.374, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.28, + "Total Cost": 13398.37, + "Plan Rows": 630, + "Plan Width": 79, + "Actual Startup Time": 88.424, + "Actual Total Time": 1227.468, + "Actual Rows": 551, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 353.246, + "Actual Total Time": 2242.225, + "Actual Rows": 1133, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.128, + "Actual Total Time": 1344.271, + "Actual Rows": 831, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.932, + "Actual Total Time": 1988.760, + "Actual Rows": 1091, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.779, + "Actual Total Time": 2151.638, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.387, + "Actual Total Time": 28.393, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.930, + "Actual Total Time": 33.936, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.359, + "Actual Total Time": 28.366, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.85, + "Total Cost": 13101.99, + "Plan Rows": 630, + "Plan Width": 78, + "Actual Startup Time": 88.387, + "Actual Total Time": 1218.795, + "Actual Rows": 551, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 353.180, + "Actual Total Time": 2226.401, + "Actual Rows": 1133, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.062, + "Actual Total Time": 1329.546, + "Actual Rows": 831, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.877, + "Actual Total Time": 1971.222, + "Actual Rows": 1091, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.724, + "Actual Total Time": 2140.176, + "Actual Rows": 753, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.386, + "Actual Total Time": 28.392, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.929, + "Actual Total Time": 33.935, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.358, + "Actual Total Time": 28.364, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 13094.99, + "Plan Rows": 1890, + "Plan Width": 82, + "Actual Startup Time": 87.987, + "Actual Total Time": 1216.830, + "Actual Rows": 1654, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "mk.movie_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 352.927, + "Actual Total Time": 2223.335, + "Actual Rows": 3401, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.788, + "Actual Total Time": 1326.736, + "Actual Rows": 2497, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.545, + "Actual Total Time": 1967.603, + "Actual Rows": 3276, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.392, + "Actual Total Time": 2137.779, + "Actual Rows": 2259, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.739, + "Actual Total Time": 27.743, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.666, + "Actual Total Time": 33.671, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.705, + "Actual Total Time": 27.710, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 12754.61, + "Plan Rows": 670, + "Plan Width": 69, + "Actual Startup Time": 54.489, + "Actual Total Time": 1198.932, + "Actual Rows": 586, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 85.982, + "Actual Total Time": 2195.649, + "Actual Rows": 1222, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.361, + "Actual Total Time": 1285.238, + "Actual Rows": 871, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.052, + "Actual Total Time": 1932.672, + "Actual Rows": 1174, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 70.314, + "Actual Total Time": 2116.444, + "Actual Rows": 763, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.737, + "Actual Total Time": 27.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.665, + "Actual Total Time": 33.669, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.704, + "Actual Total Time": 27.708, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 12201.06, + "Plan Rows": 1086, + "Plan Width": 58, + "Actual Startup Time": 28.973, + "Actual Total Time": 1179.929, + "Actual Rows": 950, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 48.072, + "Actual Total Time": 2159.043, + "Actual Rows": 2142, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.718, + "Actual Total Time": 1252.413, + "Actual Rows": 1307, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.573, + "Actual Total Time": 1894.390, + "Actual Rows": 1879, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 25.001, + "Actual Total Time": 2093.317, + "Actual Rows": 1210, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.737, + "Actual Total Time": 27.740, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.665, + "Actual Total Time": 33.668, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.703, + "Actual Total Time": 27.707, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 9789.70, + "Plan Rows": 1777, + "Plan Width": 50, + "Actual Startup Time": 14.480, + "Actual Total Time": 874.623, + "Actual Rows": 1555, + "Actual Loops": 8, + "Output": ["mi.info", "mi.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.980, + "Actual Total Time": 1644.119, + "Actual Rows": 3421, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.663, + "Actual Total Time": 632.313, + "Actual Rows": 2118, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.815, + "Actual Total Time": 1281.386, + "Actual Rows": 3056, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.047, + "Actual Total Time": 1733.202, + "Actual Rows": 2024, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.736, + "Actual Total Time": 27.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.664, + "Actual Total Time": 33.667, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.702, + "Actual Total Time": 27.705, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 9782.68, + "Plan Rows": 1901, + "Plan Width": 54, + "Actual Startup Time": 14.460, + "Actual Total Time": 871.651, + "Actual Rows": 1664, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.965, + "Actual Total Time": 1638.626, + "Actual Rows": 3642, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.650, + "Actual Total Time": 627.894, + "Actual Rows": 2264, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.798, + "Actual Total Time": 1275.580, + "Actual Rows": 3265, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.026, + "Actual Total Time": 1729.167, + "Actual Rows": 2131, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.724, + "Actual Total Time": 27.725, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.659, + "Actual Total Time": 33.660, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.690, + "Actual Total Time": 27.691, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1538.37, + "Plan Rows": 8871, + "Plan Width": 4, + "Actual Startup Time": 11.745, + "Actual Total Time": 67.391, + "Actual Rows": 7762, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.570, + "Actual Total Time": 77.199, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.596, + "Actual Total Time": 36.853, + "Actual Rows": 3402, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.739, + "Actual Total Time": 73.083, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.505, + "Actual Total Time": 138.022, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.723, + "Actual Total Time": 27.724, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.658, + "Actual Total Time": 33.659, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.689, + "Actual Total Time": 27.690, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1260.47, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 11.539, + "Actual Total Time": 11.552, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,blood,gore,death,female-nudity}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.492, + "Actual Total Time": 0.497, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.259, + "Actual Total Time": 0.302, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.653, + "Actual Total Time": 0.664, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.170, + "Actual Total Time": 0.190, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.722, + "Actual Total Time": 27.722, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.657, + "Actual Total Time": 33.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.688, + "Actual Total Time": 27.688, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.71, + "Plan Rows": 12419, + "Plan Width": 8, + "Actual Startup Time": 0.324, + "Actual Total Time": 84.400, + "Actual Rows": 12419, + "Actual Loops": 5, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.075, + "Actual Total Time": 69.742, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.333, + "Actual Total Time": 34.755, + "Actual Rows": 3402, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.082, + "Actual Total Time": 68.645, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.331, + "Actual Total Time": 130.358, + "Actual Rows": 20522, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.103, + "Actual Rows": 0, + "Actual Loops": 62096, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = 'Horror'::text)", + "Rows Removed by Filter": 47, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.079, + "Actual Rows": 0, + "Actual Loops": 19528 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.172, + "Actual Rows": 1, + "Actual Loops": 3402 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.133, + "Actual Total Time": 0.143, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.077, + "Actual Rows": 0, + "Actual Loops": 20522 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.161, + "Actual Total Time": 0.195, + "Actual Rows": 1, + "Actual Loops": 12438, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.125, + "Actual Total Time": 0.149, + "Actual Rows": 1, + "Actual Loops": 3421 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.240, + "Actual Total Time": 0.291, + "Actual Rows": 1, + "Actual Loops": 2118 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.163, + "Actual Total Time": 0.199, + "Actual Rows": 1, + "Actual Loops": 3056 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.150, + "Actual Total Time": 0.176, + "Actual Rows": 1, + "Actual Loops": 2024 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 7602, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 2142 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1307 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1879 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 1210 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.027, + "Actual Rows": 3, + "Actual Loops": 4690, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.020, + "Actual Rows": 3, + "Actual Loops": 1222 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.044, + "Actual Rows": 3, + "Actual Loops": 871 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.026, + "Actual Rows": 3, + "Actual Loops": 1174 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.025, + "Actual Rows": 3, + "Actual Loops": 763 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.071, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.076, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 4407, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1133 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 831 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1091 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 753 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5845388691995996195, + "Planning Time": 124.731, + "Triggers": [ + ], + "Execution Time": 2293.921, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -5845388691995996195, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS male_writer,
       MIN(t.title) AS violent_movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity')
  AND mi.info = 'Horror'
  AND n.gender = 'm'
  AND t.production_year > 2010
  AND t.title LIKE 'Vampire%'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5650.28, + "Total Cost": 5650.29, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 360.124, + "Actual Total Time": 386.851, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5650.20, + "Total Cost": 5650.21, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 223.082, + "Actual Total Time": 386.815, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5649.20, + "Total Cost": 5649.21, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 164.088, + "Actual Total Time": 164.095, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 203.067, + "Actual Total Time": 203.074, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.229, + "Actual Total Time": 102.237, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 342.232, + "Actual Total Time": 342.237, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.537, + "Actual Total Time": 28.545, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 350.444, + "Actual Total Time": 350.449, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.601, + "Actual Total Time": 35.609, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.553, + "Actual Total Time": 28.561, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.89, + "Total Cost": 5649.19, + "Plan Rows": 1, + "Plan Width": 79, + "Actual Startup Time": 161.358, + "Actual Total Time": 164.082, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 194.785, + "Actual Total Time": 203.046, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 97.016, + "Actual Total Time": 102.205, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 342.226, + "Actual Total Time": 342.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.530, + "Actual Total Time": 28.537, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 350.438, + "Actual Total Time": 350.442, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.593, + "Actual Total Time": 35.600, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.547, + "Actual Total Time": 28.554, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.46, + "Total Cost": 5648.68, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 161.342, + "Actual Total Time": 164.061, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 194.749, + "Actual Total Time": 202.988, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.964, + "Actual Total Time": 102.137, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 342.226, + "Actual Total Time": 342.230, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.529, + "Actual Total Time": 28.535, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 350.438, + "Actual Total Time": 350.441, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.592, + "Actual Total Time": 35.599, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.546, + "Actual Total Time": 28.553, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.32, + "Total Cost": 5648.17, + "Plan Rows": 3, + "Plan Width": 72, + "Actual Startup Time": 161.334, + "Actual Total Time": 164.044, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 194.731, + "Actual Total Time": 202.938, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.939, + "Actual Total Time": 102.087, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 342.225, + "Actual Total Time": 342.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.528, + "Actual Total Time": 28.534, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 350.437, + "Actual Total Time": 350.440, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.592, + "Actual Total Time": 35.598, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.545, + "Actual Total Time": 28.551, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.89, + "Total Cost": 5647.65, + "Plan Rows": 1, + "Plan Width": 79, + "Actual Startup Time": 161.321, + "Actual Total Time": 164.023, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 194.702, + "Actual Total Time": 202.881, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.888, + "Actual Total Time": 102.013, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 342.224, + "Actual Total Time": 342.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.528, + "Actual Total Time": 28.532, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 350.436, + "Actual Total Time": 350.439, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.591, + "Actual Total Time": 35.596, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.544, + "Actual Total Time": 28.549, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.74, + "Total Cost": 5647.47, + "Plan Rows": 1, + "Plan Width": 83, + "Actual Startup Time": 161.302, + "Actual Total Time": 164.002, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 194.660, + "Actual Total Time": 202.831, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.819, + "Actual Total Time": 101.935, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 342.224, + "Actual Total Time": 342.227, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.527, + "Actual Total Time": 28.531, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 350.436, + "Actual Total Time": 350.438, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.590, + "Actual Total Time": 35.595, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.543, + "Actual Total Time": 28.547, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 5646.54, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 161.283, + "Actual Total Time": 163.968, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 194.616, + "Actual Total Time": 202.728, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.749, + "Actual Total Time": 101.819, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 342.223, + "Actual Total Time": 342.225, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.526, + "Actual Total Time": 28.529, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 350.435, + "Actual Total Time": 350.437, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.590, + "Actual Total Time": 35.593, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.542, + "Actual Total Time": 28.545, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5645.18, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 159.883, + "Actual Total Time": 163.827, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 194.463, + "Actual Total Time": 202.203, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.547, + "Actual Total Time": 101.522, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 331.503, + "Actual Total Time": 342.081, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.525, + "Actual Total Time": 28.527, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 350.435, + "Actual Total Time": 350.436, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.589, + "Actual Total Time": 35.591, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.541, + "Actual Total Time": 28.543, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1538.37, + "Plan Rows": 8871, + "Plan Width": 4, + "Actual Startup Time": 12.245, + "Actual Total Time": 56.165, + "Actual Rows": 7762, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.637, + "Actual Total Time": 68.850, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.643, + "Actual Total Time": 31.096, + "Actual Rows": 3402, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.436, + "Actual Total Time": 97.008, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.525, + "Actual Total Time": 28.525, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.351, + "Actual Total Time": 90.011, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.588, + "Actual Total Time": 35.590, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.540, + "Actual Total Time": 28.541, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1260.47, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 12.116, + "Actual Total Time": 12.131, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,blood,gore,death,female-nudity}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.336, + "Actual Total Time": 0.352, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.506, + "Actual Total Time": 0.552, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.105, + "Actual Total Time": 1.112, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.524, + "Actual Total Time": 28.524, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.217, + "Actual Total Time": 0.241, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.587, + "Actual Total Time": 35.588, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.539, + "Actual Total Time": 28.539, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 153.71, + "Plan Rows": 12419, + "Plan Width": 8, + "Actual Startup Time": 0.199, + "Actual Total Time": 66.336, + "Actual Rows": 12419, + "Actual Loops": 5, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.297, + "Actual Total Time": 65.492, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.133, + "Actual Total Time": 29.090, + "Actual Rows": 3402, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.325, + "Actual Total Time": 89.493, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.129, + "Actual Total Time": 83.324, + "Actual Rows": 20522, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 62096, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2010) AND (t.title ~~ 'Vampire%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 8337 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 3402 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 19528 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 20522 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.104, + "Actual Total Time": 0.121, + "Actual Rows": 1, + "Actual Loops": 9, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 21, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.090, + "Actual Total Time": 0.103, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.113, + "Actual Total Time": 0.144, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.141, + "Actual Total Time": 0.141, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = 'Horror'::text)", + "Rows Removed by Filter": 20, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.022, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.031, + "Actual Rows": 3, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 18, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 9 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4983731566966487840, + "Planning Time": 131.503, + "Triggers": [ + ], + "Execution Time": 387.348, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -4983731566966487840, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS male_writer,
       MIN(t.title) AS violent_movie_title
FROM cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 25913.55, + "Total Cost": 25913.56, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 4365.492, + "Actual Total Time": 4412.638, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 25913.47, + "Total Cost": 25913.48, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 2485.030, + "Actual Total Time": 4412.571, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 25912.47, + "Total Cost": 25912.48, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 2261.343, + "Actual Total Time": 2261.352, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 52.360, + "Actual Total Time": 52.369, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3357.272, + "Actual Total Time": 3357.278, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2550.338, + "Actual Total Time": 2550.344, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4353.025, + "Actual Total Time": 4353.032, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.326, + "Actual Total Time": 53.334, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3217.237, + "Actual Total Time": 3217.243, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2023.160, + "Actual Total Time": 2023.169, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.28, + "Total Cost": 25875.11, + "Plan Rows": 3736, + "Plan Width": 79, + "Actual Startup Time": 26.704, + "Actual Total Time": 2254.926, + "Actual Rows": 3269, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 52.352, + "Actual Total Time": 52.361, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.147, + "Actual Total Time": 3350.170, + "Actual Rows": 3244, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.425, + "Actual Total Time": 2539.984, + "Actual Rows": 4673, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.921, + "Actual Total Time": 4340.892, + "Actual Rows": 6686, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 53.320, + "Actual Total Time": 53.328, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.974, + "Actual Total Time": 3205.631, + "Actual Rows": 6963, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 76.416, + "Actual Total Time": 2019.579, + "Actual Rows": 1326, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.44, + "Total Cost": 25842.57, + "Plan Rows": 11271, + "Plan Width": 83, + "Actual Startup Time": 26.306, + "Actual Total Time": 2248.382, + "Actual Rows": 9862, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "mi_idx.info_type_id", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.760, + "Actual Total Time": 51.767, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.921, + "Actual Total Time": 3343.185, + "Actual Rows": 9752, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.085, + "Actual Total Time": 2529.587, + "Actual Rows": 14101, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.617, + "Actual Total Time": 4328.756, + "Actual Rows": 20146, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 52.724, + "Actual Total Time": 52.731, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.634, + "Actual Total Time": 3194.186, + "Actual Rows": 21032, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 76.125, + "Actual Total Time": 2015.826, + "Actual Rows": 4004, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 24477.49, + "Plan Rows": 2687, + "Plan Width": 90, + "Actual Startup Time": 25.827, + "Actual Total Time": 2189.538, + "Actual Rows": 3407, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mk.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.759, + "Actual Total Time": 51.766, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.866, + "Actual Total Time": 3284.957, + "Actual Rows": 3280, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.045, + "Actual Total Time": 2450.490, + "Actual Rows": 4870, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.572, + "Actual Total Time": 4210.918, + "Actual Rows": 7071, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 52.723, + "Actual Total Time": 52.729, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.590, + "Actual Total Time": 3079.236, + "Actual Rows": 7208, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 75.864, + "Actual Total Time": 1973.947, + "Actual Rows": 1354, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 23213.40, + "Plan Rows": 2687, + "Plan Width": 69, + "Actual Startup Time": 25.750, + "Actual Total Time": 2145.524, + "Actual Rows": 3407, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.758, + "Actual Total Time": 51.764, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.797, + "Actual Total Time": 3237.893, + "Actual Rows": 3280, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.997, + "Actual Total Time": 2384.708, + "Actual Rows": 4870, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.512, + "Actual Total Time": 4120.643, + "Actual Rows": 7071, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 52.721, + "Actual Total Time": 52.726, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.532, + "Actual Total Time": 2996.086, + "Actual Rows": 7208, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 75.525, + "Actual Total Time": 1949.638, + "Actual Rows": 1354, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.74, + "Total Cost": 23199.84, + "Plan Rows": 4302, + "Plan Width": 73, + "Actual Startup Time": 25.725, + "Actual Total Time": 2140.122, + "Actual Rows": 3765, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mk.movie_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(ci.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.744, + "Actual Total Time": 51.747, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 14.777, + "Actual Total Time": 3231.880, + "Actual Rows": 3558, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.980, + "Actual Total Time": 2376.137, + "Actual Rows": 5445, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.492, + "Actual Total Time": 4110.229, + "Actual Rows": 7692, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 52.708, + "Actual Total Time": 52.712, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.511, + "Actual Total Time": 2986.643, + "Actual Rows": 8039, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 75.502, + "Actual Total Time": 1946.589, + "Actual Rows": 1502, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 19558.55, + "Plan Rows": 3495, + "Plan Width": 23, + "Actual Startup Time": 14.940, + "Actual Total Time": 1818.451, + "Actual Rows": 3058, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.743, + "Actual Total Time": 51.746, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.747, + "Actual Total Time": 2870.228, + "Actual Rows": 4558, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.896, + "Actual Total Time": 1906.280, + "Actual Rows": 3454, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.818, + "Actual Total Time": 3563.624, + "Actual Rows": 6139, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 52.708, + "Actual Total Time": 52.711, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.412, + "Actual Total Time": 2449.223, + "Actual Rows": 4826, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.205, + "Actual Total Time": 1634.069, + "Actual Rows": 2016, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 16414.62, + "Plan Rows": 6168, + "Plan Width": 12, + "Actual Startup Time": 14.370, + "Actual Total Time": 1716.604, + "Actual Rows": 5397, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.742, + "Actual Total Time": 51.744, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.919, + "Actual Total Time": 2713.514, + "Actual Rows": 7882, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.830, + "Actual Total Time": 1801.028, + "Actual Rows": 5652, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.340, + "Actual Total Time": 3345.903, + "Actual Rows": 12032, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 52.707, + "Actual Total Time": 52.709, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.339, + "Actual Total Time": 2310.330, + "Actual Rows": 7869, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.155, + "Actual Total Time": 1547.861, + "Actual Rows": 3737, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1570.84, + "Plan Rows": 10959, + "Plan Width": 4, + "Actual Startup Time": 13.777, + "Actual Total Time": 57.588, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.742, + "Actual Total Time": 51.743, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.380, + "Actual Total Time": 75.708, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.813, + "Actual Total Time": 36.336, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.835, + "Actual Total Time": 82.505, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 52.705, + "Actual Total Time": 52.706, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.786, + "Actual Total Time": 58.089, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.754, + "Actual Total Time": 52.422, + "Actual Rows": 5392, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 13.641, + "Actual Total Time": 13.659, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 51.741, + "Actual Total Time": 51.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.287, + "Actual Total Time": 0.315, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.714, + "Actual Total Time": 0.726, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.685, + "Actual Total Time": 0.692, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 52.704, + "Actual Total Time": 52.705, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.652, + "Actual Total Time": 0.702, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.233, + "Actual Total Time": 0.256, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.86, + "Plan Rows": 10959, + "Plan Width": 8, + "Actual Startup Time": 0.157, + "Actual Total Time": 45.535, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.088, + "Actual Total Time": 67.340, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.096, + "Actual Total Time": 31.221, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.145, + "Actual Total Time": 73.991, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.090, + "Actual Total Time": 26.143, + "Actual Rows": 6314, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.517, + "Actual Total Time": 49.103, + "Actual Rows": 5392, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.142, + "Actual Total Time": 0.172, + "Actual Rows": 1, + "Actual Loops": 76714, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 48, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.127, + "Actual Rows": 0, + "Actual Loops": 20522 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.166, + "Actual Total Time": 0.210, + "Actual Rows": 1, + "Actual Loops": 8337 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.166, + "Actual Rows": 1, + "Actual Loops": 19528 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.145, + "Actual Total Time": 0.177, + "Actual Rows": 1, + "Actual Loops": 12628 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.222, + "Actual Total Time": 0.276, + "Actual Rows": 1, + "Actual Loops": 5392 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 43178, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 7882 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 5652 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 12032 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 7869 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 3737 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.103, + "Actual Rows": 1, + "Actual Loops": 24462, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 82, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.078, + "Actual Rows": 1, + "Actual Loops": 4558 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.134, + "Actual Rows": 2, + "Actual Loops": 3454 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.087, + "Actual Rows": 1, + "Actual Loops": 6139 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.109, + "Actual Rows": 2, + "Actual Loops": 4826 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.116, + "Actual Total Time": 0.153, + "Actual Rows": 1, + "Actual Loops": 2016 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 27255, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 3280 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 4870 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 7071 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 7208 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 1354 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 27255, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 3280 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 4870 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 7071 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 7208 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.027, + "Actual Rows": 3, + "Actual Loops": 1354 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 9105500078934324812, + "Planning Time": 102.797, + "Triggers": [ + ], + "Execution Time": 4413.075, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 9105500078934324812, + "JOINS": 8 + } + ] (1 row)
SELECT MIN(chn.name) AS character_name,
       MIN(mi_idx.info) AS rating,
       MIN(n.name) AS playing_actor,
       MIN(t.title) AS complete_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND it2.info = 'rating'
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence',
                    'magnet',
                    'web',
                    'claw',
                    'laser')
  AND kt.kind = 'movie'
  AND mi_idx.info > '7.0'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND ci.movie_id = cc.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND cc.movie_id = mi_idx.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2983.41, + "Total Cost": 2983.42, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 459.841, + "Actual Total Time": 480.493, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2983.33, + "Total Cost": 2983.34, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 437.467, + "Actual Total Time": 480.448, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2982.33, + "Total Cost": 2982.34, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 431.218, + "Actual Total Time": 431.233, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 419.636, + "Actual Total Time": 419.647, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 450.928, + "Actual Total Time": 450.939, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 423.828, + "Actual Total Time": 423.841, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 427.785, + "Actual Total Time": 427.797, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 440.293, + "Actual Total Time": 440.309, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 422.726, + "Actual Total Time": 422.738, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 428.147, + "Actual Total Time": 428.159, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1460.73, + "Total Cost": 2979.86, + "Plan Rows": 247, + "Plan Width": 53, + "Actual Startup Time": 85.266, + "Actual Total Time": 430.556, + "Actual Rows": 216, + "Actual Loops": 8, + "Output": ["chn.name", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.221, + "Actual Total Time": 418.672, + "Actual Rows": 378, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 84.332, + "Actual Total Time": 450.377, + "Actual Rows": 134, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 74.027, + "Actual Total Time": 423.178, + "Actual Rows": 219, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 85.732, + "Actual Total Time": 427.233, + "Actual Rows": 173, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 91.035, + "Actual Total Time": 439.605, + "Actual Rows": 213, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 85.103, + "Actual Total Time": 422.136, + "Actual Rows": 188, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 89.252, + "Actual Total Time": 427.700, + "Actual Rows": 123, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1459.69, + "Total Cost": 2977.48, + "Plan Rows": 247, + "Plan Width": 57, + "Actual Startup Time": 85.119, + "Actual Total Time": 429.865, + "Actual Rows": 216, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "cc.status_id", "t.title", "mi_idx.info"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.064, + "Actual Total Time": 417.735, + "Actual Rows": 378, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 84.257, + "Actual Total Time": 449.873, + "Actual Rows": 134, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 73.867, + "Actual Total Time": 422.457, + "Actual Rows": 219, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 85.665, + "Actual Total Time": 426.703, + "Actual Rows": 173, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.887, + "Actual Total Time": 438.908, + "Actual Rows": 213, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 84.935, + "Actual Total Time": 421.473, + "Actual Rows": 188, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 89.176, + "Actual Total Time": 427.268, + "Actual Rows": 123, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1459.26, + "Total Cost": 2976.58, + "Plan Rows": 2, + "Plan Width": 45, + "Actual Startup Time": 79.283, + "Actual Total Time": 367.613, + "Actual Rows": 7368, + "Actual Loops": 8, + "Output": ["n.name", "cc.status_id", "t.title", "mi_idx.info", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 75.895, + "Actual Total Time": 351.581, + "Actual Rows": 7864, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 82.509, + "Actual Total Time": 387.930, + "Actual Rows": 7148, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.985, + "Actual Total Time": 365.912, + "Actual Rows": 7654, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 81.274, + "Actual Total Time": 371.387, + "Actual Rows": 6040, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 73.618, + "Actual Total Time": 366.658, + "Actual Rows": 7711, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.873, + "Actual Total Time": 365.290, + "Actual Rows": 7158, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 80.647, + "Actual Total Time": 368.665, + "Actual Rows": 6971, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1458.83, + "Total Cost": 2975.68, + "Plan Rows": 2, + "Plan Width": 34, + "Actual Startup Time": 79.181, + "Actual Total Time": 162.057, + "Actual Rows": 7368, + "Actual Loops": 8, + "Output": ["cc.status_id", "t.title", "mi_idx.info", "ci.person_role_id", "ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 75.786, + "Actual Total Time": 151.333, + "Actual Rows": 7864, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 82.368, + "Actual Total Time": 164.602, + "Actual Rows": 7148, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.920, + "Actual Total Time": 167.179, + "Actual Rows": 7654, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 81.181, + "Actual Total Time": 168.541, + "Actual Rows": 6040, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 73.471, + "Actual Total Time": 163.280, + "Actual Rows": 7711, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.794, + "Actual Total Time": 154.241, + "Actual Rows": 7158, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 80.555, + "Actual Total Time": 167.462, + "Actual Rows": 6971, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1458.39, + "Total Cost": 2973.05, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 79.036, + "Actual Total Time": 113.287, + "Actual Rows": 41, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 75.577, + "Actual Total Time": 107.335, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 82.182, + "Actual Total Time": 117.319, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.821, + "Actual Total Time": 109.645, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 81.072, + "Actual Total Time": 124.357, + "Actual Rows": 41, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 73.303, + "Actual Total Time": 101.126, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.717, + "Actual Total Time": 109.832, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 80.444, + "Actual Total Time": 123.772, + "Actual Rows": 42, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1458.23, + "Total Cost": 2972.25, + "Plan Rows": 5, + "Plan Width": 46, + "Actual Startup Time": 78.470, + "Actual Total Time": 112.890, + "Actual Rows": 63, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "t.title", "t.id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 73.250, + "Actual Total Time": 106.834, + "Actual Rows": 52, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 82.095, + "Actual Total Time": 116.942, + "Actual Rows": 59, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.605, + "Actual Total Time": 109.250, + "Actual Rows": 71, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 79.760, + "Actual Total Time": 123.982, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 72.853, + "Actual Total Time": 100.730, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.679, + "Actual Total Time": 109.403, + "Actual Rows": 87, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 80.395, + "Actual Total Time": 123.390, + "Actual Rows": 62, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1457.81, + "Total Cost": 2936.54, + "Plan Rows": 71, + "Plan Width": 33, + "Actual Startup Time": 77.849, + "Actual Total Time": 108.054, + "Actual Rows": 158, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 71.589, + "Actual Total Time": 101.306, + "Actual Rows": 154, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 81.364, + "Actual Total Time": 111.988, + "Actual Rows": 180, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.504, + "Actual Total Time": 104.230, + "Actual Rows": 177, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 79.665, + "Actual Total Time": 119.297, + "Actual Rows": 166, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 72.699, + "Actual Total Time": 96.674, + "Actual Rows": 125, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.610, + "Actual Total Time": 103.941, + "Actual Rows": 206, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 80.298, + "Actual Total Time": 118.578, + "Actual Rows": 169, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1456.74, + "Total Cost": 2933.37, + "Plan Rows": 498, + "Plan Width": 37, + "Actual Startup Time": 77.804, + "Actual Total Time": 107.737, + "Actual Rows": 199, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 71.565, + "Actual Total Time": 100.979, + "Actual Rows": 183, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 81.349, + "Actual Total Time": 111.657, + "Actual Rows": 220, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.484, + "Actual Total Time": 103.881, + "Actual Rows": 230, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 79.650, + "Actual Total Time": 118.979, + "Actual Rows": 229, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 72.673, + "Actual Total Time": 96.384, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.409, + "Actual Total Time": 103.568, + "Actual Rows": 254, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 80.285, + "Actual Total Time": 118.268, + "Actual Rows": 199, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1456.31, + "Total Cost": 2512.53, + "Plan Rows": 914, + "Plan Width": 12, + "Actual Startup Time": 77.308, + "Actual Total Time": 91.648, + "Actual Rows": 800, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 71.308, + "Actual Total Time": 87.610, + "Actual Rows": 630, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 80.732, + "Actual Total Time": 93.165, + "Actual Rows": 971, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.401, + "Actual Total Time": 84.407, + "Actual Rows": 1080, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 79.563, + "Actual Total Time": 99.244, + "Actual Rows": 822, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 72.509, + "Actual Total Time": 81.244, + "Actual Rows": 639, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.233, + "Actual Total Time": 86.812, + "Actual Rows": 976, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 79.851, + "Actual Total Time": 102.167, + "Actual Rows": 841, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1455.27, + "Total Cost": 2504.22, + "Plan Rows": 1342, + "Plan Width": 16, + "Actual Startup Time": 77.289, + "Actual Total Time": 90.751, + "Actual Rows": 1174, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 71.288, + "Actual Total Time": 86.827, + "Actual Rows": 1236, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 80.716, + "Actual Total Time": 92.309, + "Actual Rows": 971, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.384, + "Actual Total Time": 83.482, + "Actual Rows": 1080, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 79.549, + "Actual Total Time": 98.274, + "Actual Rows": 1667, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 72.486, + "Actual Total Time": 80.637, + "Actual Rows": 639, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.213, + "Actual Total Time": 85.930, + "Actual Rows": 1102, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 79.838, + "Actual Total Time": 101.126, + "Actual Rows": 1956, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.065, + "Actual Total Time": 4.104, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.066, + "Actual Total Time": 4.922, + "Actual Rows": 19831, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.081, + "Actual Total Time": 3.302, + "Actual Rows": 13505, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.053, + "Actual Total Time": 3.276, + "Actual Rows": 12950, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.057, + "Actual Total Time": 5.801, + "Actual Rows": 24790, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.088, + "Actual Total Time": 2.466, + "Actual Rows": 9435, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.053, + "Actual Total Time": 3.463, + "Actual Rows": 14245, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.058, + "Actual Total Time": 6.538, + "Actual Rows": 29230, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1412.24, + "Total Cost": 1412.24, + "Plan Rows": 3442, + "Plan Width": 4, + "Actual Startup Time": 77.047, + "Actual Total Time": 77.049, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 32768, + "Original Hash Buckets": 32768, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 1344, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 71.087, + "Actual Total Time": 71.089, + "Actual Rows": 374, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 80.496, + "Actual Total Time": 80.498, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 72.205, + "Actual Total Time": 72.207, + "Actual Rows": 150, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 79.367, + "Actual Total Time": 79.369, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 72.309, + "Actual Total Time": 72.311, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 74.087, + "Actual Total Time": 74.089, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 79.671, + "Actual Total Time": 79.673, + "Actual Rows": 409, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.46, + "Total Cost": 1412.24, + "Plan Rows": 3442, + "Plan Width": 4, + "Actual Startup Time": 2.680, + "Actual Total Time": 39.813, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.590, + "Actual Total Time": 26.934, + "Actual Rows": 374, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.818, + "Actual Total Time": 35.699, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.078, + "Actual Total Time": 27.968, + "Actual Rows": 150, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.406, + "Actual Total Time": 57.167, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.181, + "Actual Total Time": 25.614, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.748, + "Actual Total Time": 67.510, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9.367, + "Actual Total Time": 35.682, + "Actual Rows": 409, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.03, + "Total Cost": 1236.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 1.175, + "Actual Total Time": 11.031, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,tv-special,fight,violence,magnet,web,claw,laser}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.351, + "Actual Total Time": 20.769, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.707, + "Actual Total Time": 14.262, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.396, + "Actual Total Time": 20.570, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.294, + "Actual Total Time": 0.339, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.906, + "Actual Total Time": 1.915, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.532, + "Actual Total Time": 2.564, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.044, + "Actual Total Time": 18.670, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.62, + "Plan Rows": 2409, + "Plan Width": 8, + "Actual Startup Time": 1.267, + "Actual Total Time": 22.210, + "Actual Rows": 2409, + "Actual Loops": 10, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.335, + "Actual Total Time": 2.963, + "Actual Rows": 187, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.105, + "Actual Total Time": 20.895, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.674, + "Actual Total Time": 7.260, + "Actual Rows": 150, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.107, + "Actual Total Time": 55.140, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.266, + "Actual Total Time": 22.178, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.208, + "Actual Total Time": 61.833, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.780, + "Actual Total Time": 8.426, + "Actual Rows": 204, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 6396, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 630 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 971 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1080 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 822 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 639 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 976 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 841 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1267, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '7.0'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 154 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 180 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 177 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 166 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 125 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 206 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 169 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 507, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 52, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 52, + "Cache Hits": 50, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 59, + "Cache Hits": 57, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 71, + "Cache Hits": 68, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 68, + "Cache Hits": 66, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 54, + "Cache Hits": 51, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 87, + "Cache Hits": 85, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 62, + "Cache Hits": 60, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 18, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.29, + "Plan Rows": 133, + "Plan Width": 12, + "Actual Startup Time": 0.037, + "Actual Total Time": 1.112, + "Actual Rows": 181, + "Actual Loops": 326, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.962, + "Actual Rows": 187, + "Actual Loops": 42 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 1.152, + "Actual Rows": 188, + "Actual Loops": 38 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 1.287, + "Actual Rows": 182, + "Actual Loops": 42 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 1.007, + "Actual Rows": 147, + "Actual Loops": 41 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 1.581, + "Actual Rows": 208, + "Actual Loops": 37 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.873, + "Actual Rows": 152, + "Actual Loops": 47 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.961, + "Actual Rows": 166, + "Actual Loops": 42 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 58947, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 7864 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 7148 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 7654 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 6040 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 7711 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 7158 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 6971 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 58947, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 7864 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 7148 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 7654 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 6040 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 7711 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 7158 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 6971 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.067, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.032, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1025902338300761143, + "Planning Time": 2735.436, + "Triggers": [ + ], + "Execution Time": 480.996, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1025902338300761143, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(chn.name) AS character_name,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND it2.info = 'rating'
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'fight')
  AND kt.kind = 'movie'
  AND mi_idx.info > '8.0'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND ci.movie_id = cc.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND cc.movie_id = mi_idx.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2323.10, + "Total Cost": 2323.11, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 180.453, + "Actual Total Time": 202.547, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2323.03, + "Total Cost": 2323.04, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 99.250, + "Actual Total Time": 202.524, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2322.03, + "Total Cost": 2322.04, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 58.858, + "Actual Total Time": 58.870, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.646, + "Actual Total Time": 22.662, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.359, + "Actual Total Time": 29.371, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.753, + "Actual Total Time": 28.766, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 171.863, + "Actual Total Time": 171.871, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.985, + "Actual Total Time": 24.000, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.511, + "Actual Total Time": 23.522, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 72.408, + "Actual Total Time": 72.417, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.19, + "Total Cost": 2321.94, + "Plan Rows": 13, + "Plan Width": 38, + "Actual Startup Time": 46.227, + "Actual Total Time": 58.844, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["chn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.637, + "Actual Total Time": 22.653, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.353, + "Actual Total Time": 29.363, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.748, + "Actual Total Time": 28.761, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 97.011, + "Actual Total Time": 171.801, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.978, + "Actual Total Time": 23.992, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.504, + "Actual Total Time": 23.514, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 59.462, + "Actual Total Time": 72.361, + "Actual Rows": 23, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.76, + "Total Cost": 2316.11, + "Plan Rows": 13, + "Plan Width": 42, + "Actual Startup Time": 46.201, + "Actual Total Time": 58.633, + "Actual Rows": 12, + "Actual Loops": 8, + "Output": ["chn.name", "mi_idx.info", "t.title", "ci.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.636, + "Actual Total Time": 22.650, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.352, + "Actual Total Time": 29.362, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.748, + "Actual Total Time": 28.759, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.916, + "Actual Total Time": 170.994, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.977, + "Actual Total Time": 23.990, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.503, + "Actual Total Time": 23.512, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 59.390, + "Actual Total Time": 71.898, + "Actual Rows": 23, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.33, + "Total Cost": 2166.79, + "Plan Rows": 329, + "Plan Width": 30, + "Actual Startup Time": 46.135, + "Actual Total Time": 56.758, + "Actual Rows": 288, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title", "ci.person_role_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.635, + "Actual Total Time": 22.648, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.351, + "Actual Total Time": 29.360, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.747, + "Actual Total Time": 28.758, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.706, + "Actual Total Time": 163.338, + "Actual Rows": 1334, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.976, + "Actual Total Time": 23.988, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.502, + "Actual Total Time": 23.511, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 59.232, + "Actual Total Time": 68.082, + "Actual Rows": 483, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.89, + "Total Cost": 2162.72, + "Plan Rows": 1, + "Plan Width": 38, + "Actual Startup Time": 46.114, + "Actual Total Time": 55.125, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.634, + "Actual Total Time": 22.646, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.351, + "Actual Total Time": 29.359, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.746, + "Actual Total Time": 28.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.655, + "Actual Total Time": 156.243, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.975, + "Actual Total Time": 23.986, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.501, + "Actual Total Time": 23.509, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 59.167, + "Actual Total Time": 64.945, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.76, + "Total Cost": 2162.55, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 46.107, + "Actual Total Time": 55.115, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "cc.status_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.633, + "Actual Total Time": 22.644, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.350, + "Actual Total Time": 29.358, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.746, + "Actual Total Time": 28.755, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.636, + "Actual Total Time": 156.200, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.974, + "Actual Total Time": 23.984, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.500, + "Actual Total Time": 23.507, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 59.151, + "Actual Total Time": 64.927, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.62, + "Total Cost": 2162.38, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 46.089, + "Actual Total Time": 55.088, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.632, + "Actual Total Time": 22.642, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.349, + "Actual Total Time": 29.356, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.745, + "Actual Total Time": 28.753, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 96.583, + "Actual Total Time": 156.120, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.973, + "Actual Total Time": 23.981, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.499, + "Actual Total Time": 23.505, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 59.092, + "Actual Total Time": 64.851, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.55, + "Total Cost": 2161.29, + "Plan Rows": 8, + "Plan Width": 50, + "Actual Startup Time": 34.597, + "Actual Total Time": 54.945, + "Actual Rows": 7, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.467, + "Actual Total Time": 22.474, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.271, + "Actual Total Time": 29.276, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.682, + "Actual Total Time": 28.688, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.623, + "Actual Total Time": 155.970, + "Actual Rows": 49, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.820, + "Actual Total Time": 23.827, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.357, + "Actual Total Time": 23.361, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 59.024, + "Actual Total Time": 64.776, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.12, + "Total Cost": 2151.62, + "Plan Rows": 21, + "Plan Width": 25, + "Actual Startup Time": 18.448, + "Actual Total Time": 54.608, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.466, + "Actual Total Time": 22.472, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.270, + "Actual Total Time": 29.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 28.681, + "Actual Total Time": 28.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.718, + "Actual Total Time": 153.662, + "Actual Rows": 132, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.819, + "Actual Total Time": 23.825, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.356, + "Actual Total Time": 23.360, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.716, + "Actual Total Time": 64.610, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 2131.47, + "Plan Rows": 45, + "Plan Width": 13, + "Actual Startup Time": 15.260, + "Actual Total Time": 53.803, + "Actual Rows": 39, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.465, + "Actual Total Time": 22.470, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.269, + "Actual Total Time": 29.273, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.717, + "Actual Total Time": 28.542, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.299, + "Actual Total Time": 149.237, + "Actual Rows": 252, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.818, + "Actual Total Time": 23.823, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.355, + "Actual Total Time": 23.358, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.647, + "Actual Total Time": 63.934, + "Actual Rows": 29, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2129.27, + "Plan Rows": 132, + "Plan Width": 17, + "Actual Startup Time": 14.558, + "Actual Total Time": 53.642, + "Actual Rows": 116, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.453, + "Actual Total Time": 22.456, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.262, + "Actual Total Time": 29.264, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.671, + "Actual Total Time": 28.491, + "Actual Rows": 25, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.272, + "Actual Total Time": 148.494, + "Actual Rows": 631, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.808, + "Actual Total Time": 23.811, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.344, + "Actual Total Time": 23.346, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.628, + "Actual Total Time": 63.755, + "Actual Rows": 129, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1415.51, + "Plan Rows": 1426, + "Plan Width": 4, + "Actual Startup Time": 12.746, + "Actual Total Time": 20.786, + "Actual Rows": 1248, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.452, + "Actual Total Time": 22.454, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.261, + "Actual Total Time": 29.262, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.669, + "Actual Total Time": 18.012, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.079, + "Actual Total Time": 30.170, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.807, + "Actual Total Time": 23.808, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.343, + "Actual Total Time": 23.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.148, + "Actual Total Time": 7.988, + "Actual Rows": 1573, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 12.703, + "Actual Total Time": 14.572, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,fight}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 22.451, + "Actual Total Time": 22.452, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.261, + "Actual Total Time": 29.261, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.595, + "Actual Total Time": 16.448, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.968, + "Actual Total Time": 1.022, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 23.805, + "Actual Total Time": 23.806, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 23.342, + "Actual Total Time": 23.342, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.088, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.04, + "Plan Rows": 2496, + "Plan Width": 8, + "Actual Startup Time": 0.079, + "Actual Total Time": 11.513, + "Actual Rows": 2496, + "Actual Loops": 4, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.069, + "Actual Total Time": 1.455, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.106, + "Actual Total Time": 27.132, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.079, + "Actual Total Time": 7.221, + "Actual Rows": 1573, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 9984, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '8.0'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 6011 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 1573 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 313, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 252 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 29 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 144, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 132 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 10, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 0, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 6, + "Cache Hits": 4, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 2, + "Cache Hits": 0, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 236, + "Plan Width": 12, + "Actual Startup Time": 0.041, + "Actual Total Time": 2.024, + "Actual Rows": 383, + "Actual Loops": 6, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 1.644, + "Actual Rows": 334, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.061, + "Actual Total Time": 2.941, + "Actual Rows": 483, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 2300, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1334 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 483 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 93, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 47 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 23 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3475685009172437784, + "Planning Time": 2628.355, + "Triggers": [ + ], + "Execution Time": 203.038, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -3475685009172437784, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(chn.name) AS character_name,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_hero_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE '%complete%'
  AND chn.name IS NOT NULL
  AND (chn.name LIKE '%man%'
       OR chn.name LIKE '%Man%')
  AND it2.info = 'rating'
  AND k.keyword IN ('superhero',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence',
                    'magnet',
                    'web',
                    'claw',
                    'laser')
  AND kt.kind = 'movie'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND t.id = cc.movie_id
  AND t.id = mi_idx.movie_id
  AND mk.movie_id = ci.movie_id
  AND mk.movie_id = cc.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND ci.movie_id = cc.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND cc.movie_id = mi_idx.movie_id
  AND chn.id = ci.person_role_id
  AND n.id = ci.person_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND it2.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3782.43, + "Total Cost": 3782.44, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2007.350, + "Actual Total Time": 2048.158, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3782.36, + "Total Cost": 3782.37, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 386.146, + "Actual Total Time": 2048.111, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3781.36, + "Total Cost": 3781.37, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 692.294, + "Actual Total Time": 692.305, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 269.111, + "Actual Total Time": 269.121, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 212.554, + "Actual Total Time": 212.567, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 212.854, + "Actual Total Time": 212.866, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1804.139, + "Actual Total Time": 1804.145, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 400.126, + "Actual Total Time": 400.134, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1992.699, + "Actual Total Time": 1992.706, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 261.675, + "Actual Total Time": 261.686, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.10, + "Total Cost": 3775.58, + "Plan Rows": 771, + "Plan Width": 38, + "Actual Startup Time": 121.650, + "Actual Total Time": 691.317, + "Actual Rows": 675, + "Actual Loops": 8, + "Output": ["chn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 54.846, + "Actual Total Time": 268.817, + "Actual Rows": 96, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.984, + "Actual Total Time": 212.192, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 42.470, + "Actual Total Time": 212.632, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 341.022, + "Actual Total Time": 1801.772, + "Actual Rows": 1884, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 70.555, + "Actual Total Time": 399.472, + "Actual Rows": 361, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 90.123, + "Actual Total Time": 1989.359, + "Actual Rows": 2556, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 261.669, + "Actual Total Time": 261.678, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.06, + "Total Cost": 3769.63, + "Plan Rows": 908, + "Plan Width": 42, + "Actual Startup Time": 121.510, + "Actual Total Time": 690.363, + "Actual Rows": 795, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "cc.subject_id", "mi_idx.info"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 54.781, + "Actual Total Time": 268.521, + "Actual Rows": 100, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.818, + "Actual Total Time": 211.747, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 42.334, + "Actual Total Time": 212.340, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 340.895, + "Actual Total Time": 1799.629, + "Actual Rows": 2275, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 70.483, + "Actual Total Time": 398.857, + "Actual Rows": 391, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 89.980, + "Actual Total Time": 1986.408, + "Actual Rows": 3017, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 261.544, + "Actual Total Time": 261.552, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.92, + "Total Cost": 3769.46, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 38.743, + "Actual Total Time": 688.680, + "Actual Rows": 847, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "t.kind_id", "cc.subject_id", "mi_idx.info"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.619, + "Actual Total Time": 268.031, + "Actual Rows": 112, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.768, + "Actual Total Time": 211.218, + "Actual Rows": 145, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 42.241, + "Actual Total Time": 211.932, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 54.564, + "Actual Total Time": 1795.304, + "Actual Rows": 2467, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 62.356, + "Actual Total Time": 397.761, + "Actual Rows": 425, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.765, + "Actual Total Time": 1980.946, + "Actual Rows": 3138, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 48.408, + "Actual Total Time": 261.362, + "Actual Rows": 38, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.49, + "Total Cost": 3764.92, + "Plan Rows": 10, + "Plan Width": 34, + "Actual Startup Time": 26.162, + "Actual Total Time": 529.967, + "Actual Rows": 30509, + "Actual Loops": 8, + "Output": ["t.title", "t.kind_id", "cc.subject_id", "mi_idx.info", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.540, + "Actual Total Time": 218.632, + "Actual Rows": 6967, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.003, + "Actual Total Time": 173.901, + "Actual Rows": 4672, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.753, + "Actual Total Time": 176.721, + "Actual Rows": 4004, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.970, + "Actual Total Time": 1350.284, + "Actual Rows": 93315, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 39.351, + "Actual Total Time": 310.459, + "Actual Rows": 12858, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.970, + "Actual Total Time": 1467.524, + "Actual Rows": 107841, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 35.777, + "Actual Total Time": 233.517, + "Actual Rows": 2968, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.06, + "Total Cost": 3760.44, + "Plan Rows": 10, + "Plan Width": 38, + "Actual Startup Time": 26.079, + "Actual Total Time": 244.689, + "Actual Rows": 30509, + "Actual Loops": 8, + "Output": ["t.title", "t.kind_id", "cc.subject_id", "mi_idx.info", "ci.person_role_id", "ci.person_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.485, + "Actual Total Time": 117.480, + "Actual Rows": 6967, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 33.940, + "Actual Total Time": 102.823, + "Actual Rows": 4672, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.632, + "Actual Total Time": 111.955, + "Actual Rows": 4004, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.888, + "Actual Total Time": 549.908, + "Actual Rows": 93315, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 39.284, + "Actual Total Time": 160.651, + "Actual Rows": 12858, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.855, + "Actual Total Time": 554.549, + "Actual Rows": 107841, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 35.651, + "Actual Total Time": 186.981, + "Actual Rows": 2968, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.62, + "Total Cost": 3758.06, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 25.968, + "Actual Total Time": 120.676, + "Actual Rows": 233, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id", "cc.movie_id", "cc.subject_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.407, + "Actual Total Time": 54.906, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 33.824, + "Actual Total Time": 67.555, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.465, + "Actual Total Time": 77.562, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.813, + "Actual Total Time": 212.533, + "Actual Rows": 749, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 39.184, + "Actual Total Time": 92.851, + "Actual Rows": 86, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.722, + "Actual Total Time": 185.027, + "Actual Rows": 802, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 35.472, + "Actual Total Time": 163.661, + "Actual Rows": 58, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.78, + "Total Cost": 3755.99, + "Plan Rows": 80, + "Plan Width": 50, + "Actual Startup Time": 25.943, + "Actual Total Time": 120.114, + "Actual Rows": 707, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id", "cc.movie_id", "cc.subject_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.396, + "Actual Total Time": 54.718, + "Actual Rows": 152, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 33.806, + "Actual Total Time": 67.461, + "Actual Rows": 63, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.438, + "Actual Total Time": 77.414, + "Actual Rows": 90, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.798, + "Actual Total Time": 210.913, + "Actual Rows": 2269, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 39.171, + "Actual Total Time": 92.561, + "Actual Rows": 261, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.697, + "Actual Total Time": 183.382, + "Actual Rows": 2441, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 35.444, + "Actual Total Time": 163.438, + "Actual Rows": 174, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.35, + "Total Cost": 3679.56, + "Plan Rows": 147, + "Plan Width": 37, + "Actual Startup Time": 21.862, + "Actual Total Time": 113.289, + "Actual Rows": 256, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.325, + "Actual Total Time": 52.839, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 33.741, + "Actual Total Time": 66.766, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.279, + "Actual Total Time": 58.988, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.740, + "Actual Total Time": 198.608, + "Actual Rows": 779, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 39.111, + "Actual Total Time": 90.361, + "Actual Rows": 90, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.577, + "Actual Total Time": 169.555, + "Actual Rows": 837, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.355, + "Actual Total Time": 159.890, + "Actual Rows": 177, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.31, + "Total Cost": 3676.94, + "Plan Rows": 293, + "Plan Width": 41, + "Actual Startup Time": 21.840, + "Actual Total Time": 112.625, + "Actual Rows": 256, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.313, + "Actual Total Time": 52.640, + "Actual Rows": 50, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 33.721, + "Actual Total Time": 66.659, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.252, + "Actual Total Time": 58.841, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.721, + "Actual Total Time": 196.645, + "Actual Rows": 779, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 39.098, + "Actual Total Time": 90.059, + "Actual Rows": 90, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.551, + "Actual Total Time": 167.715, + "Actual Rows": 837, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.328, + "Actual Total Time": 159.423, + "Actual Rows": 177, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.89, + "Total Cost": 2997.11, + "Plan Rows": 1516, + "Plan Width": 29, + "Actual Startup Time": 7.276, + "Actual Total Time": 97.349, + "Actual Rows": 1327, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.208, + "Actual Total Time": 49.699, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.558, + "Actual Total Time": 64.084, + "Actual Rows": 155, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.146, + "Actual Total Time": 56.702, + "Actual Rows": 97, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.773, + "Actual Total Time": 152.496, + "Actual Rows": 2965, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.139, + "Actual Total Time": 81.757, + "Actual Rows": 745, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.748, + "Actual Total Time": 139.792, + "Actual Rows": 3700, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.390, + "Actual Total Time": 132.721, + "Actual Rows": 2120, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.46, + "Total Cost": 1412.24, + "Plan Rows": 3442, + "Plan Width": 4, + "Actual Startup Time": 1.241, + "Actual Total Time": 24.023, + "Actual Rows": 3011, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.117, + "Actual Total Time": 3.768, + "Actual Rows": 409, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.559, + "Actual Total Time": 31.469, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.715, + "Actual Total Time": 47.237, + "Actual Rows": 276, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.637, + "Actual Total Time": 27.588, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.863, + "Actual Total Time": 7.775, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.604, + "Actual Total Time": 41.470, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.241, + "Actual Total Time": 23.627, + "Actual Rows": 4196, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.03, + "Total Cost": 1236.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 1.087, + "Actual Total Time": 9.893, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,marvel-comics,based-on-comic,tv-special,fight,violence,magnet,web,claw,laser}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.101, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.429, + "Actual Total Time": 29.971, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.495, + "Actual Total Time": 44.200, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.497, + "Actual Total Time": 0.538, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.774, + "Actual Total Time": 0.793, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.358, + "Actual Total Time": 1.388, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.990, + "Actual Total Time": 2.005, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 151.62, + "Plan Rows": 2409, + "Plan Width": 8, + "Actual Startup Time": 0.127, + "Actual Total Time": 10.416, + "Actual Rows": 2409, + "Actual Loops": 10, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.061, + "Actual Total Time": 1.724, + "Actual Rows": 204, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.124, + "Actual Total Time": 1.362, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.129, + "Actual Total Time": 1.436, + "Actual Rows": 138, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.135, + "Actual Total Time": 25.046, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.083, + "Actual Total Time": 6.324, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.239, + "Actual Total Time": 37.410, + "Actual Rows": 9226, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.246, + "Actual Total Time": 19.440, + "Actual Rows": 4196, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 24091, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.111, + "Actual Total Time": 0.111, + "Actual Rows": 0, + "Actual Loops": 409 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.130, + "Actual Total Time": 0.130, + "Actual Rows": 1, + "Actual Loops": 248 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 276 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 6011 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 9226 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 4196 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 10613, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 162 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 155 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 97 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2965 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 745 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 3700 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 2120 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.006, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text ~~ '%complete%'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.024, + "Actual Rows": 3, + "Actual Loops": 2052, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.033, + "Actual Rows": 3, + "Actual Loops": 50 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.026, + "Actual Rows": 3, + "Actual Loops": 23 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.605, + "Actual Total Time": 0.609, + "Actual Rows": 3, + "Actual Loops": 30 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 779 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.021, + "Actual Rows": 3, + "Actual Loops": 90 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 837 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 177 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.29, + "Plan Rows": 109, + "Plan Width": 12, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.487, + "Actual Rows": 131, + "Actual Loops": 1862, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 1.176, + "Actual Rows": 139, + "Actual Loops": 50 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.042, + "Actual Total Time": 1.557, + "Actual Rows": 222, + "Actual Loops": 21 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 1.071, + "Actual Rows": 133, + "Actual Loops": 30 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.410, + "Actual Rows": 125, + "Actual Loops": 749 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.724, + "Actual Rows": 150, + "Actual Loops": 86 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.419, + "Actual Rows": 134, + "Actual Loops": 802 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.373, + "Actual Rows": 51, + "Actual Loops": 58 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 244072, + "Output": ["n.id"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 6967 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 4672 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 4004 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 93315 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 12858 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 107841 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 2968 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 244072, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((chn.name IS NOT NULL) AND ((chn.name ~~ '%man%'::text) OR (chn.name ~~ '%Man%'::text)))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 6967 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 4672 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 4004 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 93315 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 12858 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 107841 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 2968 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 6777, + "Output": ["kt.id"], + "Cache Key": "t.kind_id", + "Cache Mode": "logical", + "Cache Hits": 375, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 112, + "Cache Hits": 109, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 145, + "Cache Hits": 143, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 74, + "Cache Hits": 71, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2467, + "Cache Hits": 2463, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 425, + "Cache Hits": 421, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 3138, + "Cache Hits": 3133, + "Cache Misses": 5, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 38, + "Cache Hits": 35, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 27, + "Output": ["kt.id"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = 'movie'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6841805925482126349, + "Planning Time": 2235.827, + "Triggers": [ + ], + "Execution Time": 2048.716, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 6841805925482126349, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS complete_western_sequel
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind = 'complete'
  AND cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Germany',
                  'Swedish',
                  'German')
  AND t.production_year BETWEEN 1950 AND 2000
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND t.id = cc.movie_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id
  AND ml.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = cc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1000.78, + "Total Cost": 1000.79, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 91.290, + "Actual Total Time": 93.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1000.72, + "Total Cost": 1000.73, + "Plan Rows": 6, + "Plan Width": 96, + "Actual Startup Time": 19.202, + "Actual Total Time": 92.989, + "Actual Rows": 7, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 6, + "Workers Launched": 6, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 999.72, + "Total Cost": 999.73, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 22.741, + "Actual Total Time": 22.753, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.165, + "Actual Total Time": 10.173, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.610, + "Actual Total Time": 13.619, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 75.386, + "Actual Total Time": 75.393, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.952, + "Actual Total Time": 14.967, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.294, + "Actual Total Time": 16.309, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.535, + "Actual Total Time": 10.544, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 405.98, + "Total Cost": 999.12, + "Plan Rows": 80, + "Plan Width": 48, + "Actual Startup Time": 17.991, + "Actual Total Time": 22.687, + "Actual Rows": 68, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.160, + "Actual Total Time": 10.167, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.606, + "Actual Total Time": 13.614, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.831, + "Actual Total Time": 74.978, + "Actual Rows": 475, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.944, + "Actual Total Time": 14.957, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.286, + "Actual Total Time": 16.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.531, + "Actual Total Time": 10.539, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.94, + "Total Cost": 997.65, + "Plan Rows": 80, + "Plan Width": 52, + "Actual Startup Time": 17.817, + "Actual Total Time": 22.464, + "Actual Rows": 68, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "cc.subject_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.059, + "Actual Total Time": 10.065, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.434, + "Actual Total Time": 13.439, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.681, + "Actual Total Time": 74.501, + "Actual Rows": 475, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.770, + "Actual Total Time": 14.781, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.139, + "Actual Total Time": 16.150, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.466, + "Actual Total Time": 10.473, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.50, + "Total Cost": 968.31, + "Plan Rows": 29, + "Plan Width": 72, + "Actual Startup Time": 17.794, + "Actual Total Time": 21.831, + "Actual Rows": 25, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "t.title", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 10.058, + "Actual Total Time": 10.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.432, + "Actual Total Time": 13.438, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 49.578, + "Actual Total Time": 70.143, + "Actual Rows": 171, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.769, + "Actual Total Time": 14.779, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.138, + "Actual Total Time": 16.148, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.465, + "Actual Total Time": 10.471, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.08, + "Total Cost": 727.85, + "Plan Rows": 546, + "Plan Width": 76, + "Actual Startup Time": 12.193, + "Actual Total Time": 17.113, + "Actual Rows": 468, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "t.title", "t.id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.938, + "Actual Total Time": 9.183, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.432, + "Actual Total Time": 13.437, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.571, + "Actual Total Time": 38.082, + "Actual Rows": 3183, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.768, + "Actual Total Time": 14.777, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.137, + "Actual Total Time": 16.147, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.464, + "Actual Total Time": 10.469, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 403.65, + "Total Cost": 677.91, + "Plan Rows": 45, + "Plan Width": 68, + "Actual Startup Time": 12.087, + "Actual Total Time": 16.026, + "Actual Rows": 38, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.872, + "Actual Total Time": 8.676, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.431, + "Actual Total Time": 13.436, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.183, + "Actual Total Time": 31.268, + "Actual Rows": 263, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.767, + "Actual Total Time": 14.776, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.136, + "Actual Total Time": 16.145, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.464, + "Actual Total Time": 10.468, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 403.51, + "Total Cost": 676.07, + "Plan Rows": 56, + "Plan Width": 72, + "Actual Startup Time": 10.921, + "Actual Total Time": 15.925, + "Actual Rows": 48, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.839, + "Actual Total Time": 8.609, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.857, + "Actual Total Time": 13.389, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.098, + "Actual Total Time": 30.742, + "Actual Rows": 321, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.766, + "Actual Total Time": 14.774, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.136, + "Actual Total Time": 16.143, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.017, + "Actual Total Time": 10.435, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 403.08, + "Total Cost": 647.94, + "Plan Rows": 56, + "Plan Width": 51, + "Actual Startup Time": 10.858, + "Actual Total Time": 15.438, + "Actual Rows": 48, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.771, + "Actual Total Time": 8.477, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.778, + "Actual Total Time": 13.290, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.920, + "Actual Total Time": 27.693, + "Actual Rows": 325, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.765, + "Actual Total Time": 14.772, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.135, + "Actual Total Time": 16.141, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.949, + "Actual Total Time": 10.356, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.66, + "Total Cost": 577.99, + "Plan Rows": 156, + "Plan Width": 36, + "Actual Startup Time": 9.888, + "Actual Total Time": 14.039, + "Actual Rows": 133, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.651, + "Actual Total Time": 8.126, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.649, + "Actual Total Time": 12.988, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.237, + "Actual Total Time": 20.748, + "Actual Rows": 773, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.691, + "Actual Total Time": 14.466, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.134, + "Actual Total Time": 16.139, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.821, + "Actual Total Time": 9.550, + "Actual Rows": 54, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.52, + "Total Cost": 573.20, + "Plan Rows": 174, + "Plan Width": 40, + "Actual Startup Time": 9.840, + "Actual Total Time": 13.765, + "Actual Rows": 149, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.607, + "Actual Total Time": 8.028, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.591, + "Actual Total Time": 12.902, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.128, + "Actual Total Time": 19.489, + "Actual Rows": 830, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.648, + "Actual Total Time": 14.378, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.133, + "Actual Total Time": 16.137, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.779, + "Actual Total Time": 9.373, + "Actual Rows": 75, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.09, + "Total Cost": 510.69, + "Plan Rows": 43, + "Plan Width": 28, + "Actual Startup Time": 9.543, + "Actual Total Time": 11.167, + "Actual Rows": 37, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Merge Cond": "(cc.movie_id = ml.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.502, + "Actual Total Time": 6.272, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.100, + "Actual Total Time": 12.014, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 13.931, + "Actual Total Time": 14.722, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.997, + "Actual Total Time": 12.352, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.132, + "Actual Total Time": 16.135, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.474, + "Actual Total Time": 5.433, + "Actual Rows": 49, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 2187.57, + "Plan Rows": 1177, + "Plan Width": 12, + "Actual Startup Time": 0.110, + "Actual Total Time": 1.427, + "Actual Rows": 857, + "Actual Loops": 7, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 1.239, + "Actual Rows": 1173, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.687, + "Actual Rows": 358, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.198, + "Actual Total Time": 0.677, + "Actual Rows": 353, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.142, + "Actual Total Time": 0.696, + "Actual Rows": 268, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.171, + "Actual Total Time": 1.381, + "Actual Rows": 316, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 1.363, + "Actual Rows": 949, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 401.65, + "Total Cost": 407.44, + "Plan Rows": 2315, + "Plan Width": 16, + "Actual Startup Time": 8.502, + "Actual Total Time": 8.847, + "Actual Rows": 2319, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Sort Key": ["ml.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.283, + "Actual Total Time": 4.461, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.503, + "Actual Total Time": 10.755, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.564, + "Actual Total Time": 13.023, + "Actual Rows": 2335, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.463, + "Actual Total Time": 10.840, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.600, + "Actual Total Time": 13.270, + "Actual Rows": 2315, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.236, + "Actual Total Time": 3.447, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.29, + "Total Cost": 272.28, + "Plan Rows": 2315, + "Plan Width": 16, + "Actual Startup Time": 0.164, + "Actual Total Time": 5.797, + "Actual Rows": 2315, + "Actual Loops": 7, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.118, + "Actual Total Time": 2.915, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.228, + "Actual Total Time": 7.322, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.202, + "Actual Total Time": 8.268, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.210, + "Actual Total Time": 7.305, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.202, + "Actual Total Time": 8.236, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.081, + "Actual Total Time": 2.067, + "Actual Rows": 2315, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.23, + "Plan Rows": 2, + "Plan Width": 16, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.059, + "Actual Rows": 2, + "Actual Loops": 7, + "Output": ["lt.id", "lt.link"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.048, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.075, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.084, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.059, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.080, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.034, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 123.95, + "Plan Rows": 1158, + "Plan Width": 8, + "Actual Startup Time": 0.167, + "Actual Total Time": 2.162, + "Actual Rows": 1158, + "Actual Loops": 14, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.link_type_id = lt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.065, + "Actual Total Time": 1.090, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.136, + "Actual Total Time": 2.713, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.133, + "Actual Total Time": 3.013, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.137, + "Actual Total Time": 2.713, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.128, + "Actual Total Time": 2.996, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.745, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.41, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.069, + "Actual Rows": 4, + "Actual Loops": 257, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 3, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.114, + "Actual Total Time": 0.144, + "Actual Rows": 2, + "Actual Loops": 12 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.216, + "Actual Total Time": 0.219, + "Actual Rows": 3, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.035, + "Actual Rows": 6, + "Actual Loops": 128 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.118, + "Actual Rows": 1, + "Actual Loops": 17 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.079, + "Actual Rows": 2, + "Actual Loops": 49 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 1043, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 83, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 24, + "Cache Hits": 22, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 13, + "Cache Hits": 12, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 830, + "Cache Hits": 828, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 16, + "Cache Hits": 14, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 75, + "Cache Hits": 73, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 11, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 934, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 17 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 13 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 773 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 14 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 54 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 337, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2000))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 325 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 333, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 0, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 6, + "Cache Hits": 4, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 3, + "Cache Hits": 2, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 321, + "Cache Hits": 319, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.00, + "Plan Rows": 9, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.020, + "Actual Rows": 12, + "Actual Loops": 269, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.091, + "Actual Rows": 19, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.018, + "Actual Rows": 12, + "Actual Loops": 263 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 3278, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 93 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 3183 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 3, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.024, + "Actual Rows": 3, + "Actual Loops": 172, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Germany,Swedish,German}'::text[]))", + "Rows Removed by Filter": 17, + "Workers": [ + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.024, + "Actual Rows": 3, + "Actual Loops": 171 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -5323664899700589841, + "Planning Time": 2584.663, + "Triggers": [ + ], + "Execution Time": 93.722, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -5323664899700589841, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS complete_western_sequel
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind = 'complete'
  AND cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Germany',
                  'Swedish',
                  'German')
  AND t.production_year = 1998
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND t.id = cc.movie_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id
  AND ml.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = cc.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 613.39, + "Total Cost": 613.40, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 36.671, + "Actual Total Time": 38.966, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 271.56, + "Total Cost": 611.53, + "Plan Rows": 247, + "Plan Width": 48, + "Actual Startup Time": 24.005, + "Actual Total Time": 38.757, + "Actual Rows": 247, + "Actual Loops": 1, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 271.43, + "Total Cost": 611.36, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 23.988, + "Actual Total Time": 37.914, + "Actual Rows": 247, + "Actual Loops": 1, + "Output": ["cn.name", "lt.link", "t.title", "mc.company_type_id"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 271.01, + "Total Cost": 610.47, + "Plan Rows": 2, + "Plan Width": 37, + "Actual Startup Time": 23.962, + "Actual Total Time": 34.283, + "Actual Rows": 532, + "Actual Loops": 1, + "Output": ["lt.link", "t.title", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 270.58, + "Total Cost": 609.94, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 23.933, + "Actual Total Time": 33.052, + "Actual Rows": 95, + "Actual Loops": 1, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "t.title", "t.id", "mk.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 270.45, + "Total Cost": 609.77, + "Plan Rows": 1, + "Plan Width": 53, + "Actual Startup Time": 23.919, + "Actual Total Time": 32.531, + "Actual Rows": 152, + "Actual Loops": 1, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.status_id", "t.title", "t.id", "mk.movie_id", "mi.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 270.02, + "Total Cost": 608.75, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 23.885, + "Actual Total Time": 31.530, + "Actual Rows": 57, + "Actual Loops": 1, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.status_id", "t.title", "t.id", "mk.movie_id"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 269.60, + "Total Cost": 583.19, + "Plan Rows": 58, + "Plan Width": 53, + "Actual Startup Time": 23.809, + "Actual Total Time": 28.719, + "Actual Rows": 437, + "Actual Loops": 1, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.status_id", "t.title", "t.id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 269.16, + "Total Cost": 579.02, + "Plan Rows": 2, + "Plan Width": 45, + "Actual Startup Time": 23.777, + "Actual Total Time": 27.993, + "Actual Rows": 57, + "Actual Loops": 1, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.status_id", "t.title", "t.id"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 268.73, + "Total Cost": 389.45, + "Plan Rows": 128, + "Plan Width": 24, + "Actual Startup Time": 18.839, + "Actual Total Time": 24.744, + "Actual Rows": 257, + "Actual Loops": 1, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 268.59, + "Total Cost": 382.91, + "Plan Rows": 257, + "Plan Width": 28, + "Actual Startup Time": 18.807, + "Actual Total Time": 24.385, + "Actual Rows": 257, + "Actual Loops": 1, + "Output": ["lt.link", "ml.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Merge Cond": "(cc.movie_id = ml.movie_id)", + "Plans": [ + { + "Node Type": "Gather Merge", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1.52, + "Total Cost": 2287.94, + "Plan Rows": 5999, + "Plan Width": 12, + "Actual Startup Time": 11.689, + "Actual Total Time": 16.840, + "Actual Rows": 5993, + "Actual Loops": 1, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers Planned": 6, + "Workers Launched": 6, + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 2187.57, + "Plan Rows": 1000, + "Plan Width": 12, + "Actual Startup Time": 0.079, + "Actual Total Time": 4.737, + "Actual Rows": 1887, + "Actual Loops": 7, + "Output": ["cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.097, + "Actual Total Time": 3.157, + "Actual Rows": 1638, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.080, + "Actual Total Time": 6.077, + "Actual Rows": 1662, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.067, + "Actual Total Time": 6.681, + "Actual Rows": 2705, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.042, + "Actual Total Time": 4.696, + "Actual Rows": 3278, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.146, + "Actual Total Time": 4.133, + "Actual Rows": 1776, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.097, + "Actual Total Time": 7.594, + "Actual Rows": 1852, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 267.05, + "Total Cost": 272.84, + "Plan Rows": 2315, + "Plan Width": 16, + "Actual Startup Time": 6.038, + "Actual Total Time": 6.318, + "Actual Rows": 2341, + "Actual Loops": 1, + "Output": ["lt.link", "ml.movie_id"], + "Sort Key": ["ml.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory", + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1.29, + "Total Cost": 137.68, + "Plan Rows": 2315, + "Plan Width": 16, + "Actual Startup Time": 0.349, + "Actual Total Time": 4.383, + "Actual Rows": 2315, + "Actual Loops": 1, + "Output": ["lt.link", "ml.movie_id"], + "Workers Planned": 1, + "Workers Launched": 1, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.29, + "Total Cost": 136.66, + "Plan Rows": 1362, + "Plan Width": 16, + "Actual Startup Time": 0.034, + "Actual Total Time": 1.573, + "Actual Rows": 1158, + "Actual Loops": 2, + "Output": ["lt.link", "ml.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.13, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["lt.id", "lt.link"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 8, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 123.95, + "Plan Rows": 1158, + "Plan Width": 8, + "Actual Startup Time": 0.049, + "Actual Total Time": 1.179, + "Actual Rows": 1158, + "Actual Loops": 2, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.link_type_id = lt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 257, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 255, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 0 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 257, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year = 1998)", + "Rows Removed by Filter": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.71, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.009, + "Actual Rows": 8, + "Actual Loops": 57, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 437, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 3, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 57, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Germany,Swedish,German}'::text[]))", + "Rows Removed by Filter": 10 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 152, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete'::text)", + "Rows Removed by Filter": 0 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 2, + "Plan Width": 12, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.011, + "Actual Rows": 6, + "Actual Loops": 95, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 532, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 247, + "Output": ["ct.id", "ct.kind"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0 + } + ] + } + ] + }, + "Query Identifier": 2103229838344518222, + "Planning Time": 2784.095, + "Triggers": [ + ], + "Execution Time": 39.533, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 2103229838344518222, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS producing_company,
       MIN(lt.link) AS link_type,
       MIN(t.title) AS complete_western_sequel
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     keyword AS k,
     link_type AS lt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind LIKE 'complete%'
  AND cn.country_code !='[pl]'
  AND (cn.name LIKE '%Film%'
       OR cn.name LIKE '%Warner%')
  AND ct.kind ='production companies'
  AND k.keyword ='sequel'
  AND lt.link LIKE '%follow%'
  AND mc.note IS NULL
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'English')
  AND t.production_year BETWEEN 1950 AND 2010
  AND lt.id = ml.link_type_id
  AND ml.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND t.id = mc.movie_id
  AND mc.company_type_id = ct.id
  AND mc.company_id = cn.id
  AND mi.movie_id = t.id
  AND t.id = cc.movie_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id
  AND ml.movie_id = mk.movie_id
  AND ml.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND ml.movie_id = mi.movie_id
  AND mk.movie_id = mi.movie_id
  AND mc.movie_id = mi.movie_id
  AND ml.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = cc.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 870.92, + "Total Cost": 870.93, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 76.270, + "Actual Total Time": 78.479, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min((lt.link)::text)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 870.87, + "Total Cost": 870.88, + "Plan Rows": 6, + "Plan Width": 96, + "Actual Startup Time": 18.625, + "Actual Total Time": 78.456, + "Actual Rows": 7, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min((lt.link)::text))", "(PARTIAL min(t.title))"], + "Workers Planned": 6, + "Workers Launched": 6, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 869.87, + "Total Cost": 869.88, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 22.898, + "Actual Total Time": 22.909, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min((lt.link)::text)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 67.110, + "Actual Total Time": 67.125, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.239, + "Actual Total Time": 10.247, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.384, + "Actual Total Time": 15.395, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.734, + "Actual Total Time": 19.749, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.001, + "Actual Total Time": 15.007, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.127, + "Actual Total Time": 15.134, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 405.99, + "Total Cost": 868.94, + "Plan Rows": 124, + "Plan Width": 48, + "Actual Startup Time": 14.219, + "Actual Total Time": 22.795, + "Actual Rows": 106, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.391, + "Actual Total Time": 66.367, + "Actual Rows": 743, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.234, + "Actual Total Time": 10.242, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.377, + "Actual Total Time": 15.387, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.725, + "Actual Total Time": 19.739, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.996, + "Actual Total Time": 15.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 15.123, + "Actual Total Time": 15.129, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.95, + "Total Cost": 866.97, + "Plan Rows": 171, + "Plan Width": 52, + "Actual Startup Time": 14.081, + "Actual Total Time": 22.553, + "Actual Rows": 147, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "cc.subject_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.288, + "Actual Total Time": 65.542, + "Actual Rows": 1028, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.169, + "Actual Total Time": 10.175, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.229, + "Actual Total Time": 15.237, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.581, + "Actual Total Time": 19.592, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.928, + "Actual Total Time": 14.932, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.977, + "Actual Total Time": 14.982, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.82, + "Total Cost": 866.81, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 14.075, + "Actual Total Time": 21.949, + "Actual Rows": 147, + "Actual Loops": 7, + "Output": ["cn.name", "lt.link", "cc.subject_id", "cc.status_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.254, + "Actual Total Time": 61.328, + "Actual Rows": 1028, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.168, + "Actual Total Time": 10.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.228, + "Actual Total Time": 15.236, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.580, + "Actual Total Time": 19.591, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.927, + "Actual Total Time": 14.931, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.976, + "Actual Total Time": 14.980, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.40, + "Total Cost": 866.36, + "Plan Rows": 1, + "Plan Width": 41, + "Actual Startup Time": 11.904, + "Actual Total Time": 18.803, + "Actual Rows": 367, + "Actual Loops": 7, + "Output": ["lt.link", "cc.subject_id", "cc.status_id", "t.title", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.214, + "Actual Total Time": 39.659, + "Actual Rows": 2552, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.168, + "Actual Total Time": 10.173, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.227, + "Actual Total Time": 15.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.579, + "Actual Total Time": 19.589, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.538, + "Actual Total Time": 14.804, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.493, + "Actual Total Time": 14.893, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 404.26, + "Total Cost": 866.19, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 11.876, + "Actual Total Time": 18.267, + "Actual Rows": 382, + "Actual Loops": 7, + "Output": ["lt.link", "cc.subject_id", "cc.status_id", "t.title", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.172, + "Actual Total Time": 36.101, + "Actual Rows": 2647, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.167, + "Actual Total Time": 10.172, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.227, + "Actual Total Time": 15.233, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.578, + "Actual Total Time": 19.587, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.473, + "Actual Total Time": 14.726, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.434, + "Actual Total Time": 14.841, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 403.83, + "Total Cost": 865.62, + "Plan Rows": 1, + "Plan Width": 57, + "Actual Startup Time": 11.336, + "Actual Total Time": 17.284, + "Actual Rows": 49, + "Actual Loops": 7, + "Output": ["ml.movie_id", "lt.link", "cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id", "t.title", "t.id", "mi.movie_id"], + "Inner Unique": false, + "Join Filter": "(ml.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.130, + "Actual Total Time": 29.799, + "Actual Rows": 327, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.167, + "Actual Total Time": 10.171, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.226, + "Actual Total Time": 15.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.990, + "Actual Total Time": 19.352, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.413, + "Actual Total Time": 14.580, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.392, + "Actual Total Time": 14.783, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 403.37, + "Total Cost": 864.58, + "Plan Rows": 1, + "Plan Width": 53, + "Actual Startup Time": 11.118, + "Actual Total Time": 16.489, + "Actual Rows": 14, + "Actual Loops": 7, + "Output": ["ml.movie_id", "lt.link", "cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.061, + "Actual Total Time": 27.500, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.166, + "Actual Total Time": 10.169, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.225, + "Actual Total Time": 15.230, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.527, + "Actual Total Time": 17.862, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.282, + "Actual Total Time": 13.984, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.116, + "Actual Total Time": 14.504, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.94, + "Total Cost": 864.10, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 11.064, + "Actual Total Time": 16.286, + "Actual Rows": 14, + "Actual Loops": 7, + "Output": ["ml.movie_id", "lt.link", "cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.000, + "Actual Total Time": 26.700, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.166, + "Actual Total Time": 10.168, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.224, + "Actual Total Time": 15.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.387, + "Actual Total Time": 17.552, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.201, + "Actual Total Time": 13.807, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.063, + "Actual Total Time": 14.451, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.52, + "Total Cost": 604.71, + "Plan Rows": 589, + "Plan Width": 36, + "Actual Startup Time": 7.162, + "Actual Total Time": 11.023, + "Actual Rows": 505, + "Actual Loops": 7, + "Output": ["ml.movie_id", "lt.link", "cc.movie_id", "cc.subject_id", "cc.status_id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.005, + "Actual Total Time": 10.298, + "Actual Rows": 2065, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.289, + "Actual Total Time": 6.653, + "Actual Rows": 362, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.514, + "Actual Total Time": 13.966, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.121, + "Actual Total Time": 11.303, + "Actual Rows": 238, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.327, + "Actual Total Time": 8.480, + "Actual Rows": 535, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.383, + "Actual Total Time": 14.060, + "Actual Rows": 14, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 402.09, + "Total Cost": 510.12, + "Plan Rows": 43, + "Plan Width": 28, + "Actual Startup Time": 6.840, + "Actual Total Time": 8.988, + "Actual Rows": 37, + "Actual Loops": 7, + "Output": ["ml.movie_id", "lt.link", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Merge Cond": "(cc.movie_id = ml.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.858, + "Actual Total Time": 6.683, + "Actual Rows": 135, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.078, + "Actual Total Time": 5.491, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.328, + "Actual Total Time": 13.220, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.971, + "Actual Total Time": 9.685, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.074, + "Actual Total Time": 6.000, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.247, + "Actual Total Time": 13.001, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 2187.57, + "Plan Rows": 1024, + "Plan Width": 12, + "Actual Startup Time": 0.057, + "Actual Total Time": 1.476, + "Actual Rows": 857, + "Actual Loops": 7, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 1.105, + "Actual Rows": 675, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.829, + "Actual Rows": 669, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.090, + "Actual Total Time": 1.151, + "Actual Rows": 386, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.888, + "Actual Rows": 330, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 1.264, + "Actual Rows": 976, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.077, + "Actual Total Time": 1.303, + "Actual Rows": 346, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 401.65, + "Total Cost": 407.44, + "Plan Rows": 2315, + "Plan Width": 16, + "Actual Startup Time": 6.275, + "Actual Total Time": 6.622, + "Actual Rows": 2319, + "Actual Loops": 7, + "Output": ["ml.movie_id", "lt.link"], + "Sort Key": ["ml.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.665, + "Actual Total Time": 4.917, + "Actual Rows": 2335, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.769, + "Actual Total Time": 4.036, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.444, + "Actual Total Time": 10.944, + "Actual Rows": 2317, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.040, + "Actual Total Time": 7.622, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.850, + "Actual Total Time": 4.093, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.585, + "Actual Total Time": 10.896, + "Actual Rows": 2316, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 241, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.29, + "Total Cost": 272.28, + "Plan Rows": 2315, + "Plan Width": 16, + "Actual Startup Time": 0.127, + "Actual Total Time": 4.237, + "Actual Rows": 2315, + "Actual Loops": 7, + "Output": ["ml.movie_id", "lt.link"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.109, + "Actual Total Time": 3.168, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.080, + "Actual Total Time": 2.539, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.183, + "Actual Total Time": 7.007, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.175, + "Actual Total Time": 4.706, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.085, + "Actual Total Time": 2.611, + "Actual Rows": 2315, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.195, + "Actual Total Time": 7.158, + "Actual Rows": 2315, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.00, + "Total Cost": 1.23, + "Plan Rows": 2, + "Plan Width": 16, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.056, + "Actual Rows": 2, + "Actual Loops": 7, + "Output": ["lt.id", "lt.link"], + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.050, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.034, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.076, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.074, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.039, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.088, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 123.95, + "Plan Rows": 1158, + "Plan Width": 8, + "Actual Startup Time": 0.076, + "Actual Total Time": 1.546, + "Actual Rows": 1158, + "Actual Loops": 14, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.link_type_id = lt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.062, + "Actual Total Time": 1.176, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.914, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.112, + "Actual Total Time": 2.523, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.099, + "Actual Total Time": 1.724, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.948, + "Actual Rows": 1158, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.116, + "Actual Total Time": 2.609, + "Actual Rows": 1158, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.90, + "Plan Rows": 30, + "Plan Width": 8, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.049, + "Actual Rows": 14, + "Actual Loops": 257, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.021, + "Actual Rows": 15, + "Actual Loops": 135 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.052, + "Actual Rows": 19, + "Actual Loops": 19 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.076, + "Actual Rows": 4, + "Actual Loops": 9 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.065, + "Actual Rows": 12, + "Actual Loops": 20 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.048, + "Actual Rows": 12, + "Actual Loops": 46 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.202, + "Actual Total Time": 0.205, + "Actual Rows": 3, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 3532, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = 'sequel'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 2065 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 362 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 39 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 238 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 535 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 14 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 98, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1950) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 79 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.00, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.054, + "Actual Rows": 4, + "Actual Loops": 98, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,English}'::text[]))", + "Rows Removed by Filter": 15, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.026, + "Actual Rows": 4, + "Actual Loops": 79 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.105, + "Actual Total Time": 0.208, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.073, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.272, + "Actual Total Time": 0.274, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.016, + "Actual Rows": 8, + "Actual Loops": 346, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note IS NULL)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.016, + "Actual Rows": 8, + "Actual Loops": 327 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 7 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.021, + "Actual Rows": 2, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.051, + "Actual Rows": 8, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2673, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Cache Hits": 5, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 2647, + "Cache Hits": 2645, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 12, + "Cache Hits": 10, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Cache Hits": 6, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 7, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 2568, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((cn.country_code)::text <> '[pl]'::text) AND ((cn.name ~~ '%Film%'::text) OR (cn.name ~~ '%Warner%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 2552 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1028, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text ~~ 'complete%'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1028 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 7, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1723239386245354632, + "Planning Time": 2609.105, + "Triggers": [ + ], + "Execution Time": 79.159, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1723239386245354632, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_euro_dark_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'crew'
  AND cct2.kind != 'complete+verified'
  AND cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2000
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3398.16, + "Total Cost": 3398.17, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1255.196, + "Actual Total Time": 1265.613, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3398.09, + "Total Cost": 3398.10, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 1238.502, + "Actual Total Time": 1265.566, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3397.09, + "Total Cost": 3397.10, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1226.806, + "Actual Total Time": 1226.818, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1238.239, + "Actual Total Time": 1238.249, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1220.106, + "Actual Total Time": 1220.117, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1225.528, + "Actual Total Time": 1225.538, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1224.688, + "Actual Total Time": 1224.697, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1231.120, + "Actual Total Time": 1231.130, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1217.701, + "Actual Total Time": 1217.717, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1219.635, + "Actual Total Time": 1219.645, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1587.46, + "Total Cost": 3391.95, + "Plan Rows": 686, + "Plan Width": 41, + "Actual Startup Time": 191.378, + "Actual Total Time": 1225.927, + "Actual Rows": 600, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 153.309, + "Actual Total Time": 1237.195, + "Actual Rows": 756, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 169.496, + "Actual Total Time": 1219.194, + "Actual Rows": 625, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 127.034, + "Actual Total Time": 1224.810, + "Actual Rows": 514, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 287.300, + "Actual Total Time": 1224.205, + "Actual Rows": 283, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 150.558, + "Actual Total Time": 1230.012, + "Actual Rows": 777, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 223.483, + "Actual Total Time": 1216.586, + "Actual Rows": 704, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 162.960, + "Actual Total Time": 1218.829, + "Actual Rows": 598, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1587.04, + "Total Cost": 3391.48, + "Plan Rows": 1, + "Plan Width": 26, + "Actual Startup Time": 191.295, + "Actual Total Time": 1215.962, + "Actual Rows": 619, + "Actual Loops": 8, + "Output": ["mc.company_id", "t.title", "mi_idx.info"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 153.221, + "Actual Total Time": 1224.615, + "Actual Rows": 793, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 169.412, + "Actual Total Time": 1209.016, + "Actual Rows": 659, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.934, + "Actual Total Time": 1215.849, + "Actual Rows": 522, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 287.199, + "Actual Total Time": 1218.687, + "Actual Rows": 292, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 150.475, + "Actual Total Time": 1217.757, + "Actual Rows": 795, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 223.385, + "Actual Total Time": 1204.963, + "Actual Rows": 727, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 162.880, + "Actual Total Time": 1209.169, + "Actual Rows": 605, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1586.90, + "Total Cost": 3391.30, + "Plan Rows": 1, + "Plan Width": 30, + "Actual Startup Time": 191.227, + "Actual Total Time": 1200.952, + "Actual Rows": 1974, + "Actual Loops": 8, + "Output": ["mc.company_id", "t.title", "mi_idx.info", "mi_idx.info_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 153.152, + "Actual Total Time": 1210.045, + "Actual Rows": 2478, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 169.357, + "Actual Total Time": 1195.433, + "Actual Rows": 2292, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 126.861, + "Actual Total Time": 1206.901, + "Actual Rows": 1570, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 287.128, + "Actual Total Time": 1193.055, + "Actual Rows": 876, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 150.399, + "Actual Total Time": 1204.166, + "Actual Rows": 2301, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 223.311, + "Actual Total Time": 1184.438, + "Actual Rows": 2215, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 162.805, + "Actual Total Time": 1197.910, + "Actual Rows": 2023, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1586.77, + "Total Cost": 3391.14, + "Plan Rows": 1, + "Plan Width": 34, + "Actual Startup Time": 185.419, + "Actual Total Time": 1185.807, + "Actual Rows": 2505, + "Actual Loops": 8, + "Output": ["cc.status_id", "mc.company_id", "t.title", "mi_idx.info", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 153.115, + "Actual Total Time": 1193.954, + "Actual Rows": 2952, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 169.328, + "Actual Total Time": 1180.582, + "Actual Rows": 2690, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 110.786, + "Actual Total Time": 1183.702, + "Actual Rows": 2498, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 283.495, + "Actual Total Time": 1185.721, + "Actual Rows": 1226, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 123.797, + "Actual Total Time": 1190.384, + "Actual Rows": 2550, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 223.274, + "Actual Total Time": 1169.900, + "Actual Rows": 2425, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 162.767, + "Actual Total Time": 1184.139, + "Actual Rows": 2602, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1586.34, + "Total Cost": 3390.61, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 184.914, + "Actual Total Time": 1171.376, + "Actual Rows": 833, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "mc.movie_id", "mc.company_id", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 153.052, + "Actual Total Time": 1178.332, + "Actual Rows": 966, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 169.256, + "Actual Total Time": 1165.940, + "Actual Rows": 889, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 110.709, + "Actual Total Time": 1170.413, + "Actual Rows": 828, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 280.053, + "Actual Total Time": 1177.262, + "Actual Rows": 439, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 123.627, + "Actual Total Time": 1176.142, + "Actual Rows": 878, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 223.203, + "Actual Total Time": 1155.752, + "Actual Rows": 832, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 162.665, + "Actual Total Time": 1166.781, + "Actual Rows": 876, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1586.21, + "Total Cost": 3390.44, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 179.268, + "Actual Total Time": 1165.972, + "Actual Rows": 857, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "mc.movie_id", "mc.company_id", "mi.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 152.998, + "Actual Total Time": 1172.099, + "Actual Rows": 1023, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 169.211, + "Actual Total Time": 1160.450, + "Actual Rows": 889, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 110.663, + "Actual Total Time": 1165.172, + "Actual Rows": 843, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 235.226, + "Actual Total Time": 1174.045, + "Actual Rows": 451, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 123.572, + "Actual Total Time": 1170.682, + "Actual Rows": 883, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 223.144, + "Actual Total Time": 1150.215, + "Actual Rows": 857, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 162.606, + "Actual Total Time": 1161.094, + "Actual Rows": 942, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1585.78, + "Total Cost": 3389.50, + "Plan Rows": 2, + "Plan Width": 24, + "Actual Startup Time": 107.633, + "Actual Total Time": 1136.308, + "Actual Rows": 2117, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "mc.movie_id", "mc.company_id", "mi.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 106.703, + "Actual Total Time": 1141.593, + "Actual Rows": 2267, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 113.877, + "Actual Total Time": 1129.944, + "Actual Rows": 2316, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 99.893, + "Actual Total Time": 1135.605, + "Actual Rows": 2167, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 109.325, + "Actual Total Time": 1147.394, + "Actual Rows": 1601, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 108.440, + "Actual Total Time": 1141.241, + "Actual Rows": 2265, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 100.152, + "Actual Total Time": 1117.024, + "Actual Rows": 2199, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 99.935, + "Actual Total Time": 1129.096, + "Actual Rows": 2297, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1583.93, + "Total Cost": 3387.00, + "Plan Rows": 240, + "Plan Width": 28, + "Actual Startup Time": 107.091, + "Actual Total Time": 1130.996, + "Actual Rows": 5909, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "mc.movie_id", "mc.company_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 106.128, + "Actual Total Time": 1136.753, + "Actual Rows": 6194, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 113.557, + "Actual Total Time": 1125.506, + "Actual Rows": 5576, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 99.349, + "Actual Total Time": 1130.905, + "Actual Rows": 6050, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 108.697, + "Actual Total Time": 1142.410, + "Actual Rows": 7021, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.860, + "Actual Total Time": 1136.619, + "Actual Rows": 5649, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 99.566, + "Actual Total Time": 1107.255, + "Actual Rows": 6103, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 99.311, + "Actual Total Time": 1123.989, + "Actual Rows": 6320, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1583.50, + "Total Cost": 3141.04, + "Plan Rows": 214, + "Plan Width": 20, + "Actual Startup Time": 106.897, + "Actual Total Time": 198.650, + "Actual Rows": 2289, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "mc.movie_id", "mc.company_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 105.973, + "Actual Total Time": 186.666, + "Actual Rows": 2519, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 113.426, + "Actual Total Time": 186.736, + "Actual Rows": 2216, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 99.237, + "Actual Total Time": 251.223, + "Actual Rows": 2418, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 108.429, + "Actual Total Time": 213.363, + "Actual Rows": 1905, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.703, + "Actual Total Time": 191.805, + "Actual Rows": 2562, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 99.462, + "Actual Total Time": 193.212, + "Actual Rows": 2176, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 99.214, + "Actual Total Time": 192.122, + "Actual Rows": 2473, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1582.45, + "Total Cost": 3138.83, + "Plan Rows": 214, + "Plan Width": 24, + "Actual Startup Time": 106.878, + "Actual Total Time": 195.734, + "Actual Rows": 2289, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 105.956, + "Actual Total Time": 183.490, + "Actual Rows": 2519, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 113.413, + "Actual Total Time": 184.066, + "Actual Rows": 2216, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 99.226, + "Actual Total Time": 248.336, + "Actual Rows": 2418, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 108.413, + "Actual Total Time": 210.918, + "Actual Rows": 1905, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.687, + "Actual Total Time": 188.592, + "Actual Rows": 2562, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 99.448, + "Actual Total Time": 190.216, + "Actual Rows": 2176, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 99.201, + "Actual Total Time": 189.045, + "Actual Rows": 2473, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1582.02, + "Total Cost": 2600.54, + "Plan Rows": 888, + "Plan Width": 12, + "Actual Startup Time": 101.618, + "Actual Total Time": 110.233, + "Actual Rows": 777, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 98.029, + "Actual Total Time": 105.192, + "Actual Rows": 780, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 105.479, + "Actual Total Time": 112.846, + "Actual Rows": 797, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 98.983, + "Actual Total Time": 116.761, + "Actual Rows": 911, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 99.094, + "Actual Total Time": 105.518, + "Actual Rows": 649, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.279, + "Actual Total Time": 109.346, + "Actual Rows": 963, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 99.280, + "Actual Total Time": 106.571, + "Actual Rows": 751, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 99.097, + "Actual Total Time": 107.885, + "Actual Rows": 901, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1580.98, + "Total Cost": 2584.03, + "Plan Rows": 2861, + "Plan Width": 16, + "Actual Startup Time": 92.899, + "Actual Total Time": 108.840, + "Actual Rows": 2503, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 89.925, + "Actual Total Time": 103.821, + "Actual Rows": 2661, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.538, + "Actual Total Time": 111.432, + "Actual Rows": 2518, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 90.287, + "Actual Total Time": 115.266, + "Actual Rows": 2613, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.312, + "Actual Total Time": 104.206, + "Actual Rows": 2221, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.463, + "Actual Total Time": 107.828, + "Actual Rows": 2489, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 90.505, + "Actual Total Time": 105.207, + "Actual Rows": 2678, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 90.306, + "Actual Total Time": 106.367, + "Actual Rows": 2619, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.031, + "Actual Total Time": 4.638, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 4.252, + "Actual Rows": 17575, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 4.474, + "Actual Rows": 17241, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 4.776, + "Actual Rows": 17020, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.037, + "Actual Total Time": 4.369, + "Actual Rows": 15170, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 6.049, + "Actual Rows": 18130, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 4.557, + "Actual Rows": 19055, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 5.107, + "Actual Rows": 17205, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1514.74, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 92.547, + "Actual Total Time": 92.549, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2016, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 89.064, + "Actual Total Time": 89.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 96.416, + "Actual Total Time": 96.418, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 90.057, + "Actual Total Time": 90.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 90.092, + "Actual Total Time": 90.094, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 90.329, + "Actual Total Time": 90.331, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 90.361, + "Actual Total Time": 90.363, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 90.098, + "Actual Total Time": 90.100, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 17.408, + "Actual Total Time": 40.687, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.113, + "Actual Total Time": 26.114, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.227, + "Actual Total Time": 56.024, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.111, + "Actual Total Time": 27.112, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.096, + "Actual Total Time": 27.097, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.888, + "Actual Total Time": 79.998, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.425, + "Actual Total Time": 27.427, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.172, + "Actual Total Time": 27.173, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 17.332, + "Actual Total Time": 17.341, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.112, + "Actual Total Time": 26.112, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.102, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 27.110, + "Actual Total Time": 27.110, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 27.095, + "Actual Total Time": 27.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.599, + "Actual Total Time": 0.606, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.424, + "Actual Total Time": 27.424, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.171, + "Actual Total Time": 27.171, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.59, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.193, + "Actual Total Time": 58.812, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.130, + "Actual Total Time": 53.207, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.280, + "Actual Total Time": 74.912, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'crew'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 8, + "Plan Width": 12, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.107, + "Actual Rows": 3, + "Actual Loops": 6216, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 11, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.098, + "Actual Rows": 3, + "Actual Loops": 780 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.087, + "Actual Rows": 3, + "Actual Loops": 797 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.122, + "Actual Total Time": 0.142, + "Actual Rows": 3, + "Actual Loops": 911 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.127, + "Actual Total Time": 0.160, + "Actual Rows": 3, + "Actual Loops": 649 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.080, + "Actual Rows": 3, + "Actual Loops": 963 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.109, + "Actual Rows": 3, + "Actual Loops": 751 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.088, + "Actual Rows": 3, + "Actual Loops": 901 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.02, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.02, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 4, + "Actual Loops": 1, + "Output": ["ct.id"], + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.144, + "Actual Total Time": 0.405, + "Actual Rows": 3, + "Actual Loops": 18311, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 242, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.162, + "Actual Total Time": 0.375, + "Actual Rows": 2, + "Actual Loops": 2519 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.138, + "Actual Total Time": 0.422, + "Actual Rows": 3, + "Actual Loops": 2216 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.362, + "Actual Rows": 3, + "Actual Loops": 2418 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.125, + "Actual Total Time": 0.485, + "Actual Rows": 4, + "Actual Loops": 1905 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.130, + "Actual Total Time": 0.367, + "Actual Rows": 2, + "Actual Loops": 2562 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.122, + "Actual Total Time": 0.418, + "Actual Rows": 3, + "Actual Loops": 2176 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.164, + "Actual Total Time": 0.375, + "Actual Rows": 3, + "Actual Loops": 2473 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 16936, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 2267 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 2316 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 2167 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1601 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 2265 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2199 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2297 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 6859, + "Output": ["kt.id", "kt.kind"], + "Index Cond": "(kt.id = t.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1023 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 889 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 843 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 451 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 883 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 857 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 942 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 6662, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 966 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 889 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 828 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 439 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 878 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 832 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 876 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 20040, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text <> 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 2952 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 2690 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 2498 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 1226 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 2550 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 2425 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 2602 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 15789, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 2478 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 2292 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1570 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 876 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 2301 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 2215 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 2023 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 4955, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 793 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 659 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 522 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 292 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 795 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 727 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 605 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1573023350148659030, + "Planning Time": 3699.470, + "Triggers": [ + ], + "Execution Time": 1266.142, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1573023350148659030, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_euro_dark_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'crew'
  AND cct2.kind != 'complete+verified'
  AND cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Germany',
                  'Swedish',
                  'German')
  AND mi_idx.info > '6.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2911.59, + "Total Cost": 2911.60, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 151.059, + "Actual Total Time": 170.789, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2911.53, + "Total Cost": 2911.54, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 147.990, + "Actual Total Time": 170.750, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2910.53, + "Total Cost": 2910.54, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 134.865, + "Actual Total Time": 134.882, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 131.265, + "Actual Total Time": 131.278, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 137.990, + "Actual Total Time": 138.008, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 131.946, + "Actual Total Time": 131.958, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 134.704, + "Actual Total Time": 134.726, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 132.086, + "Actual Total Time": 132.104, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 132.116, + "Actual Total Time": 132.130, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 131.873, + "Actual Total Time": 131.886, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1586.70, + "Total Cost": 2910.37, + "Plan Rows": 21, + "Plan Width": 41, + "Actual Startup Time": 129.123, + "Actual Total Time": 134.844, + "Actual Rows": 18, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 120.267, + "Actual Total Time": 131.251, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 137.984, + "Actual Total Time": 138.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 112.551, + "Actual Total Time": 131.918, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 131.109, + "Actual Total Time": 134.633, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 132.077, + "Actual Total Time": 132.094, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 132.111, + "Actual Total Time": 132.124, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 119.952, + "Actual Total Time": 131.771, + "Actual Rows": 76, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1586.28, + "Total Cost": 2900.50, + "Plan Rows": 21, + "Plan Width": 26, + "Actual Startup Time": 129.094, + "Actual Total Time": 134.502, + "Actual Rows": 19, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "mc.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 120.212, + "Actual Total Time": 131.040, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 137.983, + "Actual Total Time": 138.000, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 112.497, + "Actual Total Time": 131.594, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 131.055, + "Actual Total Time": 133.697, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 132.075, + "Actual Total Time": 132.092, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 132.110, + "Actual Total Time": 132.122, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 119.893, + "Actual Total Time": 130.509, + "Actual Rows": 76, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1586.14, + "Total Cost": 2899.60, + "Plan Rows": 21, + "Plan Width": 30, + "Actual Startup Time": 129.055, + "Actual Total Time": 134.424, + "Actual Rows": 19, + "Actual Loops": 8, + "Output": ["t.title", "mi_idx.info", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 120.136, + "Actual Total Time": 130.944, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 137.983, + "Actual Total Time": 137.998, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 112.414, + "Actual Total Time": 131.472, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 130.968, + "Actual Total Time": 133.502, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 132.074, + "Actual Total Time": 132.090, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 132.109, + "Actual Total Time": 132.121, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 119.828, + "Actual Total Time": 130.307, + "Actual Rows": 76, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1585.71, + "Total Cost": 2899.03, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 127.371, + "Actual Total Time": 134.264, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 120.075, + "Actual Total Time": 130.806, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 137.982, + "Actual Total Time": 137.996, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 112.354, + "Actual Total Time": 130.996, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 130.903, + "Actual Total Time": 133.244, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 132.073, + "Actual Total Time": 132.088, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 118.881, + "Actual Total Time": 132.040, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 119.770, + "Actual Total Time": 129.987, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1585.57, + "Total Cost": 2898.84, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 127.358, + "Actual Total Time": 134.240, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 120.057, + "Actual Total Time": 130.778, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 137.982, + "Actual Total Time": 137.995, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 112.337, + "Actual Total Time": 130.934, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 130.886, + "Actual Total Time": 133.215, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 132.072, + "Actual Total Time": 132.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 118.861, + "Actual Total Time": 132.019, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 119.738, + "Actual Total Time": 129.941, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1585.14, + "Total Cost": 2898.34, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 122.608, + "Actual Total Time": 134.109, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 119.982, + "Actual Total Time": 130.663, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 137.981, + "Actual Total Time": 137.993, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 112.257, + "Actual Total Time": 130.638, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 130.811, + "Actual Total Time": 133.110, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 120.549, + "Actual Total Time": 131.915, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 118.749, + "Actual Total Time": 131.904, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 108.622, + "Actual Total Time": 129.786, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1585.00, + "Total Cost": 2898.00, + "Plan Rows": 2, + "Plan Width": 37, + "Actual Startup Time": 118.905, + "Actual Total Time": 134.034, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 114.668, + "Actual Total Time": 130.578, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 137.980, + "Actual Total Time": 137.991, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 112.205, + "Actual Total Time": 130.513, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 106.763, + "Actual Total Time": 133.000, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 120.478, + "Actual Total Time": 131.842, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 118.687, + "Actual Total Time": 131.833, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 108.575, + "Actual Total Time": 129.709, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1584.57, + "Total Cost": 2859.51, + "Plan Rows": 39, + "Plan Width": 29, + "Actual Startup Time": 109.662, + "Actual Total Time": 127.043, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 105.929, + "Actual Total Time": 122.666, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 112.727, + "Actual Total Time": 133.441, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 107.486, + "Actual Total Time": 124.202, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 106.648, + "Actual Total Time": 122.772, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 109.108, + "Actual Total Time": 120.554, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 107.632, + "Actual Total Time": 128.094, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 106.657, + "Actual Total Time": 124.379, + "Actual Rows": 33, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1583.50, + "Total Cost": 2858.26, + "Plan Rows": 45, + "Plan Width": 33, + "Actual Startup Time": 109.512, + "Actual Total Time": 126.835, + "Actual Rows": 39, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 105.806, + "Actual Total Time": 122.477, + "Actual Rows": 56, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 112.638, + "Actual Total Time": 133.303, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 107.345, + "Actual Total Time": 123.994, + "Actual Rows": 56, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 106.501, + "Actual Total Time": 122.546, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 108.959, + "Actual Total Time": 120.354, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 107.490, + "Actual Total Time": 127.897, + "Actual Rows": 45, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 106.533, + "Actual Total Time": 124.205, + "Actual Rows": 41, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1583.07, + "Total Cost": 2606.40, + "Plan Rows": 547, + "Plan Width": 8, + "Actual Startup Time": 108.394, + "Actual Total Time": 115.745, + "Actual Rows": 479, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.840, + "Actual Total Time": 111.522, + "Actual Rows": 530, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.582, + "Actual Total Time": 120.600, + "Actual Rows": 350, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 106.936, + "Actual Total Time": 113.236, + "Actual Rows": 538, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.861, + "Actual Total Time": 112.955, + "Actual Rows": 477, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 105.941, + "Actual Total Time": 111.822, + "Actual Rows": 203, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 105.897, + "Actual Total Time": 114.548, + "Actual Rows": 608, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 105.832, + "Actual Total Time": 113.157, + "Actual Rows": 516, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1582.02, + "Total Cost": 2600.54, + "Plan Rows": 888, + "Plan Width": 12, + "Actual Startup Time": 108.367, + "Actual Total Time": 115.170, + "Actual Rows": 777, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 104.827, + "Actual Total Time": 111.017, + "Actual Rows": 825, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 111.552, + "Actual Total Time": 119.822, + "Actual Rows": 621, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 106.906, + "Actual Total Time": 112.706, + "Actual Rows": 822, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.830, + "Actual Total Time": 112.434, + "Actual Rows": 788, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 105.890, + "Actual Total Time": 111.329, + "Actual Rows": 349, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 105.883, + "Actual Total Time": 113.929, + "Actual Rows": 965, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 105.817, + "Actual Total Time": 112.641, + "Actual Rows": 852, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1580.98, + "Total Cost": 2584.03, + "Plan Rows": 2861, + "Plan Width": 16, + "Actual Startup Time": 96.698, + "Actual Total Time": 113.786, + "Actual Rows": 2503, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 93.342, + "Actual Total Time": 109.647, + "Actual Rows": 2980, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 100.051, + "Actual Total Time": 118.093, + "Actual Rows": 1633, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 94.332, + "Actual Total Time": 111.865, + "Actual Rows": 1279, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.249, + "Actual Total Time": 111.015, + "Actual Rows": 3225, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 94.445, + "Actual Total Time": 110.016, + "Actual Rows": 1432, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 94.309, + "Actual Total Time": 112.437, + "Actual Rows": 3155, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 94.265, + "Actual Total Time": 111.275, + "Actual Rows": 3124, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.024, + "Actual Total Time": 4.960, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 5.154, + "Actual Rows": 19610, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 5.758, + "Actual Rows": 11285, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 2.365, + "Actual Rows": 8546, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 4.870, + "Actual Rows": 21460, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 5.093, + "Actual Rows": 9805, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 5.769, + "Actual Rows": 21830, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 5.517, + "Actual Rows": 21460, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1514.74, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 96.421, + "Actual Total Time": 96.423, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2016, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 93.113, + "Actual Total Time": 93.115, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 99.873, + "Actual Total Time": 99.875, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 94.137, + "Actual Total Time": 94.138, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.134, + "Actual Total Time": 94.137, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 94.224, + "Actual Total Time": 94.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 94.145, + "Actual Total Time": 94.146, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 94.092, + "Actual Total Time": 94.094, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 18.732, + "Actual Total Time": 40.791, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.315, + "Actual Total Time": 28.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.215, + "Actual Total Time": 47.179, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.367, + "Actual Total Time": 29.368, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.619, + "Actual Total Time": 79.384, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.488, + "Actual Total Time": 29.489, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.389, + "Actual Total Time": 29.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.361, + "Actual Total Time": 29.362, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 18.680, + "Actual Total Time": 18.691, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.314, + "Actual Total Time": 28.314, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.098, + "Actual Total Time": 0.108, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.366, + "Actual Total Time": 29.366, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.404, + "Actual Total Time": 0.411, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 29.487, + "Actual Total Time": 29.487, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.388, + "Actual Total Time": 29.388, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 29.361, + "Actual Total Time": 29.361, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.59, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.130, + "Actual Total Time": 54.546, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.111, + "Actual Total Time": 43.707, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.208, + "Actual Total Time": 72.786, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'crew'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.008, + "Actual Rows": 3, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text <> 'complete+verified'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 3832, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 530 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 350 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 538 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 477 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 203 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 608 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 516 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.024, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.186, + "Actual Total Time": 0.203, + "Actual Rows": 0, + "Actual Loops": 273, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Germany,Swedish,German}'::text[]))", + "Rows Removed by Filter": 109, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.180, + "Actual Total Time": 0.182, + "Actual Rows": 0, + "Actual Loops": 43 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.282, + "Actual Total Time": 0.282, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.116, + "Actual Rows": 0, + "Actual Loops": 54 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.202, + "Actual Total Time": 0.242, + "Actual Rows": 0, + "Actual Loops": 42 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.623, + "Actual Total Time": 0.624, + "Actual Rows": 0, + "Actual Loops": 18 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.096, + "Actual Total Time": 0.097, + "Actual Rows": 0, + "Actual Loops": 38 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.135, + "Actual Total Time": 0.160, + "Actual Rows": 0, + "Actual Loops": 33 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 34, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.066, + "Actual Total Time": 0.066, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 20, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '6.5'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.165, + "Actual Total Time": 0.165, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.108, + "Actual Total Time": 0.109, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 15, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.089, + "Actual Rows": 12, + "Actual Loops": 13, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 17, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.063, + "Actual Rows": 4, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.076, + "Actual Rows": 3, + "Actual Loops": 6 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.111, + "Actual Rows": 24, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.077, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.139, + "Actual Rows": 38, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 150, + "Output": ["ct.id"], + "Cache Key": "mc.company_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 9, + "Cache Hits": 8, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 17, + "Cache Hits": 16, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 48, + "Cache Hits": 47, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 76, + "Cache Hits": 75, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 4, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.065, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.073, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.076, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 150, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 17 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 48 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 76 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3210595597316270705, + "Planning Time": 3844.928, + "Triggers": [ + ], + "Execution Time": 171.287, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -3210595597316270705, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn.name) AS movie_company,
       MIN(mi_idx.info) AS rating,
       MIN(t.title) AS complete_euro_dark_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     company_name AS cn,
     company_type AS ct,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     kind_type AS kt,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind = 'complete'
  AND cn.country_code != '[us]'
  AND it1.info = 'countries'
  AND it2.info = 'rating'
  AND k.keyword IN ('murder',
                    'murder-in-title',
                    'blood',
                    'violence')
  AND kt.kind IN ('movie',
                  'episode')
  AND mc.note NOT LIKE '%(USA)%'
  AND mc.note LIKE '%(200%)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Danish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND mi_idx.info < '8.5'
  AND t.production_year > 2005
  AND kt.id = t.kind_id
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = mc.movie_id
  AND t.id = cc.movie_id
  AND mk.movie_id = mi.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND mk.movie_id = mc.movie_id
  AND mk.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi.movie_id = cc.movie_id
  AND mc.movie_id = mi_idx.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND k.id = mk.keyword_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND ct.id = mc.company_type_id
  AND cn.id = mc.company_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4411.63, + "Total Cost": 4411.64, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2257.398, + "Actual Total Time": 2291.829, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn.name)", "min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4411.56, + "Total Cost": 4411.57, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 1688.224, + "Actual Total Time": 2291.795, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn.name))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4410.56, + "Total Cost": 4410.57, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 750.548, + "Actual Total Time": 750.563, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(cn.name)", "PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1948.112, + "Actual Total Time": 1948.119, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.526, + "Actual Total Time": 22.539, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2246.765, + "Actual Total Time": 2246.772, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.603, + "Actual Total Time": 23.620, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.336, + "Actual Total Time": 22.347, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.448, + "Actual Total Time": 30.461, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.603, + "Actual Total Time": 23.620, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.35, + "Total Cost": 4401.59, + "Plan Rows": 1196, + "Plan Width": 41, + "Actual Startup Time": 25.506, + "Actual Total Time": 749.686, + "Actual Rows": 1047, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.345, + "Actual Total Time": 1945.640, + "Actual Rows": 2983, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.519, + "Actual Total Time": 22.531, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 39.185, + "Actual Total Time": 2244.299, + "Actual Rows": 2848, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.595, + "Actual Total Time": 23.611, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.330, + "Actual Total Time": 22.341, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.443, + "Actual Total Time": 30.455, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.595, + "Actual Total Time": 23.611, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.30, + "Total Cost": 4393.00, + "Plan Rows": 1397, + "Plan Width": 45, + "Actual Startup Time": 24.989, + "Actual Total Time": 748.228, + "Actual Rows": 1222, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title", "cc.subject_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 29.040, + "Actual Total Time": 1942.642, + "Actual Rows": 3516, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.846, + "Actual Total Time": 21.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.883, + "Actual Total Time": 2241.373, + "Actual Rows": 3436, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.843, + "Actual Total Time": 22.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.708, + "Actual Total Time": 21.717, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.169, + "Actual Total Time": 30.179, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.842, + "Actual Total Time": 22.856, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.17, + "Total Cost": 4392.83, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 24.975, + "Actual Total Time": 740.871, + "Actual Rows": 2090, + "Actual Loops": 8, + "Output": ["cn.name", "mi_idx.info", "t.title", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 28.991, + "Actual Total Time": 1922.007, + "Actual Rows": 5955, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.845, + "Actual Total Time": 21.854, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.844, + "Actual Total Time": 2219.918, + "Actual Rows": 5920, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.841, + "Actual Total Time": 22.854, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.707, + "Actual Total Time": 21.715, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.168, + "Actual Total Time": 30.177, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.841, + "Actual Total Time": 22.854, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.75, + "Total Cost": 4392.38, + "Plan Rows": 1, + "Plan Width": 61, + "Actual Startup Time": 18.734, + "Actual Total Time": 722.785, + "Actual Rows": 2686, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id", "mc.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.839, + "Actual Total Time": 1870.814, + "Actual Rows": 7787, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.844, + "Actual Total Time": 21.853, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.114, + "Actual Total Time": 2166.358, + "Actual Rows": 7733, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.840, + "Actual Total Time": 22.852, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.706, + "Actual Total Time": 21.714, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.167, + "Actual Total Time": 30.175, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.840, + "Actual Total Time": 22.852, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.61, + "Total Cost": 4392.20, + "Plan Rows": 1, + "Plan Width": 65, + "Actual Startup Time": 18.718, + "Actual Total Time": 709.697, + "Actual Rows": 3076, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id", "mc.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.785, + "Actual Total Time": 1833.658, + "Actual Rows": 8822, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.843, + "Actual Total Time": 21.852, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 11.066, + "Actual Total Time": 2127.637, + "Actual Rows": 8960, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.840, + "Actual Total Time": 22.850, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.705, + "Actual Total Time": 21.712, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.167, + "Actual Total Time": 30.174, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.839, + "Actual Total Time": 22.850, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.18, + "Total Cost": 4391.05, + "Plan Rows": 1, + "Plan Width": 57, + "Actual Startup Time": 18.285, + "Actual Total Time": 216.149, + "Actual Rows": 2928, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.452, + "Actual Total Time": 434.442, + "Actual Rows": 8515, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.843, + "Actual Total Time": 21.850, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.990, + "Actual Total Time": 713.811, + "Actual Rows": 8643, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.839, + "Actual Total Time": 22.849, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.704, + "Actual Total Time": 21.711, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.166, + "Actual Total Time": 30.173, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.838, + "Actual Total Time": 22.848, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.05, + "Total Cost": 4390.90, + "Plan Rows": 1, + "Plan Width": 61, + "Actual Startup Time": 18.269, + "Actual Total Time": 207.777, + "Actual Rows": 2928, + "Actual Loops": 8, + "Output": ["cn.name", "mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.398, + "Actual Total Time": 410.442, + "Actual Rows": 8515, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.842, + "Actual Total Time": 21.849, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.932, + "Actual Total Time": 688.680, + "Actual Rows": 8643, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.838, + "Actual Total Time": 22.847, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.704, + "Actual Total Time": 21.709, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.165, + "Actual Total Time": 30.171, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.837, + "Actual Total Time": 22.847, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.63, + "Total Cost": 4390.43, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 18.242, + "Actual Total Time": 177.413, + "Actual Rows": 3164, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id", "mc.movie_id", "mc.company_type_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.306, + "Actual Total Time": 324.018, + "Actual Rows": 9224, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.841, + "Actual Total Time": 21.848, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.853, + "Actual Total Time": 598.760, + "Actual Rows": 9367, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.837, + "Actual Total Time": 22.845, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.703, + "Actual Total Time": 21.708, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.164, + "Actual Total Time": 30.170, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.836, + "Actual Total Time": 22.844, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.20, + "Total Cost": 4381.41, + "Plan Rows": 16, + "Plan Width": 34, + "Actual Startup Time": 15.708, + "Actual Total Time": 147.945, + "Actual Rows": 744, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(t.kind_id = kt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.603, + "Actual Total Time": 247.065, + "Actual Rows": 1969, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.840, + "Actual Total Time": 21.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.347, + "Actual Total Time": 505.527, + "Actual Rows": 2608, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.836, + "Actual Total Time": 22.843, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.702, + "Actual Total Time": 21.706, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.164, + "Actual Total Time": 30.168, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.835, + "Actual Total Time": 22.843, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 4380.11, + "Plan Rows": 55, + "Plan Width": 38, + "Actual Startup Time": 15.554, + "Actual Total Time": 147.277, + "Actual Rows": 909, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "t.title", "t.kind_id", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.350, + "Actual Total Time": 245.305, + "Actual Rows": 2379, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.829, + "Actual Total Time": 21.833, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.643, + "Actual Total Time": 503.345, + "Actual Rows": 3142, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.824, + "Actual Total Time": 22.830, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.691, + "Actual Total Time": 21.694, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.158, + "Actual Total Time": 30.162, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.824, + "Actual Total Time": 22.830, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 4317.03, + "Plan Rows": 137, + "Plan Width": 13, + "Actual Startup Time": 15.527, + "Actual Total Time": 100.579, + "Actual Rows": 3975, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.288, + "Actual Total Time": 155.823, + "Actual Rows": 7453, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.828, + "Actual Total Time": 21.831, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.551, + "Actual Total Time": 315.288, + "Actual Rows": 16285, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.823, + "Actual Total Time": 22.828, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.691, + "Actual Total Time": 21.693, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.157, + "Actual Total Time": 30.161, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.824, + "Actual Total Time": 22.828, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 4273.03, + "Plan Rows": 15478, + "Plan Width": 17, + "Actual Startup Time": 15.502, + "Actual Total Time": 95.832, + "Actual Rows": 11826, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.263, + "Actual Total Time": 146.941, + "Actual Rows": 22284, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.814, + "Actual Total Time": 21.815, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.526, + "Actual Total Time": 296.099, + "Actual Rows": 48281, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.810, + "Actual Total Time": 22.812, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.677, + "Actual Total Time": 21.679, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.150, + "Actual Total Time": 30.152, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.810, + "Actual Total Time": 22.812, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1514.74, + "Plan Rows": 5299, + "Plan Width": 4, + "Actual Startup Time": 15.470, + "Actual Total Time": 30.346, + "Actual Rows": 4636, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.185, + "Actual Total Time": 30.799, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.813, + "Actual Total Time": 21.814, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.431, + "Actual Total Time": 55.310, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.809, + "Actual Total Time": 22.810, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.676, + "Actual Total Time": 21.677, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.150, + "Actual Total Time": 30.151, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.809, + "Actual Total Time": 22.810, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1236.51, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 15.430, + "Actual Total Time": 15.436, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,murder-in-title,blood,violence}'::text[]))", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.088, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.812, + "Actual Total Time": 21.812, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.313, + "Actual Total Time": 0.319, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.808, + "Actual Total Time": 22.809, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.676, + "Actual Total Time": 21.676, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 30.149, + "Actual Total Time": 30.149, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 22.808, + "Actual Total Time": 22.808, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 154.59, + "Plan Rows": 12364, + "Plan Width": 8, + "Actual Startup Time": 0.101, + "Actual Total Time": 36.405, + "Actual Rows": 12364, + "Actual Loops": 3, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.104, + "Actual Total Time": 28.433, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.114, + "Actual Total Time": 49.810, + "Actual Rows": 19528, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 37091, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info < '8.5'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 8337 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 19528 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 31800, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 7453 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 16285 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["kt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.023, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt.id"], + "Filter": "((kt.kind)::text = ANY ('{movie,episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 3, + "Plan Width": 12, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.037, + "Actual Rows": 4, + "Actual Loops": 5949, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note !~~ '%(USA)%'::text) AND (mc.note ~~ '%(200%)%'::text))", + "Rows Removed by Filter": 8, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.037, + "Actual Rows": 5, + "Actual Loops": 1969 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.034, + "Actual Rows": 4, + "Actual Loops": 2608 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 25316, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 9224 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 9367 + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_type_pkey", + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 23425, + "Output": ["ct.id"], + "Index Cond": "(ct.id = mc.company_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 8515 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 8643 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.14, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.168, + "Actual Rows": 1, + "Actual Loops": 23425, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Danish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 180, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.081, + "Actual Total Time": 0.163, + "Actual Rows": 1, + "Actual Loops": 8515 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.163, + "Actual Rows": 1, + "Actual Loops": 8643 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 24612, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'countries'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 8822 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 8960 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 21489, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 7787 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 7733 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 16719, + "Output": ["cct2.id", "cct2.kind"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 5955 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 5920 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.072, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5372730239182956237, + "Planning Time": 4079.259, + "Triggers": [ + ], + "Execution Time": 2292.542, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 5372730239182956237, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_animation
FROM aka_name AS an,
     complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     info_type AS it3,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     person_info AS pi,
     role_type AS rt,
     title AS t
WHERE cct1.kind ='cast'
  AND cct2.kind ='complete+verified'
  AND chn.name = 'Queen'
  AND ci.note IN ('(voice)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND it3.info = 'trivia'
  AND k.keyword = 'computer-animation'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.title = 'Shrek 2'
  AND t.production_year BETWEEN 2000 AND 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND n.id = pi.person_id
  AND ci.person_id = pi.person_id
  AND it3.id = pi.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1390.62, + "Total Cost": 1390.63, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 293.354, + "Actual Total Time": 293.568, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1390.56, + "Total Cost": 1390.57, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 293.325, + "Actual Total Time": 293.555, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1389.56, + "Total Cost": 1389.57, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 42.885, + "Actual Total Time": 42.898, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.940, + "Actual Total Time": 11.951, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.491, + "Actual Total Time": 2.506, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.662, + "Actual Total Time": 4.674, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.285, + "Actual Total Time": 8.298, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.813, + "Actual Total Time": 4.828, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.310, + "Actual Total Time": 13.324, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.484, + "Actual Total Time": 5.495, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.42, + "Total Cost": 1387.82, + "Plan Rows": 231, + "Plan Width": 48, + "Actual Startup Time": 33.072, + "Actual Total Time": 42.754, + "Actual Rows": 202, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.935, + "Actual Total Time": 11.946, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.484, + "Actual Total Time": 2.498, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.658, + "Actual Total Time": 4.669, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.280, + "Actual Total Time": 8.292, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.807, + "Actual Total Time": 4.821, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.306, + "Actual Total Time": 13.319, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.478, + "Actual Total Time": 5.489, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.99, + "Total Cost": 1387.35, + "Plan Rows": 1, + "Plan Width": 51, + "Actual Startup Time": 33.066, + "Actual Total Time": 41.358, + "Actual Rows": 202, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi.movie_id", "ci.movie_id", "chn.name", "n.name", "mc.movie_id"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.934, + "Actual Total Time": 11.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.483, + "Actual Total Time": 2.497, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.657, + "Actual Total Time": 4.668, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.280, + "Actual Total Time": 8.291, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.806, + "Actual Total Time": 4.820, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.305, + "Actual Total Time": 13.318, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.477, + "Actual Total Time": 5.487, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.57, + "Total Cost": 1386.85, + "Plan Rows": 1, + "Plan Width": 63, + "Actual Startup Time": 33.061, + "Actual Total Time": 40.849, + "Actual Rows": 68, + "Actual Loops": 8, + "Output": ["pi.person_id", "mk.movie_id", "cc.movie_id", "mi.movie_id", "ci.movie_id", "ci.person_id", "chn.name", "n.name", "n.id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.934, + "Actual Total Time": 11.943, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.482, + "Actual Total Time": 2.495, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.657, + "Actual Total Time": 4.667, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.279, + "Actual Total Time": 8.290, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.805, + "Actual Total Time": 4.818, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.304, + "Actual Total Time": 13.316, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.477, + "Actual Total Time": 5.486, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.15, + "Total Cost": 1386.41, + "Plan Rows": 1, + "Plan Width": 67, + "Actual Startup Time": 33.056, + "Actual Total Time": 38.954, + "Actual Rows": 297, + "Actual Loops": 8, + "Output": ["pi.person_id", "mk.movie_id", "cc.movie_id", "mi.movie_id", "ci.movie_id", "ci.person_id", "chn.name", "n.name", "n.id", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.933, + "Actual Total Time": 11.942, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.481, + "Actual Total Time": 2.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.656, + "Actual Total Time": 4.665, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.279, + "Actual Total Time": 8.289, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.804, + "Actual Total Time": 4.816, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.304, + "Actual Total Time": 13.315, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.476, + "Actual Total Time": 5.485, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.72, + "Total Cost": 1385.63, + "Plan Rows": 1, + "Plan Width": 59, + "Actual Startup Time": 33.051, + "Actual Total Time": 38.633, + "Actual Rows": 14, + "Actual Loops": 8, + "Output": ["pi.person_id", "mk.movie_id", "cc.movie_id", "mi.movie_id", "ci.movie_id", "ci.person_id", "chn.name", "n.name", "n.id"], + "Inner Unique": true, + "Join Filter": "(ci.person_id = n.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.933, + "Actual Total Time": 11.941, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.480, + "Actual Total Time": 2.492, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.656, + "Actual Total Time": 4.664, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.278, + "Actual Total Time": 8.288, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.804, + "Actual Total Time": 4.815, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.303, + "Actual Total Time": 13.314, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.476, + "Actual Total Time": 5.484, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.29, + "Total Cost": 1385.14, + "Plan Rows": 1, + "Plan Width": 40, + "Actual Startup Time": 33.042, + "Actual Total Time": 38.518, + "Actual Rows": 14, + "Actual Loops": 8, + "Output": ["pi.person_id", "mk.movie_id", "cc.movie_id", "mi.movie_id", "ci.movie_id", "ci.person_id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.932, + "Actual Total Time": 11.940, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.479, + "Actual Total Time": 2.490, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.655, + "Actual Total Time": 4.663, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.278, + "Actual Total Time": 8.287, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.803, + "Actual Total Time": 4.813, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.302, + "Actual Total Time": 13.312, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.475, + "Actual Total Time": 5.483, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 1384.96, + "Plan Rows": 1, + "Plan Width": 44, + "Actual Startup Time": 32.965, + "Actual Total Time": 38.371, + "Actual Rows": 41, + "Actual Loops": 8, + "Output": ["pi.person_id", "pi.info_type_id", "mk.movie_id", "cc.movie_id", "mi.movie_id", "ci.movie_id", "ci.person_id", "chn.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.931, + "Actual Total Time": 11.939, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.478, + "Actual Total Time": 2.488, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.654, + "Actual Total Time": 4.661, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.277, + "Actual Total Time": 8.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.802, + "Actual Total Time": 4.811, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.302, + "Actual Total Time": 13.311, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.474, + "Actual Total Time": 5.481, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1384.43, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 8.625, + "Actual Total Time": 36.304, + "Actual Rows": 2217, + "Actual Loops": 8, + "Output": ["pi.person_id", "pi.info_type_id", "mk.movie_id", "cc.movie_id", "mi.movie_id", "ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.931, + "Actual Total Time": 11.937, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.477, + "Actual Total Time": 2.486, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.654, + "Actual Total Time": 4.659, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.277, + "Actual Total Time": 8.284, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.801, + "Actual Total Time": 4.809, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.301, + "Actual Total Time": 13.309, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.474, + "Actual Total Time": 5.480, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1384.11, + "Plan Rows": 2, + "Plan Width": 36, + "Actual Startup Time": 8.621, + "Actual Total Time": 28.164, + "Actual Rows": 2586, + "Actual Loops": 8, + "Output": ["pi.person_id", "pi.info_type_id", "mk.movie_id", "cc.movie_id", "cc.subject_id", "mi.movie_id", "ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.930, + "Actual Total Time": 11.936, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.477, + "Actual Total Time": 2.485, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.653, + "Actual Total Time": 4.658, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.276, + "Actual Total Time": 8.283, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.801, + "Actual Total Time": 4.807, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.300, + "Actual Total Time": 13.307, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.473, + "Actual Total Time": 5.478, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.15, + "Total Cost": 1381.97, + "Plan Rows": 1, + "Plan Width": 28, + "Actual Startup Time": 8.530, + "Actual Total Time": 19.729, + "Actual Rows": 58, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "mi.movie_id", "ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.930, + "Actual Total Time": 11.934, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.476, + "Actual Total Time": 2.483, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.652, + "Actual Total Time": 4.657, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.275, + "Actual Total Time": 8.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.799, + "Actual Total Time": 4.805, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.299, + "Actual Total Time": 13.306, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.472, + "Actual Total Time": 5.477, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.01, + "Total Cost": 1381.79, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 8.452, + "Actual Total Time": 18.744, + "Actual Rows": 259, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "mi.movie_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.929, + "Actual Total Time": 11.933, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.475, + "Actual Total Time": 2.481, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.651, + "Actual Total Time": 4.655, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.275, + "Actual Total Time": 8.280, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.798, + "Actual Total Time": 4.804, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.298, + "Actual Total Time": 13.304, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.472, + "Actual Total Time": 5.476, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.57, + "Total Cost": 1380.07, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 8.385, + "Actual Total Time": 10.332, + "Actual Rows": 9, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.928, + "Actual Total Time": 11.932, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.474, + "Actual Total Time": 2.480, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.651, + "Actual Total Time": 4.654, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.274, + "Actual Total Time": 8.279, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.797, + "Actual Total Time": 4.801, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.298, + "Actual Total Time": 13.302, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.471, + "Actual Total Time": 5.474, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.43, + "Total Cost": 1379.56, + "Plan Rows": 3, + "Plan Width": 20, + "Actual Startup Time": 8.381, + "Actual Total Time": 10.229, + "Actual Rows": 9, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.927, + "Actual Total Time": 11.930, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.473, + "Actual Total Time": 2.478, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.650, + "Actual Total Time": 4.653, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.274, + "Actual Total Time": 8.277, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.796, + "Actual Total Time": 4.800, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.297, + "Actual Total Time": 13.301, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.470, + "Actual Total Time": 5.473, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.99, + "Total Cost": 1375.59, + "Plan Rows": 4, + "Plan Width": 12, + "Actual Startup Time": 8.037, + "Actual Total Time": 9.080, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.927, + "Actual Total Time": 11.929, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.472, + "Actual Total Time": 2.476, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.650, + "Actual Total Time": 4.652, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.273, + "Actual Total Time": 8.276, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.795, + "Actual Total Time": 4.798, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.296, + "Actual Total Time": 13.299, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.469, + "Actual Total Time": 5.472, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.85, + "Total Cost": 1374.84, + "Plan Rows": 13, + "Plan Width": 16, + "Actual Startup Time": 7.689, + "Actual Total Time": 9.047, + "Actual Rows": 11, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.926, + "Actual Total Time": 11.928, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.472, + "Actual Total Time": 2.474, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.649, + "Actual Total Time": 4.650, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.273, + "Actual Total Time": 8.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.795, + "Actual Total Time": 4.796, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.296, + "Actual Total Time": 13.297, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.468, + "Actual Total Time": 5.470, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1348.42, + "Plan Rows": 59, + "Plan Width": 4, + "Actual Startup Time": 7.525, + "Actual Total Time": 8.306, + "Actual Rows": 52, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.926, + "Actual Total Time": 11.927, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.471, + "Actual Total Time": 2.472, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.648, + "Actual Total Time": 4.649, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.272, + "Actual Total Time": 8.273, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.794, + "Actual Total Time": 4.795, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.295, + "Actual Total Time": 13.296, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.468, + "Actual Total Time": 5.469, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.371, + "Actual Total Time": 6.374, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'computer-animation'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.925, + "Actual Total Time": 11.925, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.470, + "Actual Total Time": 2.471, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.648, + "Actual Total Time": 4.648, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.272, + "Actual Total Time": 8.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.793, + "Actual Total Time": 4.793, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.295, + "Actual Total Time": 13.295, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.466, + "Actual Total Time": 5.467, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 414, + "Plan Width": 8, + "Actual Startup Time": 9.225, + "Actual Total Time": 15.278, + "Actual Rows": 414, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 414, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 90, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 88, + "Cache Misses": 2, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.171, + "Actual Total Time": 0.363, + "Actual Rows": 3, + "Actual Loops": 25, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 311, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 70, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.26, + "Plan Rows": 37, + "Plan Width": 16, + "Actual Startup Time": 0.140, + "Actual Total Time": 0.948, + "Actual Rows": 30, + "Actual Loops": 70, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 140, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 2075, + "Output": ["rt.id", "rt.role"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.72, + "Plan Rows": 142, + "Plan Width": 8, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.133, + "Actual Rows": 44, + "Actual Loops": 465, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 20689, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.44, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 17735, + "Output": ["chn.name", "chn.id"], + "Cache Key": "ci.person_role_id", + "Cache Mode": "logical", + "Cache Hits": 17651, + "Cache Misses": 84, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 6, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 84, + "Output": ["chn.name", "chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(chn.name = 'Queen'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it3", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 326, + "Output": ["it3.id", "it3.info"], + "Index Cond": "(it3.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it3.info)::text = 'trivia'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 108, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = pi.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.56, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.017, + "Actual Rows": 22, + "Actual Loops": 108, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 2376, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 3, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 3, + "Actual Loops": 540, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = pi.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 1620, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010) AND (t.title = 'Shrek 2'::text))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 1693774000992751456, + "Planning Time": 5404.238, + "Triggers": [ + ], + "Execution Time": 294.245, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 1693774000992751456, + "JOINS": 16 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_animation
FROM aka_name AS an,
     complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     info_type AS it3,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     person_info AS pi,
     role_type AS rt,
     title AS t
WHERE cct1.kind ='cast'
  AND cct2.kind ='complete+verified'
  AND chn.name = 'Queen'
  AND ci.note IN ('(voice)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND it3.info = 'height'
  AND k.keyword = 'computer-animation'
  AND mi.info LIKE 'USA:%200%'
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.title = 'Shrek 2'
  AND t.production_year BETWEEN 2000 AND 2005
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND n.id = pi.person_id
  AND ci.person_id = pi.person_id
  AND it3.id = pi.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1392.09, + "Total Cost": 1392.10, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 31.621, + "Actual Total Time": 33.910, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1392.03, + "Total Cost": 1392.04, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 30.393, + "Actual Total Time": 33.885, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1391.03, + "Total Cost": 1391.04, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 13.069, + "Actual Total Time": 13.087, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.656, + "Actual Total Time": 16.668, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.687, + "Actual Total Time": 19.703, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.053, + "Actual Total Time": 6.075, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.036, + "Actual Total Time": 15.049, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.066, + "Actual Total Time": 6.086, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.066, + "Actual Total Time": 6.084, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.090, + "Actual Total Time": 6.108, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.15, + "Total Cost": 1391.01, + "Plan Rows": 2, + "Plan Width": 48, + "Actual Startup Time": 11.774, + "Actual Total Time": 13.075, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.644, + "Actual Total Time": 16.656, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.680, + "Actual Total Time": 19.695, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.044, + "Actual Total Time": 6.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.031, + "Actual Total Time": 15.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.056, + "Actual Total Time": 6.075, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.061, + "Actual Total Time": 6.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.083, + "Actual Total Time": 6.100, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.71, + "Total Cost": 1389.95, + "Plan Rows": 2, + "Plan Width": 36, + "Actual Startup Time": 11.766, + "Actual Total Time": 13.063, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.644, + "Actual Total Time": 16.654, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.680, + "Actual Total Time": 19.694, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.043, + "Actual Total Time": 6.062, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.030, + "Actual Total Time": 15.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.055, + "Actual Total Time": 6.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.060, + "Actual Total Time": 6.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.082, + "Actual Total Time": 6.098, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.29, + "Total Cost": 1389.46, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 11.761, + "Actual Total Time": 13.048, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "pi.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.643, + "Actual Total Time": 16.653, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.679, + "Actual Total Time": 19.692, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.042, + "Actual Total Time": 6.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.030, + "Actual Total Time": 15.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.055, + "Actual Total Time": 6.071, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.059, + "Actual Total Time": 6.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.081, + "Actual Total Time": 6.096, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.14, + "Total Cost": 1389.28, + "Plan Rows": 1, + "Plan Width": 52, + "Actual Startup Time": 11.757, + "Actual Total Time": 13.041, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mi.info_type_id", "pi.person_id"], + "Inner Unique": true, + "Hash Cond": "(pi.info_type_id = it3.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.643, + "Actual Total Time": 16.652, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.679, + "Actual Total Time": 19.691, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.041, + "Actual Total Time": 6.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.030, + "Actual Total Time": 15.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.054, + "Actual Total Time": 6.069, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.058, + "Actual Total Time": 6.073, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.080, + "Actual Total Time": 6.093, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.29, + "Total Cost": 1387.12, + "Plan Rows": 116, + "Plan Width": 56, + "Actual Startup Time": 11.558, + "Actual Total Time": 12.828, + "Actual Rows": 102, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mi.info_type_id", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.547, + "Actual Total Time": 16.554, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.571, + "Actual Total Time": 19.581, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.870, + "Actual Total Time": 5.884, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.939, + "Actual Total Time": 14.948, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.857, + "Actual Total Time": 5.869, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.890, + "Actual Total Time": 5.903, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.886, + "Actual Total Time": 5.898, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.86, + "Total Cost": 1384.36, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 11.551, + "Actual Total Time": 12.671, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.546, + "Actual Total Time": 16.553, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.571, + "Actual Total Time": 19.580, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.869, + "Actual Total Time": 5.882, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.939, + "Actual Total Time": 14.946, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.856, + "Actual Total Time": 5.867, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.889, + "Actual Total Time": 5.901, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.885, + "Actual Total Time": 5.896, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.43, + "Total Cost": 1383.43, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 11.531, + "Actual Total Time": 12.369, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.545, + "Actual Total Time": 16.552, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.570, + "Actual Total Time": 19.578, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.868, + "Actual Total Time": 5.880, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.938, + "Actual Total Time": 14.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.855, + "Actual Total Time": 5.865, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.888, + "Actual Total Time": 5.899, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.884, + "Actual Total Time": 5.894, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.28, + "Total Cost": 1383.25, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 11.527, + "Actual Total Time": 12.363, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.544, + "Actual Total Time": 16.550, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.569, + "Actual Total Time": 19.576, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.867, + "Actual Total Time": 5.877, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.938, + "Actual Total Time": 14.944, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.854, + "Actual Total Time": 5.863, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.888, + "Actual Total Time": 5.897, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.883, + "Actual Total Time": 5.892, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1383.08, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 11.524, + "Actual Total Time": 12.357, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.544, + "Actual Total Time": 16.549, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.569, + "Actual Total Time": 19.575, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.866, + "Actual Total Time": 5.874, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.937, + "Actual Total Time": 14.942, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.853, + "Actual Total Time": 5.861, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.887, + "Actual Total Time": 5.894, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.882, + "Actual Total Time": 5.889, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.00, + "Total Cost": 1382.91, + "Plan Rows": 1, + "Plan Width": 76, + "Actual Startup Time": 11.519, + "Actual Total Time": 12.349, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Join Filter": "(t.id = cc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.543, + "Actual Total Time": 16.547, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.568, + "Actual Total Time": 19.573, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.865, + "Actual Total Time": 5.872, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.936, + "Actual Total Time": 14.940, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.852, + "Actual Total Time": 5.859, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.886, + "Actual Total Time": 5.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.881, + "Actual Total Time": 5.887, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.58, + "Total Cost": 1382.46, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 11.510, + "Actual Total Time": 12.332, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.543, + "Actual Total Time": 16.546, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.568, + "Actual Total Time": 19.572, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.864, + "Actual Total Time": 5.870, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.936, + "Actual Total Time": 14.939, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.851, + "Actual Total Time": 5.857, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.885, + "Actual Total Time": 5.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.880, + "Actual Total Time": 5.885, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.16, + "Total Cost": 1381.14, + "Plan Rows": 3, + "Plan Width": 68, + "Actual Startup Time": 11.506, + "Actual Total Time": 12.264, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id", "mc.movie_id", "mc.company_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.542, + "Actual Total Time": 16.545, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.567, + "Actual Total Time": 19.571, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.863, + "Actual Total Time": 5.869, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.935, + "Actual Total Time": 14.939, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.851, + "Actual Total Time": 5.855, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.884, + "Actual Total Time": 5.888, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.879, + "Actual Total Time": 5.884, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1380.36, + "Plan Rows": 1, + "Plan Width": 60, + "Actual Startup Time": 11.500, + "Actual Total Time": 12.249, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.541, + "Actual Total Time": 16.543, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.566, + "Actual Total Time": 19.569, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.862, + "Actual Total Time": 5.866, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.935, + "Actual Total Time": 14.937, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.849, + "Actual Total Time": 5.853, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.883, + "Actual Total Time": 5.887, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.878, + "Actual Total Time": 5.882, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1377.65, + "Plan Rows": 5, + "Plan Width": 41, + "Actual Startup Time": 11.391, + "Actual Total Time": 12.122, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.540, + "Actual Total Time": 16.542, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.565, + "Actual Total Time": 19.568, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.861, + "Actual Total Time": 5.865, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.934, + "Actual Total Time": 14.936, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.848, + "Actual Total Time": 5.852, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.882, + "Actual Total Time": 5.885, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.878, + "Actual Total Time": 5.880, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1375.92, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 11.382, + "Actual Total Time": 11.891, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.540, + "Actual Total Time": 16.541, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.565, + "Actual Total Time": 19.567, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.860, + "Actual Total Time": 5.863, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.933, + "Actual Total Time": 14.935, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.847, + "Actual Total Time": 5.850, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.881, + "Actual Total Time": 5.883, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.877, + "Actual Total Time": 5.879, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1348.42, + "Plan Rows": 59, + "Plan Width": 4, + "Actual Startup Time": 9.333, + "Actual Total Time": 9.746, + "Actual Rows": 52, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.539, + "Actual Total Time": 16.540, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.564, + "Actual Total Time": 19.565, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.859, + "Actual Total Time": 5.861, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.933, + "Actual Total Time": 14.934, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.847, + "Actual Total Time": 5.848, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.880, + "Actual Total Time": 5.881, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.876, + "Actual Total Time": 5.877, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 9.324, + "Actual Total Time": 9.331, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'computer-animation'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.538, + "Actual Total Time": 16.538, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.563, + "Actual Total Time": 19.564, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.858, + "Actual Total Time": 5.859, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.932, + "Actual Total Time": 14.933, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.845, + "Actual Total Time": 5.846, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.878, + "Actual Total Time": 5.879, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.875, + "Actual Total Time": 5.875, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 414, + "Plan Width": 8, + "Actual Startup Time": 0.060, + "Actual Total Time": 3.072, + "Actual Rows": 414, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 414, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2005) AND (t.title = 'Shrek 2'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.26, + "Plan Rows": 38, + "Plan Width": 16, + "Actual Startup Time": 0.056, + "Actual Total Time": 1.802, + "Actual Rows": 38, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 191, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 38, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.083, + "Actual Rows": 22, + "Actual Loops": 1, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 22, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["cct1.id"], + "Cache Key": "cc.subject_id", + "Cache Mode": "logical", + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["cct2.id"], + "Cache Key": "cc.status_id", + "Cache Mode": "logical", + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Index Cond": "(cct2.id = cc.status_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["rt.id"], + "Cache Key": "ci.role_id", + "Cache Mode": "logical", + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_type_pkey", + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Index Cond": "(rt.id = ci.role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.121, + "Actual Total Time": 0.478, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info ~~ 'USA:%200%'::text)", + "Rows Removed by Filter": 456, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.72, + "Plan Rows": 163, + "Plan Width": 8, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.151, + "Actual Rows": 163, + "Actual Loops": 5, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it3.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.087, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.086, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it3", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it3.id"], + "Filter": "((it3.info)::text = 'height'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 5, + "Output": ["it.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 4, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 5, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.44, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 15, + "Output": ["chn.name", "chn.id"], + "Cache Key": "ci.person_role_id", + "Cache Mode": "logical", + "Cache Hits": 14, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["chn.name", "chn.id"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(chn.name = 'Queen'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6571914703387389993, + "Planning Time": 5325.342, + "Triggers": [ + ], + "Execution Time": 34.699, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6571914703387389993, + "JOINS": 16 + } + ] (1 row)
SELECT MIN(chn.name) AS voiced_char,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS voiced_animation
FROM aka_name AS an,
     complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     info_type AS it,
     info_type AS it3,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_keyword AS mk,
     name AS n,
     person_info AS pi,
     role_type AS rt,
     title AS t
WHERE cct1.kind ='cast'
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND it.info = 'release dates'
  AND it3.info = 'trivia'
  AND k.keyword = 'computer-animation'
  AND mi.info IS NOT NULL
  AND (mi.info LIKE 'Japan:%200%'
       OR mi.info LIKE 'USA:%200%')
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2000 AND 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND mc.movie_id = ci.movie_id
  AND mc.movie_id = mi.movie_id
  AND mc.movie_id = mk.movie_id
  AND mc.movie_id = cc.movie_id
  AND mi.movie_id = ci.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND cn.id = mc.company_id
  AND it.id = mi.info_type_id
  AND n.id = ci.person_id
  AND rt.id = ci.role_id
  AND n.id = an.person_id
  AND ci.person_id = an.person_id
  AND chn.id = ci.person_role_id
  AND n.id = pi.person_id
  AND ci.person_id = pi.person_id
  AND it3.id = pi.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1551.12, + "Total Cost": 1551.13, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1552.773, + "Actual Total Time": 1553.073, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1551.06, + "Total Cost": 1551.07, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 1552.753, + "Actual Total Time": 1553.062, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1550.06, + "Total Cost": 1550.07, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 200.335, + "Actual Total Time": 200.349, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.589, + "Actual Total Time": 11.601, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.611, + "Actual Total Time": 11.623, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.422, + "Actual Total Time": 3.439, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.935, + "Actual Total Time": 3.952, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.117, + "Actual Total Time": 13.129, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.465, + "Actual Total Time": 3.481, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.993, + "Actual Total Time": 4.009, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.28, + "Total Cost": 1532.59, + "Plan Rows": 2330, + "Plan Width": 48, + "Actual Startup Time": 50.330, + "Actual Total Time": 199.068, + "Actual Rows": 2038, + "Actual Loops": 8, + "Output": ["chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.583, + "Actual Total Time": 11.595, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.607, + "Actual Total Time": 11.619, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.415, + "Actual Total Time": 3.431, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.927, + "Actual Total Time": 3.944, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 13.112, + "Actual Total Time": 13.123, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.461, + "Actual Total Time": 3.476, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.989, + "Actual Total Time": 4.004, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.24, + "Total Cost": 1509.90, + "Plan Rows": 4003, + "Plan Width": 52, + "Actual Startup Time": 16.907, + "Actual Total Time": 197.160, + "Actual Rows": 3503, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "cc.status_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.252, + "Actual Total Time": 11.262, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.275, + "Actual Total Time": 11.286, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.778, + "Actual Total Time": 2.792, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.246, + "Actual Total Time": 3.260, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.882, + "Actual Total Time": 12.892, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.824, + "Actual Total Time": 2.838, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.309, + "Actual Total Time": 3.322, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.10, + "Total Cost": 1509.72, + "Plan Rows": 1, + "Plan Width": 56, + "Actual Startup Time": 16.725, + "Actual Total Time": 147.532, + "Actual Rows": 15088, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "cc.status_id", "n.name", "pi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.252, + "Actual Total Time": 11.261, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.274, + "Actual Total Time": 11.284, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.777, + "Actual Total Time": 2.790, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.244, + "Actual Total Time": 3.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.881, + "Actual Total Time": 12.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.823, + "Actual Total Time": 2.836, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.307, + "Actual Total Time": 3.320, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.67, + "Total Cost": 1509.23, + "Plan Rows": 1, + "Plan Width": 68, + "Actual Startup Time": 16.720, + "Actual Total Time": 119.014, + "Actual Rows": 3618, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "ci.person_id", "cc.status_id", "n.name", "n.id", "pi.person_id", "pi.info_type_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.251, + "Actual Total Time": 11.260, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.274, + "Actual Total Time": 11.283, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.776, + "Actual Total Time": 2.789, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.243, + "Actual Total Time": 3.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.880, + "Actual Total Time": 12.889, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.822, + "Actual Total Time": 2.835, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.306, + "Actual Total Time": 3.319, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.53, + "Total Cost": 1509.05, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 16.717, + "Actual Total Time": 106.483, + "Actual Rows": 3618, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "mi.info_type_id", "ci.person_id", "cc.status_id", "n.name", "n.id", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.250, + "Actual Total Time": 11.259, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.273, + "Actual Total Time": 11.282, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.775, + "Actual Total Time": 2.787, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.243, + "Actual Total Time": 3.255, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.880, + "Actual Total Time": 12.888, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.821, + "Actual Total Time": 2.833, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.305, + "Actual Total Time": 3.317, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.10, + "Total Cost": 1506.65, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 16.658, + "Actual Total Time": 102.513, + "Actual Rows": 34, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "mi.info_type_id", "ci.person_id", "cc.status_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.250, + "Actual Total Time": 11.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.273, + "Actual Total Time": 11.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.774, + "Actual Total Time": 2.786, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.242, + "Actual Total Time": 3.253, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.880, + "Actual Total Time": 12.887, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.821, + "Actual Total Time": 2.831, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.305, + "Actual Total Time": 3.316, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.67, + "Total Cost": 1506.12, + "Plan Rows": 1, + "Plan Width": 45, + "Actual Startup Time": 16.222, + "Actual Total Time": 94.445, + "Actual Rows": 750, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "mi.info_type_id", "ci.person_id", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.249, + "Actual Total Time": 11.257, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.272, + "Actual Total Time": 11.279, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.774, + "Actual Total Time": 2.784, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.241, + "Actual Total Time": 3.252, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.879, + "Actual Total Time": 12.886, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.820, + "Actual Total Time": 2.830, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.304, + "Actual Total Time": 3.314, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.25, + "Total Cost": 1505.67, + "Plan Rows": 1, + "Plan Width": 49, + "Actual Startup Time": 16.213, + "Actual Total Time": 70.248, + "Actual Rows": 3422, + "Actual Loops": 8, + "Output": ["chn.name", "t.title", "mi.info_type_id", "ci.person_id", "cc.status_id", "mc.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.249, + "Actual Total Time": 11.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.271, + "Actual Total Time": 11.278, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.773, + "Actual Total Time": 2.782, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.240, + "Actual Total Time": 3.250, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.878, + "Actual Total Time": 12.885, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.819, + "Actual Total Time": 2.828, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.303, + "Actual Total Time": 3.312, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.82, + "Total Cost": 1504.97, + "Plan Rows": 1, + "Plan Width": 65, + "Actual Startup Time": 16.183, + "Actual Total Time": 65.953, + "Actual Rows": 131, + "Actual Loops": 8, + "Output": ["chn.name", "mk.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id", "ci.movie_id", "ci.person_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.248, + "Actual Total Time": 11.255, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.271, + "Actual Total Time": 11.277, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.772, + "Actual Total Time": 2.781, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.239, + "Actual Total Time": 3.248, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.878, + "Actual Total Time": 12.884, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.818, + "Actual Total Time": 2.826, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.302, + "Actual Total Time": 3.311, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.69, + "Total Cost": 1504.80, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 16.180, + "Actual Total Time": 65.359, + "Actual Rows": 141, + "Actual Loops": 8, + "Output": ["chn.name", "mk.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id", "ci.movie_id", "ci.person_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.248, + "Actual Total Time": 11.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.270, + "Actual Total Time": 11.275, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.771, + "Actual Total Time": 2.779, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.238, + "Actual Total Time": 3.247, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.877, + "Actual Total Time": 12.883, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.816, + "Actual Total Time": 2.824, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.301, + "Actual Total Time": 3.309, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.27, + "Total Cost": 1504.35, + "Plan Rows": 1, + "Plan Width": 57, + "Actual Startup Time": 11.189, + "Actual Total Time": 63.821, + "Actual Rows": 215, + "Actual Loops": 8, + "Output": ["chn.name", "mk.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id", "ci.movie_id", "ci.person_id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.247, + "Actual Total Time": 11.252, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.269, + "Actual Total Time": 11.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.771, + "Actual Total Time": 2.777, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.238, + "Actual Total Time": 3.245, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.877, + "Actual Total Time": 12.882, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.816, + "Actual Total Time": 2.822, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.300, + "Actual Total Time": 3.307, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.17, + "Total Cost": 1503.22, + "Plan Rows": 8, + "Plan Width": 61, + "Actual Startup Time": 9.838, + "Actual Total Time": 63.395, + "Actual Rows": 802, + "Actual Loops": 8, + "Output": ["chn.name", "mk.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id", "ci.movie_id", "ci.person_id", "ci.role_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.241, + "Actual Total Time": 11.244, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.264, + "Actual Total Time": 11.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.759, + "Actual Total Time": 2.764, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.226, + "Actual Total Time": 3.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.872, + "Actual Total Time": 12.875, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.807, + "Actual Total Time": 2.811, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.290, + "Actual Total Time": 3.294, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.74, + "Total Cost": 1494.62, + "Plan Rows": 17, + "Plan Width": 49, + "Actual Startup Time": 8.820, + "Actual Total Time": 54.640, + "Actual Rows": 938, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id", "ci.movie_id", "ci.person_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.240, + "Actual Total Time": 11.243, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.263, + "Actual Total Time": 11.266, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.759, + "Actual Total Time": 2.762, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.225, + "Actual Total Time": 3.230, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.872, + "Actual Total Time": 12.874, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.806, + "Actual Total Time": 2.809, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.289, + "Actual Total Time": 3.293, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1411.71, + "Plan Rows": 51, + "Plan Width": 33, + "Actual Startup Time": 7.289, + "Actual Total Time": 14.142, + "Actual Rows": 45, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.240, + "Actual Total Time": 11.242, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.262, + "Actual Total Time": 11.264, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.758, + "Actual Total Time": 2.761, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.224, + "Actual Total Time": 3.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.871, + "Actual Total Time": 12.873, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.805, + "Actual Total Time": 2.808, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.288, + "Actual Total Time": 3.291, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1375.73, + "Plan Rows": 36, + "Plan Width": 25, + "Actual Startup Time": 5.953, + "Actual Total Time": 7.164, + "Actual Rows": 31, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.239, + "Actual Total Time": 11.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.261, + "Actual Total Time": 11.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.757, + "Actual Total Time": 2.759, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.224, + "Actual Total Time": 3.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.871, + "Actual Total Time": 12.872, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.804, + "Actual Total Time": 2.806, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.287, + "Actual Total Time": 3.289, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1348.42, + "Plan Rows": 59, + "Plan Width": 4, + "Actual Startup Time": 5.947, + "Actual Total Time": 6.229, + "Actual Rows": 52, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.238, + "Actual Total Time": 11.239, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.261, + "Actual Total Time": 11.262, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.756, + "Actual Total Time": 2.757, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.223, + "Actual Total Time": 3.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.870, + "Actual Total Time": 12.871, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.803, + "Actual Total Time": 2.804, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.286, + "Actual Total Time": 3.287, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.939, + "Actual Total Time": 5.942, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'computer-animation'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 11.237, + "Actual Total Time": 11.238, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.260, + "Actual Total Time": 11.261, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.755, + "Actual Total Time": 2.756, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.222, + "Actual Total Time": 3.222, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.869, + "Actual Total Time": 12.870, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.802, + "Actual Total Time": 2.803, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.286, + "Actual Total Time": 3.286, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 414, + "Plan Width": 8, + "Actual Startup Time": 0.058, + "Actual Total Time": 2.104, + "Actual Rows": 414, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 414, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2000) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.172, + "Actual Total Time": 0.222, + "Actual Rows": 1, + "Actual Loops": 249, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mi.info IS NOT NULL) AND ((mi.info ~~ 'Japan:%200%'::text) OR (mi.info ~~ 'USA:%200%'::text)))", + "Rows Removed by Filter": 88, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.30, + "Plan Rows": 26, + "Plan Width": 16, + "Actual Startup Time": 0.192, + "Actual Total Time": 0.898, + "Actual Rows": 21, + "Actual Loops": 357, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 72, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 7505, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_complete_cast", + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 1723, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Index Cond": "(cc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 1126, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 18, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.025, + "Actual Rows": 26, + "Actual Loops": 1050, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 27378, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 6001, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.72, + "Plan Rows": 134, + "Plan Width": 8, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.077, + "Actual Rows": 106, + "Actual Loops": 272, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 28946, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'release dates'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.46, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.007, + "Actual Rows": 4, + "Actual Loops": 28946, + "Output": ["an.person_id"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it3", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 120704, + "Output": ["it3.id", "it3.info"], + "Index Cond": "(it3.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it3.info)::text = 'trivia'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.080, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3549109824785540005, + "Planning Time": 5359.311, + "Triggers": [ + ], + "Execution Time": 1553.646, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3549109824785540005, + "JOINS": 16 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[de]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9417.77, + "Total Cost": 9417.78, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1092.323, + "Actual Total Time": 1126.113, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9417.74, + "Total Cost": 9417.75, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 46.790, + "Actual Total Time": 1126.096, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9416.74, + "Total Cost": 9416.75, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 166.650, + "Actual Total Time": 166.656, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 40.618, + "Actual Total Time": 40.623, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1078.600, + "Actual Total Time": 1078.604, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 34.526, + "Actual Total Time": 34.532, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.369, + "Actual Total Time": 31.374, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.197, + "Actual Total Time": 35.203, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.340, + "Actual Total Time": 36.346, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.446, + "Actual Total Time": 31.451, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3378.75, + "Total Cost": 9413.94, + "Plan Rows": 1119, + "Plan Width": 17, + "Actual Startup Time": 36.152, + "Actual Total Time": 166.092, + "Actual Rows": 979, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 40.614, + "Actual Total Time": 40.619, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 34.719, + "Actual Total Time": 1074.202, + "Actual Rows": 7834, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 34.521, + "Actual Total Time": 34.526, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.365, + "Actual Total Time": 31.370, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.191, + "Actual Total Time": 35.196, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.335, + "Actual Total Time": 36.340, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.369, + "Actual Total Time": 31.374, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3378.32, + "Total Cost": 8460.36, + "Plan Rows": 2048, + "Plan Width": 8, + "Actual Startup Time": 35.531, + "Actual Total Time": 149.976, + "Actual Rows": 979, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 40.613, + "Actual Total Time": 40.617, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 29.762, + "Actual Total Time": 945.288, + "Actual Rows": 7834, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 34.521, + "Actual Total Time": 34.525, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.364, + "Actual Total Time": 31.367, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.191, + "Actual Total Time": 35.195, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 36.334, + "Actual Total Time": 36.339, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 31.369, + "Actual Total Time": 31.372, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5027.20, + "Plan Rows": 21222, + "Plan Width": 12, + "Actual Startup Time": 5.901, + "Actual Total Time": 114.685, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.company_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.608, + "Actual Total Time": 4.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.312, + "Actual Total Time": 871.572, + "Actual Rows": 148552, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.227, + "Actual Total Time": 3.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.620, + "Actual Total Time": 7.621, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.597, + "Actual Total Time": 7.599, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.612, + "Actual Total Time": 7.614, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.617, + "Actual Total Time": 7.618, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.68, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 5.834, + "Actual Total Time": 26.611, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.607, + "Actual Total Time": 4.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.786, + "Actual Total Time": 166.989, + "Actual Rows": 41840, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.226, + "Actual Total Time": 3.227, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.618, + "Actual Total Time": 7.619, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.595, + "Actual Total Time": 7.596, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.611, + "Actual Total Time": 7.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.616, + "Actual Total Time": 7.616, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.782, + "Actual Total Time": 5.783, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.605, + "Actual Total Time": 4.606, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.375, + "Actual Total Time": 0.382, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.225, + "Actual Total Time": 3.225, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.618, + "Actual Total Time": 7.618, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.593, + "Actual Total Time": 7.594, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.610, + "Actual Total Time": 7.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.614, + "Actual Total Time": 7.614, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.404, + "Actual Total Time": 157.835, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.404, + "Actual Total Time": 157.835, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.016, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.016, + "Actual Rows": 4, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 1222, + "Plan Width": 4, + "Actual Startup Time": 27.996, + "Actual Total Time": 27.997, + "Actual Rows": 1222, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 16384, + "Original Hash Buckets": 16384, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 672, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.667, + "Actual Total Time": 32.668, + "Actual Rows": 1702, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.369, + "Actual Total Time": 25.370, + "Actual Rows": 777, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.706, + "Actual Total Time": 26.707, + "Actual Rows": 1087, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.472, + "Actual Total Time": 23.473, + "Actual Rows": 939, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.365, + "Actual Total Time": 27.366, + "Actual Rows": 1285, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 28.465, + "Actual Total Time": 28.466, + "Actual Rows": 1315, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 23.485, + "Actual Total Time": 23.487, + "Actual Rows": 909, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1222, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 26.956, + "Actual Rows": 1222, + "Actual Loops": 8, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[de]'::text)", + "Rows Removed by Filter": 28153, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 31.258, + "Actual Rows": 1702, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 24.622, + "Actual Rows": 777, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 25.782, + "Actual Rows": 1087, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 22.515, + "Actual Rows": 939, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 26.288, + "Actual Rows": 1285, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 27.464, + "Actual Rows": 1315, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 22.735, + "Actual Rows": 909, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 7834, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 7834 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 11.742, + "Triggers": [ + ], + "Execution Time": 1126.352, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[nl]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8096.82, + "Total Cost": 8096.83, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 241.231, + "Actual Total Time": 250.832, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8096.79, + "Total Cost": 8096.80, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 222.717, + "Actual Total Time": 250.797, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8095.79, + "Total Cost": 8095.80, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 213.861, + "Actual Total Time": 213.867, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 213.025, + "Actual Total Time": 213.029, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 225.442, + "Actual Total Time": 225.451, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 201.164, + "Actual Total Time": 201.168, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 213.242, + "Actual Total Time": 213.247, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 208.257, + "Actual Total Time": 208.260, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 213.174, + "Actual Total Time": 213.178, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 214.643, + "Actual Total Time": 214.648, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1838.25, + "Total Cost": 8094.16, + "Plan Rows": 654, + "Plan Width": 17, + "Actual Startup Time": 107.272, + "Actual Total Time": 212.992, + "Actual Rows": 654, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 106.468, + "Actual Total Time": 212.180, + "Actual Rows": 499, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 107.620, + "Actual Total Time": 224.771, + "Actual Rows": 762, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 94.986, + "Actual Total Time": 200.113, + "Actual Rows": 642, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 116.743, + "Actual Total Time": 212.329, + "Actual Rows": 621, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 102.707, + "Actual Total Time": 207.361, + "Actual Rows": 586, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.513, + "Actual Total Time": 212.436, + "Actual Rows": 461, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 108.452, + "Actual Total Time": 213.578, + "Actual Rows": 816, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1837.82, + "Total Cost": 7706.76, + "Plan Rows": 832, + "Plan Width": 8, + "Actual Startup Time": 107.115, + "Actual Total Time": 187.068, + "Actual Rows": 654, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Hash Cond": "(mc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 106.341, + "Actual Total Time": 190.286, + "Actual Rows": 499, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 107.540, + "Actual Total Time": 188.408, + "Actual Rows": 762, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 94.861, + "Actual Total Time": 173.601, + "Actual Rows": 642, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 116.291, + "Actual Total Time": 191.823, + "Actual Rows": 621, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 102.541, + "Actual Total Time": 184.413, + "Actual Rows": 586, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 106.369, + "Actual Total Time": 194.325, + "Actual Rows": 461, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 108.323, + "Actual Total Time": 188.029, + "Actual Rows": 816, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 5803.27, + "Plan Rows": 17164, + "Plan Width": 4, + "Actual Startup Time": 0.340, + "Actual Total Time": 75.299, + "Actual Rows": 7051, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.628, + "Actual Total Time": 77.867, + "Actual Rows": 5928, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.153, + "Actual Total Time": 74.901, + "Actual Rows": 9252, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.296, + "Actual Total Time": 73.301, + "Actual Rows": 5862, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.304, + "Actual Total Time": 78.660, + "Actual Rows": 6584, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.322, + "Actual Total Time": 76.832, + "Actual Rows": 6161, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.298, + "Actual Total Time": 82.217, + "Actual Rows": 5863, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.634, + "Actual Total Time": 73.973, + "Actual Rows": 6470, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 293, + "Plan Width": 4, + "Actual Startup Time": 0.116, + "Actual Total Time": 18.608, + "Actual Rows": 292, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[nl]'::text)", + "Rows Removed by Filter": 29082, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.444, + "Actual Total Time": 20.953, + "Actual Rows": 317, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 26.252, + "Actual Rows": 289, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 14.626, + "Actual Rows": 225, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.104, + "Actual Total Time": 16.127, + "Actual Rows": 222, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.112, + "Actual Total Time": 18.716, + "Actual Rows": 310, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.063, + "Actual Total Time": 18.647, + "Actual Rows": 329, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.114, + "Actual Total Time": 14.656, + "Actual Rows": 211, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 8.25, + "Plan Rows": 8, + "Plan Width": 8, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.178, + "Actual Rows": 24, + "Actual Loops": 2340, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.165, + "Actual Rows": 19, + "Actual Loops": 317 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.155, + "Actual Rows": 32, + "Actual Loops": 289 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.242, + "Actual Rows": 26, + "Actual Loops": 225 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.259, + "Actual Rows": 30, + "Actual Loops": 222 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.172, + "Actual Rows": 20, + "Actual Loops": 310 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.179, + "Actual Rows": 18, + "Actual Loops": 329 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.260, + "Actual Rows": 31, + "Actual Loops": 211 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1762.68, + "Total Cost": 1762.68, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 104.570, + "Actual Total Time": 104.572, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 65536, + "Original Hash Buckets": 65536, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 2176, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 105.291, + "Actual Total Time": 105.293, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 106.842, + "Actual Total Time": 106.845, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 93.439, + "Actual Total Time": 93.441, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 105.524, + "Actual Total Time": 105.526, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 100.168, + "Actual Total Time": 100.169, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 105.411, + "Actual Total Time": 105.412, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 106.877, + "Actual Total Time": 106.878, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.68, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.927, + "Actual Total Time": 17.857, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.053, + "Actual Total Time": 9.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.626, + "Actual Total Time": 10.627, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.297, + "Actual Total Time": 9.298, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.141, + "Actual Total Time": 4.142, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.194, + "Actual Total Time": 9.195, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.645, + "Actual Total Time": 10.646, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.911, + "Actual Total Time": 6.913, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.052, + "Actual Total Time": 9.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.625, + "Actual Total Time": 10.626, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.296, + "Actual Total Time": 9.296, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.139, + "Actual Total Time": 4.140, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.193, + "Actual Total Time": 9.193, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.643, + "Actual Total Time": 10.644, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.107, + "Actual Total Time": 77.391, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 5228, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 499 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 762 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 642 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 621 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 586 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 461 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 816 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 10.979, + "Triggers": [ + ], + "Execution Time": 251.070, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[sm]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5189.76, + "Total Cost": 5189.77, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 121.284, + "Actual Total Time": 121.546, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3404.12, + "Total Cost": 5189.76, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 121.278, + "Actual Total Time": 121.539, + "Actual Rows": 0, + "Actual Loops": 1, + "Output": ["t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3403.12, + "Total Cost": 5188.76, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 38.233, + "Actual Total Time": 38.240, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.788, + "Actual Total Time": 27.794, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.561, + "Actual Total Time": 27.567, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.499, + "Actual Total Time": 24.504, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.289, + "Actual Total Time": 28.295, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.306, + "Actual Total Time": 28.311, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.855, + "Actual Total Time": 20.872, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.172, + "Actual Total Time": 28.176, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3402.69, + "Total Cost": 5187.36, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 38.232, + "Actual Total Time": 38.238, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": false, + "Hash Cond": "(mk.movie_id = mc.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 27.787, + "Actual Total Time": 27.792, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.561, + "Actual Total Time": 27.565, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.498, + "Actual Total Time": 24.502, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.288, + "Actual Total Time": 28.292, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 28.305, + "Actual Total Time": 28.309, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.853, + "Actual Total Time": 20.870, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.171, + "Actual Total Time": 28.175, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.68, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 6.533, + "Actual Total Time": 17.420, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.059, + "Actual Total Time": 7.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.679, + "Actual Total Time": 11.680, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.052, + "Actual Total Time": 7.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.673, + "Actual Total Time": 11.674, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.065, + "Actual Total Time": 7.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.054, + "Actual Total Time": 7.056, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.521, + "Actual Total Time": 6.523, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.058, + "Actual Total Time": 7.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.678, + "Actual Total Time": 11.679, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.051, + "Actual Total Time": 7.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.671, + "Actual Total Time": 11.672, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.063, + "Actual Total Time": 7.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.053, + "Actual Total Time": 7.054, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.077, + "Actual Total Time": 77.255, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3402.18, + "Total Cost": 3402.18, + "Plan Rows": 6, + "Plan Width": 4, + "Actual Startup Time": 15.328, + "Actual Total Time": 15.331, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.702, + "Actual Total Time": 15.704, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.482, + "Actual Total Time": 15.484, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.343, + "Actual Total Time": 12.345, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.211, + "Actual Total Time": 16.213, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.214, + "Actual Total Time": 16.216, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.480, + "Actual Total Time": 8.495, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 16.094, + "Actual Total Time": 16.096, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3402.18, + "Plan Rows": 6, + "Plan Width": 4, + "Actual Startup Time": 13.612, + "Actual Total Time": 15.187, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.547, + "Actual Total Time": 15.549, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.346, + "Actual Total Time": 15.348, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.166, + "Actual Total Time": 12.167, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.063, + "Actual Total Time": 16.064, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.059, + "Actual Total Time": 16.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.389, + "Actual Total Time": 8.391, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.956, + "Actual Total Time": 15.957, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 13.600, + "Actual Total Time": 15.171, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[sm]'::text)", + "Rows Removed by Filter": 29374, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.546, + "Actual Total Time": 15.547, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.345, + "Actual Total Time": 15.345, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.165, + "Actual Total Time": 12.165, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 16.061, + "Actual Total Time": 16.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 16.058, + "Actual Total Time": 16.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.389, + "Actual Total Time": 8.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.954, + "Actual Total Time": 15.955, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 39.92, + "Plan Rows": 8, + "Plan Width": 8, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.098, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 13.877, + "Triggers": [ + ], + "Execution Time": 121.762, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM company_name AS cn,
     keyword AS k,
     movie_companies AS mc,
     movie_keyword AS mk,
     title AS t
WHERE cn.country_code ='[us]'
  AND k.keyword ='character-name-in-title'
  AND cn.id = mc.company_id
  AND mc.movie_id = t.id
  AND t.id = mk.movie_id
  AND mk.keyword_id = k.id
  AND mc.movie_id = mk.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11295.44, + "Total Cost": 11295.45, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 1439.809, + "Actual Total Time": 1478.209, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11295.41, + "Total Cost": 11295.42, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 43.451, + "Actual Total Time": 1478.188, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 11294.41, + "Total Cost": 11294.42, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 209.252, + "Actual Total Time": 209.258, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.271, + "Actual Total Time": 34.276, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.838, + "Actual Total Time": 27.842, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 34.213, + "Actual Total Time": 34.218, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.294, + "Actual Total Time": 34.298, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.130, + "Actual Total Time": 35.135, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.082, + "Actual Total Time": 35.087, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1431.017, + "Actual Total Time": 1431.021, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3495.78, + "Total Cost": 11270.04, + "Plan Rows": 9750, + "Plan Width": 17, + "Actual Startup Time": 33.945, + "Actual Total Time": 205.479, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.268, + "Actual Total Time": 34.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.833, + "Actual Total Time": 27.837, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 34.209, + "Actual Total Time": 34.213, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.290, + "Actual Total Time": 34.294, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.125, + "Actual Total Time": 35.129, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.078, + "Actual Total Time": 35.082, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.592, + "Actual Total Time": 1400.826, + "Actual Rows": 68316, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3495.35, + "Total Cost": 8577.39, + "Plan Rows": 5783, + "Plan Width": 8, + "Actual Startup Time": 33.932, + "Actual Total Time": 113.420, + "Actual Rows": 8540, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_id = cn.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.266, + "Actual Total Time": 34.270, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.832, + "Actual Total Time": 27.835, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 34.208, + "Actual Total Time": 34.211, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.289, + "Actual Total Time": 34.292, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.124, + "Actual Total Time": 35.128, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.077, + "Actual Total Time": 35.081, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 28.492, + "Actual Total Time": 664.364, + "Actual Rows": 68316, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 5027.20, + "Plan Rows": 21222, + "Plan Width": 12, + "Actual Startup Time": 6.008, + "Actual Total Time": 74.607, + "Actual Rows": 18569, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mc.company_id", "mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.238, + "Actual Total Time": 7.240, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.256, + "Actual Total Time": 7.258, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.289, + "Actual Total Time": 7.290, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.266, + "Actual Total Time": 7.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.232, + "Actual Total Time": 7.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.959, + "Actual Total Time": 3.961, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.561, + "Actual Total Time": 549.335, + "Actual Rows": 148552, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1762.68, + "Plan Rows": 5977, + "Plan Width": 4, + "Actual Startup Time": 5.995, + "Actual Total Time": 15.191, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.237, + "Actual Total Time": 7.238, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.255, + "Actual Total Time": 7.256, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.287, + "Actual Total Time": 7.288, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.264, + "Actual Total Time": 7.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.231, + "Actual Total Time": 7.232, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.958, + "Actual Total Time": 3.959, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.466, + "Actual Total Time": 74.023, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 5.978, + "Actual Total Time": 5.979, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.236, + "Actual Total Time": 7.237, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.254, + "Actual Total Time": 7.254, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.286, + "Actual Total Time": 7.287, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.263, + "Actual Total Time": 7.264, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.230, + "Actual Total Time": 7.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3.956, + "Actual Total Time": 3.957, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.332, + "Actual Total Time": 0.339, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 41840, + "Plan Width": 8, + "Actual Startup Time": 0.129, + "Actual Total Time": 64.239, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.129, + "Actual Total Time": 64.239, + "Actual Rows": 41840, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.010, + "Actual Rows": 4, + "Actual Loops": 41840 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 3362.18, + "Total Cost": 3362.18, + "Plan Rows": 10584, + "Plan Width": 4, + "Actual Startup Time": 26.733, + "Actual Total Time": 26.734, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4480, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 26.734, + "Actual Total Time": 26.735, + "Actual Rows": 6557, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 20.279, + "Actual Total Time": 20.280, + "Actual Rows": 8488, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.647, + "Actual Total Time": 26.648, + "Actual Rows": 8878, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 26.731, + "Actual Total Time": 26.732, + "Actual Rows": 11406, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 27.603, + "Actual Total Time": 27.604, + "Actual Rows": 12234, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 27.307, + "Actual Total Time": 27.308, + "Actual Rows": 11625, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 27.603, + "Actual Total Time": 27.603, + "Actual Rows": 11739, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10584, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 16.932, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 11.019, + "Actual Rows": 6557, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 13.613, + "Actual Rows": 8488, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.027, + "Actual Total Time": 14.831, + "Actual Rows": 8878, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 18.220, + "Actual Rows": 11406, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 19.367, + "Actual Rows": 12234, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.060, + "Actual Total Time": 18.471, + "Actual Rows": 11625, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 18.890, + "Actual Rows": 11739, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 68316, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 68316 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7420183357700622221, + "Planning Time": 14.288, + "Triggers": [ + ], + "Execution Time": 1478.473, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7420183357700622221, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS complete_violent_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.production_year > 2000
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4123.78, + "Total Cost": 4123.79, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 443.513, + "Actual Total Time": 470.245, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4123.70, + "Total Cost": 4123.71, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 440.024, + "Actual Total Time": 470.187, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4122.70, + "Total Cost": 4122.71, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 426.598, + "Actual Total Time": 426.611, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 422.572, + "Actual Total Time": 422.582, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 422.532, + "Actual Total Time": 422.542, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 429.460, + "Actual Total Time": 429.470, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 423.394, + "Actual Total Time": 423.404, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 423.743, + "Actual Total Time": 423.754, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 428.283, + "Actual Total Time": 428.300, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 423.720, + "Actual Total Time": 423.729, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1712.36, + "Total Cost": 4121.62, + "Plan Rows": 108, + "Plan Width": 79, + "Actual Startup Time": 121.851, + "Actual Total Time": 426.113, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 137.093, + "Actual Total Time": 422.247, + "Actual Rows": 73, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 107.755, + "Actual Total Time": 422.079, + "Actual Rows": 103, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 115.406, + "Actual Total Time": 429.148, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 122.301, + "Actual Total Time": 422.082, + "Actual Rows": 153, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 107.040, + "Actual Total Time": 423.416, + "Actual Rows": 85, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 138.846, + "Actual Total Time": 428.032, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 124.140, + "Actual Total Time": 423.287, + "Actual Rows": 107, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1711.31, + "Total Cost": 4119.99, + "Plan Rows": 108, + "Plan Width": 83, + "Actual Startup Time": 121.366, + "Actual Total Time": 425.349, + "Actual Rows": 95, + "Actual Loops": 8, + "Output": ["n.name", "cc.subject_id", "t.title", "mi.info", "mi_idx.info"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 136.544, + "Actual Total Time": 421.474, + "Actual Rows": 73, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 107.200, + "Actual Total Time": 421.228, + "Actual Rows": 103, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 115.174, + "Actual Total Time": 428.713, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 121.754, + "Actual Total Time": 421.115, + "Actual Rows": 153, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 106.506, + "Actual Total Time": 422.652, + "Actual Rows": 85, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 138.271, + "Actual Total Time": 427.254, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 123.552, + "Actual Total Time": 422.379, + "Actual Rows": 107, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1710.88, + "Total Cost": 4119.48, + "Plan Rows": 1, + "Plan Width": 72, + "Actual Startup Time": 117.581, + "Actual Total Time": 421.561, + "Actual Rows": 128, + "Actual Loops": 8, + "Output": ["cc.subject_id", "t.title", "mi.info", "mi_idx.info", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 136.432, + "Actual Total Time": 419.047, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 107.108, + "Actual Total Time": 417.511, + "Actual Rows": 150, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 115.086, + "Actual Total Time": 425.267, + "Actual Rows": 102, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 121.386, + "Actual Total Time": 416.219, + "Actual Rows": 189, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 106.420, + "Actual Total Time": 418.691, + "Actual Rows": 100, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 108.963, + "Actual Total Time": 424.143, + "Actual Rows": 95, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 123.390, + "Actual Total Time": 418.438, + "Actual Rows": 126, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1710.44, + "Total Cost": 4118.12, + "Plan Rows": 1, + "Plan Width": 88, + "Actual Startup Time": 109.456, + "Actual Total Time": 239.150, + "Actual Rows": 145, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "t.title", "t.id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 102.767, + "Actual Total Time": 223.800, + "Actual Rows": 158, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.907, + "Actual Total Time": 232.105, + "Actual Rows": 137, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 111.330, + "Actual Total Time": 240.716, + "Actual Rows": 130, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 111.398, + "Actual Total Time": 243.730, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.812, + "Actual Total Time": 236.011, + "Actual Rows": 131, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 105.367, + "Actual Total Time": 238.877, + "Actual Rows": 140, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 120.675, + "Actual Total Time": 244.434, + "Actual Rows": 137, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1710.30, + "Total Cost": 4117.94, + "Plan Rows": 1, + "Plan Width": 92, + "Actual Startup Time": 109.430, + "Actual Total Time": 235.833, + "Actual Rows": 439, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "t.title", "t.id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 102.740, + "Actual Total Time": 220.145, + "Actual Rows": 476, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.878, + "Actual Total Time": 228.987, + "Actual Rows": 411, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 111.311, + "Actual Total Time": 237.761, + "Actual Rows": 390, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 111.376, + "Actual Total Time": 240.164, + "Actual Rows": 498, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.782, + "Actual Total Time": 233.033, + "Actual Rows": 399, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 105.344, + "Actual Total Time": 235.576, + "Actual Rows": 439, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 120.646, + "Actual Total Time": 241.295, + "Actual Rows": 411, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1709.87, + "Total Cost": 4117.43, + "Plan Rows": 1, + "Plan Width": 79, + "Actual Startup Time": 109.377, + "Actual Total Time": 232.492, + "Actual Rows": 145, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "t.title", "t.id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 102.690, + "Actual Total Time": 216.784, + "Actual Rows": 158, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.802, + "Actual Total Time": 225.783, + "Actual Rows": 137, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 111.265, + "Actual Total Time": 234.785, + "Actual Rows": 130, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 111.318, + "Actual Total Time": 236.659, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.725, + "Actual Total Time": 229.404, + "Actual Rows": 131, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 105.294, + "Actual Total Time": 232.369, + "Actual Rows": 140, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 120.597, + "Actual Total Time": 238.015, + "Actual Rows": 137, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1709.73, + "Total Cost": 4115.95, + "Plan Rows": 9, + "Plan Width": 83, + "Actual Startup Time": 109.335, + "Actual Total Time": 231.068, + "Actual Rows": 145, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "t.title", "t.id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 102.649, + "Actual Total Time": 215.222, + "Actual Rows": 158, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.760, + "Actual Total Time": 224.397, + "Actual Rows": 137, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 111.214, + "Actual Total Time": 233.481, + "Actual Rows": 130, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 111.268, + "Actual Total Time": 235.197, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.691, + "Actual Total Time": 228.158, + "Actual Rows": 131, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 105.249, + "Actual Total Time": 231.032, + "Actual Rows": 140, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 120.550, + "Actual Total Time": 236.520, + "Actual Rows": 137, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1709.30, + "Total Cost": 3845.71, + "Plan Rows": 290, + "Plan Width": 33, + "Actual Startup Time": 105.951, + "Actual Total Time": 159.276, + "Actual Rows": 253, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 102.422, + "Actual Total Time": 150.284, + "Actual Rows": 230, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.643, + "Actual Total Time": 157.122, + "Actual Rows": 254, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 109.270, + "Actual Total Time": 161.292, + "Actual Rows": 253, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 103.823, + "Actual Total Time": 155.874, + "Actual Rows": 266, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.610, + "Actual Total Time": 157.755, + "Actual Rows": 238, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 104.340, + "Actual Total Time": 156.032, + "Actual Rows": 257, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 104.251, + "Actual Total Time": 160.636, + "Actual Rows": 272, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1708.87, + "Total Cost": 2771.03, + "Plan Rows": 2334, + "Plan Width": 12, + "Actual Startup Time": 105.586, + "Actual Total Time": 126.034, + "Actual Rows": 2042, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 102.362, + "Actual Total Time": 121.725, + "Actual Rows": 1986, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.408, + "Actual Total Time": 124.123, + "Actual Rows": 2010, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 109.193, + "Actual Total Time": 129.956, + "Actual Rows": 2207, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 103.407, + "Actual Total Time": 124.204, + "Actual Rows": 2050, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.440, + "Actual Total Time": 123.245, + "Actual Rows": 1920, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 103.208, + "Actual Total Time": 124.267, + "Actual Rows": 2163, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 103.772, + "Actual Total Time": 126.099, + "Actual Rows": 2223, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1707.83, + "Total Cost": 2742.18, + "Plan Rows": 5144, + "Plan Width": 16, + "Actual Startup Time": 105.567, + "Actual Total Time": 123.341, + "Actual Rows": 4501, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 102.342, + "Actual Total Time": 119.142, + "Actual Rows": 4223, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.390, + "Actual Total Time": 121.367, + "Actual Rows": 4630, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 109.181, + "Actual Total Time": 127.170, + "Actual Rows": 4758, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 103.389, + "Actual Total Time": 121.483, + "Actual Rows": 4511, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.424, + "Actual Total Time": 120.614, + "Actual Rows": 4651, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 103.190, + "Actual Total Time": 121.482, + "Actual Rows": 4751, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 103.755, + "Actual Total Time": 123.278, + "Actual Rows": 4731, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.023, + "Actual Total Time": 4.381, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 4.064, + "Actual Rows": 16095, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 4.784, + "Actual Rows": 18315, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 4.303, + "Actual Rows": 17390, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 4.448, + "Actual Rows": 17020, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 4.335, + "Actual Rows": 16280, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.027, + "Actual Total Time": 4.220, + "Actual Rows": 17020, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 5.085, + "Actual Rows": 18906, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1570.84, + "Total Cost": 1570.84, + "Plan Rows": 10959, + "Plan Width": 4, + "Actual Startup Time": 105.160, + "Actual Total Time": 105.162, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4128, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 102.252, + "Actual Total Time": 102.253, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 102.300, + "Actual Total Time": 102.301, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 109.088, + "Actual Total Time": 109.089, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 103.277, + "Actual Total Time": 103.279, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 103.216, + "Actual Total Time": 103.218, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 103.088, + "Actual Total Time": 103.090, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 103.535, + "Actual Total Time": 103.536, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1570.84, + "Plan Rows": 10959, + "Plan Width": 4, + "Actual Startup Time": 18.597, + "Actual Total Time": 72.757, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.709, + "Actual Total Time": 83.818, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.278, + "Actual Total Time": 64.925, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.406, + "Actual Total Time": 93.489, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.152, + "Actual Total Time": 61.808, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 70.223, + "Actual Total Time": 70.224, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.839, + "Actual Total Time": 61.104, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 70.541, + "Actual Total Time": 70.542, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 18.271, + "Actual Total Time": 19.386, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.495, + "Actual Total Time": 0.504, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.509, + "Actual Total Time": 4.956, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.294, + "Actual Total Time": 0.322, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.954, + "Actual Total Time": 5.296, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 70.222, + "Actual Total Time": 70.222, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.642, + "Actual Total Time": 0.694, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 70.540, + "Actual Total Time": 70.540, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.86, + "Plan Rows": 10959, + "Plan Width": 8, + "Actual Startup Time": 0.375, + "Actual Total Time": 56.847, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.207, + "Actual Total Time": 76.302, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.762, + "Actual Total Time": 57.769, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.107, + "Actual Total Time": 85.968, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.191, + "Actual Total Time": 52.563, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.128, + "Actual Total Time": 27.918, + "Actual Rows": 6314, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 16336, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1986 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2010 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2207 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2050 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1920 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2163 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2223 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.205, + "Actual Total Time": 0.281, + "Actual Rows": 1, + "Actual Loops": 2027, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 224, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.185, + "Actual Total Time": 0.280, + "Actual Rows": 1, + "Actual Loops": 230 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.200, + "Actual Total Time": 0.262, + "Actual Rows": 1, + "Actual Loops": 254 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.241, + "Actual Total Time": 0.283, + "Actual Rows": 1, + "Actual Loops": 253 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.204, + "Actual Total Time": 0.296, + "Actual Rows": 1, + "Actual Loops": 266 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.206, + "Actual Total Time": 0.294, + "Actual Rows": 1, + "Actual Loops": 238 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.203, + "Actual Total Time": 0.290, + "Actual Rows": 1, + "Actual Loops": 257 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.208, + "Actual Total Time": 0.277, + "Actual Rows": 1, + "Actual Loops": 272 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 1161, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 158 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 137 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 130 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 165 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 131 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 140 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 137 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 1161, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 3, + "Actual Loops": 158 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 137 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 130 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 165 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.023, + "Actual Rows": 3, + "Actual Loops": 131 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 140 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 137 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 3513, + "Output": ["it2.id", "it2.info"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 476 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 411 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 390 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 498 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 399 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 439 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 411 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.889, + "Actual Total Time": 1.253, + "Actual Rows": 1, + "Actual Loops": 1161, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 126, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.925, + "Actual Total Time": 1.233, + "Actual Rows": 1, + "Actual Loops": 158 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.892, + "Actual Total Time": 1.345, + "Actual Rows": 1, + "Actual Loops": 137 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.026, + "Actual Total Time": 1.416, + "Actual Rows": 1, + "Actual Loops": 130 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.728, + "Actual Total Time": 1.043, + "Actual Rows": 1, + "Actual Loops": 165 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.113, + "Actual Total Time": 1.392, + "Actual Rows": 1, + "Actual Loops": 131 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.004, + "Actual Total Time": 1.321, + "Actual Rows": 1, + "Actual Loops": 140 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.810, + "Actual Total Time": 1.267, + "Actual Rows": 1, + "Actual Loops": 137 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 1021, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 94 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 150 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 102 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 189 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 100 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 95 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 126 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.073, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.024, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 2, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6682106289455670140, + "Planning Time": 3046.736, + "Triggers": [ + ], + "Execution Time": 470.693, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6682106289455670140, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS complete_gore_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind IN ('cast',
                    'crew')
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.production_year > 2000
  AND (t.title LIKE '%Freddy%'
       OR t.title LIKE '%Jason%'
       OR t.title LIKE 'Saw%')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3898.35, + "Total Cost": 3898.36, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 75.382, + "Actual Total Time": 84.890, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3898.27, + "Total Cost": 3898.28, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 75.354, + "Actual Total Time": 84.869, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3897.27, + "Total Cost": 3897.28, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 63.740, + "Actual Total Time": 63.750, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 65.507, + "Actual Total Time": 65.517, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 59.349, + "Actual Total Time": 59.360, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 64.086, + "Actual Total Time": 64.096, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 66.390, + "Actual Total Time": 66.399, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 60.548, + "Actual Total Time": 60.557, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 59.835, + "Actual Total Time": 59.844, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 59.807, + "Actual Total Time": 59.817, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.48, + "Total Cost": 3897.23, + "Plan Rows": 4, + "Plan Width": 79, + "Actual Startup Time": 53.972, + "Actual Total Time": 63.732, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.653, + "Actual Total Time": 65.471, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.095, + "Actual Total Time": 59.298, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 64.082, + "Actual Total Time": 64.091, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 66.385, + "Actual Total Time": 66.395, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 60.542, + "Actual Total Time": 60.551, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 59.828, + "Actual Total Time": 59.836, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 59.799, + "Actual Total Time": 59.808, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.33, + "Total Cost": 3896.17, + "Plan Rows": 12, + "Plan Width": 83, + "Actual Startup Time": 53.964, + "Actual Total Time": 63.705, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["n.name", "t.title", "mi.info", "mi_idx.info", "mi_idx.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.622, + "Actual Total Time": 65.378, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.066, + "Actual Total Time": 59.185, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 64.081, + "Actual Total Time": 64.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 66.385, + "Actual Total Time": 66.393, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 60.542, + "Actual Total Time": 60.550, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 59.827, + "Actual Total Time": 59.834, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 59.798, + "Actual Total Time": 59.807, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.90, + "Total Cost": 3894.09, + "Plan Rows": 4, + "Plan Width": 94, + "Actual Startup Time": 53.950, + "Actual Total Time": 63.640, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["n.name", "t.title", "t.id", "cc.movie_id", "mk.movie_id", "ci.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.566, + "Actual Total Time": 65.164, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 12.011, + "Actual Total Time": 58.892, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 64.081, + "Actual Total Time": 64.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 66.384, + "Actual Total Time": 66.392, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 60.541, + "Actual Total Time": 60.549, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 59.826, + "Actual Total Time": 59.833, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 59.798, + "Actual Total Time": 59.806, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.76, + "Total Cost": 3893.42, + "Plan Rows": 4, + "Plan Width": 98, + "Actual Startup Time": 53.939, + "Actual Total Time": 63.606, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["n.name", "t.title", "t.id", "cc.movie_id", "mk.movie_id", "ci.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.524, + "Actual Total Time": 65.047, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.967, + "Actual Total Time": 58.739, + "Actual Rows": 16, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 64.080, + "Actual Total Time": 64.087, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 66.384, + "Actual Total Time": 66.390, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 60.540, + "Actual Total Time": 60.547, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 59.825, + "Actual Total Time": 59.832, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 59.797, + "Actual Total Time": 59.804, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.32, + "Total Cost": 3890.63, + "Plan Rows": 3, + "Plan Width": 48, + "Actual Startup Time": 53.845, + "Actual Total Time": 62.491, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["n.name", "t.title", "t.id", "cc.movie_id", "mk.movie_id", "ci.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.338, + "Actual Total Time": 59.893, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.405, + "Actual Total Time": 54.981, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 64.079, + "Actual Total Time": 64.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 66.383, + "Actual Total Time": 66.389, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 60.540, + "Actual Total Time": 60.546, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 59.824, + "Actual Total Time": 59.830, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 59.796, + "Actual Total Time": 59.803, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.89, + "Total Cost": 3889.10, + "Plan Rows": 3, + "Plan Width": 37, + "Actual Startup Time": 53.830, + "Actual Total Time": 62.438, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "cc.movie_id", "mk.movie_id", "ci.movie_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 34.286, + "Actual Total Time": 59.675, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.343, + "Actual Total Time": 54.788, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 64.078, + "Actual Total Time": 64.084, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 66.383, + "Actual Total Time": 66.388, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 60.539, + "Actual Total Time": 60.544, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 59.823, + "Actual Total Time": 59.828, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 59.796, + "Actual Total Time": 59.802, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.45, + "Total Cost": 3887.73, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 53.735, + "Actual Total Time": 62.013, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "cc.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.997, + "Actual Total Time": 58.548, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.882, + "Actual Total Time": 52.525, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 64.077, + "Actual Total Time": 64.082, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 66.382, + "Actual Total Time": 66.387, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 60.538, + "Actual Total Time": 60.543, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 59.823, + "Actual Total Time": 59.827, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 59.795, + "Actual Total Time": 59.801, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.03, + "Total Cost": 3868.96, + "Plan Rows": 42, + "Plan Width": 33, + "Actual Startup Time": 53.591, + "Actual Total Time": 60.976, + "Actual Rows": 36, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "cc.movie_id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(t.id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.973, + "Actual Total Time": 56.427, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.752, + "Actual Total Time": 46.357, + "Actual Rows": 187, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 64.077, + "Actual Total Time": 64.081, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 66.382, + "Actual Total Time": 66.385, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 60.538, + "Actual Total Time": 60.542, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 59.822, + "Actual Total Time": 59.826, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 59.795, + "Actual Total Time": 59.799, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.60, + "Total Cost": 3865.86, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 53.458, + "Actual Total Time": 60.792, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "cc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.505, + "Actual Total Time": 55.816, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.160, + "Actual Total Time": 45.504, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 64.076, + "Actual Total Time": 64.079, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 66.381, + "Actual Total Time": 66.384, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 60.537, + "Actual Total Time": 60.540, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 59.821, + "Actual Total Time": 59.825, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 59.794, + "Actual Total Time": 59.798, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 3865.70, + "Plan Rows": 1, + "Plan Width": 29, + "Actual Startup Time": 53.445, + "Actual Total Time": 60.779, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["t.title", "t.id", "cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.457, + "Actual Total Time": 55.767, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.109, + "Actual Total Time": 45.451, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 64.075, + "Actual Total Time": 64.078, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 66.381, + "Actual Total Time": 66.382, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 60.536, + "Actual Total Time": 60.538, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 59.821, + "Actual Total Time": 59.823, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 59.793, + "Actual Total Time": 59.797, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 1029.35, + "Plan Rows": 3513, + "Plan Width": 8, + "Actual Startup Time": 0.160, + "Actual Total Time": 11.651, + "Actual Rows": 3074, + "Actual Loops": 8, + "Output": ["cc.movie_id", "cc.subject_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.118, + "Actual Total Time": 10.558, + "Actual Rows": 2824, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.117, + "Actual Total Time": 8.703, + "Actual Rows": 2241, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.100, + "Actual Total Time": 12.381, + "Actual Rows": 3263, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.096, + "Actual Total Time": 13.417, + "Actual Rows": 3397, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.123, + "Actual Total Time": 11.375, + "Actual Rows": 3047, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.262, + "Actual Total Time": 11.068, + "Actual Rows": 3152, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.140, + "Actual Total Time": 11.269, + "Actual Rows": 3091, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.021, + "Actual Total Time": 3.848, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 3.524, + "Actual Rows": 15576, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 2.911, + "Actual Rows": 12765, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 4.125, + "Actual Rows": 18130, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 4.460, + "Actual Rows": 20165, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 3.770, + "Actual Rows": 16650, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 3.611, + "Actual Rows": 15355, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 3.746, + "Actual Rows": 16465, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.81, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 24592, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2000) AND ((t.title ~~ '%Freddy%'::text) OR (t.title ~~ '%Jason%'::text) OR (t.title ~~ 'Saw%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 2824 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2241 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3263 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3397 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3047 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3152 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 3091 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "comp_cast_type_pkey", + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["cct1.id", "cct1.kind"], + "Index Cond": "(cct1.id = cc.subject_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cct1.kind)::text = ANY ('{cast,crew}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 1.23, + "Plan Rows": 150, + "Plan Width": 8, + "Actual Startup Time": 0.523, + "Actual Total Time": 0.635, + "Actual Rows": 146, + "Actual Loops": 2, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = cc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.462, + "Actual Total Time": 0.540, + "Actual Rows": 104, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.584, + "Actual Total Time": 0.731, + "Actual Rows": 187, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 291, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 104 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 187 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.185, + "Actual Total Time": 0.419, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 95, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.138, + "Actual Total Time": 0.278, + "Actual Rows": 3, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.232, + "Actual Total Time": 0.561, + "Actual Rows": 2, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 20, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.267, + "Actual Total Time": 0.443, + "Actual Rows": 1, + "Actual Loops": 20, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 451, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.138, + "Actual Total Time": 0.428, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.460, + "Actual Total Time": 0.466, + "Actual Rows": 2, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 28, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 16 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 28, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 12 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 16 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 84, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 36, + "Cache Hits": 33, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 48, + "Cache Hits": 45, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7721649514993682563, + "Planning Time": 3078.006, + "Triggers": [ + ], + "Execution Time": 85.274, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7721649514993682563, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS complete_violent_movie
FROM complete_cast AS cc,
     comp_cast_type AS cct1,
     comp_cast_type AS cct2,
     cast_info AS ci,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE cct1.kind = 'cast'
  AND cct2.kind ='complete+verified'
  AND ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = cc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = cc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = cc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = cc.movie_id
  AND mk.movie_id = cc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cct1.id = cc.subject_id
  AND cct2.id = cc.status_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8221.96, + "Total Cost": 8221.97, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1692.451, + "Actual Total Time": 1729.893, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8221.88, + "Total Cost": 8221.89, + "Plan Rows": 7, + "Plan Width": 128, + "Actual Startup Time": 1677.360, + "Actual Total Time": 1729.838, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 8220.88, + "Total Cost": 8220.89, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1670.020, + "Actual Total Time": 1670.034, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1682.107, + "Actual Total Time": 1682.123, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1666.557, + "Actual Total Time": 1666.567, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1669.867, + "Actual Total Time": 1669.880, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1664.507, + "Actual Total Time": 1664.518, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1668.174, + "Actual Total Time": 1668.186, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1667.487, + "Actual Total Time": 1667.499, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1665.129, + "Actual Total Time": 1665.140, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1715.76, + "Total Cost": 8209.42, + "Plan Rows": 1146, + "Plan Width": 79, + "Actual Startup Time": 98.305, + "Actual Total Time": 1667.651, + "Actual Rows": 1003, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 100.223, + "Actual Total Time": 1679.754, + "Actual Rows": 950, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 93.411, + "Actual Total Time": 1664.057, + "Actual Rows": 1088, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 94.821, + "Actual Total Time": 1667.364, + "Actual Rows": 1050, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 95.675, + "Actual Total Time": 1662.408, + "Actual Rows": 843, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 96.373, + "Actual Total Time": 1666.000, + "Actual Rows": 938, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 109.266, + "Actual Total Time": 1665.315, + "Actual Rows": 925, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 92.299, + "Actual Total Time": 1662.740, + "Actual Rows": 1045, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1713.91, + "Total Cost": 8198.08, + "Plan Rows": 3485, + "Plan Width": 83, + "Actual Startup Time": 97.923, + "Actual Total Time": 1665.104, + "Actual Rows": 3049, + "Actual Loops": 8, + "Output": ["n.name", "mi.info", "t.title", "mi_idx.info", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 99.859, + "Actual Total Time": 1677.264, + "Actual Rows": 2879, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.827, + "Actual Total Time": 1661.280, + "Actual Rows": 3298, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 94.574, + "Actual Total Time": 1664.890, + "Actual Rows": 3209, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 95.074, + "Actual Total Time": 1659.931, + "Actual Rows": 2557, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 96.086, + "Actual Total Time": 1663.686, + "Actual Rows": 2841, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 109.008, + "Actual Total Time": 1663.048, + "Actual Rows": 2811, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.988, + "Actual Total Time": 1660.215, + "Actual Rows": 3196, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1713.49, + "Total Cost": 7607.41, + "Plan Rows": 1146, + "Plan Width": 94, + "Actual Startup Time": 97.876, + "Actual Total Time": 1648.635, + "Actual Rows": 1003, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "cc.movie_id", "mi.info", "mi.movie_id", "ci.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 99.810, + "Actual Total Time": 1661.695, + "Actual Rows": 950, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.777, + "Actual Total Time": 1644.483, + "Actual Rows": 1088, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 94.525, + "Actual Total Time": 1647.283, + "Actual Rows": 1050, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 95.028, + "Actual Total Time": 1645.529, + "Actual Rows": 843, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 96.027, + "Actual Total Time": 1647.478, + "Actual Rows": 938, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 108.970, + "Actual Total Time": 1647.256, + "Actual Rows": 925, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.940, + "Actual Total Time": 1643.403, + "Actual Rows": 1045, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1713.06, + "Total Cost": 7068.28, + "Plan Rows": 1146, + "Plan Width": 73, + "Actual Startup Time": 97.826, + "Actual Total Time": 1634.729, + "Actual Rows": 1003, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "cc.movie_id", "mi.info", "mi.movie_id", "ci.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 99.746, + "Actual Total Time": 1648.636, + "Actual Rows": 950, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.743, + "Actual Total Time": 1630.674, + "Actual Rows": 1088, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 94.484, + "Actual Total Time": 1632.774, + "Actual Rows": 1050, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.982, + "Actual Total Time": 1632.882, + "Actual Rows": 843, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 95.963, + "Actual Total Time": 1634.194, + "Actual Rows": 938, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 108.912, + "Actual Total Time": 1634.332, + "Actual Rows": 925, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.885, + "Actual Total Time": 1629.253, + "Actual Rows": 1045, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1711.21, + "Total Cost": 7066.07, + "Plan Rows": 134, + "Plan Width": 77, + "Actual Startup Time": 97.805, + "Actual Total Time": 1632.874, + "Actual Rows": 1311, + "Actual Loops": 8, + "Output": ["n.name", "mk.movie_id", "cc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "ci.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 99.732, + "Actual Total Time": 1646.873, + "Actual Rows": 1191, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.728, + "Actual Total Time": 1628.784, + "Actual Rows": 1513, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 94.473, + "Actual Total Time": 1630.829, + "Actual Rows": 1504, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.967, + "Actual Total Time": 1631.107, + "Actual Rows": 1170, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 95.949, + "Actual Total Time": 1632.492, + "Actual Rows": 1142, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 108.900, + "Actual Total Time": 1632.643, + "Actual Rows": 1211, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.871, + "Actual Total Time": 1627.234, + "Actual Rows": 1340, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1710.78, + "Total Cost": 6902.96, + "Plan Rows": 320, + "Plan Width": 66, + "Actual Startup Time": 96.095, + "Actual Total Time": 1595.302, + "Actual Rows": 1886, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "ci.movie_id", "ci.person_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 97.601, + "Actual Total Time": 1611.396, + "Actual Rows": 1622, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 92.663, + "Actual Total Time": 1589.386, + "Actual Rows": 2033, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 94.409, + "Actual Total Time": 1592.417, + "Actual Rows": 2073, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.888, + "Actual Total Time": 1593.836, + "Actual Rows": 1772, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 95.846, + "Actual Total Time": 1599.590, + "Actual Rows": 1716, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 97.807, + "Actual Total Time": 1593.154, + "Actual Rows": 1879, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.773, + "Actual Total Time": 1588.788, + "Actual Rows": 1939, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1710.34, + "Total Cost": 6539.29, + "Plan Rows": 268, + "Plan Width": 58, + "Actual Startup Time": 93.165, + "Actual Total Time": 591.546, + "Actual Rows": 2293, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": true, + "Hash Cond": "(cc.status_id = cct2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 92.506, + "Actual Total Time": 588.064, + "Actual Rows": 2275, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 91.152, + "Actual Total Time": 579.083, + "Actual Rows": 2373, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 93.892, + "Actual Total Time": 579.082, + "Actual Rows": 2372, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 89.320, + "Actual Total Time": 559.368, + "Actual Rows": 2193, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.339, + "Actual Total Time": 623.797, + "Actual Rows": 2246, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.555, + "Actual Total Time": 623.643, + "Actual Rows": 2170, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.201, + "Actual Total Time": 599.180, + "Actual Rows": 2242, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1709.30, + "Total Cost": 6532.45, + "Plan Rows": 1071, + "Plan Width": 62, + "Actual Startup Time": 93.148, + "Actual Total Time": 587.013, + "Actual Rows": 3972, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 92.492, + "Actual Total Time": 583.606, + "Actual Rows": 3938, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 91.137, + "Actual Total Time": 574.541, + "Actual Rows": 3972, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 93.882, + "Actual Total Time": 574.531, + "Actual Rows": 4069, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 89.304, + "Actual Total Time": 554.797, + "Actual Rows": 3745, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.327, + "Actual Total Time": 619.219, + "Actual Rows": 4091, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.539, + "Actual Total Time": 619.244, + "Actual Rows": 4000, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 91.189, + "Actual Total Time": 594.763, + "Actual Rows": 3842, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1708.87, + "Total Cost": 2771.03, + "Plan Rows": 3619, + "Plan Width": 12, + "Actual Startup Time": 92.541, + "Actual Total Time": 116.054, + "Actual Rows": 3166, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.status_id"], + "Inner Unique": true, + "Hash Cond": "(cc.subject_id = cct1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 92.320, + "Actual Total Time": 110.232, + "Actual Rows": 2997, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.349, + "Actual Total Time": 108.798, + "Actual Rows": 3230, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 92.222, + "Actual Total Time": 110.826, + "Actual Rows": 3202, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 89.106, + "Actual Total Time": 115.450, + "Actual Rows": 3214, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.065, + "Actual Total Time": 127.317, + "Actual Rows": 3380, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.357, + "Actual Total Time": 119.926, + "Actual Rows": 3136, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 90.007, + "Actual Total Time": 109.005, + "Actual Rows": 2991, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1707.83, + "Total Cost": 2742.18, + "Plan Rows": 5144, + "Plan Width": 16, + "Actual Startup Time": 92.522, + "Actual Total Time": 112.084, + "Actual Rows": 4501, + "Actual Loops": 8, + "Output": ["mk.movie_id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Inner Unique": false, + "Hash Cond": "(cc.movie_id = mk.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 92.306, + "Actual Total Time": 106.786, + "Actual Rows": 2997, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.330, + "Actual Total Time": 105.330, + "Actual Rows": 3230, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 92.201, + "Actual Total Time": 107.083, + "Actual Rows": 3202, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 89.088, + "Actual Total Time": 111.519, + "Actual Rows": 5094, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 93.051, + "Actual Total Time": 122.557, + "Actual Rows": 7262, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.339, + "Actual Total Time": 114.952, + "Actual Rows": 5687, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 89.992, + "Actual Total Time": 105.568, + "Actual Rows": 3502, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "complete_cast", + "Schema": "public", + "Alias": "cc", + "Startup Cost": 0.00, + "Total Cost": 923.98, + "Plan Rows": 19298, + "Plan Width": 12, + "Actual Startup Time": 0.023, + "Actual Total Time": 4.628, + "Actual Rows": 16886, + "Actual Loops": 8, + "Output": ["cc.id", "cc.movie_id", "cc.subject_id", "cc.status_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 2.883, + "Actual Rows": 9250, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 3.343, + "Actual Rows": 11100, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 3.384, + "Actual Rows": 10545, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 5.459, + "Actual Rows": 21496, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 7.220, + "Actual Rows": 28860, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 5.413, + "Actual Rows": 21090, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 3.973, + "Actual Rows": 12395, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1570.84, + "Total Cost": 1570.84, + "Plan Rows": 10959, + "Plan Width": 4, + "Actual Startup Time": 92.099, + "Actual Total Time": 92.101, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Hash Buckets": 131072, + "Original Hash Buckets": 131072, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 4128, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 92.208, + "Actual Total Time": 92.211, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 90.252, + "Actual Total Time": 90.254, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 92.100, + "Actual Total Time": 92.102, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 88.931, + "Actual Total Time": 88.932, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 92.959, + "Actual Total Time": 92.960, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 92.224, + "Actual Total Time": 92.226, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 89.819, + "Actual Total Time": 89.820, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1570.84, + "Plan Rows": 10959, + "Plan Width": 4, + "Actual Startup Time": 13.539, + "Actual Total Time": 55.246, + "Actual Rows": 9589, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.774, + "Actual Total Time": 51.847, + "Actual Rows": 12628, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.510, + "Actual Total Time": 77.199, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.438, + "Actual Total Time": 49.583, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 50.161, + "Actual Total Time": 50.162, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.534, + "Actual Total Time": 62.058, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.723, + "Actual Total Time": 47.705, + "Actual Rows": 8337, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 51.062, + "Actual Total Time": 51.063, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1308.38, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 13.422, + "Actual Total Time": 16.061, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.552, + "Actual Total Time": 0.608, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.257, + "Actual Total Time": 0.266, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.318, + "Actual Total Time": 17.269, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 50.160, + "Actual Total Time": 50.161, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.420, + "Actual Total Time": 0.452, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.603, + "Actual Total Time": 5.632, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 51.061, + "Actual Total Time": 51.061, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.86, + "Plan Rows": 10959, + "Plan Width": 8, + "Actual Startup Time": 0.138, + "Actual Total Time": 41.461, + "Actual Rows": 10959, + "Actual Loops": 7, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.144, + "Actual Total Time": 23.586, + "Actual Rows": 6314, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.244, + "Actual Total Time": 71.080, + "Actual Rows": 19528, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.115, + "Actual Total Time": 30.395, + "Actual Rows": 5392, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.108, + "Actual Total Time": 56.607, + "Actual Rows": 20522, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.116, + "Actual Total Time": 39.177, + "Actual Rows": 8337, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct1", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct1.id"], + "Filter": "((cct1.kind)::text = 'cast'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.147, + "Actual Rows": 1, + "Actual Loops": 25331, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 98, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.156, + "Actual Rows": 1, + "Actual Loops": 2997 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.142, + "Actual Rows": 1, + "Actual Loops": 3230 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.143, + "Actual Rows": 1, + "Actual Loops": 3202 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.135, + "Actual Rows": 1, + "Actual Loops": 3214 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.144, + "Actual Rows": 1, + "Actual Loops": 3380 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.100, + "Actual Total Time": 0.157, + "Actual Rows": 1, + "Actual Loops": 3136 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.160, + "Actual Rows": 1, + "Actual Loops": 2991 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["cct2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "comp_cast_type", + "Schema": "public", + "Alias": "cct2", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["cct2.id"], + "Filter": "((cct2.kind)::text = 'complete+verified'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.350, + "Actual Total Time": 0.436, + "Actual Rows": 1, + "Actual Loops": 18344, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 84, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.360, + "Actual Total Time": 0.448, + "Actual Rows": 1, + "Actual Loops": 2275 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.345, + "Actual Total Time": 0.424, + "Actual Rows": 1, + "Actual Loops": 2373 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.338, + "Actual Total Time": 0.425, + "Actual Rows": 1, + "Actual Loops": 2372 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.381, + "Actual Total Time": 0.470, + "Actual Rows": 1, + "Actual Loops": 2193 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.355, + "Actual Total Time": 0.432, + "Actual Rows": 1, + "Actual Loops": 2246 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.364, + "Actual Total Time": 0.445, + "Actual Rows": 1, + "Actual Loops": 2170 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.338, + "Actual Total Time": 0.439, + "Actual Rows": 1, + "Actual Loops": 2242 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 15086, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 1622 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 2033 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 2073 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1772 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 1716 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 1879 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 1939 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 8024, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 950 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 1088 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1050 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 843 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 938 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 925 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 1045 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 8024, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 950 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 1088 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 1050 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 843 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 938 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 925 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 1045 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.054, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1889760809355916724, + "Planning Time": 2633.294, + "Triggers": [ + ], + "Execution Time": 1730.358, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1889760809355916724, + "JOINS": 11 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS violent_liongate_movie
FROM cast_info AS ci,
     company_name AS cn,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND cn.name LIKE 'Lionsgate%'
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cn.id = mc.company_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4140.16, + "Total Cost": 4140.17, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 844.297, + "Actual Total Time": 867.234, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4140.07, + "Total Cost": 4140.08, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 389.524, + "Actual Total Time": 867.198, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4139.07, + "Total Cost": 4139.08, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 310.261, + "Actual Total Time": 310.272, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 834.915, + "Actual Total Time": 834.921, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 668.120, + "Actual Total Time": 668.128, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 423.987, + "Actual Total Time": 423.994, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 44.045, + "Actual Total Time": 44.057, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 39.234, + "Actual Total Time": 39.247, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 44.243, + "Actual Total Time": 44.255, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 39.001, + "Actual Total Time": 39.012, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.13, + "Total Cost": 4137.48, + "Plan Rows": 159, + "Plan Width": 79, + "Actual Startup Time": 21.425, + "Actual Total Time": 309.974, + "Actual Rows": 159, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.115, + "Actual Total Time": 833.991, + "Actual Rows": 564, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 49.066, + "Actual Total Time": 667.469, + "Actual Rows": 366, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.257, + "Actual Total Time": 423.610, + "Actual Rows": 176, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.484, + "Actual Total Time": 44.037, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 11.993, + "Actual Total Time": 39.225, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.571, + "Actual Total Time": 44.228, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 38.993, + "Actual Total Time": 39.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.29, + "Total Cost": 4134.32, + "Plan Rows": 486, + "Plan Width": 83, + "Actual Startup Time": 19.117, + "Actual Total Time": 309.102, + "Actual Rows": 486, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "mi_idx.info_type_id", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.947, + "Actual Total Time": 832.357, + "Actual Rows": 1692, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.179, + "Actual Total Time": 666.221, + "Actual Rows": 1131, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 24.036, + "Actual Total Time": 422.349, + "Actual Rows": 532, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.503, + "Actual Total Time": 43.724, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.589, + "Actual Total Time": 38.649, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.084, + "Actual Total Time": 43.888, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 38.257, + "Actual Total Time": 38.265, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.87, + "Total Cost": 3933.34, + "Plan Rows": 450, + "Plan Width": 87, + "Actual Startup Time": 15.833, + "Actual Total Time": 141.939, + "Actual Rows": 18286, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "mi_idx.info_type_id", "mk.keyword_id", "n.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.623, + "Actual Total Time": 370.108, + "Actual Rows": 55296, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 23.619, + "Actual Total Time": 285.814, + "Actual Rows": 42449, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.259, + "Actual Total Time": 194.046, + "Actual Rows": 21540, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.805, + "Actual Total Time": 34.086, + "Actual Rows": 603, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.100, + "Actual Total Time": 33.266, + "Actual Rows": 450, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.844, + "Actual Total Time": 43.086, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 38.256, + "Actual Total Time": 38.263, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.44, + "Total Cost": 3819.19, + "Plan Rows": 63, + "Plan Width": 103, + "Actual Startup Time": 14.996, + "Actual Total Time": 119.918, + "Actual Rows": 167, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id", "n.name", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.235, + "Actual Total Time": 308.109, + "Actual Rows": 609, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.069, + "Actual Total Time": 238.207, + "Actual Rows": 365, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.215, + "Actual Total Time": 164.556, + "Actual Rows": 163, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.567, + "Actual Total Time": 33.159, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.542, + "Actual Total Time": 32.253, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.331, + "Actual Total Time": 42.452, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 38.255, + "Actual Total Time": 38.262, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 3803.37, + "Plan Rows": 31, + "Plan Width": 90, + "Actual Startup Time": 14.934, + "Actual Total Time": 118.619, + "Actual Rows": 56, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.157, + "Actual Total Time": 303.878, + "Actual Rows": 205, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.979, + "Actual Total Time": 235.662, + "Actual Rows": 119, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.164, + "Actual Total Time": 162.672, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.482, + "Actual Total Time": 33.051, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.477, + "Actual Total Time": 32.161, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.252, + "Actual Total Time": 42.345, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 38.254, + "Actual Total Time": 38.260, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.58, + "Total Cost": 3788.55, + "Plan Rows": 31, + "Plan Width": 69, + "Actual Startup Time": 14.842, + "Actual Total Time": 117.382, + "Actual Rows": 56, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8.071, + "Actual Total Time": 300.435, + "Actual Rows": 205, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.673, + "Actual Total Time": 232.416, + "Actual Rows": 119, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.115, + "Actual Total Time": 160.987, + "Actual Rows": 57, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.389, + "Actual Total Time": 32.956, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.403, + "Actual Total Time": 32.069, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.184, + "Actual Total Time": 42.253, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 38.253, + "Actual Total Time": 38.258, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.15, + "Total Cost": 3750.83, + "Plan Rows": 74, + "Plan Width": 58, + "Actual Startup Time": 14.562, + "Actual Total Time": 114.993, + "Actual Rows": 74, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.852, + "Actual Total Time": 291.388, + "Actual Rows": 282, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.578, + "Actual Total Time": 227.489, + "Actual Rows": 165, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.041, + "Actual Total Time": 158.642, + "Actual Rows": 68, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.306, + "Actual Total Time": 32.653, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8.308, + "Actual Total Time": 31.747, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.087, + "Actual Total Time": 42.134, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 38.252, + "Actual Total Time": 38.257, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 3623.87, + "Plan Rows": 90, + "Plan Width": 50, + "Actual Startup Time": 8.724, + "Actual Total Time": 41.141, + "Actual Rows": 90, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.999, + "Actual Total Time": 75.956, + "Actual Rows": 327, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.329, + "Actual Total Time": 73.499, + "Actual Rows": 215, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.914, + "Actual Total Time": 44.759, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.491, + "Actual Total Time": 27.344, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.280, + "Actual Total Time": 12.942, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.011, + "Actual Total Time": 34.768, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 38.252, + "Actual Total Time": 38.256, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3621.77, + "Plan Rows": 93, + "Plan Width": 54, + "Actual Startup Time": 8.695, + "Actual Total Time": 40.905, + "Actual Rows": 93, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.957, + "Actual Total Time": 75.280, + "Actual Rows": 331, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 13.313, + "Actual Total Time": 72.995, + "Actual Rows": 232, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.882, + "Actual Total Time": 44.451, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.474, + "Actual Total Time": 27.315, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.260, + "Actual Total Time": 12.901, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.995, + "Actual Total Time": 34.735, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 38.241, + "Actual Total Time": 38.243, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3403.42, + "Plan Rows": 227, + "Plan Width": 4, + "Actual Startup Time": 6.745, + "Actual Total Time": 16.294, + "Actual Rows": 227, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.956, + "Actual Total Time": 6.205, + "Actual Rows": 712, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.581, + "Actual Total Time": 10.204, + "Actual Rows": 595, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.142, + "Actual Total Time": 13.432, + "Actual Rows": 167, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.305, + "Actual Total Time": 26.794, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.143, + "Actual Total Time": 11.528, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.719, + "Actual Total Time": 20.067, + "Actual Rows": 228, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 38.240, + "Actual Total Time": 38.241, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.524, + "Actual Total Time": 14.511, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "(cn.name ~~ 'Lionsgate%'::text)", + "Rows Removed by Filter": 29373, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.591, + "Actual Total Time": 0.607, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.446, + "Actual Total Time": 6.468, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.964, + "Actual Total Time": 11.363, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.223, + "Actual Total Time": 26.683, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.042, + "Actual Total Time": 11.295, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.620, + "Actual Total Time": 19.358, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 38.239, + "Actual Total Time": 38.240, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 39.42, + "Plan Rows": 181, + "Plan Width": 8, + "Actual Startup Time": 0.190, + "Actual Total Time": 1.325, + "Actual Rows": 181, + "Actual Loops": 10, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.360, + "Actual Total Time": 5.230, + "Actual Rows": 712, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.128, + "Actual Total Time": 3.443, + "Actual Rows": 595, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.122, + "Actual Total Time": 0.964, + "Actual Rows": 84, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.103, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.108, + "Actual Rows": 4, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.069, + "Actual Total Time": 0.305, + "Actual Rows": 114, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.95, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.107, + "Actual Rows": 0, + "Actual Loops": 1814, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 61, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.083, + "Actual Total Time": 0.096, + "Actual Rows": 0, + "Actual Loops": 712 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.104, + "Actual Rows": 0, + "Actual Loops": 595 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.158, + "Actual Total Time": 0.184, + "Actual Rows": 1, + "Actual Loops": 167 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.169, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.181, + "Actual Total Time": 0.193, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.063, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 228 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.40, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.641, + "Actual Total Time": 0.814, + "Actual Rows": 1, + "Actual Loops": 724, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 88, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.521, + "Actual Total Time": 0.657, + "Actual Rows": 1, + "Actual Loops": 327 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.563, + "Actual Total Time": 0.714, + "Actual Rows": 1, + "Actual Loops": 215 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.963, + "Actual Total Time": 1.221, + "Actual Rows": 1, + "Actual Loops": 93 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.527, + "Actual Total Time": 1.765, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.424, + "Actual Total Time": 3.757, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.503, + "Actual Total Time": 1.837, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 594, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 282 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 165 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 68 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.147, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.103, + "Actual Total Time": 0.103, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 444, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 205 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 119 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 57 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.087, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.020, + "Actual Rows": 3, + "Actual Loops": 444, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 3, + "Actual Loops": 205 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 119 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.028, + "Actual Rows": 3, + "Actual Loops": 57 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.095, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.039, + "Actual Rows": 3, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.047, + "Actual Rows": 3, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 84, + "Plan Width": 8, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.100, + "Actual Rows": 110, + "Actual Loops": 1333, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.077, + "Actual Rows": 91, + "Actual Loops": 609 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.097, + "Actual Rows": 116, + "Actual Loops": 365 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.134, + "Actual Rows": 132, + "Actual Loops": 163 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.092, + "Actual Total Time": 0.232, + "Actual Rows": 201, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.103, + "Actual Total Time": 0.145, + "Actual Rows": 75, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.093, + "Actual Total Time": 0.100, + "Actual Rows": 11, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 146292, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 55296 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 42449 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 21540 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 603 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 450 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 66 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.067, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7519382914444524780, + "Planning Time": 369.156, + "Triggers": [ + ], + "Execution Time": 867.685, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7519382914444524780, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS violent_liongate_movie
FROM cast_info AS ci,
     company_name AS cn,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND cn.name LIKE 'Lionsgate%'
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mc.note LIKE '%(Blu-ray)%'
  AND mi.info IN ('Horror',
                  'Thriller')
  AND n.gender = 'm'
  AND t.production_year > 2000
  AND (t.title LIKE '%Freddy%'
       OR t.title LIKE '%Jason%'
       OR t.title LIKE 'Saw%')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cn.id = mc.company_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3456.99, + "Total Cost": 3457.00, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 53.634, + "Actual Total Time": 59.006, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3456.90, + "Total Cost": 3456.91, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 40.886, + "Actual Total Time": 58.978, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3455.90, + "Total Cost": 3455.91, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 29.020, + "Actual Total Time": 29.031, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.524, + "Actual Total Time": 21.537, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 30.052, + "Actual Total Time": 30.062, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.109, + "Actual Total Time": 22.120, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.246, + "Actual Total Time": 30.256, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.765, + "Actual Total Time": 22.779, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.754, + "Actual Total Time": 22.765, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 42.968, + "Actual Total Time": 42.973, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.75, + "Total Cost": 3455.80, + "Plan Rows": 10, + "Plan Width": 79, + "Actual Startup Time": 18.004, + "Actual Total Time": 28.991, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.515, + "Actual Total Time": 21.526, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.573, + "Actual Total Time": 29.997, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.103, + "Actual Total Time": 22.113, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.241, + "Actual Total Time": 30.250, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.756, + "Actual Total Time": 22.768, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.744, + "Actual Total Time": 22.754, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.066, + "Actual Total Time": 42.846, + "Actual Rows": 46, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.60, + "Total Cost": 3454.22, + "Plan Rows": 32, + "Plan Width": 83, + "Actual Startup Time": 17.990, + "Actual Total Time": 28.918, + "Actual Rows": 32, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "mi_idx.info_type_id", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.514, + "Actual Total Time": 21.524, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.541, + "Actual Total Time": 29.846, + "Actual Rows": 66, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.102, + "Actual Total Time": 22.110, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.240, + "Actual Total Time": 30.248, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.754, + "Actual Total Time": 22.765, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.743, + "Actual Total Time": 22.751, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 15.033, + "Actual Total Time": 42.580, + "Actual Rows": 138, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.17, + "Total Cost": 3453.70, + "Plan Rows": 1, + "Plan Width": 94, + "Actual Startup Time": 17.968, + "Actual Total Time": 28.725, + "Actual Rows": 10, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "mk.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.513, + "Actual Total Time": 21.522, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5.475, + "Actual Total Time": 29.437, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.101, + "Actual Total Time": 22.108, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.240, + "Actual Total Time": 30.247, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.753, + "Actual Total Time": 22.763, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.742, + "Actual Total Time": 22.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.978, + "Actual Total Time": 41.809, + "Actual Rows": 46, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.75, + "Total Cost": 3453.24, + "Plan Rows": 1, + "Plan Width": 98, + "Actual Startup Time": 17.767, + "Actual Total Time": 23.916, + "Actual Rows": 336, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "mk.movie_id", "mk.keyword_id", "n.name", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.512, + "Actual Total Time": 21.520, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.536, + "Actual Total Time": 22.108, + "Actual Rows": 496, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.100, + "Actual Total Time": 22.107, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.239, + "Actual Total Time": 30.245, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.752, + "Actual Total Time": 22.761, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.741, + "Actual Total Time": 22.748, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.669, + "Actual Total Time": 22.016, + "Actual Rows": 1470, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.32, + "Total Cost": 3450.59, + "Plan Rows": 1, + "Plan Width": 90, + "Actual Startup Time": 17.744, + "Actual Total Time": 23.329, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mc.movie_id", "mi.info", "mi.movie_id", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.511, + "Actual Total Time": 21.518, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.478, + "Actual Total Time": 21.186, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.099, + "Actual Total Time": 22.105, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.238, + "Actual Total Time": 30.244, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.752, + "Actual Total Time": 22.759, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.740, + "Actual Total Time": 22.746, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.602, + "Actual Total Time": 19.577, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.89, + "Total Cost": 3450.08, + "Plan Rows": 1, + "Plan Width": 79, + "Actual Startup Time": 17.723, + "Actual Total Time": 23.248, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.510, + "Actual Total Time": 21.516, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.420, + "Actual Total Time": 21.008, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.098, + "Actual Total Time": 22.103, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.238, + "Actual Total Time": 30.243, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.751, + "Actual Total Time": 22.757, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.739, + "Actual Total Time": 22.744, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 14.548, + "Actual Total Time": 19.283, + "Actual Rows": 10, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.45, + "Total Cost": 3444.48, + "Plan Rows": 1, + "Plan Width": 71, + "Actual Startup Time": 17.496, + "Actual Total Time": 22.533, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.509, + "Actual Total Time": 21.514, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.085, + "Actual Total Time": 19.698, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.097, + "Actual Total Time": 22.101, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.237, + "Actual Total Time": 30.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.750, + "Actual Total Time": 22.755, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.738, + "Actual Total Time": 22.743, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.871, + "Actual Total Time": 16.230, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 3444.29, + "Plan Rows": 1, + "Plan Width": 75, + "Actual Startup Time": 17.477, + "Actual Total Time": 22.508, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "t.title", "t.id"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.508, + "Actual Total Time": 21.512, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.032, + "Actual Total Time": 19.636, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.096, + "Actual Total Time": 22.099, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.236, + "Actual Total Time": 30.239, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.749, + "Actual Total Time": 22.753, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.737, + "Actual Total Time": 22.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.816, + "Actual Total Time": 16.149, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3441.33, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 17.372, + "Actual Total Time": 22.196, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.507, + "Actual Total Time": 21.510, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.789, + "Actual Total Time": 18.566, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.095, + "Actual Total Time": 22.097, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.236, + "Actual Total Time": 30.238, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.748, + "Actual Total Time": 22.752, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.736, + "Actual Total Time": 22.739, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 13.518, + "Actual Total Time": 15.077, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3401.88, + "Plan Rows": 17, + "Plan Width": 4, + "Actual Startup Time": 16.269, + "Actual Total Time": 21.528, + "Actual Rows": 17, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.506, + "Actual Total Time": 21.508, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.677, + "Actual Total Time": 17.498, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.094, + "Actual Total Time": 22.095, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.235, + "Actual Total Time": 30.236, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.747, + "Actual Total Time": 22.749, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.736, + "Actual Total Time": 22.737, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.829, + "Actual Total Time": 11.745, + "Actual Rows": 97, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 10.315, + "Actual Total Time": 20.159, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "(cn.name ~~ 'Lionsgate%'::text)", + "Rows Removed by Filter": 29373, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.505, + "Actual Total Time": 21.506, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 12.812, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.093, + "Actual Total Time": 22.093, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.503, + "Actual Total Time": 30.035, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.548, + "Actual Total Time": 22.592, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 22.734, + "Actual Total Time": 22.734, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.851, + "Actual Total Time": 7.934, + "Actual Rows": 3, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 39.55, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.306, + "Actual Total Time": 1.084, + "Actual Rows": 14, + "Actual Loops": 10, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mc.note ~~ '%(Blu-ray)%'::text)", + "Rows Removed by Filter": 168, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.647, + "Actual Total Time": 4.676, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.148, + "Actual Total Time": 0.148, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.300, + "Actual Total Time": 1.253, + "Actual Rows": 32, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 2.32, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 135, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year > 2000) AND ((t.title ~~ '%Freddy%'::text) OR (t.title ~~ '%Jason%'::text) OR (t.title ~~ 'Saw%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.080, + "Actual Rows": 0, + "Actual Loops": 13 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 97 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 2.94, + "Plan Rows": 2, + "Plan Width": 50, + "Actual Startup Time": 0.200, + "Actual Total Time": 0.350, + "Actual Rows": 2, + "Actual Loops": 7, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Thriller}'::text[]))", + "Rows Removed by Filter": 265, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.140, + "Actual Total Time": 0.530, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.207, + "Actual Total Time": 0.264, + "Actual Rows": 2, + "Actual Loops": 4 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 11, + "Output": ["it1.id"], + "Cache Key": "mi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 7, + "Cache Hits": 6, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 3, + "Output": ["it1.id"], + "Index Cond": "(it1.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 5.60, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.373, + "Actual Total Time": 0.514, + "Actual Rows": 2, + "Actual Loops": 11, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 87, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.316, + "Actual Total Time": 0.648, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.347, + "Actual Total Time": 0.432, + "Actual Rows": 1, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 19, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'm'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.99, + "Plan Rows": 133, + "Plan Width": 8, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.141, + "Actual Rows": 141, + "Actual Loops": 19, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.110, + "Actual Rows": 99, + "Actual Loops": 5 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.141, + "Actual Rows": 147, + "Actual Loops": 10 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 2686, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 496 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1470 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 84, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 22 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 46 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 252, + "Output": ["it2.id"], + "Cache Key": "mi_idx.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 45, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 66, + "Cache Hits": 63, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 138, + "Cache Hits": 135, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 9, + "Output": ["it2.id"], + "Index Cond": "(it2.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 3 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 146477119612211947, + "Planning Time": 376.373, + "Triggers": [ + ], + "Execution Time": 59.565, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 146477119612211947, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(mi.info) AS movie_budget,
       MIN(mi_idx.info) AS movie_votes,
       MIN(n.name) AS writer,
       MIN(t.title) AS violent_liongate_movie
FROM cast_info AS ci,
     company_name AS cn,
     info_type AS it1,
     info_type AS it2,
     keyword AS k,
     movie_companies AS mc,
     movie_info AS mi,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE ci.note IN ('(writer)',
                  '(head writer)',
                  '(written by)',
                  '(story)',
                  '(story editor)')
  AND cn.name LIKE 'Lionsgate%'
  AND it1.info = 'genres'
  AND it2.info = 'votes'
  AND k.keyword IN ('murder',
                    'violence',
                    'blood',
                    'gore',
                    'death',
                    'female-nudity',
                    'hospital')
  AND mi.info IN ('Horror',
                  'Action',
                  'Sci-Fi',
                  'Thriller',
                  'Crime',
                  'War')
  AND t.id = mi.movie_id
  AND t.id = mi_idx.movie_id
  AND t.id = ci.movie_id
  AND t.id = mk.movie_id
  AND t.id = mc.movie_id
  AND ci.movie_id = mi.movie_id
  AND ci.movie_id = mi_idx.movie_id
  AND ci.movie_id = mk.movie_id
  AND ci.movie_id = mc.movie_id
  AND mi.movie_id = mi_idx.movie_id
  AND mi.movie_id = mk.movie_id
  AND mi.movie_id = mc.movie_id
  AND mi_idx.movie_id = mk.movie_id
  AND mi_idx.movie_id = mc.movie_id
  AND mk.movie_id = mc.movie_id
  AND n.id = ci.person_id
  AND it1.id = mi.info_type_id
  AND it2.id = mi_idx.info_type_id
  AND k.id = mk.keyword_id
  AND cn.id = mc.company_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4756.13, + "Total Cost": 4756.14, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 817.445, + "Actual Total Time": 841.826, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi.info)", "min(mi_idx.info)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4756.03, + "Total Cost": 4756.05, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 308.414, + "Actual Total Time": 841.767, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi.info))", "(PARTIAL min(mi_idx.info))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 4755.03, + "Total Cost": 4755.04, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 308.559, + "Actual Total Time": 308.570, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi.info)", "PARTIAL min(mi_idx.info)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 48.645, + "Actual Total Time": 48.656, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 807.152, + "Actual Total Time": 807.157, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 782.031, + "Actual Total Time": 782.037, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 41.440, + "Actual Total Time": 41.451, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 47.384, + "Actual Total Time": 47.396, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 393.198, + "Actual Total Time": 393.205, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 41.315, + "Actual Total Time": 41.326, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.13, + "Total Cost": 4751.50, + "Plan Rows": 353, + "Plan Width": 79, + "Actual Startup Time": 14.402, + "Actual Total Time": 308.092, + "Actual Rows": 353, + "Actual Loops": 8, + "Output": ["mi.info", "mi_idx.info", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.637, + "Actual Total Time": 48.591, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.763, + "Actual Total Time": 805.613, + "Actual Rows": 1266, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.351, + "Actual Total Time": 781.029, + "Actual Rows": 816, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.757, + "Actual Total Time": 41.412, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 47.377, + "Actual Total Time": 47.388, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.167, + "Actual Total Time": 392.612, + "Actual Rows": 388, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.456, + "Actual Total Time": 41.288, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.70, + "Total Cost": 4572.46, + "Plan Rows": 353, + "Plan Width": 68, + "Actual Startup Time": 14.323, + "Actual Total Time": 304.241, + "Actual Rows": 353, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.556, + "Actual Total Time": 48.276, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.695, + "Actual Total Time": 792.715, + "Actual Rows": 1266, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.260, + "Actual Total Time": 772.703, + "Actual Rows": 816, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.654, + "Actual Total Time": 41.219, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 47.376, + "Actual Total Time": 47.387, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 14.092, + "Actual Total Time": 387.957, + "Actual Rows": 388, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.324, + "Actual Total Time": 41.081, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.86, + "Total Cost": 4569.59, + "Plan Rows": 376, + "Plan Width": 72, + "Actual Startup Time": 13.806, + "Actual Total Time": 303.325, + "Actual Rows": 376, + "Actual Loops": 8, + "Output": ["ci.person_id", "mi.info", "mi.info_type_id", "mi_idx.info", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.264, + "Actual Total Time": 47.943, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.360, + "Actual Total Time": 791.089, + "Actual Rows": 1302, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 20.541, + "Actual Total Time": 771.090, + "Actual Rows": 959, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.960, + "Actual Total Time": 40.510, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 47.008, + "Actual Total Time": 47.016, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.369, + "Actual Total Time": 386.750, + "Actual Rows": 388, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.646, + "Actual Total Time": 40.391, + "Actual Rows": 3, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.42, + "Total Cost": 4568.24, + "Plan Rows": 1, + "Plan Width": 88, + "Actual Startup Time": 7.509, + "Actual Total Time": 201.357, + "Actual Rows": 381, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Join Filter": "(mi.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.737, + "Actual Total Time": 44.375, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.515, + "Actual Total Time": 505.038, + "Actual Rows": 1188, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.680, + "Actual Total Time": 516.381, + "Actual Rows": 1088, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.184, + "Actual Total Time": 38.053, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.880, + "Actual Total Time": 43.736, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.080, + "Actual Total Time": 235.906, + "Actual Rows": 370, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.106, + "Actual Total Time": 29.660, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.99, + "Total Cost": 4567.77, + "Plan Rows": 1, + "Plan Width": 67, + "Actual Startup Time": 7.427, + "Actual Total Time": 197.192, + "Actual Rows": 381, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.678, + "Actual Total Time": 44.061, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.455, + "Actual Total Time": 492.711, + "Actual Rows": 1188, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.591, + "Actual Total Time": 506.027, + "Actual Rows": 1088, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 9.052, + "Actual Total Time": 37.824, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.816, + "Actual Total Time": 43.614, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 13.038, + "Actual Total Time": 230.950, + "Actual Rows": 370, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.967, + "Actual Total Time": 29.259, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.57, + "Total Cost": 4051.49, + "Plan Rows": 1156, + "Plan Width": 71, + "Actual Startup Time": 4.798, + "Actual Total Time": 63.205, + "Actual Rows": 14999, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id", "mk.movie_id", "mk.keyword_id"], + "Inner Unique": false, + "Join Filter": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.289, + "Actual Total Time": 35.241, + "Actual Rows": 621, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.148, + "Actual Total Time": 129.546, + "Actual Rows": 42564, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.165, + "Actual Total Time": 134.639, + "Actual Rows": 44595, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.537, + "Actual Total Time": 36.316, + "Actual Rows": 43, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.995, + "Actual Total Time": 40.993, + "Actual Rows": 152, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.826, + "Actual Total Time": 65.436, + "Actual Rows": 16426, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.401, + "Actual Total Time": 17.482, + "Actual Rows": 397, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 3715.91, + "Plan Rows": 162, + "Plan Width": 63, + "Actual Startup Time": 4.444, + "Actual Total Time": 38.631, + "Actual Rows": 162, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.info", "mi.movie_id", "mi.info_type_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": false, + "Join Filter": "(mi_idx.movie_id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.218, + "Actual Total Time": 31.075, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.075, + "Actual Total Time": 60.727, + "Actual Rows": 510, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.640, + "Actual Total Time": 69.528, + "Actual Rows": 475, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.398, + "Actual Total Time": 34.678, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.704, + "Actual Total Time": 40.444, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.764, + "Actual Total Time": 36.330, + "Actual Rows": 146, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.257, + "Actual Total Time": 15.456, + "Actual Rows": 7, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 3521.44, + "Plan Rows": 181, + "Plan Width": 13, + "Actual Startup Time": 3.592, + "Actual Total Time": 21.247, + "Actual Rows": 181, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi_idx.info", "mi_idx.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.049, + "Actual Total Time": 30.487, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.848, + "Actual Total Time": 17.904, + "Actual Rows": 470, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.470, + "Actual Total Time": 21.723, + "Actual Rows": 558, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.153, + "Actual Total Time": 21.311, + "Actual Rows": 183, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.424, + "Actual Total Time": 40.132, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.305, + "Actual Total Time": 18.084, + "Actual Rows": 129, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.052, + "Actual Total Time": 14.450, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3518.11, + "Plan Rows": 546, + "Plan Width": 17, + "Actual Startup Time": 3.552, + "Actual Total Time": 20.768, + "Actual Rows": 546, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.016, + "Actual Total Time": 30.448, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.826, + "Actual Total Time": 16.926, + "Actual Rows": 1415, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.427, + "Actual Total Time": 20.504, + "Actual Rows": 1683, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.107, + "Actual Total Time": 20.541, + "Actual Rows": 549, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.367, + "Actual Total Time": 40.107, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.276, + "Actual Total Time": 17.693, + "Actual Rows": 391, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.020, + "Actual Total Time": 14.393, + "Actual Rows": 15, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 3403.42, + "Plan Rows": 227, + "Plan Width": 4, + "Actual Startup Time": 3.392, + "Actual Total Time": 15.224, + "Actual Rows": 227, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.944, + "Actual Total Time": 30.156, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.463, + "Actual Total Time": 3.577, + "Actual Rows": 712, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.196, + "Actual Total Time": 5.916, + "Actual Rows": 601, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.882, + "Actual Total Time": 13.082, + "Actual Rows": 227, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.295, + "Actual Total Time": 39.991, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.173, + "Actual Total Time": 13.236, + "Actual Rows": 161, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.880, + "Actual Total Time": 13.967, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 3.293, + "Actual Total Time": 14.117, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "(cn.name ~~ 'Lionsgate%'::text)", + "Rows Removed by Filter": 29373, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.891, + "Actual Total Time": 30.026, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.366, + "Actual Total Time": 0.382, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.028, + "Actual Total Time": 3.371, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.726, + "Actual Total Time": 12.075, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.242, + "Actual Total Time": 39.934, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 12.100, + "Actual Total Time": 12.108, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.741, + "Actual Total Time": 13.775, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 39.42, + "Plan Rows": 181, + "Plan Width": 8, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.794, + "Actual Rows": 181, + "Actual Loops": 10, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.059, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.093, + "Actual Total Time": 2.911, + "Actual Rows": 712, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.109, + "Actual Total Time": 1.145, + "Actual Rows": 300, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.145, + "Actual Total Time": 0.825, + "Actual Rows": 227, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.052, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.068, + "Actual Total Time": 1.035, + "Actual Rows": 161, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.133, + "Actual Total Time": 0.178, + "Actual Rows": 5, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 2, + "Plan Width": 13, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.022, + "Actual Rows": 2, + "Actual Loops": 1814, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.053, + "Actual Rows": 3, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 2, + "Actual Loops": 712 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.022, + "Actual Rows": 3, + "Actual Loops": 601 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.029, + "Actual Rows": 2, + "Actual Loops": 227 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.108, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.025, + "Actual Rows": 2, + "Actual Loops": 161 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.074, + "Actual Total Time": 0.079, + "Actual Rows": 3, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'votes'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.06, + "Plan Rows": 1, + "Plan Width": 50, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.094, + "Actual Rows": 1, + "Actual Loops": 1449, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Horror,Action,Sci-Fi,Thriller,Crime,War}'::text[]))", + "Rows Removed by Filter": 75, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.113, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.090, + "Actual Rows": 1, + "Actual Loops": 470 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.084, + "Actual Rows": 1, + "Actual Loops": 558 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.071, + "Actual Rows": 0, + "Actual Loops": 183 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.274, + "Actual Total Time": 0.304, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.139, + "Actual Rows": 1, + "Actual Loops": 129 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.144, + "Actual Total Time": 0.195, + "Actual Rows": 1, + "Actual Loops": 5 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 0.97, + "Plan Rows": 88, + "Plan Width": 8, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.109, + "Actual Rows": 93, + "Actual Loops": 1295, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.456, + "Actual Total Time": 0.531, + "Actual Rows": 89, + "Actual Loops": 7 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.097, + "Actual Rows": 83, + "Actual Loops": 510 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.096, + "Actual Rows": 94, + "Actual Loops": 475 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.248, + "Actual Total Time": 0.259, + "Actual Rows": 7, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.145, + "Actual Total Time": 0.210, + "Actual Rows": 76, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.070, + "Actual Total Time": 0.140, + "Actual Rows": 113, + "Actual Loops": 146 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.123, + "Actual Total Time": 0.211, + "Actual Rows": 57, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_pkey", + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 119995, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Index Cond": "(k.id = mk.keyword_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(k.keyword = ANY ('{murder,violence,blood,gore,death,female-nudity,hospital}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 621 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 42564 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 44595 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 43 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 152 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 16426 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 397 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 3049, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 13 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1188 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 1088 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 370 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 1, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.34, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.189, + "Actual Total Time": 0.266, + "Actual Rows": 1, + "Actual Loops": 3049, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(writer),\"(head writer)\",\"(written by)\",(story),\"(story editor)\"}'::text[]))", + "Rows Removed by Filter": 125, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.170, + "Actual Total Time": 0.271, + "Actual Rows": 1, + "Actual Loops": 13 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.171, + "Actual Total Time": 0.240, + "Actual Rows": 1, + "Actual Loops": 1188 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.166, + "Actual Total Time": 0.233, + "Actual Rows": 1, + "Actual Loops": 1088 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.345, + "Actual Total Time": 0.608, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.818, + "Actual Total Time": 0.818, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.286, + "Actual Total Time": 0.406, + "Actual Rows": 1, + "Actual Loops": 370 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.465, + "Actual Total Time": 1.528, + "Actual Rows": 0, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.060, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.082, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.049, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id"], + "Filter": "((it1.info)::text = 'genres'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 2825, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 13 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 1266 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 816 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 388 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 3 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2399599952233934428, + "Planning Time": 370.440, + "Triggers": [ + ], + "Execution Time": 842.401, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 2399599952233934428, + "JOINS": 10 + } + ] (1 row)
SELECT MIN(lt.link) AS link_type,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM keyword AS k,
     link_type AS lt,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE k.keyword ='10,000-mile-club'
  AND mk.keyword_id = k.id
  AND t1.id = mk.movie_id
  AND ml.movie_id = t1.id
  AND ml.linked_movie_id = t2.id
  AND lt.id = ml.link_type_id
  AND mk.movie_id = t1.id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1365.66, + "Total Cost": 1365.67, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 14.651, + "Actual Total Time": 18.424, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((lt.link)::text)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1365.59, + "Total Cost": 1365.60, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 14.116, + "Actual Total Time": 18.407, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((lt.link)::text))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1364.59, + "Total Cost": 1364.60, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 6.885, + "Actual Total Time": 6.890, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((lt.link)::text)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.091, + "Actual Total Time": 5.096, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.194, + "Actual Total Time": 4.198, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.177, + "Actual Total Time": 6.183, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.776, + "Actual Total Time": 6.780, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.236, + "Actual Total Time": 6.241, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.689, + "Actual Total Time": 6.693, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.713, + "Actual Total Time": 6.719, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1364.55, + "Plan Rows": 6, + "Plan Width": 46, + "Actual Startup Time": 6.879, + "Actual Total Time": 6.883, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["lt.link", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.086, + "Actual Total Time": 5.091, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.187, + "Actual Total Time": 4.191, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.170, + "Actual Total Time": 6.175, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.770, + "Actual Total Time": 6.773, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.229, + "Actual Total Time": 6.233, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.682, + "Actual Total Time": 6.686, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.707, + "Actual Total Time": 6.712, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1355.68, + "Plan Rows": 6, + "Plan Width": 33, + "Actual Startup Time": 6.878, + "Actual Total Time": 6.881, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ml.linked_movie_id", "lt.link", "t1.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.085, + "Actual Total Time": 5.089, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.187, + "Actual Total Time": 4.189, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.169, + "Actual Total Time": 6.173, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.770, + "Actual Total Time": 6.772, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.229, + "Actual Total Time": 6.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.682, + "Actual Total Time": 6.685, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.706, + "Actual Total Time": 6.710, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1352.93, + "Plan Rows": 6, + "Plan Width": 24, + "Actual Startup Time": 6.877, + "Actual Total Time": 6.880, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.085, + "Actual Total Time": 5.088, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.185, + "Actual Total Time": 4.187, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.168, + "Actual Total Time": 6.172, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.769, + "Actual Total Time": 6.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.228, + "Actual Total Time": 6.230, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.681, + "Actual Total Time": 6.683, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.705, + "Actual Total Time": 6.708, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1352.00, + "Plan Rows": 6, + "Plan Width": 16, + "Actual Startup Time": 6.876, + "Actual Total Time": 6.878, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.084, + "Actual Total Time": 5.087, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.185, + "Actual Total Time": 4.186, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.168, + "Actual Total Time": 6.170, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.768, + "Actual Total Time": 6.770, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.227, + "Actual Total Time": 6.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.680, + "Actual Total Time": 6.682, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.704, + "Actual Total Time": 6.706, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.45, + "Plan Rows": 17, + "Plan Width": 4, + "Actual Startup Time": 6.866, + "Actual Total Time": 6.868, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.083, + "Actual Total Time": 5.085, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.184, + "Actual Total Time": 4.185, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.167, + "Actual Total Time": 6.169, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.689, + "Actual Total Time": 6.702, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.227, + "Actual Total Time": 6.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.679, + "Actual Total Time": 6.680, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.703, + "Actual Total Time": 6.705, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.820, + "Actual Total Time": 6.822, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = '10,000-mile-club'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.083, + "Actual Total Time": 5.083, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.183, + "Actual Total Time": 4.183, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.166, + "Actual Total Time": 6.167, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.327, + "Actual Total Time": 6.337, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.226, + "Actual Total Time": 6.226, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.678, + "Actual Total Time": 6.679, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.703, + "Actual Total Time": 6.703, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 117, + "Plan Width": 8, + "Actual Startup Time": 0.352, + "Actual Total Time": 0.353, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.352, + "Actual Total Time": 0.353, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 3, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.062, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["lt.id", "lt.link"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"],+ "Index Cond": "(t1.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"], + "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6225652705960457954, + "Planning Time": 24.016, + "Triggers": [ + ], + "Execution Time": 18.706, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 6225652705960457954, + "JOINS": 5 + } + ] (1 row)
SELECT MIN(lt.link) AS link_type,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM keyword AS k,
     link_type AS lt,
     movie_keyword AS mk,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE k.keyword ='character-name-in-title'
  AND mk.keyword_id = k.id
  AND t1.id = mk.movie_id
  AND ml.movie_id = t1.id
  AND ml.linked_movie_id = t2.id
  AND lt.id = ml.link_type_id
  AND mk.movie_id = t1.id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1365.66, + "Total Cost": 1365.67, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 465.715, + "Actual Total Time": 465.883, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min((lt.link)::text)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1365.59, + "Total Cost": 1365.60, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 465.692, + "Actual Total Time": 465.871, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min((lt.link)::text))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1364.59, + "Total Cost": 1364.60, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 64.536, + "Actual Total Time": 64.540, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min((lt.link)::text)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.345, + "Actual Total Time": 7.349, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.055, + "Actual Total Time": 6.058, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.626, + "Actual Total Time": 7.631, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.496, + "Actual Total Time": 7.500, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.923, + "Actual Total Time": 7.927, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.288, + "Actual Total Time": 7.292, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.717, + "Actual Total Time": 7.722, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.72, + "Total Cost": 1364.55, + "Plan Rows": 6, + "Plan Width": 46, + "Actual Startup Time": 6.731, + "Actual Total Time": 64.044, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["lt.link", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.340, + "Actual Total Time": 7.344, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.049, + "Actual Total Time": 6.053, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.622, + "Actual Total Time": 7.626, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.492, + "Actual Total Time": 7.496, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.916, + "Actual Total Time": 7.920, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.282, + "Actual Total Time": 7.286, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.711, + "Actual Total Time": 7.715, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 1355.68, + "Plan Rows": 6, + "Plan Width": 33, + "Actual Startup Time": 6.722, + "Actual Total Time": 50.257, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["ml.linked_movie_id", "lt.link", "t1.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.340, + "Actual Total Time": 7.343, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.049, + "Actual Total Time": 6.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.622, + "Actual Total Time": 7.625, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.491, + "Actual Total Time": 7.494, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.916, + "Actual Total Time": 7.919, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.281, + "Actual Total Time": 7.284, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.710, + "Actual Total Time": 7.714, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1352.93, + "Plan Rows": 6, + "Plan Width": 24, + "Actual Startup Time": 6.715, + "Actual Total Time": 45.482, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "lt.link"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.339, + "Actual Total Time": 7.342, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.048, + "Actual Total Time": 6.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.621, + "Actual Total Time": 7.623, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.490, + "Actual Total Time": 7.493, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.915, + "Actual Total Time": 7.917, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.280, + "Actual Total Time": 7.282, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.710, + "Actual Total Time": 7.712, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.72, + "Total Cost": 1352.00, + "Plan Rows": 6, + "Plan Width": 16, + "Actual Startup Time": 6.710, + "Actual Total Time": 43.151, + "Actual Rows": 548, + "Actual Loops": 8, + "Output": ["mk.movie_id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.338, + "Actual Total Time": 7.340, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.048, + "Actual Total Time": 6.049, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.620, + "Actual Total Time": 7.622, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.490, + "Actual Total Time": 7.492, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.914, + "Actual Total Time": 7.916, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.280, + "Actual Total Time": 7.281, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.709, + "Actual Total Time": 7.711, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1345.45, + "Plan Rows": 17, + "Plan Width": 4, + "Actual Startup Time": 6.674, + "Actual Total Time": 22.140, + "Actual Rows": 5230, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.337, + "Actual Total Time": 7.338, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.047, + "Actual Total Time": 6.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.619, + "Actual Total Time": 7.620, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.489, + "Actual Total Time": 7.490, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.913, + "Actual Total Time": 7.914, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.279, + "Actual Total Time": 7.280, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.708, + "Actual Total Time": 7.709, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 6.658, + "Actual Total Time": 6.659, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'character-name-in-title'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.337, + "Actual Total Time": 7.337, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.046, + "Actual Total Time": 6.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.619, + "Actual Total Time": 7.619, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.488, + "Actual Total Time": 7.489, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.912, + "Actual Total Time": 7.913, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.279, + "Actual Total Time": 7.279, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.706, + "Actual Total Time": 7.706, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 117, + "Plan Width": 8, + "Actual Startup Time": 0.112, + "Actual Total Time": 113.458, + "Actual Rows": 41840, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 0.38, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 41840, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Index Cond": "(ml.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 1, + "Actual Loops": 4388, + "Output": ["lt.id", "lt.link"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 4388, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"],+ "Index Cond": "(t1.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 4388, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"], + "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 6225652705960457954, + "Planning Time": 22.312, + "Triggers": [ + ], + "Execution Time": 466.163, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 6225652705960457954, + "JOINS": 5 + } + ] (1 row)
SELECT MIN(cn1.name) AS first_company,
       MIN(cn2.name) AS second_company,
       MIN(mi_idx1.info) AS first_rating,
       MIN(mi_idx2.info) AS second_rating,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM company_name AS cn1,
     company_name AS cn2,
     info_type AS it1,
     info_type AS it2,
     kind_type AS kt1,
     kind_type AS kt2,
     link_type AS lt,
     movie_companies AS mc1,
     movie_companies AS mc2,
     movie_info_idx AS mi_idx1,
     movie_info_idx AS mi_idx2,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE cn1.country_code = '[us]'
  AND it1.info = 'rating'
  AND it2.info = 'rating'
  AND kt1.kind IN ('tv series')
  AND kt2.kind IN ('tv series')
  AND lt.link IN ('sequel',
                  'follows',
                  'followed by')
  AND mi_idx2.info < '3.0'
  AND t2.production_year BETWEEN 2005 AND 2008
  AND lt.id = ml.link_type_id
  AND t1.id = ml.movie_id
  AND t2.id = ml.linked_movie_id
  AND it1.id = mi_idx1.info_type_id
  AND t1.id = mi_idx1.movie_id
  AND kt1.id = t1.kind_id
  AND cn1.id = mc1.company_id
  AND t1.id = mc1.movie_id
  AND ml.movie_id = mi_idx1.movie_id
  AND ml.movie_id = mc1.movie_id
  AND mi_idx1.movie_id = mc1.movie_id
  AND it2.id = mi_idx2.info_type_id
  AND t2.id = mi_idx2.movie_id
  AND kt2.id = t2.kind_id
  AND cn2.id = mc2.company_id
  AND t2.id = mc2.movie_id
  AND ml.linked_movie_id = mi_idx2.movie_id
  AND ml.linked_movie_id = mc2.movie_id
  AND mi_idx2.movie_id = mc2.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1362.26, + "Total Cost": 1362.27, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 51.852, + "Actual Total Time": 55.129, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn1.name)", "min(cn2.name)", "min(mi_idx1.info)", "min(mi_idx2.info)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1362.17, + "Total Cost": 1362.18, + "Plan Rows": 5, + "Plan Width": 192, + "Actual Startup Time": 49.274, + "Actual Total Time": 55.107, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn1.name))", "(PARTIAL min(cn2.name))", "(PARTIAL min(mi_idx1.info))", "(PARTIAL min(mi_idx2.info))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1361.17, + "Total Cost": 1361.18, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 37.343, + "Actual Total Time": 37.358, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn1.name)", "PARTIAL min(cn2.name)", "PARTIAL min(mi_idx1.info)", "PARTIAL min(mi_idx2.info)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.185, + "Actual Total Time": 32.202, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 36.236, + "Actual Total Time": 36.252, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.744, + "Actual Total Time": 38.755, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.043, + "Actual Total Time": 35.054, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.796, + "Actual Total Time": 33.812, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.26, + "Total Cost": 1361.14, + "Plan Rows": 2, + "Plan Width": 82, + "Actual Startup Time": 30.968, + "Actual Total Time": 37.344, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx1.info", "mi_idx2.info", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.174, + "Actual Total Time": 32.191, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 36.227, + "Actual Total Time": 36.242, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.737, + "Actual Total Time": 38.747, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.035, + "Actual Total Time": 35.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.786, + "Actual Total Time": 33.802, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.84, + "Total Cost": 1360.27, + "Plan Rows": 2, + "Plan Width": 67, + "Actual Startup Time": 30.963, + "Actual Total Time": 37.318, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "t2.title", "mi_idx2.info", "mi_idx1.info", "t1.title", "mc2.company_id"], + "Inner Unique": false, + "Join Filter": "(t2.id = mc2.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.173, + "Actual Total Time": 32.189, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 36.226, + "Actual Total Time": 36.240, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.736, + "Actual Total Time": 38.746, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.034, + "Actual Total Time": 35.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.784, + "Actual Total Time": 33.799, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.41, + "Total Cost": 1359.69, + "Plan Rows": 1, + "Plan Width": 75, + "Actual Startup Time": 30.955, + "Actual Total Time": 37.302, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["cn1.name", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mi_idx1.info", "t1.title"], + "Inner Unique": true, + "Join Filter": "((ml.movie_id = t1.id) AND (kt1.id = t1.kind_id))", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.172, + "Actual Total Time": 32.187, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 36.225, + "Actual Total Time": 36.238, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.736, + "Actual Total Time": 38.745, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.033, + "Actual Total Time": 35.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.783, + "Actual Total Time": 33.797, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.98, + "Total Cost": 1359.21, + "Plan Rows": 1, + "Plan Width": 74, + "Actual Startup Time": 30.950, + "Actual Total Time": 37.294, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["cn1.name", "kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.movie_id", "mi_idx1.info", "mi_idx1.movie_id"], + "Inner Unique": false, + "Join Filter": "((ml.movie_id = mi_idx1.movie_id) AND (it1.id = mi_idx1.info_type_id))", + "Rows Removed by Join Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.171, + "Actual Total Time": 32.185, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 36.224, + "Actual Total Time": 36.237, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.735, + "Actual Total Time": 38.743, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.032, + "Actual Total Time": 35.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.783, + "Actual Total Time": 33.795, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.55, + "Total Cost": 1358.68, + "Plan Rows": 1, + "Plan Width": 69, + "Actual Startup Time": 30.944, + "Actual Total Time": 37.284, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["cn1.name", "it1.id", "kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.171, + "Actual Total Time": 32.183, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 36.223, + "Actual Total Time": 36.235, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.735, + "Actual Total Time": 38.742, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.032, + "Actual Total Time": 35.039, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.782, + "Actual Total Time": 33.794, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.13, + "Total Cost": 1357.35, + "Plan Rows": 3, + "Plan Width": 54, + "Actual Startup Time": 27.647, + "Actual Total Time": 37.219, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["it1.id", "kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.company_id", "mc1.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.170, + "Actual Total Time": 32.181, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.518, + "Actual Total Time": 36.075, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.734, + "Actual Total Time": 38.741, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.031, + "Actual Total Time": 35.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.781, + "Actual Total Time": 33.792, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.70, + "Total Cost": 1355.91, + "Plan Rows": 1, + "Plan Width": 46, + "Actual Startup Time": 27.623, + "Actual Total Time": 37.162, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it1.id", "kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id"], + "Inner Unique": false, + "Hash Cond": "(mi_idx2.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.169, + "Actual Total Time": 32.179, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 16.428, + "Actual Total Time": 35.902, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 38.733, + "Actual Total Time": 38.739, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 35.030, + "Actual Total Time": 35.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.780, + "Actual Total Time": 33.790, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.44, + "Total Cost": 1351.55, + "Plan Rows": 23, + "Plan Width": 46, + "Actual Startup Time": 7.014, + "Actual Total Time": 36.921, + "Actual Rows": 19, + "Actual Loops": 6, + "Output": ["kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.info_type_id", "mi_idx2.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.808, + "Actual Total Time": 31.975, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.556, + "Actual Total Time": 35.721, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.771, + "Actual Total Time": 38.626, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.069, + "Actual Total Time": 34.827, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.463, + "Actual Total Time": 33.499, + "Actual Rows": 26, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.01, + "Total Cost": 1340.99, + "Plan Rows": 20, + "Plan Width": 33, + "Actual Startup Time": 6.237, + "Actual Total Time": 35.697, + "Actual Rows": 17, + "Actual Loops": 6, + "Output": ["kt1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.304, + "Actual Total Time": 31.457, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.185, + "Actual Total Time": 35.105, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.666, + "Actual Total Time": 37.888, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.817, + "Actual Total Time": 34.396, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.236, + "Actual Total Time": 32.409, + "Actual Rows": 15, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.01, + "Total Cost": 1319.04, + "Plan Rows": 20, + "Plan Width": 29, + "Actual Startup Time": 6.210, + "Actual Total Time": 35.508, + "Actual Rows": 17, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.266, + "Actual Total Time": 31.409, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.148, + "Actual Total Time": 34.997, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.651, + "Actual Total Time": 37.756, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.784, + "Actual Total Time": 34.285, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.202, + "Actual Total Time": 32.119, + "Actual Rows": 15, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1316.77, + "Plan Rows": 49, + "Plan Width": 33, + "Actual Startup Time": 3.808, + "Actual Total Time": 35.267, + "Actual Rows": 41, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "t2.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.173, + "Actual Total Time": 31.230, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.071, + "Actual Total Time": 34.844, + "Actual Rows": 17, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.602, + "Actual Total Time": 37.616, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.703, + "Actual Total Time": 33.759, + "Actual Rows": 99, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.116, + "Actual Total Time": 31.883, + "Actual Rows": 24, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 629.91, + "Plan Rows": 463, + "Plan Width": 8, + "Actual Startup Time": 0.792, + "Actual Total Time": 24.031, + "Actual Rows": 386, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.070, + "Actual Total Time": 22.293, + "Actual Rows": 156, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.764, + "Actual Total Time": 25.447, + "Actual Rows": 315, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.318, + "Actual Total Time": 26.418, + "Actual Rows": 549, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.569, + "Actual Total Time": 17.432, + "Actual Rows": 587, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.889, + "Actual Total Time": 23.600, + "Actual Rows": 185, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 12, + "Actual Startup Time": 0.271, + "Actual Total Time": 14.620, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.321, + "Actual Total Time": 13.473, + "Actual Rows": 2485, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.334, + "Actual Total Time": 15.829, + "Actual Rows": 6075, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.210, + "Actual Total Time": 16.294, + "Actual Rows": 7751, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.353, + "Actual Total Time": 9.748, + "Actual Rows": 2841, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.360, + "Actual Total Time": 14.192, + "Actual Rows": 2784, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 8045, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 2485, + "Cache Hits": 2469, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 6075, + "Cache Hits": 6059, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 7751, + "Cache Hits": 7735, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2841, + "Cache Hits": 2826, + "Cache Misses": 15, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 2784, + "Cache Hits": 2768, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 95, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = ANY ('{sequel,follows,\"followed by\"}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 15 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 2315, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"],+ "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t2.production_year >= 2005) AND (t2.production_year <= 2008))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 156 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 315 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 549 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 587 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 185 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 245, + "Output": ["kt2.id"], + "Cache Key": "t2.kind_id", + "Cache Mode": "logical", + "Cache Hits": 70, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 8, + "Cache Hits": 4, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 17, + "Cache Hits": 13, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 23, + "Cache Hits": 18, + "Cache Misses": 5, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 99, + "Cache Hits": 96, + "Cache Misses": 3, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 1, + "Actual Loops": 24, + "Cache Hits": 20, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 24, + "Output": ["kt2.id"], + "Index Cond": "(kt2.id = t2.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt2.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 4 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Seq Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt1", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 100, + "Output": ["kt1.id", "kt1.kind"], + "Filter": "((kt1.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 6, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.006, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx2", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.071, + "Actual Rows": 1, + "Actual Loops": 100, + "Output": ["mi_idx2.id", "mi_idx2.movie_id", "mi_idx2.info_type_id", "mi_idx2.info", "mi_idx2.note"], + "Index Cond": "(mi_idx2.movie_id = t2.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx2.info < '3.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.497, + "Actual Total Time": 0.509, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.085, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 15 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.081, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.067, + "Actual Rows": 2, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 4.25, + "Total Cost": 4.25, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.064, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it2.id", "it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.061, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.066, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.075, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.00, + "Total Cost": 4.25, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.069, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id", "it1.id"], + "Inner Unique": false, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id", "it2.info"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + }, + { + "Node Type": "Seq Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 2.41, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id", "it1.info"], + "Filter": "((it1.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc1", + "Startup Cost": 0.43, + "Total Cost": 1.42, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.051, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["mc1.id", "mc1.movie_id", "mc1.company_id", "mc1.company_type_id", "mc1.note"], + "Index Cond": "(mc1.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.054, + "Actual Rows": 2, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn1", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 15, + "Output": ["cn1.id", "cn1.name", "cn1.country_code", "cn1.imdb_id", "cn1.name_pcode_nf", "cn1.name_pcode_sf", "cn1.md5sum"], + "Index Cond": "(cn1.id = mc1.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn1.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 7 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx1", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.020, + "Actual Rows": 3, + "Actual Loops": 2, + "Output": ["mi_idx1.id", "mi_idx1.movie_id", "mi_idx1.info_type_id", "mi_idx1.info", "mi_idx1.note"], + "Index Cond": "(mi_idx1.movie_id = mc1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"], + "Index Cond": "(t1.id = mc1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc2", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.037, + "Actual Rows": 4, + "Actual Loops": 2, + "Output": ["mc2.id", "mc2.movie_id", "mc2.company_id", "mc2.company_type_id", "mc2.note"], + "Index Cond": "(mc2.movie_id = mi_idx2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn2", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["cn2.id", "cn2.name", "cn2.country_code", "cn2.imdb_id", "cn2.name_pcode_nf", "cn2.name_pcode_sf", "cn2.md5sum"], + "Index Cond": "(cn2.id = mc2.company_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3515944407635664271, + "Planning Time": 3395.094, + "Triggers": [ + ], + "Execution Time": 55.718, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -3515944407635664271, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn1.name) AS first_company,
       MIN(cn2.name) AS second_company,
       MIN(mi_idx1.info) AS first_rating,
       MIN(mi_idx2.info) AS second_rating,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM company_name AS cn1,
     company_name AS cn2,
     info_type AS it1,
     info_type AS it2,
     kind_type AS kt1,
     kind_type AS kt2,
     link_type AS lt,
     movie_companies AS mc1,
     movie_companies AS mc2,
     movie_info_idx AS mi_idx1,
     movie_info_idx AS mi_idx2,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE cn1.country_code = '[nl]'
  AND it1.info = 'rating'
  AND it2.info = 'rating'
  AND kt1.kind IN ('tv series')
  AND kt2.kind IN ('tv series')
  AND lt.link LIKE '%follow%'
  AND mi_idx2.info < '3.0'
  AND t2.production_year = 2007
  AND lt.id = ml.link_type_id
  AND t1.id = ml.movie_id
  AND t2.id = ml.linked_movie_id
  AND it1.id = mi_idx1.info_type_id
  AND t1.id = mi_idx1.movie_id
  AND kt1.id = t1.kind_id
  AND cn1.id = mc1.company_id
  AND t1.id = mc1.movie_id
  AND ml.movie_id = mi_idx1.movie_id
  AND ml.movie_id = mc1.movie_id
  AND mi_idx1.movie_id = mc1.movie_id
  AND it2.id = mi_idx2.info_type_id
  AND t2.id = mi_idx2.movie_id
  AND kt2.id = t2.kind_id
  AND cn2.id = mc2.company_id
  AND t2.id = mc2.movie_id
  AND ml.linked_movie_id = mi_idx2.movie_id
  AND ml.linked_movie_id = mc2.movie_id
  AND mi_idx2.movie_id = mc2.movie_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1093.80, + "Total Cost": 1093.81, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 36.470, + "Actual Total Time": 39.026, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn1.name)", "min(cn2.name)", "min(mi_idx1.info)", "min(mi_idx2.info)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1093.71, + "Total Cost": 1093.72, + "Plan Rows": 5, + "Plan Width": 192, + "Actual Startup Time": 35.976, + "Actual Total Time": 39.012, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn1.name))", "(PARTIAL min(cn2.name))", "(PARTIAL min(mi_idx1.info))", "(PARTIAL min(mi_idx2.info))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1092.71, + "Total Cost": 1092.72, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 25.580, + "Actual Total Time": 25.592, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn1.name)", "PARTIAL min(cn2.name)", "PARTIAL min(mi_idx1.info)", "PARTIAL min(mi_idx2.info)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.772, + "Actual Total Time": 20.786, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.038, + "Actual Total Time": 27.047, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.949, + "Actual Total Time": 23.959, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.636, + "Actual Total Time": 24.645, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.124, + "Actual Total Time": 22.139, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.11, + "Total Cost": 1092.70, + "Plan Rows": 1, + "Plan Width": 82, + "Actual Startup Time": 20.798, + "Actual Total Time": 25.582, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx1.info", "mi_idx2.info", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.764, + "Actual Total Time": 20.777, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.033, + "Actual Total Time": 27.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.943, + "Actual Total Time": 23.952, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.629, + "Actual Total Time": 24.638, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.115, + "Actual Total Time": 22.129, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.97, + "Total Cost": 1092.35, + "Plan Rows": 2, + "Plan Width": 86, + "Actual Startup Time": 20.768, + "Actual Total Time": 25.566, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["mi_idx2.info", "t2.title", "t1.title", "mi_idx1.info", "mi_idx1.info_type_id", "cn2.name", "cn1.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.763, + "Actual Total Time": 20.775, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 27.033, + "Actual Total Time": 27.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.942, + "Actual Total Time": 23.951, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.628, + "Actual Total Time": 24.636, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.114, + "Actual Total Time": 22.127, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.55, + "Total Cost": 1088.82, + "Plan Rows": 8, + "Plan Width": 71, + "Actual Startup Time": 17.839, + "Actual Total Time": 25.488, + "Actual Rows": 7, + "Actual Loops": 6, + "Output": ["mi_idx2.info", "t2.title", "t1.title", "mi_idx1.info", "mi_idx1.info_type_id", "cn2.name", "mc1.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.763, + "Actual Total Time": 20.774, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.480, + "Actual Total Time": 26.956, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.941, + "Actual Total Time": 23.949, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.628, + "Actual Total Time": 24.635, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.113, + "Actual Total Time": 22.125, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.12, + "Total Cost": 1086.66, + "Plan Rows": 4, + "Plan Width": 79, + "Actual Startup Time": 17.829, + "Actual Total Time": 25.443, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["ml.movie_id", "mi_idx2.info", "t2.title", "t1.title", "t1.id", "mi_idx1.info", "mi_idx1.info_type_id", "mi_idx1.movie_id", "cn2.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.762, + "Actual Total Time": 20.772, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.448, + "Actual Total Time": 26.871, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.940, + "Actual Total Time": 23.948, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.627, + "Actual Total Time": 24.634, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.112, + "Actual Total Time": 22.123, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.70, + "Total Cost": 1084.90, + "Plan Rows": 4, + "Plan Width": 64, + "Actual Startup Time": 17.810, + "Actual Total Time": 25.391, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["ml.movie_id", "mi_idx2.info", "t2.title", "mc2.company_id", "t1.title", "t1.id", "mi_idx1.info", "mi_idx1.info_type_id", "mi_idx1.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.761, + "Actual Total Time": 20.771, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.366, + "Actual Total Time": 26.718, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.940, + "Actual Total Time": 23.947, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.627, + "Actual Total Time": 24.633, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.112, + "Actual Total Time": 22.122, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.57, + "Total Cost": 1084.28, + "Plan Rows": 4, + "Plan Width": 68, + "Actual Startup Time": 17.805, + "Actual Total Time": 25.371, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["ml.movie_id", "mi_idx2.info", "t2.title", "mc2.company_id", "t1.title", "t1.id", "t1.kind_id", "mi_idx1.info", "mi_idx1.info_type_id", "mi_idx1.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.760, + "Actual Total Time": 20.769, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.351, + "Actual Total Time": 26.674, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.939, + "Actual Total Time": 23.945, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.626, + "Actual Total Time": 24.631, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.111, + "Actual Total Time": 22.120, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.14, + "Total Cost": 1083.76, + "Plan Rows": 1, + "Plan Width": 55, + "Actual Startup Time": 17.796, + "Actual Total Time": 25.352, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ml.movie_id", "mi_idx2.info", "t2.title", "mc2.company_id", "t1.title", "t1.id", "t1.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.759, + "Actual Total Time": 20.767, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.323, + "Actual Total Time": 26.627, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.938, + "Actual Total Time": 23.944, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.625, + "Actual Total Time": 24.630, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.110, + "Actual Total Time": 22.119, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.71, + "Total Cost": 1082.29, + "Plan Rows": 1, + "Plan Width": 30, + "Actual Startup Time": 17.783, + "Actual Total Time": 25.330, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ml.movie_id", "mi_idx2.info", "t2.title", "mc2.company_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.758, + "Actual Total Time": 20.766, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.274, + "Actual Total Time": 26.564, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.937, + "Actual Total Time": 23.942, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.625, + "Actual Total Time": 24.629, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.109, + "Actual Total Time": 22.117, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.57, + "Total Cost": 1082.11, + "Plan Rows": 1, + "Plan Width": 34, + "Actual Startup Time": 17.772, + "Actual Total Time": 25.316, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ml.movie_id", "mi_idx2.info", "t2.title", "t2.kind_id", "mc2.company_id"], + "Inner Unique": false, + "Join Filter": "(t2.id = mc2.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.758, + "Actual Total Time": 20.764, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.236, + "Actual Total Time": 26.520, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.937, + "Actual Total Time": 23.941, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.624, + "Actual Total Time": 24.627, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.109, + "Actual Total Time": 22.115, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.14, + "Total Cost": 1081.52, + "Plan Rows": 1, + "Plan Width": 42, + "Actual Startup Time": 17.751, + "Actual Total Time": 25.289, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id", "t2.title", "t2.id", "t2.kind_id"], + "Inner Unique": true, + "Join Filter": "(ml.linked_movie_id = t2.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 20.757, + "Actual Total Time": 20.762, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.145, + "Actual Total Time": 26.414, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 23.936, + "Actual Total Time": 23.939, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.624, + "Actual Total Time": 24.626, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 22.107, + "Actual Total Time": 22.113, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.71, + "Total Cost": 1077.78, + "Plan Rows": 7, + "Plan Width": 17, + "Actual Startup Time": 9.026, + "Actual Total Time": 25.102, + "Actual Rows": 6, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx2.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 12.810, + "Actual Total Time": 20.615, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.924, + "Actual Total Time": 26.151, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.373, + "Actual Total Time": 23.663, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 24.623, + "Actual Total Time": 24.625, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.522, + "Actual Total Time": 21.910, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1074.36, + "Plan Rows": 580, + "Plan Width": 21, + "Actual Startup Time": 0.581, + "Actual Total Time": 24.696, + "Actual Rows": 484, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "mi_idx2.info", "mi_idx2.info_type_id", "mi_idx2.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.688, + "Actual Total Time": 20.383, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.249, + "Actual Total Time": 25.813, + "Actual Rows": 614, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.357, + "Actual Total Time": 23.248, + "Actual Rows": 473, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.349, + "Actual Total Time": 24.145, + "Actual Rows": 832, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.705, + "Actual Total Time": 21.557, + "Actual Rows": 159, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 632.40, + "Plan Rows": 463, + "Plan Width": 8, + "Actual Startup Time": 0.451, + "Actual Total Time": 15.759, + "Actual Rows": 386, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.503, + "Actual Total Time": 17.349, + "Actual Rows": 35, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.145, + "Actual Total Time": 15.608, + "Actual Rows": 499, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.199, + "Actual Total Time": 14.419, + "Actual Rows": 332, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.201, + "Actual Total Time": 13.458, + "Actual Rows": 666, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.547, + "Actual Total Time": 15.030, + "Actual Rows": 123, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 12, + "Actual Startup Time": 0.079, + "Actual Total Time": 9.234, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.095, + "Actual Total Time": 10.255, + "Actual Rows": 2574, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 9.157, + "Actual Rows": 6829, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.111, + "Actual Total Time": 8.381, + "Actual Rows": 5215, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.073, + "Actual Total Time": 7.750, + "Actual Rows": 4897, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.105, + "Actual Total Time": 8.857, + "Actual Rows": 2193, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 8273, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2574, + "Cache Hits": 2558, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 6829, + "Cache Hits": 6813, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5215, + "Cache Hits": 5199, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4897, + "Cache Hits": 4881, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 2193, + "Cache Hits": 2177, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text ~~ '%follow%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx2", + "Startup Cost": 0.43, + "Total Cost": 0.94, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 2315, + "Output": ["mi_idx2.id", "mi_idx2.movie_id", "mi_idx2.info_type_id", "mi_idx2.info", "mi_idx2.note"], + "Index Cond": "(mi_idx2.movie_id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx2.info < '3.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.084, + "Actual Rows": 1, + "Actual Loops": 35 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 499 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 332 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 666 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 123 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.053, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it2.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.063, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.074, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 34, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"],+ "Index Cond": "(t2.id = mi_idx2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t2.production_year = 2007)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.141, + "Actual Total Time": 0.141, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 9 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 13 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.097, + "Actual Total Time": 0.097, + "Actual Rows": 0, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc2", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 4, + "Plan Width": 8, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.068, + "Actual Rows": 3, + "Actual Loops": 2, + "Output": ["mc2.id", "mc2.movie_id", "mc2.company_id", "mc2.company_type_id", "mc2.note"], + "Index Cond": "(mc2.movie_id = mi_idx2.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.099, + "Actual Rows": 2, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["kt2.id"], + "Cache Key": "t2.kind_id", + "Cache Mode": "logical", + "Cache Hits": 3, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["kt2.id"], + "Index Cond": "(kt2.id = t2.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt2.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"], + "Index Cond": "(t1.id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx1", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["mi_idx1.id", "mi_idx1.movie_id", "mi_idx1.info_type_id", "mi_idx1.info", "mi_idx1.note"], + "Index Cond": "(mi_idx1.movie_id = t1.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.019, + "Actual Rows": 3, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt1", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 18, + "Output": ["kt1.id", "kt1.kind"], + "Index Cond": "(kt1.id = t1.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt1.kind)::text = 'tv series'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 1, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn2", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 18, + "Output": ["cn2.id", "cn2.name", "cn2.country_code", "cn2.imdb_id", "cn2.name_pcode_nf", "cn2.name_pcode_sf", "cn2.md5sum"], + "Index Cond": "(cn2.id = mc2.company_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc1", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 18, + "Output": ["mc1.id", "mc1.movie_id", "mc1.company_id", "mc1.company_type_id", "mc1.note"], + "Index Cond": "(mc1.movie_id = t1.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn1", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 42, + "Output": ["cn1.id", "cn1.name", "cn1.country_code", "cn1.imdb_id", "cn1.name_pcode_nf", "cn1.name_pcode_sf", "cn1.md5sum"], + "Index Cond": "(cn1.id = mc1.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn1.country_code)::text = '[nl]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 12, + "Output": ["it1.id", "it1.info"], + "Index Cond": "(it1.id = mi_idx1.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it1.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6846011022746249658, + "Planning Time": 3047.976, + "Triggers": [ + ], + "Execution Time": 39.565, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6846011022746249658, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(cn1.name) AS first_company,
       MIN(cn2.name) AS second_company,
       MIN(mi_idx1.info) AS first_rating,
       MIN(mi_idx2.info) AS second_rating,
       MIN(t1.title) AS first_movie,
       MIN(t2.title) AS second_movie
FROM company_name AS cn1,
     company_name AS cn2,
     info_type AS it1,
     info_type AS it2,
     kind_type AS kt1,
     kind_type AS kt2,
     link_type AS lt,
     movie_companies AS mc1,
     movie_companies AS mc2,
     movie_info_idx AS mi_idx1,
     movie_info_idx AS mi_idx2,
     movie_link AS ml,
     title AS t1,
     title AS t2
WHERE cn1.country_code != '[us]'
  AND it1.info = 'rating'
  AND it2.info = 'rating'
  AND kt1.kind IN ('tv series',
                   'episode')
  AND kt2.kind IN ('tv series',
                   'episode')
  AND lt.link IN ('sequel',
                  'follows',
                  'followed by')
  AND mi_idx2.info < '3.5'
  AND t2.production_year BETWEEN 2000 AND 2010
  AND lt.id = ml.link_type_id
  AND t1.id = ml.movie_id
  AND t2.id = ml.linked_movie_id
  AND it1.id = mi_idx1.info_type_id
  AND t1.id = mi_idx1.movie_id
  AND kt1.id = t1.kind_id
  AND cn1.id = mc1.company_id
  AND t1.id = mc1.movie_id
  AND ml.movie_id = mi_idx1.movie_id
  AND ml.movie_id = mc1.movie_id
  AND mi_idx1.movie_id = mc1.movie_id
  AND it2.id = mi_idx2.info_type_id
  AND t2.id = mi_idx2.movie_id
  AND kt2.id = t2.kind_id
  AND cn2.id = mc2.company_id
  AND t2.id = mc2.movie_id
  AND ml.linked_movie_id = mi_idx2.movie_id
  AND ml.linked_movie_id = mc2.movie_id
  AND mi_idx2.movie_id = mc2.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1448.59, + "Total Cost": 1448.60, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 30.344, + "Actual Total Time": 32.940, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(cn1.name)", "min(cn2.name)", "min(mi_idx1.info)", "min(mi_idx2.info)", "min(t1.title)", "min(t2.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1448.51, + "Total Cost": 1448.52, + "Plan Rows": 5, + "Plan Width": 192, + "Actual Startup Time": 29.774, + "Actual Total Time": 32.905, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(cn1.name))", "(PARTIAL min(cn2.name))", "(PARTIAL min(mi_idx1.info))", "(PARTIAL min(mi_idx2.info))", "(PARTIAL min(t1.title))", "(PARTIAL min(t2.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1447.51, + "Total Cost": 1447.52, + "Plan Rows": 1, + "Plan Width": 192, + "Actual Startup Time": 21.927, + "Actual Total Time": 21.940, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(cn1.name)", "PARTIAL min(cn2.name)", "PARTIAL min(mi_idx1.info)", "PARTIAL min(mi_idx2.info)", "PARTIAL min(t1.title)", "PARTIAL min(t2.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.935, + "Actual Total Time": 18.945, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.205, + "Actual Total Time": 21.216, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 22.332, + "Actual Total Time": 22.348, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.119, + "Actual Total Time": 19.129, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.264, + "Actual Total Time": 21.275, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 9.32, + "Total Cost": 1447.16, + "Plan Rows": 23, + "Plan Width": 82, + "Actual Startup Time": 7.199, + "Actual Total Time": 21.881, + "Actual Rows": 19, + "Actual Loops": 6, + "Output": ["cn1.name", "cn2.name", "mi_idx1.info", "mi_idx2.info", "t1.title", "t2.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.938, + "Actual Total Time": 18.883, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.807, + "Actual Total Time": 21.183, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.546, + "Actual Total Time": 22.301, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.050, + "Actual Total Time": 18.981, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.258, + "Actual Total Time": 21.269, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.90, + "Total Cost": 1437.06, + "Plan Rows": 23, + "Plan Width": 67, + "Actual Startup Time": 7.179, + "Actual Total Time": 21.628, + "Actual Rows": 19, + "Actual Loops": 6, + "Output": ["cn1.name", "t2.title", "mi_idx2.info", "mi_idx1.info", "t1.title", "mc2.company_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.922, + "Actual Total Time": 18.609, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.784, + "Actual Total Time": 21.045, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.519, + "Actual Total Time": 22.113, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.014, + "Actual Total Time": 18.271, + "Actual Rows": 55, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.258, + "Actual Total Time": 21.267, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 8.47, + "Total Cost": 1432.14, + "Plan Rows": 9, + "Plan Width": 75, + "Actual Startup Time": 7.148, + "Actual Total Time": 21.472, + "Actual Rows": 8, + "Actual Loops": 6, + "Output": ["cn1.name", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mi_idx1.info", "t1.title"], + "Inner Unique": true, + "Hash Cond": "(t1.kind_id = kt1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.904, + "Actual Total Time": 18.405, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.732, + "Actual Total Time": 20.947, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.453, + "Actual Total Time": 21.913, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.993, + "Actual Total Time": 17.968, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.257, + "Actual Total Time": 21.266, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 7.41, + "Total Cost": 1431.04, + "Plan Rows": 9, + "Plan Width": 79, + "Actual Startup Time": 7.018, + "Actual Total Time": 21.327, + "Actual Rows": 8, + "Actual Loops": 6, + "Output": ["cn1.name", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mi_idx1.info", "t1.title", "t1.kind_id"], + "Inner Unique": true, + "Join Filter": "(ml.movie_id = t1.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.831, + "Actual Total Time": 18.318, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.641, + "Actual Total Time": 20.851, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.353, + "Actual Total Time": 21.780, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.894, + "Actual Total Time": 17.842, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.168, + "Actual Total Time": 21.176, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.98, + "Total Cost": 1426.74, + "Plan Rows": 9, + "Plan Width": 70, + "Actual Startup Time": 6.991, + "Actual Total Time": 21.203, + "Actual Rows": 8, + "Actual Loops": 6, + "Output": ["cn1.name", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.movie_id", "mi_idx1.info", "mi_idx1.movie_id"], + "Inner Unique": false, + "Join Filter": "((ml.movie_id = mi_idx1.movie_id) AND (it1.id = mi_idx1.info_type_id))", + "Rows Removed by Join Filter": 15, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.795, + "Actual Total Time": 18.141, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.605, + "Actual Total Time": 20.791, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.331, + "Actual Total Time": 21.651, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.859, + "Actual Total Time": 17.566, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.168, + "Actual Total Time": 21.175, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.55, + "Total Cost": 1421.43, + "Plan Rows": 10, + "Plan Width": 65, + "Actual Startup Time": 6.504, + "Actual Total Time": 21.053, + "Actual Rows": 8, + "Actual Loops": 6, + "Output": ["cn1.name", "it1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.768, + "Actual Total Time": 17.940, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.801, + "Actual Total Time": 20.639, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.309, + "Actual Total Time": 21.497, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.835, + "Actual Total Time": 17.288, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.167, + "Actual Total Time": 21.174, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 6.13, + "Total Cost": 1416.58, + "Plan Rows": 11, + "Plan Width": 50, + "Actual Startup Time": 6.463, + "Actual Total Time": 20.880, + "Actual Rows": 9, + "Actual Loops": 6, + "Output": ["it1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id", "mc1.company_id", "mc1.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.710, + "Actual Total Time": 17.694, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.742, + "Actual Total Time": 20.474, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.274, + "Actual Total Time": 21.352, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.782, + "Actual Total Time": 17.023, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.167, + "Actual Total Time": 21.173, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 5.70, + "Total Cost": 1410.79, + "Plan Rows": 4, + "Plan Width": 42, + "Actual Startup Time": 6.374, + "Actual Total Time": 20.736, + "Actual Rows": 4, + "Actual Loops": 6, + "Output": ["it1.id", "ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.movie_id"], + "Inner Unique": false, + "Hash Cond": "(mi_idx2.info_type_id = it2.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.599, + "Actual Total Time": 17.495, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.613, + "Actual Total Time": 20.278, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.230, + "Actual Total Time": 21.216, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.576, + "Actual Total Time": 16.828, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 21.166, + "Actual Total Time": 21.172, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.44, + "Total Cost": 1405.66, + "Plan Rows": 226, + "Plan Width": 42, + "Actual Startup Time": 1.010, + "Actual Total Time": 20.627, + "Actual Rows": 188, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "mi_idx2.info", "mi_idx2.info_type_id", "mi_idx2.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.588, + "Actual Total Time": 17.420, + "Actual Rows": 123, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.354, + "Actual Total Time": 20.235, + "Actual Rows": 40, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.639, + "Actual Total Time": 21.128, + "Actual Rows": 99, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.536, + "Actual Total Time": 16.718, + "Actual Rows": 191, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.753, + "Actual Total Time": 21.127, + "Actual Rows": 64, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.01, + "Total Cost": 1322.41, + "Plan Rows": 163, + "Plan Width": 29, + "Actual Startup Time": 0.727, + "Actual Total Time": 18.880, + "Actual Rows": 136, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.529, + "Actual Total Time": 16.137, + "Actual Rows": 76, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.297, + "Actual Total Time": 19.620, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.579, + "Actual Total Time": 19.953, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.475, + "Actual Total Time": 14.945, + "Actual Rows": 117, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.321, + "Actual Total Time": 20.108, + "Actual Rows": 60, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 1316.77, + "Plan Rows": 189, + "Plan Width": 33, + "Actual Startup Time": 0.692, + "Actual Total Time": 18.599, + "Actual Rows": 158, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id", "t2.title", "t2.id", "t2.kind_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.501, + "Actual Total Time": 15.930, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.256, + "Actual Total Time": 19.476, + "Actual Rows": 48, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.535, + "Actual Total Time": 19.745, + "Actual Rows": 91, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.431, + "Actual Total Time": 14.666, + "Actual Rows": 128, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.285, + "Actual Total Time": 19.899, + "Actual Rows": 88, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 629.91, + "Plan Rows": 463, + "Plan Width": 8, + "Actual Startup Time": 0.254, + "Actual Total Time": 13.805, + "Actual Rows": 386, + "Actual Loops": 6, + "Output": ["ml.movie_id", "ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.448, + "Actual Total Time": 12.190, + "Actual Rows": 252, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.196, + "Actual Total Time": 15.416, + "Actual Rows": 254, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.528, + "Actual Total Time": 15.124, + "Actual Rows": 344, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.111, + "Actual Total Time": 11.395, + "Actual Rows": 242, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.124, + "Actual Total Time": 15.909, + "Actual Rows": 267, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 12, + "Actual Startup Time": 0.056, + "Actual Total Time": 8.155, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.058, + "Actual Total Time": 7.240, + "Actual Rows": 3795, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.057, + "Actual Total Time": 9.192, + "Actual Rows": 5360, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.049, + "Actual Total Time": 9.015, + "Actual Rows": 5851, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.057, + "Actual Total Time": 6.806, + "Actual Rows": 3564, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.078, + "Actual Total Time": 9.438, + "Actual Rows": 5552, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 5859, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3795, + "Cache Hits": 3779, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5360, + "Cache Hits": 5344, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 5851, + "Cache Hits": 5835, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3564, + "Cache Hits": 3548, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5552, + "Cache Hits": 5536, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = ANY ('{sequel,follows,\"followed by\"}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t2", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 2315, + "Output": ["t2.id", "t2.title", "t2.imdb_index", "t2.kind_id", "t2.production_year", "t2.imdb_id", "t2.phonetic_code", "t2.episode_of_id", "t2.season_nr", "t2.episode_nr", "t2.series_years", "t2.md5sum"],+ "Index Cond": "(t2.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t2.production_year >= 2000) AND (t2.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 252 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 254 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 344 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 242 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 267 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 946, + "Output": ["kt2.id"], + "Cache Key": "t2.kind_id", + "Cache Mode": "logical", + "Cache Hits": 497, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 88, + "Cache Hits": 82, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 48, + "Cache Hits": 44, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 91, + "Cache Hits": 87, + "Cache Misses": 4, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 128, + "Cache Hits": 123, + "Cache Misses": 5, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 88, + "Cache Hits": 82, + "Cache Misses": 6, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "kind_type_pkey", + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt2", + "Startup Cost": 0.13, + "Total Cost": 0.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 31, + "Output": ["kt2.id"], + "Index Cond": "(kt2.id = t2.kind_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((kt2.kind)::text = ANY ('{\"tv series\",episode}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 5 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 6 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx2", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 815, + "Output": ["mi_idx2.id", "mi_idx2.movie_id", "mi_idx2.info_type_id", "mi_idx2.info", "mi_idx2.note"], + "Index Cond": "(mi_idx2.movie_id = t2.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx2.info < '3.5'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 2, + "Actual Loops": 76 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 29 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 72 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.014, + "Actual Rows": 2, + "Actual Loops": 117 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 60 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 4.25, + "Total Cost": 4.25, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it2.id", "it1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.00, + "Total Cost": 4.25, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id", "it1.id"], + "Inner Unique": false, + "Workers": [ + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it2", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it2.id", "it2.info"], + "Filter": "((it2.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + }, + { + "Node Type": "Seq Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it1", + "Startup Cost": 0.00, + "Total Cost": 2.41, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it1.id", "it1.info"], + "Filter": "((it1.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc1", + "Startup Cost": 0.43, + "Total Cost": 1.42, + "Plan Rows": 3, + "Plan Width": 8, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.037, + "Actual Rows": 3, + "Actual Loops": 21, + "Output": ["mc1.id", "mc1.movie_id", "mc1.company_id", "mc1.company_type_id", "mc1.note"], + "Index Cond": "(mc1.movie_id = ml.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.046, + "Actual Rows": 3, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.092, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.040, + "Actual Rows": 2, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.019, + "Actual Rows": 2, + "Actual Loops": 9 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn1", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 54, + "Output": ["cn1.id", "cn1.name", "cn1.country_code", "cn1.imdb_id", "cn1.name_pcode_nf", "cn1.name_pcode_sf", "cn1.md5sum"], + "Index Cond": "(cn1.id = mc1.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn1.country_code)::text <> '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 12 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 19 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx1", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 3, + "Plan Width": 13, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.015, + "Actual Rows": 3, + "Actual Loops": 49, + "Output": ["mi_idx1.id", "mi_idx1.movie_id", "mi_idx1.info_type_id", "mi_idx1.info", "mi_idx1.note"], + "Index Cond": "(mi_idx1.movie_id = mc1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.014, + "Actual Rows": 3, + "Actual Loops": 12 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 2, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.018, + "Actual Rows": 3, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 19 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t1", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 46, + "Output": ["t1.id", "t1.title", "t1.imdb_index", "t1.kind_id", "t1.production_year", "t1.imdb_id", "t1.phonetic_code", "t1.episode_of_id", "t1.season_nr", "t1.episode_nr", "t1.series_years", "t1.md5sum"], + "Index Cond": "(t1.id = mc1.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 11 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 19 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.05, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["kt1.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "kind_type", + "Schema": "public", + "Alias": "kt1", + "Startup Cost": 0.00, + "Total Cost": 1.05, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.026, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["kt1.id"], + "Filter": "((kt1.kind)::text = ANY ('{\"tv series\",episode}'::text[]))", + "Rows Removed by Filter": 5, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc2", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 46, + "Output": ["mc2.id", "mc2.movie_id", "mc2.company_id", "mc2.company_type_id", "mc2.note"], + "Index Cond": "(mc2.movie_id = t2.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.016, + "Actual Rows": 2, + "Actual Loops": 11 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.029, + "Actual Rows": 3, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.026, + "Actual Rows": 2, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.013, + "Actual Rows": 3, + "Actual Loops": 19 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn2", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 23, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 114, + "Output": ["cn2.id", "cn2.name", "cn2.country_code", "cn2.imdb_id", "cn2.name_pcode_nf", "cn2.name_pcode_sf", "cn2.md5sum"], + "Index Cond": "(cn2.id = mc2.company_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 21 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 9 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 55 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2787191317670660246, + "Planning Time": 3018.536, + "Triggers": [ + ], + "Execution Time": 33.485, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2787191317670660246, + "JOINS": 13 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM keyword AS k,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE k.keyword LIKE '%sequel%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German')
  AND t.production_year > 2005
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi.movie_id
  AND k.id = mk.keyword_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2984.10, + "Total Cost": 2984.11, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 386.352, + "Actual Total Time": 386.486, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2984.08, + "Total Cost": 2984.09, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 386.328, + "Actual Total Time": 386.473, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2983.08, + "Total Cost": 2983.09, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 82.440, + "Actual Total Time": 82.443, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 33.389, + "Actual Total Time": 33.393, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 33.517, + "Actual Total Time": 33.521, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 33.539, + "Actual Total Time": 33.542, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 33.502, + "Actual Total Time": 33.505, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 34.744, + "Actual Total Time": 34.750, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 33.060, + "Actual Total Time": 33.063, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 74.186, + "Actual Total Time": 74.188, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 2983.00, + "Plan Rows": 29, + "Plan Width": 17, + "Actual Startup Time": 10.402, + "Actual Total Time": 82.370, + "Actual Rows": 26, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.527, + "Actual Total Time": 33.353, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 17.428, + "Actual Total Time": 33.483, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.876, + "Actual Total Time": 33.511, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.324, + "Actual Total Time": 33.474, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.710, + "Actual Total Time": 34.718, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.523, + "Actual Total Time": 33.027, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.066, + "Actual Total Time": 74.115, + "Actual Rows": 27, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2633.11, + "Plan Rows": 319, + "Plan Width": 25, + "Actual Startup Time": 5.845, + "Actual Total Time": 48.835, + "Actual Rows": 279, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.012, + "Actual Total Time": 16.924, + "Actual Rows": 42, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 11.233, + "Actual Total Time": 22.949, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.726, + "Actual Total Time": 24.270, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.435, + "Actual Total Time": 25.252, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.576, + "Actual Total Time": 21.577, + "Actual Rows": 24, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 10.104, + "Actual Total Time": 23.789, + "Actual Rows": 39, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.200, + "Actual Total Time": 36.382, + "Actual Rows": 536, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1781.28, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 4.889, + "Actual Total Time": 18.776, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.287, + "Actual Total Time": 12.151, + "Actual Rows": 138, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.585, + "Actual Total Time": 17.497, + "Actual Rows": 156, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3.172, + "Actual Total Time": 16.010, + "Actual Rows": 218, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3.255, + "Actual Total Time": 11.474, + "Actual Rows": 317, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.483, + "Actual Total Time": 11.634, + "Actual Rows": 73, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 9.921, + "Actual Total Time": 19.988, + "Actual Rows": 105, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.612, + "Actual Total Time": 10.109, + "Actual Rows": 1400, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 4.379, + "Actual Total Time": 8.743, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.963, + "Actual Total Time": 9.082, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 10.110, + "Actual Total Time": 15.039, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.613, + "Actual Total Time": 8.790, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.729, + "Actual Total Time": 7.398, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.148, + "Actual Total Time": 9.014, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8.723, + "Actual Total Time": 15.827, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.077, + "Actual Total Time": 1.110, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 143.85, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.431, + "Actual Total Time": 2.526, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.221, + "Actual Total Time": 0.493, + "Actual Rows": 23, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.333, + "Actual Total Time": 0.787, + "Actual Rows": 52, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.697, + "Actual Total Time": 1.011, + "Actual Rows": 31, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.337, + "Actual Total Time": 1.305, + "Actual Rows": 106, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.330, + "Actual Total Time": 0.848, + "Actual Rows": 24, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.514, + "Actual Total Time": 0.679, + "Actual Rows": 18, + "Actual Loops": 6 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.531, + "Actual Total Time": 8.495, + "Actual Rows": 1400, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 138 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 156 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 218 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 317 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.115, + "Actual Total Time": 0.115, + "Actual Rows": 0, + "Actual Loops": 73 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 105 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1400 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.08, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.119, + "Actual Rows": 0, + "Actual Loops": 2235, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German}'::text[]))", + "Rows Removed by Filter": 45, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.336, + "Actual Total Time": 0.389, + "Actual Rows": 0, + "Actual Loops": 42 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.136, + "Actual Total Time": 0.141, + "Actual Rows": 0, + "Actual Loops": 74 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.238, + "Actual Total Time": 0.287, + "Actual Rows": 0, + "Actual Loops": 32 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.249, + "Actual Total Time": 0.263, + "Actual Rows": 0, + "Actual Loops": 31 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.487, + "Actual Total Time": 0.545, + "Actual Rows": 0, + "Actual Loops": 24 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.230, + "Actual Total Time": 0.235, + "Actual Rows": 0, + "Actual Loops": 39 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.070, + "Actual Rows": 0, + "Actual Loops": 536 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5539820102114296223, + "Planning Time": 15.113, + "Triggers": [ + ], + "Execution Time": 386.697, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 5539820102114296223, + "JOINS": 3 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM keyword AS k,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE k.keyword LIKE '%sequel%'
  AND mi.info IN ('Bulgaria')
  AND t.production_year > 2010
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi.movie_id
  AND k.id = mk.keyword_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2688.17, + "Total Cost": 2688.18, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 172.540, + "Actual Total Time": 172.681, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.30, + "Total Cost": 2688.15, + "Plan Rows": 5, + "Plan Width": 17, + "Actual Startup Time": 14.911, + "Actual Total Time": 172.656, + "Actual Rows": 5, + "Actual Loops": 1, + "Output": ["t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 2687.15, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 19.425, + "Actual Total Time": 40.438, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.661, + "Actual Total Time": 18.664, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.431, + "Actual Total Time": 19.433, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.976, + "Actual Total Time": 36.563, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 19.460, + "Actual Total Time": 19.464, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.479, + "Actual Total Time": 19.395, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 19.407, + "Actual Total Time": 19.410, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 18.870, + "Actual Total Time": 18.873, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2633.11, + "Plan Rows": 58, + "Plan Width": 25, + "Actual Startup Time": 6.450, + "Actual Total Time": 36.647, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.579, + "Actual Total Time": 16.489, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.761, + "Actual Total Time": 17.307, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.283, + "Actual Total Time": 31.934, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 10.283, + "Actual Total Time": 17.955, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.479, + "Actual Total Time": 17.847, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.965, + "Actual Total Time": 18.806, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 8.089, + "Actual Total Time": 18.460, + "Actual Rows": 5, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1781.28, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 3.826, + "Actual Total Time": 16.348, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.442, + "Actual Total Time": 12.622, + "Actual Rows": 162, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.366, + "Actual Total Time": 12.819, + "Actual Rows": 190, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.832, + "Actual Total Time": 9.501, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.545, + "Actual Total Time": 16.205, + "Actual Rows": 69, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.921, + "Actual Total Time": 10.965, + "Actual Rows": 313, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.601, + "Actual Total Time": 14.270, + "Actual Rows": 169, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.247, + "Actual Total Time": 15.891, + "Actual Rows": 104, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 3.735, + "Actual Total Time": 9.510, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2.368, + "Actual Total Time": 11.208, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.295, + "Actual Total Time": 11.112, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.710, + "Actual Total Time": 1.761, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8.459, + "Actual Total Time": 15.434, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.833, + "Actual Total Time": 5.220, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.515, + "Actual Total Time": 12.949, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.160, + "Actual Total Time": 14.836, + "Actual Rows": 9, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 143.85, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.044, + "Actual Total Time": 1.688, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.256, + "Actual Rows": 32, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.400, + "Actual Rows": 48, + "Actual Loops": 4 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.119, + "Actual Total Time": 7.167, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.181, + "Actual Rows": 17, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 2.795, + "Actual Rows": 156, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.308, + "Actual Rows": 42, + "Actual Loops": 4 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.109, + "Actual Rows": 12, + "Actual Loops": 9 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 162 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 190 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1400 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 69 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 313 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 169 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 104 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 0.92, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.074, + "Actual Rows": 0, + "Actual Loops": 405, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = 'Bulgaria'::text)", + "Rows Removed by Filter": 63, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.144, + "Actual Total Time": 0.144, + "Actual Rows": 0, + "Actual Loops": 15 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.100, + "Actual Total Time": 0.100, + "Actual Rows": 0, + "Actual Loops": 21 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.097, + "Actual Rows": 0, + "Actual Loops": 47 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.187, + "Actual Total Time": 0.187, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.184, + "Actual Total Time": 0.219, + "Actual Rows": 0, + "Actual Loops": 7 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.085, + "Actual Rows": 0, + "Actual Loops": 7 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.080, + "Actual Rows": 0, + "Actual Loops": 5 + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 2073429154321355728, + "Planning Time": 14.017, + "Triggers": [ + ], + "Execution Time": 172.890, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 2073429154321355728, + "JOINS": 3 + } + ] (1 row)
SELECT MIN(t.title) AS movie_title
FROM keyword AS k,
     movie_info AS mi,
     movie_keyword AS mk,
     title AS t
WHERE k.keyword LIKE '%sequel%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND t.production_year > 1990
  AND t.id = mi.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi.movie_id
  AND k.id = mk.keyword_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3775.06, + "Total Cost": 3775.07, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 567.726, + "Actual Total Time": 567.846, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3775.03, + "Total Cost": 3775.04, + "Plan Rows": 7, + "Plan Width": 32, + "Actual Startup Time": 567.706, + "Actual Total Time": 567.835, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3774.03, + "Total Cost": 3774.04, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 121.074, + "Actual Total Time": 121.078, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 46.049, + "Actual Total Time": 46.055, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 100.218, + "Actual Total Time": 100.220, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 52.985, + "Actual Total Time": 52.988, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 55.960, + "Actual Total Time": 55.965, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 39.638, + "Actual Total Time": 39.641, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 60.407, + "Actual Total Time": 60.410, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 46.473, + "Actual Total Time": 46.476, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.32, + "Total Cost": 3771.44, + "Plan Rows": 1036, + "Plan Width": 17, + "Actual Startup Time": 6.509, + "Actual Total Time": 120.509, + "Actual Rows": 906, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.318, + "Actual Total Time": 45.938, + "Actual Rows": 82, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.689, + "Actual Total Time": 99.426, + "Actual Rows": 1231, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.653, + "Actual Total Time": 52.831, + "Actual Rows": 120, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.087, + "Actual Total Time": 55.748, + "Actual Rows": 157, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.678, + "Actual Total Time": 39.506, + "Actual Rows": 94, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.771, + "Actual Total Time": 60.129, + "Actual Rows": 243, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.363, + "Actual Total Time": 46.380, + "Actual Rows": 64, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2633.11, + "Plan Rows": 1125, + "Plan Width": 25, + "Actual Startup Time": 4.533, + "Actual Total Time": 35.194, + "Actual Rows": 984, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.239, + "Actual Total Time": 21.269, + "Actual Rows": 54, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.325, + "Actual Total Time": 25.999, + "Actual Rows": 1283, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.239, + "Actual Total Time": 14.270, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.159, + "Actual Total Time": 23.755, + "Actual Rows": 146, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.565, + "Actual Total Time": 18.508, + "Actual Rows": 109, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.648, + "Actual Total Time": 12.117, + "Actual Rows": 191, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.299, + "Actual Total Time": 18.541, + "Actual Rows": 56, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1781.28, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 4.454, + "Actual Total Time": 15.455, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.162, + "Actual Total Time": 19.125, + "Actual Rows": 74, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.150, + "Actual Total Time": 6.808, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.171, + "Actual Total Time": 6.968, + "Actual Rows": 202, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.100, + "Actual Total Time": 18.807, + "Actual Rows": 156, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.480, + "Actual Total Time": 13.725, + "Actual Rows": 180, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.587, + "Actual Total Time": 4.170, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.239, + "Actual Total Time": 16.012, + "Actual Rows": 83, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 4.371, + "Actual Total Time": 9.019, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4.075, + "Actual Total Time": 17.778, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1.038, + "Actual Total Time": 1.066, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 4.101, + "Actual Total Time": 5.452, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 14.031, + "Actual Total Time": 17.053, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.404, + "Actual Total Time": 11.762, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.515, + "Actual Total Time": 0.572, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.176, + "Actual Total Time": 14.826, + "Actual Rows": 8, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 143.85, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.052, + "Actual Total Time": 1.575, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.088, + "Actual Total Time": 0.254, + "Actual Rows": 15, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.107, + "Actual Total Time": 5.249, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.468, + "Actual Rows": 67, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.551, + "Actual Rows": 52, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.230, + "Actual Rows": 22, + "Actual Loops": 8 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.069, + "Actual Total Time": 3.428, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.120, + "Actual Rows": 10, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 74 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1400 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 202 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 156 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 1, + "Actual Loops": 180 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 312 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 83 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.00, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.086, + "Actual Rows": 1, + "Actual Loops": 7874, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 35, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.263, + "Actual Total Time": 0.454, + "Actual Rows": 2, + "Actual Loops": 54 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 1283 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.137, + "Actual Total Time": 0.268, + "Actual Rows": 1, + "Actual Loops": 143 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.103, + "Actual Total Time": 0.217, + "Actual Rows": 1, + "Actual Loops": 146 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.115, + "Actual Total Time": 0.191, + "Actual Rows": 1, + "Actual Loops": 109 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.121, + "Actual Total Time": 0.249, + "Actual Rows": 1, + "Actual Loops": 191 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.176, + "Actual Total Time": 0.495, + "Actual Rows": 1, + "Actual Loops": 56 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 8031722090065659855, + "Planning Time": 14.823, + "Triggers": [ + ], + "Execution Time": 568.048, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 8031722090065659855, + "JOINS": 3 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS movie_title
FROM info_type AS it,
     keyword AS k,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it.info ='rating'
  AND k.keyword LIKE '%sequel%'
  AND mi_idx.info > '5.0'
  AND t.production_year > 2005
  AND t.id = mi_idx.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2797.43, + "Total Cost": 2797.44, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 195.993, + "Actual Total Time": 196.314, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2797.39, + "Total Cost": 2797.40, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 195.961, + "Actual Total Time": 196.298, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2796.39, + "Total Cost": 2796.40, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 42.830, + "Actual Total Time": 42.835, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.536, + "Actual Total Time": 21.544, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.252, + "Actual Total Time": 18.257, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.098, + "Actual Total Time": 18.104, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.114, + "Actual Total Time": 18.119, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 18.247, + "Actual Total Time": 18.253, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 35.356, + "Actual Total Time": 35.360, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 18.186, + "Actual Total Time": 18.191, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 2795.86, + "Plan Rows": 106, + "Plan Width": 22, + "Actual Startup Time": 4.551, + "Actual Total Time": 41.229, + "Actual Rows": 92, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.740, + "Actual Total Time": 9.596, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.282, + "Actual Total Time": 18.204, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.757, + "Actual Total Time": 18.064, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.748, + "Actual Total Time": 18.083, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.200, + "Actual Total Time": 18.204, + "Actual Rows": 30, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.322, + "Actual Total Time": 35.229, + "Actual Rows": 93, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.477, + "Actual Total Time": 18.144, + "Actual Rows": 33, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 2793.57, + "Plan Rows": 164, + "Plan Width": 26, + "Actual Startup Time": 4.242, + "Actual Total Time": 40.759, + "Actual Rows": 144, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.511, + "Actual Total Time": 9.351, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.875, + "Actual Total Time": 17.849, + "Actual Rows": 34, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.492, + "Actual Total Time": 17.761, + "Actual Rows": 23, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.511, + "Actual Total Time": 17.805, + "Actual Rows": 31, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.930, + "Actual Total Time": 17.855, + "Actual Rows": 62, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.022, + "Actual Total Time": 34.729, + "Actual Rows": 141, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.250, + "Actual Total Time": 17.857, + "Actual Rows": 41, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2633.11, + "Plan Rows": 319, + "Plan Width": 25, + "Actual Startup Time": 3.937, + "Actual Total Time": 34.330, + "Actual Rows": 279, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.233, + "Actual Total Time": 8.367, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.777, + "Actual Total Time": 16.705, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.388, + "Actual Total Time": 16.446, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.898, + "Actual Total Time": 16.688, + "Actual Rows": 34, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.848, + "Actual Total Time": 13.562, + "Actual Rows": 91, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.895, + "Actual Total Time": 26.069, + "Actual Rows": 536, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.185, + "Actual Total Time": 16.192, + "Actual Rows": 54, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1781.28, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 3.262, + "Actual Total Time": 14.273, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.775, + "Actual Total Time": 7.197, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.405, + "Actual Total Time": 9.717, + "Actual Rows": 350, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.160, + "Actual Total Time": 13.466, + "Actual Rows": 148, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.573, + "Actual Total Time": 13.683, + "Actual Rows": 89, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.781, + "Actual Total Time": 9.138, + "Actual Rows": 203, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.461, + "Actual Total Time": 6.978, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.701, + "Actual Total Time": 12.584, + "Actual Rows": 180, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 3.182, + "Actual Total Time": 7.764, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.696, + "Actual Total Time": 6.724, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.331, + "Actual Total Time": 7.113, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.077, + "Actual Total Time": 12.299, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.501, + "Actual Total Time": 12.783, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.719, + "Actual Total Time": 7.447, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.355, + "Actual Total Time": 1.385, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.631, + "Actual Total Time": 11.199, + "Actual Rows": 8, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 143.85, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.041, + "Actual Total Time": 1.598, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.075, + "Actual Total Time": 0.442, + "Actual Rows": 37, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.488, + "Actual Rows": 70, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.273, + "Actual Rows": 37, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.139, + "Actual Rows": 15, + "Actual Loops": 6 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.400, + "Actual Rows": 51, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.102, + "Actual Total Time": 5.123, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.161, + "Actual Rows": 22, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 37 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 350 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 148 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 89 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 203 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1400 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 180 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 2235, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '5.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.191, + "Actual Total Time": 0.193, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 37 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.059, + "Actual Total Time": 0.060, + "Actual Rows": 1, + "Actual Loops": 21 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 34 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 91 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 536 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 54 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.056, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1950505845315524548, + "Planning Time": 12.629, + "Triggers": [ + ], + "Execution Time": 196.561, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1950505845315524548, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS movie_title
FROM info_type AS it,
     keyword AS k,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it.info ='rating'
  AND k.keyword LIKE '%sequel%'
  AND mi_idx.info > '9.0'
  AND t.production_year > 2010
  AND t.id = mi_idx.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2663.84, + "Total Cost": 2663.85, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 174.734, + "Actual Total Time": 174.897, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2663.80, + "Total Cost": 2663.81, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 174.701, + "Actual Total Time": 174.880, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2662.80, + "Total Cost": 2662.81, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 39.584, + "Actual Total Time": 39.588, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.185, + "Actual Total Time": 18.189, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.207, + "Actual Total Time": 18.211, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.238, + "Actual Total Time": 18.242, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 34.291, + "Actual Total Time": 34.294, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.718, + "Actual Total Time": 17.722, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.165, + "Actual Total Time": 18.168, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 18.053, + "Actual Total Time": 18.057, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.43, + "Total Cost": 2662.79, + "Plan Rows": 1, + "Plan Width": 22, + "Actual Startup Time": 20.086, + "Actual Total Time": 39.576, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 18.181, + "Actual Total Time": 18.184, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.203, + "Actual Total Time": 18.207, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.232, + "Actual Total Time": 18.235, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.870, + "Actual Total Time": 34.273, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.703, + "Actual Total Time": 17.706, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 18.162, + "Actual Total Time": 18.165, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 18.047, + "Actual Total Time": 18.051, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 2662.28, + "Plan Rows": 3, + "Plan Width": 26, + "Actual Startup Time": 15.486, + "Actual Total Time": 39.535, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = mi_idx.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5.570, + "Actual Total Time": 18.121, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.203, + "Actual Total Time": 18.206, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.232, + "Actual Total Time": 18.234, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 20.809, + "Actual Total Time": 34.210, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 17.702, + "Actual Total Time": 17.704, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 11.761, + "Actual Total Time": 18.111, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 18.047, + "Actual Total Time": 18.049, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2633.11, + "Plan Rows": 58, + "Plan Width": 25, + "Actual Startup Time": 6.098, + "Actual Total Time": 38.412, + "Actual Rows": 51, + "Actual Loops": 8, + "Output": ["mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.758, + "Actual Total Time": 17.723, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 9.833, + "Actual Total Time": 17.864, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6.449, + "Actual Total Time": 17.985, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.154, + "Actual Total Time": 32.916, + "Actual Rows": 47, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.734, + "Actual Total Time": 17.346, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.428, + "Actual Total Time": 17.441, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.345, + "Actual Total Time": 17.597, + "Actual Rows": 12, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1781.28, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 3.925, + "Actual Total Time": 16.768, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.379, + "Actual Total Time": 14.300, + "Actual Rows": 132, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.279, + "Actual Total Time": 15.404, + "Actual Rows": 101, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.991, + "Actual Total Time": 10.812, + "Actual Rows": 315, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.661, + "Actual Total Time": 9.208, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.256, + "Actual Total Time": 14.170, + "Actual Rows": 122, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.021, + "Actual Total Time": 14.889, + "Actual Rows": 103, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.180, + "Actual Total Time": 12.518, + "Actual Rows": 234, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 3.839, + "Actual Total Time": 9.435, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.310, + "Actual Total Time": 12.906, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8.196, + "Actual Total Time": 14.360, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.912, + "Actual Total Time": 8.303, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.542, + "Actual Total Time": 1.595, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.183, + "Actual Total Time": 13.083, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.942, + "Actual Total Time": 13.860, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.108, + "Actual Total Time": 7.837, + "Actual Rows": 3, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 143.85, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.043, + "Actual Total Time": 1.807, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.186, + "Actual Rows": 19, + "Actual Loops": 7 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.197, + "Actual Rows": 20, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.784, + "Actual Rows": 105, + "Actual Loops": 3 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.116, + "Actual Total Time": 7.035, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.254, + "Actual Rows": 30, + "Actual Loops": 4 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.161, + "Actual Rows": 17, + "Actual Loops": 6 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.044, + "Actual Total Time": 1.522, + "Actual Rows": 78, + "Actual Loops": 3 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 12951, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 132 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 101 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 315 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1400 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 122 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 103 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 234 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 405, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '9.0'::text)", + "Rows Removed by Filter": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 9 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 8 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 7 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 47 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.056, + "Actual Rows": 0, + "Actual Loops": 6 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 21 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 12 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 20, + "Output": ["it.id", "it.info"], + "Index Cond": "(it.id = mi_idx.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.057, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1950505845315524548, + "Planning Time": 14.793, + "Triggers": [ + ], + "Execution Time": 175.176, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1950505845315524548, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(mi_idx.info) AS rating,
       MIN(t.title) AS movie_title
FROM info_type AS it,
     keyword AS k,
     movie_info_idx AS mi_idx,
     movie_keyword AS mk,
     title AS t
WHERE it.info ='rating'
  AND k.keyword LIKE '%sequel%'
  AND mi_idx.info > '2.0'
  AND t.production_year > 1990
  AND t.id = mi_idx.movie_id
  AND t.id = mk.movie_id
  AND mk.movie_id = mi_idx.movie_id
  AND k.id = mk.keyword_id
  AND it.id = mi_idx.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3184.21, + "Total Cost": 3184.22, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 240.805, + "Actual Total Time": 241.034, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(mi_idx.info)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3184.17, + "Total Cost": 3184.18, + "Plan Rows": 7, + "Plan Width": 64, + "Actual Startup Time": 240.780, + "Actual Total Time": 241.022, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(mi_idx.info))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3183.17, + "Total Cost": 3183.18, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 53.579, + "Actual Total Time": 53.583, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(mi_idx.info)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 21.587, + "Actual Total Time": 21.592, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 25.704, + "Actual Total Time": 25.706, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 21.541, + "Actual Total Time": 21.545, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.799, + "Actual Total Time": 18.804, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 47.362, + "Actual Total Time": 47.366, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 29.011, + "Actual Total Time": 29.013, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.666, + "Actual Total Time": 24.670, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.13, + "Total Cost": 3179.82, + "Plan Rows": 669, + "Plan Width": 22, + "Actual Startup Time": 5.271, + "Actual Total Time": 53.182, + "Actual Rows": 588, + "Actual Loops": 8, + "Output": ["mi_idx.info", "t.title"], + "Inner Unique": true, + "Join Filter": "(mi_idx.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.924, + "Actual Total Time": 21.502, + "Actual Rows": 73, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.205, + "Actual Total Time": 25.625, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.155, + "Actual Total Time": 21.530, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.669, + "Actual Total Time": 18.638, + "Actual Rows": 176, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.276, + "Actual Total Time": 46.976, + "Actual Rows": 422, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.141, + "Actual Total Time": 28.834, + "Actual Rows": 173, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.983, + "Actual Total Time": 24.495, + "Actual Rows": 137, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.70, + "Total Cost": 2714.92, + "Plan Rows": 983, + "Plan Width": 13, + "Actual Startup Time": 5.180, + "Actual Total Time": 40.248, + "Actual Rows": 1012, + "Actual Loops": 8, + "Output": ["mi_idx.info", "mi_idx.movie_id", "mk.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mi_idx.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.865, + "Actual Total Time": 18.561, + "Actual Rows": 117, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.140, + "Actual Total Time": 23.479, + "Actual Rows": 103, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 18.099, + "Actual Total Time": 21.368, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.588, + "Actual Total Time": 14.705, + "Actual Rows": 196, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.982, + "Actual Total Time": 37.883, + "Actual Rows": 514, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.089, + "Actual Total Time": 17.606, + "Actual Rows": 288, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.904, + "Actual Total Time": 20.304, + "Actual Rows": 194, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2707.26, + "Plan Rows": 2134, + "Plan Width": 17, + "Actual Startup Time": 4.857, + "Actual Total Time": 38.899, + "Actual Rows": 1870, + "Actual Loops": 8, + "Output": ["mk.movie_id", "mi_idx.info", "mi_idx.movie_id", "mi_idx.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.543, + "Actual Total Time": 18.057, + "Actual Rows": 219, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.816, + "Actual Total Time": 23.008, + "Actual Rows": 194, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.798, + "Actual Total Time": 21.062, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.271, + "Actual Total Time": 14.114, + "Actual Rows": 367, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.688, + "Actual Total Time": 36.857, + "Actual Rows": 999, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.783, + "Actual Total Time": 16.898, + "Actual Rows": 543, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.628, + "Actual Total Time": 19.711, + "Actual Rows": 356, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1781.28, + "Plan Rows": 1850, + "Plan Width": 4, + "Actual Startup Time": 4.775, + "Actual Total Time": 16.151, + "Actual Rows": 1619, + "Actual Loops": 8, + "Output": ["mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.480, + "Actual Total Time": 13.909, + "Actual Rows": 141, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.705, + "Actual Total Time": 19.485, + "Actual Rows": 129, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.717, + "Actual Total Time": 20.846, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.187, + "Actual Total Time": 9.248, + "Actual Rows": 204, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.609, + "Actual Total Time": 10.309, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.691, + "Actual Total Time": 7.734, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.528, + "Actual Total Time": 12.612, + "Actual Rows": 216, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 4, + "Plan Width": 4, + "Actual Startup Time": 4.697, + "Actual Total Time": 9.558, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword ~~ '%sequel%'::text)", + "Rows Removed by Filter": 16768, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.428, + "Actual Total Time": 12.516, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.624, + "Actual Total Time": 18.489, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 17.652, + "Actual Total Time": 20.736, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.119, + "Actual Total Time": 1.747, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3.498, + "Actual Total Time": 3.530, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5.626, + "Actual Total Time": 5.671, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3.460, + "Actual Total Time": 10.594, + "Actual Rows": 9, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 143.85, + "Plan Rows": 432, + "Plan Width": 8, + "Actual Startup Time": 0.050, + "Actual Total Time": 1.616, + "Actual Rows": 432, + "Actual Loops": 30, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.220, + "Actual Rows": 24, + "Actual Loops": 6 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.132, + "Actual Rows": 18, + "Actual Loops": 7 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.060, + "Actual Total Time": 0.102, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.038, + "Actual Total Time": 1.853, + "Actual Rows": 51, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.104, + "Actual Total Time": 5.515, + "Actual Rows": 1400, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.059, + "Actual Total Time": 1.937, + "Actual Rows": 312, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.068, + "Actual Total Time": 0.212, + "Actual Rows": 24, + "Actual Loops": 9 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info_idx", + "Relation Name": "movie_info_idx", + "Schema": "public", + "Alias": "mi_idx", + "Startup Cost": 0.43, + "Total Cost": 0.49, + "Plan Rows": 1, + "Plan Width": 13, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 12951, + "Output": ["mi_idx.id", "mi_idx.movie_id", "mi_idx.info_type_id", "mi_idx.info", "mi_idx.note"], + "Index Cond": "(mi_idx.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi_idx.info > '2.0'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.028, + "Actual Rows": 2, + "Actual Loops": 141 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 2, + "Actual Loops": 129 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 2, + "Actual Loops": 5 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 2, + "Actual Loops": 204 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 1400 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.028, + "Actual Rows": 2, + "Actual Loops": 312 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 2, + "Actual Loops": 216 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.051, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.053, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'rating'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 8092, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 117 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 103 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 196 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 514 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 288 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 194 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -1950505845315524548, + "Planning Time": 12.953, + "Triggers": [ + ], + "Execution Time": 241.261, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -1950505845315524548, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS typical_european_movie
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     title AS t
WHERE ct.kind = 'production companies'
  AND mc.note LIKE '%(theatrical)%'
  AND mc.note LIKE '%(France)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German')
  AND t.production_year > 2005
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND mc.movie_id = mi.movie_id
  AND ct.id = mc.company_type_id
  AND it.id = mi.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 23703.43, + "Total Cost": 23703.44, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 187.245, + "Actual Total Time": 187.992, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 23703.40, + "Total Cost": 23703.41, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 181.513, + "Actual Total Time": 187.974, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 23702.40, + "Total Cost": 23702.41, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 173.276, + "Actual Total Time": 173.282, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 172.547, + "Actual Total Time": 172.552, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 174.327, + "Actual Total Time": 174.335, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 169.206, + "Actual Total Time": 169.213, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 167.411, + "Actual Total Time": 167.417, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 173.748, + "Actual Total Time": 173.754, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 173.901, + "Actual Total Time": 173.907, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 174.320, + "Actual Total Time": 174.326, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.05, + "Total Cost": 23702.40, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 173.270, + "Actual Total Time": 173.275, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 172.542, + "Actual Total Time": 172.547, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 174.320, + "Actual Total Time": 174.326, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 169.200, + "Actual Total Time": 169.205, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 167.407, + "Actual Total Time": 167.412, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 173.742, + "Actual Total Time": 173.747, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 173.895, + "Actual Total Time": 173.900, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 174.316, + "Actual Total Time": 174.321, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.91, + "Total Cost": 23702.24, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 173.269, + "Actual Total Time": 173.274, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 172.541, + "Actual Total Time": 172.544, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 174.318, + "Actual Total Time": 174.324, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 169.199, + "Actual Total Time": 169.203, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 167.406, + "Actual Total Time": 167.410, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 173.741, + "Actual Total Time": 173.746, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 173.894, + "Actual Total Time": 173.898, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 174.315, + "Actual Total Time": 174.319, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 23700.99, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 173.268, + "Actual Total Time": 173.272, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 172.540, + "Actual Total Time": 172.543, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 174.318, + "Actual Total Time": 174.323, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 169.198, + "Actual Total Time": 169.201, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 167.405, + "Actual Total Time": 167.409, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 173.741, + "Actual Total Time": 173.744, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 173.893, + "Actual Total Time": 173.897, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 174.314, + "Actual Total Time": 174.318, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 23699.40, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 173.267, + "Actual Total Time": 173.270, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 172.539, + "Actual Total Time": 172.541, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 174.316, + "Actual Total Time": 174.320, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 169.197, + "Actual Total Time": 169.199, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 167.405, + "Actual Total Time": 167.408, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 173.739, + "Actual Total Time": 173.742, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 173.892, + "Actual Total Time": 173.895, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 174.314, + "Actual Total Time": 174.316, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.00, + "Total Cost": 23682.12, + "Plan Rows": 3003, + "Plan Width": 8, + "Actual Startup Time": 15.239, + "Actual Total Time": 172.100, + "Actual Rows": 3003, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "((mc.note ~~ '%(theatrical)%'::text) AND (mc.note ~~ '%(France)%'::text))", + "Rows Removed by Filter": 323138, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 42.770, + "Actual Total Time": 171.453, + "Actual Rows": 2866, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.650, + "Actual Total Time": 173.134, + "Actual Rows": 2968, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.452, + "Actual Total Time": 168.155, + "Actual Rows": 2636, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 4.561, + "Actual Total Time": 166.237, + "Actual Rows": 3136, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 14.498, + "Actual Total Time": 172.531, + "Actual Rows": 2998, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.681, + "Actual Total Time": 172.898, + "Actual Rows": 2699, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.241, + "Actual Total Time": 173.029, + "Actual Rows": 3460, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.59, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2005)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 1.24, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 9106003620751043838, + "Planning Time": 14.262, + "Triggers": [ + ], + "Execution Time": 188.183, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 9106003620751043838, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS american_vhs_movie
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     title AS t
WHERE ct.kind = 'production companies'
  AND mc.note LIKE '%(VHS)%'
  AND mc.note LIKE '%(USA)%'
  AND mc.note LIKE '%(1994)%'
  AND mi.info IN ('USA',
                  'America')
  AND t.production_year > 2010
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND mc.movie_id = mi.movie_id
  AND ct.id = mc.company_type_id
  AND it.id = mi.info_type_id;

QUERY PLAN ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24504.24, + "Total Cost": 24504.25, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 161.690, + "Actual Total Time": 172.335, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24504.21, + "Total Cost": 24504.22, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 161.495, + "Actual Total Time": 172.321, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24503.21, + "Total Cost": 24503.22, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 154.992, + "Actual Total Time": 154.997, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 154.130, + "Actual Total Time": 154.135, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 154.283, + "Actual Total Time": 154.288, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 154.286, + "Actual Total Time": 154.292, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 154.273, + "Actual Total Time": 154.279, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 154.244, + "Actual Total Time": 154.248, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 154.015, + "Actual Total Time": 154.019, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 154.128, + "Actual Total Time": 154.134, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.05, + "Total Cost": 24503.20, + "Plan Rows": 1, + "Plan Width": 17, + "Actual Startup Time": 154.988, + "Actual Total Time": 154.992, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 154.125, + "Actual Total Time": 154.129, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 154.279, + "Actual Total Time": 154.282, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 154.282, + "Actual Total Time": 154.287, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 154.270, + "Actual Total Time": 154.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 154.239, + "Actual Total Time": 154.243, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 154.011, + "Actual Total Time": 154.015, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 154.124, + "Actual Total Time": 154.129, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.62, + "Total Cost": 24502.67, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 154.987, + "Actual Total Time": 154.991, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 154.124, + "Actual Total Time": 154.128, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 154.278, + "Actual Total Time": 154.280, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 154.282, + "Actual Total Time": 154.285, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 154.269, + "Actual Total Time": 154.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 154.238, + "Actual Total Time": 154.241, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 154.010, + "Actual Total Time": 154.013, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 154.124, + "Actual Total Time": 154.128, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.48, + "Total Cost": 24502.51, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 154.986, + "Actual Total Time": 154.989, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "mi.movie_id", "mi.info_type_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 154.124, + "Actual Total Time": 154.126, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 154.277, + "Actual Total Time": 154.279, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 154.281, + "Actual Total Time": 154.284, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 154.268, + "Actual Total Time": 154.271, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 154.238, + "Actual Total Time": 154.240, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 154.009, + "Actual Total Time": 154.012, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 154.123, + "Actual Total Time": 154.126, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 24499.47, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 154.986, + "Actual Total Time": 154.988, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 154.123, + "Actual Total Time": 154.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 154.276, + "Actual Total Time": 154.278, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 154.280, + "Actual Total Time": 154.282, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 154.268, + "Actual Total Time": 154.270, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 154.237, + "Actual Total Time": 154.239, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 154.008, + "Actual Total Time": 154.010, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 154.123, + "Actual Total Time": 154.125, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.00, + "Total Cost": 24497.47, + "Plan Rows": 177, + "Plan Width": 8, + "Actual Startup Time": 7.487, + "Actual Total Time": 154.593, + "Actual Rows": 177, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "((mc.note ~~ '%(VHS)%'::text) AND (mc.note ~~ '%(USA)%'::text) AND (mc.note ~~ '%(1994)%'::text))", + "Rows Removed by Filter": 325964, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.284, + "Actual Total Time": 153.793, + "Actual Rows": 203, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.965, + "Actual Total Time": 153.880, + "Actual Rows": 173, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 15.398, + "Actual Total Time": 153.920, + "Actual Rows": 145, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 11.905, + "Actual Total Time": 153.854, + "Actual Rows": 161, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 12.598, + "Actual Total Time": 153.896, + "Actual Rows": 157, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1.532, + "Actual Total Time": 153.673, + "Actual Rows": 205, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.608, + "Actual Total Time": 153.797, + "Actual Rows": 197, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.082, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.43, + "Total Cost": 3.03, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{USA,America}'::text[]))", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["it.id"], + "Index Cond": "(it.id = mi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Heap Fetches": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.000, + "Actual Rows": 0, + "Actual Loops": 0, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mi.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -3414057395363075461, + "Planning Time": 15.943, + "Triggers": [ + ], + "Execution Time": 172.614, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -3414057395363075461, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(t.title) AS american_movie
FROM company_type AS ct,
     info_type AS it,
     movie_companies AS mc,
     movie_info AS mi,
     title AS t
WHERE ct.kind = 'production companies'
  AND mc.note NOT LIKE '%(TV)%'
  AND mc.note LIKE '%(USA)%'
  AND mi.info IN ('Sweden',
                  'Norway',
                  'Germany',
                  'Denmark',
                  'Swedish',
                  'Denish',
                  'Norwegian',
                  'German',
                  'USA',
                  'American')
  AND t.production_year > 1990
  AND t.id = mi.movie_id
  AND t.id = mc.movie_id
  AND mc.movie_id = mi.movie_id
  AND ct.id = mc.company_type_id
  AND it.id = mi.info_type_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24051.55, + "Total Cost": 24051.56, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 239.973, + "Actual Total Time": 252.420, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24051.52, + "Total Cost": 24051.53, + "Plan Rows": 8, + "Plan Width": 32, + "Actual Startup Time": 239.715, + "Actual Total Time": 252.402, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 24050.52, + "Total Cost": 24050.53, + "Plan Rows": 1, + "Plan Width": 32, + "Actual Startup Time": 230.584, + "Actual Total Time": 230.589, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 231.418, + "Actual Total Time": 231.423, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 230.632, + "Actual Total Time": 230.636, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 227.243, + "Actual Total Time": 227.247, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 231.833, + "Actual Total Time": 231.838, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 221.229, + "Actual Total Time": 221.234, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 231.826, + "Actual Total Time": 231.831, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 231.852, + "Actual Total Time": 231.855, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.42, + "Total Cost": 24050.31, + "Plan Rows": 84, + "Plan Width": 17, + "Actual Startup Time": 154.594, + "Actual Total Time": 230.465, + "Actual Rows": 84, + "Actual Loops": 8, + "Output": ["t.title"], + "Inner Unique": true, + "Hash Cond": "(mi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 154.474, + "Actual Total Time": 231.305, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 153.264, + "Actual Total Time": 230.503, + "Actual Rows": 85, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 150.349, + "Actual Total Time": 227.135, + "Actual Rows": 84, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 154.612, + "Actual Total Time": 231.720, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 146.816, + "Actual Total Time": 221.092, + "Actual Rows": 91, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 157.808, + "Actual Total Time": 231.709, + "Actual Rows": 86, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 154.621, + "Actual Total Time": 231.721, + "Actual Rows": 95, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.93, + "Total Cost": 24047.59, + "Plan Rows": 84, + "Plan Width": 21, + "Actual Startup Time": 154.230, + "Actual Total Time": 229.953, + "Actual Rows": 84, + "Actual Loops": 8, + "Output": ["mi.info_type_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 154.161, + "Actual Total Time": 230.850, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 152.943, + "Actual Total Time": 230.011, + "Actual Rows": 85, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 150.016, + "Actual Total Time": 226.658, + "Actual Rows": 84, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 154.301, + "Actual Total Time": 231.276, + "Actual Rows": 78, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 146.480, + "Actual Total Time": 220.598, + "Actual Rows": 91, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 157.495, + "Actual Total Time": 231.254, + "Actual Rows": 86, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 154.311, + "Actual Total Time": 231.246, + "Actual Rows": 95, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.47, + "Total Cost": 23943.92, + "Plan Rows": 96, + "Plan Width": 25, + "Actual Startup Time": 151.983, + "Actual Total Time": 214.438, + "Actual Rows": 96, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 153.640, + "Actual Total Time": 216.747, + "Actual Rows": 79, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 149.427, + "Actual Total Time": 209.537, + "Actual Rows": 90, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 148.257, + "Actual Total Time": 212.160, + "Actual Rows": 123, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 150.982, + "Actual Total Time": 216.954, + "Actual Rows": 80, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 146.221, + "Actual Total Time": 205.101, + "Actual Rows": 116, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 154.134, + "Actual Total Time": 217.348, + "Actual Rows": 87, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 149.992, + "Actual Total Time": 211.375, + "Actual Rows": 123, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.04, + "Total Cost": 23882.94, + "Plan Rows": 100, + "Plan Width": 4, + "Actual Startup Time": 150.843, + "Actual Total Time": 209.984, + "Actual Rows": 100, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": true, + "Hash Cond": "(mc.company_type_id = ct.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 149.030, + "Actual Total Time": 209.485, + "Actual Rows": 82, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 149.339, + "Actual Total Time": 205.906, + "Actual Rows": 92, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 148.137, + "Actual Total Time": 208.284, + "Actual Rows": 129, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 150.890, + "Actual Total Time": 214.318, + "Actual Rows": 85, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 146.084, + "Actual Total Time": 200.849, + "Actual Rows": 120, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 150.268, + "Actual Total Time": 210.324, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 149.881, + "Actual Total Time": 206.928, + "Actual Rows": 131, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.00, + "Total Cost": 23682.12, + "Plan Rows": 36954, + "Plan Width": 8, + "Actual Startup Time": 0.112, + "Actual Total Time": 198.436, + "Actual Rows": 36954, + "Actual Loops": 8, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Filter": "((mc.note !~~ '%(TV)%'::text) AND (mc.note ~~ '%(USA)%'::text))", + "Rows Removed by Filter": 289188, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.334, + "Actual Total Time": 197.318, + "Actual Rows": 39417, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.128, + "Actual Total Time": 193.716, + "Actual Rows": 35783, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.029, + "Actual Total Time": 198.160, + "Actual Rows": 33249, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.246, + "Actual Total Time": 203.029, + "Actual Rows": 36058, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.048, + "Actual Total Time": 189.660, + "Actual Rows": 36354, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 198.293, + "Actual Rows": 38574, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.063, + "Actual Total Time": 194.711, + "Actual Rows": 40007, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.03, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["ct.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.000, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_type", + "Schema": "public", + "Alias": "ct", + "Startup Cost": 0.00, + "Total Cost": 1.03, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["ct.id"], + "Filter": "((ct.kind)::text = 'production companies'::text)", + "Rows Removed by Filter": 3, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.61, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 798, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 1990)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.086, + "Actual Total Time": 0.086, + "Actual Rows": 1, + "Actual Loops": 82 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 92 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 129 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 85 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 120 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.077, + "Actual Rows": 1, + "Actual Loops": 88 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 131 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_info", + "Relation Name": "movie_info", + "Schema": "public", + "Alias": "mi", + "Startup Cost": 0.46, + "Total Cost": 1.07, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.147, + "Actual Total Time": 0.160, + "Actual Rows": 1, + "Actual Loops": 767, + "Output": ["mi.id", "mi.movie_id", "mi.info_type_id", "mi.info", "mi.note"], + "Index Cond": "(mi.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(mi.info = ANY ('{Sweden,Norway,Germany,Denmark,Swedish,Denish,Norwegian,German,USA,American}'::text[]))", + "Rows Removed by Filter": 10, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.156, + "Actual Total Time": 0.177, + "Actual Rows": 1, + "Actual Loops": 79 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.214, + "Actual Total Time": 0.226, + "Actual Rows": 1, + "Actual Loops": 90 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.106, + "Actual Total Time": 0.116, + "Actual Rows": 1, + "Actual Loops": 123 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.160, + "Actual Total Time": 0.177, + "Actual Rows": 1, + "Actual Loops": 80 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.120, + "Actual Total Time": 0.132, + "Actual Rows": 1, + "Actual Loops": 116 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.148, + "Actual Total Time": 0.158, + "Actual Rows": 1, + "Actual Loops": 87 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.151, + "Actual Total Time": 0.160, + "Actual Rows": 1, + "Actual Loops": 123 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.66, + "Total Cost": 1.66, + "Plan Rows": 66, + "Plan Width": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.056, + "Actual Rows": 14, + "Actual Loops": 8, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.036, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.66, + "Plan Rows": 66, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.067, + "Actual Rows": 113, + "Actual Loops": 1, + "Output": ["it.id"], + "Workers": [ + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 5596001239447068866, + "Planning Time": 17.163, + "Triggers": [ + ], + "Execution Time": 252.742, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 5596001239447068866, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS marvel_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword = 'marvel-cinematic-universe'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2010
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1429.99, + "Total Cost": 1430.00, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 117.458, + "Actual Total Time": 117.586, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.73, + "Total Cost": 1429.94, + "Plan Rows": 6, + "Plan Width": 48, + "Actual Startup Time": 44.503, + "Actual Total Time": 117.553, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1428.94, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 11.892, + "Actual Total Time": 21.009, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.122, + "Actual Total Time": 7.125, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.331, + "Actual Total Time": 7.335, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.609, + "Actual Total Time": 7.613, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.350, + "Actual Total Time": 7.354, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.388, + "Actual Total Time": 7.391, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.356, + "Actual Total Time": 7.360, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.348, + "Actual Total Time": 7.352, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1428.48, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 11.884, + "Actual Total Time": 20.989, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "k.keyword", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.121, + "Actual Total Time": 7.124, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.330, + "Actual Total Time": 7.334, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.608, + "Actual Total Time": 7.611, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.349, + "Actual Total Time": 7.352, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.387, + "Actual Total Time": 7.390, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.355, + "Actual Total Time": 7.358, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.347, + "Actual Total Time": 7.350, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1348.47, + "Plan Rows": 177, + "Plan Width": 28, + "Actual Startup Time": 7.052, + "Actual Total Time": 12.271, + "Actual Rows": 155, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id", "k.keyword"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.120, + "Actual Total Time": 7.122, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.330, + "Actual Total Time": 7.332, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.608, + "Actual Total Time": 7.610, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.349, + "Actual Total Time": 7.350, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.386, + "Actual Total Time": 7.388, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.355, + "Actual Total Time": 7.357, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.347, + "Actual Total Time": 7.349, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.42, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 6.600, + "Actual Total Time": 6.622, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.119, + "Actual Total Time": 7.120, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.329, + "Actual Total Time": 7.331, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.607, + "Actual Total Time": 7.608, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.348, + "Actual Total Time": 7.349, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.385, + "Actual Total Time": 7.386, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.354, + "Actual Total Time": 7.355, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.346, + "Actual Total Time": 7.347, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 6.582, + "Actual Total Time": 6.586, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'marvel-cinematic-universe'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7.119, + "Actual Total Time": 7.119, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7.329, + "Actual Total Time": 7.329, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7.606, + "Actual Total Time": 7.607, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7.347, + "Actual Total Time": 7.348, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7.385, + "Actual Total Time": 7.385, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7.352, + "Actual Total Time": 7.353, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7.345, + "Actual Total Time": 7.346, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.125, + "Actual Total Time": 0.257, + "Actual Rows": 14, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 90, + "Plan Width": 8, + "Actual Startup Time": 0.329, + "Actual Total Time": 3.191, + "Actual Rows": 89, + "Actual Loops": 14, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1242, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2010)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3759324545287071861, + "Planning Time": 13.459, + "Triggers": [ + ], + "Execution Time": 117.846, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3759324545287071861, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS hero_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2014
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3900.28, + "Total Cost": 3900.29, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 228.592, + "Actual Total Time": 253.588, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3900.22, + "Total Cost": 3900.23, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 84.158, + "Actual Total Time": 253.540, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(k.keyword))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 3899.22, + "Total Cost": 3899.23, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 111.727, + "Actual Total Time": 111.731, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(k.keyword)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 60.558, + "Actual Total Time": 60.563, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 50.081, + "Actual Total Time": 50.086, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 221.111, + "Actual Total Time": 221.113, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.963, + "Actual Total Time": 94.967, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 154.583, + "Actual Total Time": 154.587, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 163.364, + "Actual Total Time": 163.367, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 65.776, + "Actual Total Time": 65.781, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 3899.19, + "Plan Rows": 3, + "Plan Width": 48, + "Actual Startup Time": 100.272, + "Actual Total Time": 111.714, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 16.410, + "Actual Total Time": 60.537, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 50.073, + "Actual Total Time": 50.077, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 216.920, + "Actual Total Time": 221.093, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.957, + "Actual Total Time": 94.960, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 154.576, + "Actual Total Time": 154.579, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 141.174, + "Actual Total Time": 163.346, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 51.568, + "Actual Total Time": 65.754, + "Actual Rows": 4, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 3874.33, + "Plan Rows": 55, + "Plan Width": 37, + "Actual Startup Time": 50.131, + "Actual Total Time": 109.263, + "Actual Rows": 48, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.809, + "Actual Total Time": 59.248, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 50.073, + "Actual Total Time": 50.076, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 29.229, + "Actual Total Time": 217.045, + "Actual Rows": 72, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.957, + "Actual Total Time": 94.959, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 154.575, + "Actual Total Time": 154.578, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.812, + "Actual Total Time": 156.322, + "Actual Rows": 107, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 25.004, + "Actual Total Time": 63.538, + "Actual Rows": 82, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3867.33, + "Plan Rows": 5, + "Plan Width": 41, + "Actual Startup Time": 49.773, + "Actual Total Time": 107.893, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3.734, + "Actual Total Time": 58.465, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 50.072, + "Actual Total Time": 50.074, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 26.661, + "Actual Total Time": 213.090, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 94.956, + "Actual Total Time": 94.958, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 154.575, + "Actual Total Time": 154.577, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 21.698, + "Actual Total Time": 154.161, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 24.939, + "Actual Total Time": 62.280, + "Actual Rows": 6, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1529.18, + "Plan Rows": 5078, + "Plan Width": 20, + "Actual Startup Time": 7.317, + "Actual Total Time": 39.030, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.794, + "Actual Total Time": 44.938, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 50.071, + "Actual Total Time": 50.072, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.622, + "Actual Total Time": 70.531, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.643, + "Actual Total Time": 20.666, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.858, + "Actual Total Time": 43.862, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.144, + "Actual Total Time": 37.790, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.011, + "Actual Total Time": 23.337, + "Actual Rows": 1573, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 7.205, + "Actual Total Time": 13.167, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.717, + "Actual Total Time": 43.193, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 50.070, + "Actual Total Time": 50.070, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.486, + "Actual Total Time": 1.540, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.503, + "Actual Total Time": 0.527, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.713, + "Actual Total Time": 0.781, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.020, + "Actual Total Time": 2.040, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.848, + "Actual Total Time": 6.876, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.39, + "Plan Rows": 4444, + "Plan Width": 8, + "Actual Startup Time": 0.113, + "Actual Total Time": 24.368, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.072, + "Actual Total Time": 1.640, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.090, + "Actual Total Time": 32.744, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.133, + "Actual Total Time": 18.527, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.139, + "Actual Total Time": 41.136, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.117, + "Actual Total Time": 32.469, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.158, + "Actual Total Time": 15.816, + "Actual Rows": 1573, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2014)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 248 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 4196 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 6011 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 10544 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 1573 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.151, + "Actual Total Time": 0.295, + "Actual Rows": 11, + "Actual Loops": 36, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.247, + "Actual Rows": 15, + "Actual Loops": 3 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.533, + "Actual Total Time": 0.779, + "Actual Rows": 14, + "Actual Loops": 5 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.159, + "Actual Rows": 8, + "Actual Loops": 13 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.076, + "Actual Total Time": 0.199, + "Actual Rows": 14, + "Actual Loops": 6 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.050, + "Actual Total Time": 0.050, + "Actual Rows": 0, + "Actual Loops": 383, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 46 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 72 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.065, + "Actual Total Time": 0.065, + "Actual Rows": 0, + "Actual Loops": 107 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 82 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -196995888411579451, + "Planning Time": 12.224, + "Triggers": [ + ], + "Execution Time": 253.905, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -196995888411579451, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS marvel_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword = 'marvel-cinematic-universe'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2014
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1429.96, + "Total Cost": 1429.97, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 34.762, + "Actual Total Time": 34.900, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.73, + "Total Cost": 1429.94, + "Plan Rows": 2, + "Plan Width": 48, + "Actual Startup Time": 31.900, + "Actual Total Time": 34.884, + "Actual Rows": 2, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1428.94, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 9.571, + "Actual Total Time": 9.929, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.599, + "Actual Total Time": 6.602, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.527, + "Actual Total Time": 6.530, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.887, + "Actual Total Time": 5.891, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.604, + "Actual Total Time": 6.607, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.577, + "Actual Total Time": 6.580, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.587, + "Actual Total Time": 6.590, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.618, + "Actual Total Time": 6.622, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1428.48, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 6.588, + "Actual Total Time": 9.910, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "k.keyword", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.598, + "Actual Total Time": 6.600, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.527, + "Actual Total Time": 6.529, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.887, + "Actual Total Time": 5.889, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.603, + "Actual Total Time": 6.605, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.576, + "Actual Total Time": 6.579, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.587, + "Actual Total Time": 6.588, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.617, + "Actual Total Time": 6.620, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1348.47, + "Plan Rows": 177, + "Plan Width": 28, + "Actual Startup Time": 5.855, + "Actual Total Time": 6.794, + "Actual Rows": 155, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id", "k.keyword"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.597, + "Actual Total Time": 6.599, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.526, + "Actual Total Time": 6.528, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.886, + "Actual Total Time": 5.888, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.602, + "Actual Total Time": 6.604, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.575, + "Actual Total Time": 6.577, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.586, + "Actual Total Time": 6.587, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.617, + "Actual Total Time": 6.619, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.42, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 5.848, + "Actual Total Time": 5.869, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.597, + "Actual Total Time": 6.598, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.526, + "Actual Total Time": 6.527, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.885, + "Actual Total Time": 5.887, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.602, + "Actual Total Time": 6.603, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.574, + "Actual Total Time": 6.576, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.586, + "Actual Total Time": 6.586, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.616, + "Actual Total Time": 6.618, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 5.835, + "Actual Total Time": 5.840, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'marvel-cinematic-universe'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.596, + "Actual Total Time": 6.597, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.525, + "Actual Total Time": 6.525, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5.885, + "Actual Total Time": 5.885, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6.601, + "Actual Total Time": 6.601, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6.573, + "Actual Total Time": 6.573, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 6.585, + "Actual Total Time": 6.585, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 6.616, + "Actual Total Time": 6.616, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.198, + "Actual Rows": 14, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 90, + "Plan Width": 8, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.498, + "Actual Rows": 89, + "Actual Loops": 14, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1242, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2014)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3759324545287071861, + "Planning Time": 12.781, + "Triggers": [ + ], + "Execution Time": 35.205, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3759324545287071861, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS hero_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2000
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 57376.22, + "Total Cost": 57376.23, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 5539.177, + "Actual Total Time": 5581.468, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 57376.15, + "Total Cost": 57376.16, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 1568.138, + "Actual Total Time": 5581.402, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(k.keyword))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 57375.15, + "Total Cost": 57375.16, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 2499.646, + "Actual Total Time": 2499.650, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(k.keyword)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 80.193, + "Actual Total Time": 80.198, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5530.631, + "Actual Total Time": 5530.634, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3566.996, + "Actual Total Time": 3566.999, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1560.579, + "Actual Total Time": 1560.583, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2782.044, + "Actual Total Time": 2782.046, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4314.381, + "Actual Total Time": 4314.385, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 595.409, + "Actual Total Time": 595.412, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 57375.10, + "Plan Rows": 7, + "Plan Width": 48, + "Actual Startup Time": 849.151, + "Actual Total Time": 2499.572, + "Actual Rows": 11, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 80.187, + "Actual Total Time": 80.191, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 775.899, + "Actual Total Time": 5530.517, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2087.612, + "Actual Total Time": 3566.927, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 832.704, + "Actual Total Time": 1560.499, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 133.292, + "Actual Total Time": 2781.904, + "Actual Rows": 18, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1748.495, + "Actual Total Time": 4314.331, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 231.555, + "Actual Total Time": 595.337, + "Actual Rows": 11, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 6699.61, + "Plan Rows": 112105, + "Plan Width": 37, + "Actual Startup Time": 11.053, + "Actual Total Time": 1030.791, + "Actual Rows": 98185, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 80.187, + "Actual Total Time": 80.189, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.495, + "Actual Total Time": 2133.243, + "Actual Rows": 282572, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.978, + "Actual Total Time": 1519.671, + "Actual Rows": 137541, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.934, + "Actual Total Time": 660.995, + "Actual Rows": 38887, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.722, + "Actual Total Time": 1209.418, + "Actual Rows": 84039, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.969, + "Actual Total Time": 1768.735, + "Actual Rows": 194141, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.197, + "Actual Total Time": 198.503, + "Actual Rows": 11270, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3867.33, + "Plan Rows": 2022, + "Plan Width": 41, + "Actual Startup Time": 10.874, + "Actual Total Time": 86.833, + "Actual Rows": 1771, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 80.186, + "Actual Total Time": 80.188, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.412, + "Actual Total Time": 172.104, + "Actual Rows": 4387, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.915, + "Actual Total Time": 159.483, + "Actual Rows": 3124, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.543, + "Actual Total Time": 36.179, + "Actual Rows": 745, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.634, + "Actual Total Time": 77.212, + "Actual Rows": 2120, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.609, + "Actual Total Time": 114.787, + "Actual Rows": 2965, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.130, + "Actual Total Time": 8.464, + "Actual Rows": 155, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1529.18, + "Plan Rows": 5078, + "Plan Width": 20, + "Actual Startup Time": 10.820, + "Actual Total Time": 30.205, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 80.185, + "Actual Total Time": 80.187, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.367, + "Actual Total Time": 48.262, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.863, + "Actual Total Time": 37.016, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.402, + "Actual Total Time": 9.091, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.577, + "Actual Total Time": 17.982, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.560, + "Actual Total Time": 34.159, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.085, + "Actual Total Time": 3.599, + "Actual Rows": 248, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 10.739, + "Actual Total Time": 10.775, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 80.185, + "Actual Total Time": 80.185, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.271, + "Actual Total Time": 0.322, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.773, + "Actual Total Time": 0.791, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.310, + "Actual Total Time": 0.352, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.476, + "Actual Total Time": 1.492, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.483, + "Actual Total Time": 0.593, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.021, + "Actual Total Time": 2.051, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.39, + "Plan Rows": 4444, + "Plan Width": 8, + "Actual Startup Time": 0.081, + "Actual Total Time": 17.501, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.068, + "Actual Total Time": 22.001, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.086, + "Actual Total Time": 32.328, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.087, + "Actual Total Time": 7.756, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.093, + "Actual Total Time": 14.368, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.072, + "Actual Total Time": 30.515, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.059, + "Actual Total Time": 1.357, + "Actual Rows": 248, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 10544 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 4196 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 6011 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 248 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 22, + "Plan Width": 8, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.508, + "Actual Rows": 55, + "Actual Loops": 14165, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.421, + "Actual Rows": 64, + "Actual Loops": 4387 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.415, + "Actual Rows": 44, + "Actual Loops": 3124 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.807, + "Actual Rows": 52, + "Actual Loops": 745 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.512, + "Actual Rows": 40, + "Actual Loops": 2120 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.529, + "Actual Rows": 65, + "Actual Loops": 2965 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.073, + "Actual Total Time": 1.182, + "Actual Rows": 73, + "Actual Loops": 155 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 785477, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 282572 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 137541 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 38887 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 84039 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 194141 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 11270 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -196995888411579451, + "Planning Time": 13.257, + "Triggers": [ + ], + "Execution Time": 5581.960, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -196995888411579451, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS marvel_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword = 'marvel-cinematic-universe'
  AND n.name LIKE '%Downey%Robert%'
  AND t.production_year > 2000
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Simple", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 1429.99, + "Total Cost": 1430.00, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 38.145, + "Actual Total Time": 38.288, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 2.73, + "Total Cost": 1429.94, + "Plan Rows": 6, + "Plan Width": 48, + "Actual Startup Time": 10.407, + "Actual Total Time": 38.246, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["k.keyword", "n.name", "t.title"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 1428.94, + "Plan Rows": 1, + "Plan Width": 48, + "Actual Startup Time": 10.232, + "Actual Total Time": 13.696, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.263, + "Actual Total Time": 15.267, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.570, + "Actual Total Time": 15.574, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.740, + "Actual Total Time": 14.744, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.274, + "Actual Total Time": 15.278, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.136, + "Actual Total Time": 4.140, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.134, + "Actual Total Time": 4.138, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.128, + "Actual Total Time": 4.132, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 1428.48, + "Plan Rows": 1, + "Plan Width": 39, + "Actual Startup Time": 10.224, + "Actual Total Time": 13.675, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["ci.movie_id", "mk.movie_id", "k.keyword", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.262, + "Actual Total Time": 15.265, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.569, + "Actual Total Time": 15.572, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.739, + "Actual Total Time": 14.742, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.273, + "Actual Total Time": 15.276, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.135, + "Actual Total Time": 4.138, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.133, + "Actual Total Time": 4.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.127, + "Actual Total Time": 4.130, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 1348.47, + "Plan Rows": 177, + "Plan Width": 28, + "Actual Startup Time": 9.326, + "Actual Total Time": 10.911, + "Actual Rows": 155, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "mk.movie_id", "k.keyword"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.261, + "Actual Total Time": 15.263, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.568, + "Actual Total Time": 15.570, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.738, + "Actual Total Time": 14.740, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.272, + "Actual Total Time": 15.274, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.134, + "Actual Total Time": 4.136, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.132, + "Actual Total Time": 4.134, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.127, + "Actual Total Time": 4.129, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1344.42, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 9.318, + "Actual Total Time": 9.342, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.261, + "Actual Total Time": 15.262, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.567, + "Actual Total Time": 15.568, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.738, + "Actual Total Time": 14.739, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.272, + "Actual Total Time": 15.273, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.133, + "Actual Total Time": 4.134, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.132, + "Actual Total Time": 4.133, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.126, + "Actual Total Time": 4.127, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1188.59, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 9.309, + "Actual Total Time": 9.314, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = 'marvel-cinematic-universe'::text)", + "Rows Removed by Filter": 16771, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 15.260, + "Actual Total Time": 15.260, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 15.565, + "Actual Total Time": 15.565, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 14.737, + "Actual Total Time": 14.738, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 15.271, + "Actual Total Time": 15.272, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 4.132, + "Actual Total Time": 4.133, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 4.130, + "Actual Total Time": 4.131, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 4.125, + "Actual Total Time": 4.125, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 155.69, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.191, + "Actual Rows": 14, + "Actual Loops": 1, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 90, + "Plan Width": 8, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.858, + "Actual Rows": 89, + "Actual Loops": 14, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1242, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(n.name ~~ '%Downey%Robert%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 0, + "Workers": [ + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 3759324545287071861, + "Planning Time": 15.152, + "Triggers": [ + ], + "Execution Time": 38.572, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 3759324545287071861, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(k.keyword) AS movie_keyword,
       MIN(n.name) AS actor_name,
       MIN(t.title) AS hero_movie
FROM cast_info AS ci,
     keyword AS k,
     movie_keyword AS mk,
     name AS n,
     title AS t
WHERE k.keyword IN ('superhero',
                    'sequel',
                    'second-part',
                    'marvel-comics',
                    'based-on-comic',
                    'tv-special',
                    'fight',
                    'violence')
  AND t.production_year > 2000
  AND k.id = mk.keyword_id
  AND t.id = mk.movie_id
  AND t.id = ci.movie_id
  AND ci.movie_id = mk.movie_id
  AND n.id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 58797.54, + "Total Cost": 58797.55, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 4779.087, + "Actual Total Time": 4820.068, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(k.keyword)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 58797.47, + "Total Cost": 58797.48, + "Plan Rows": 7, + "Plan Width": 96, + "Actual Startup Time": 905.963, + "Actual Total Time": 4820.028, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(k.keyword))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 7, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 58796.47, + "Total Cost": 58796.48, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 1824.979, + "Actual Total Time": 1824.983, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(k.keyword)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 4769.928, + "Actual Total Time": 4769.931, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 753.596, + "Actual Total Time": 753.599, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3483.912, + "Actual Total Time": 3483.914, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1606.340, + "Actual Total Time": 1606.343, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 324.904, + "Actual Total Time": 324.907, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2629.216, + "Actual Total Time": 2629.219, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 127.257, + "Actual Total Time": 127.261, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 57954.89, + "Plan Rows": 112211, + "Plan Width": 48, + "Actual Startup Time": 17.048, + "Actual Total Time": 1734.532, + "Actual Rows": 98185, + "Actual Loops": 8, + "Output": ["k.keyword", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.266, + "Actual Total Time": 4531.553, + "Actual Rows": 282572, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.644, + "Actual Total Time": 716.937, + "Actual Rows": 38887, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.615, + "Actual Total Time": 3299.129, + "Actual Rows": 194141, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.989, + "Actual Total Time": 1528.810, + "Actual Rows": 84039, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.916, + "Actual Total Time": 311.178, + "Actual Rows": 11270, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.971, + "Actual Total Time": 2498.837, + "Actual Rows": 137541, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 127.251, + "Actual Total Time": 127.254, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 7512.01, + "Plan Rows": 112211, + "Plan Width": 37, + "Actual Startup Time": 16.980, + "Actual Total Time": 554.135, + "Actual Rows": 98185, + "Actual Loops": 8, + "Output": ["ci.person_id", "k.keyword", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.181, + "Actual Total Time": 1374.572, + "Actual Rows": 282572, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.584, + "Actual Total Time": 230.794, + "Actual Rows": 38887, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.522, + "Actual Total Time": 1006.172, + "Actual Rows": 194141, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.913, + "Actual Total Time": 492.531, + "Actual Rows": 84039, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.839, + "Actual Total Time": 86.918, + "Actual Rows": 11270, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.918, + "Actual Total Time": 838.616, + "Actual Rows": 137541, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 127.251, + "Actual Total Time": 127.253, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 3867.33, + "Plan Rows": 2024, + "Plan Width": 41, + "Actual Startup Time": 16.907, + "Actual Total Time": 100.634, + "Actual Rows": 1771, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.070, + "Actual Total Time": 189.237, + "Actual Rows": 4387, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.489, + "Actual Total Time": 38.751, + "Actual Rows": 745, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.408, + "Actual Total Time": 124.568, + "Actual Rows": 2965, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.833, + "Actual Total Time": 72.588, + "Actual Rows": 2120, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.776, + "Actual Total Time": 10.621, + "Actual Rows": 155, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.863, + "Actual Total Time": 182.700, + "Actual Rows": 3124, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 127.250, + "Actual Total Time": 127.252, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 1529.18, + "Plan Rows": 5078, + "Plan Width": 20, + "Actual Startup Time": 16.817, + "Actual Total Time": 39.138, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["k.keyword", "mk.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.945, + "Actual Total Time": 54.426, + "Actual Rows": 10824, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.292, + "Actual Total Time": 10.400, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.317, + "Actual Total Time": 36.754, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.747, + "Actual Total Time": 17.563, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.666, + "Actual Total Time": 4.776, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.810, + "Actual Total Time": 46.740, + "Actual Rows": 10544, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 127.249, + "Actual Total Time": 127.250, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "keyword", + "Schema": "public", + "Alias": "k", + "Startup Cost": 0.00, + "Total Cost": 1332.34, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 16.675, + "Actual Total Time": 16.709, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["k.id", "k.keyword", "k.phonetic_code"], + "Filter": "(k.keyword = ANY ('{superhero,sequel,second-part,marvel-comics,based-on-comic,tv-special,fight,violence}'::text[]))", + "Rows Removed by Filter": 16770, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.788, + "Actual Total Time": 0.840, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.109, + "Actual Total Time": 0.137, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.175, + "Actual Total Time": 0.253, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.598, + "Actual Total Time": 1.614, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.585, + "Actual Total Time": 2.618, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.538, + "Actual Total Time": 0.564, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 127.248, + "Actual Total Time": 127.248, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "keyword_id_movie_keyword", + "Relation Name": "movie_keyword", + "Schema": "public", + "Alias": "mk", + "Startup Cost": 0.43, + "Total Cost": 152.39, + "Plan Rows": 4444, + "Plan Width": 8, + "Actual Startup Time": 0.143, + "Actual Total Time": 20.413, + "Actual Rows": 4444, + "Actual Loops": 8, + "Output": ["mk.id", "mk.movie_id", "mk.keyword_id"], + "Index Cond": "(mk.keyword_id = k.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.100, + "Actual Total Time": 24.578, + "Actual Rows": 5412, + "Actual Loops": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.177, + "Actual Total Time": 9.457, + "Actual Rows": 1573, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.137, + "Actual Total Time": 33.246, + "Actual Rows": 6011, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.142, + "Actual Total Time": 14.026, + "Actual Rows": 4196, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.076, + "Actual Total Time": 1.961, + "Actual Rows": 248, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.266, + "Actual Total Time": 41.882, + "Actual Rows": 10544, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 35548, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(t.production_year > 2000)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 10824 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1573 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 6011 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 4196 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 248 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 10544 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.13, + "Plan Rows": 54, + "Plan Width": 8, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.231, + "Actual Rows": 55, + "Actual Loops": 14165, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mk.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.243, + "Actual Rows": 64, + "Actual Loops": 4387 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.234, + "Actual Rows": 52, + "Actual Loops": 745 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.268, + "Actual Rows": 65, + "Actual Loops": 2965 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.179, + "Actual Rows": 40, + "Actual Loops": 2120 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.446, + "Actual Rows": 73, + "Actual Loops": 155 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.189, + "Actual Rows": 44, + "Actual Loops": 3124 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 785477, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 282572 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 38887 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 194141 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 84039 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 1, + "Actual Loops": 11270 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 137541 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -4608735958739764665, + "Planning Time": 15.357, + "Triggers": [ + ], + "Execution Time": 4820.413, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -4608735958739764665, + "JOINS": 4 + } + ] (1 row)
SELECT MIN(n.name) AS of_person,
       MIN(t.title) AS biography_movie
FROM aka_name AS an,
     cast_info AS ci,
     info_type AS it,
     link_type AS lt,
     movie_link AS ml,
     name AS n,
     person_info AS pi,
     title AS t
WHERE an.name LIKE '%a%'
  AND it.info ='mini biography'
  AND lt.link ='features'
  AND n.name_pcode_cf BETWEEN 'A' AND 'F'
  AND (n.gender='m'
       OR (n.gender = 'f'
           AND n.name LIKE 'B%'))
  AND pi.note ='Volker Boehm'
  AND t.production_year BETWEEN 1980 AND 1995
  AND n.id = an.person_id
  AND n.id = pi.person_id
  AND ci.person_id = n.id
  AND t.id = ci.movie_id
  AND ml.linked_movie_id = t.id
  AND lt.id = ml.link_type_id
  AND it.id = pi.info_type_id
  AND pi.person_id = an.person_id
  AND pi.person_id = ci.person_id
  AND an.person_id = ci.person_id
  AND ci.movie_id = ml.linked_movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 15107.42, + "Total Cost": 15107.43, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 713.148, + "Actual Total Time": 742.634, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 15107.39, + "Total Cost": 15107.40, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 636.607, + "Actual Total Time": 742.597, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 15106.39, + "Total Cost": 15106.40, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 664.012, + "Actual Total Time": 664.021, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 675.278, + "Actual Total Time": 675.286, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 624.471, + "Actual Total Time": 624.479, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 704.589, + "Actual Total Time": 704.597, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 689.919, + "Actual Total Time": 689.927, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 654.020, + "Actual Total Time": 654.027, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.43, + "Total Cost": 15106.36, + "Plan Rows": 6, + "Plan Width": 32, + "Actual Startup Time": 534.137, + "Actual Total Time": 663.998, + "Actual Rows": 5, + "Actual Loops": 6, + "Output": ["n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 230.746, + "Actual Total Time": 675.217, + "Actual Rows": 22, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 401.368, + "Actual Total Time": 624.453, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 704.580, + "Actual Total Time": 704.586, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 689.913, + "Actual Total Time": 689.919, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 654.014, + "Actual Total Time": 654.020, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 4.01, + "Total Cost": 15104.89, + "Plan Rows": 3, + "Plan Width": 44, + "Actual Startup Time": 533.922, + "Actual Total Time": 663.594, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.person_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(pi.info_type_id = it.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 230.030, + "Actual Total Time": 673.642, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 400.838, + "Actual Total Time": 623.666, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 704.579, + "Actual Total Time": 704.585, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 689.912, + "Actual Total Time": 689.918, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 654.014, + "Actual Total Time": 654.019, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.17, + "Total Cost": 15103.04, + "Plan Rows": 3, + "Plan Width": 48, + "Actual Startup Time": 533.782, + "Actual Total Time": 663.438, + "Actual Rows": 2, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.person_id", "pi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 229.947, + "Actual Total Time": 673.497, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 400.749, + "Actual Total Time": 623.563, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 704.420, + "Actual Total Time": 704.423, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 689.818, + "Actual Total Time": 689.821, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 653.921, + "Actual Total Time": 653.924, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 12699.76, + "Plan Rows": 3512, + "Plan Width": 40, + "Actual Startup Time": 2.700, + "Actual Total Time": 447.070, + "Actual Rows": 2926, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.118, + "Actual Total Time": 439.774, + "Actual Rows": 2916, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.632, + "Actual Total Time": 420.853, + "Actual Rows": 2818, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2.140, + "Actual Total Time": 484.281, + "Actual Rows": 3759, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.744, + "Actual Total Time": 466.539, + "Actual Rows": 2840, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.987, + "Actual Total Time": 451.403, + "Actual Rows": 2783, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 2972.98, + "Plan Rows": 21052, + "Plan Width": 21, + "Actual Startup Time": 2.458, + "Actual Total Time": 159.235, + "Actual Rows": 17544, + "Actual Loops": 6, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.884, + "Actual Total Time": 158.851, + "Actual Rows": 16760, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.553, + "Actual Total Time": 153.256, + "Actual Rows": 17790, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.204, + "Actual Total Time": 156.056, + "Actual Rows": 20480, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.674, + "Actual Total Time": 169.949, + "Actual Rows": 16875, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.911, + "Actual Total Time": 157.390, + "Actual Rows": 17896, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2170.77, + "Plan Rows": 293, + "Plan Width": 25, + "Actual Startup Time": 2.226, + "Actual Total Time": 39.848, + "Actual Rows": 244, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.507, + "Actual Total Time": 39.542, + "Actual Rows": 225, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2.461, + "Actual Total Time": 38.603, + "Actual Rows": 238, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.948, + "Actual Total Time": 30.704, + "Actual Rows": 224, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1.599, + "Actual Total Time": 46.518, + "Actual Rows": 313, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1.362, + "Actual Total Time": 37.380, + "Actual Rows": 244, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 632.40, + "Plan Rows": 1037, + "Plan Width": 4, + "Actual Startup Time": 0.224, + "Actual Total Time": 18.350, + "Actual Rows": 864, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.326, + "Actual Total Time": 17.054, + "Actual Rows": 824, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.157, + "Actual Total Time": 19.980, + "Actual Rows": 789, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.318, + "Actual Total Time": 15.003, + "Actual Rows": 702, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.150, + "Actual Total Time": 21.059, + "Actual Rows": 1052, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.160, + "Actual Total Time": 17.655, + "Actual Rows": 861, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.058, + "Actual Total Time": 10.816, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.052, + "Actual Total Time": 10.046, + "Actual Rows": 4656, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.052, + "Actual Total Time": 11.630, + "Actual Rows": 5658, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.070, + "Actual Total Time": 8.905, + "Actual Rows": 3960, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.077, + "Actual Total Time": 12.381, + "Actual Rows": 6057, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 10.499, + "Actual Rows": 4568, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 5082, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4656, + "Cache Hits": 4640, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5658, + "Cache Hits": 5642, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3960, + "Cache Hits": 3944, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 6057, + "Cache Hits": 6041, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 4568, + "Cache Hits": 4552, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = 'features'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 5186, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1980) AND (t.production_year <= 1995))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 824 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 789 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 702 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 1052 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 861 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 2.02, + "Plan Rows": 72, + "Plan Width": 8, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.459, + "Actual Rows": 72, + "Actual Loops": 1467, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.499, + "Actual Rows": 74, + "Actual Loops": 225 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.453, + "Actual Rows": 75, + "Actual Loops": 238 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.523, + "Actual Rows": 91, + "Actual Loops": 224 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.371, + "Actual Rows": 54, + "Actual Loops": 313 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.460, + "Actual Rows": 73, + "Actual Loops": 244 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 105262, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((n.name_pcode_cf)::text >= 'A'::text) AND ((n.name_pcode_cf)::text <= 'F'::text) AND (((n.gender)::text = 'm'::text) OR (((n.gender)::text = 'f'::text) AND (n.name ~~ 'B%'::text))))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 16760 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 17790 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 20480 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 16875 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 17896 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.67, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.073, + "Actual Total Time": 0.073, + "Actual Rows": 0, + "Actual Loops": 17559, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(pi.note = 'Volker Boehm'::text)", + "Rows Removed by Filter": 20, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.079, + "Actual Rows": 0, + "Actual Loops": 2916 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.071, + "Actual Total Time": 0.071, + "Actual Rows": 0, + "Actual Loops": 2818 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 3759 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.078, + "Actual Rows": 0, + "Actual Loops": 2840 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.072, + "Actual Total Time": 0.072, + "Actual Rows": 0, + "Actual Loops": 2783 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.83, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 6, + "Output": ["it.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.043, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.00, + "Total Cost": 1.83, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.070, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["it.id"], + "Filter": "((it.info)::text = 'mini biography'::text)", + "Rows Removed by Filter": 112, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.128, + "Actual Total Time": 0.168, + "Actual Rows": 2, + "Actual Loops": 14, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(an.name ~~ '%a%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.110, + "Actual Total Time": 0.139, + "Actual Rows": 2, + "Actual Loops": 11 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.273, + "Actual Total Time": 0.386, + "Actual Rows": 3, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7100159318594498086, + "Planning Time": 69.678, + "Triggers": [ + ], + "Execution Time": 743.072, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7100159318594498086, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(n.name) AS of_person,
       MIN(t.title) AS biography_movie
FROM aka_name AS an,
     cast_info AS ci,
     info_type AS it,
     link_type AS lt,
     movie_link AS ml,
     name AS n,
     person_info AS pi,
     title AS t
WHERE an.name LIKE '%a%'
  AND it.info ='mini biography'
  AND lt.link ='features'
  AND n.name_pcode_cf LIKE 'D%'
  AND n.gender='m'
  AND pi.note ='Volker Boehm'
  AND t.production_year BETWEEN 1980 AND 1984
  AND n.id = an.person_id
  AND n.id = pi.person_id
  AND ci.person_id = n.id
  AND t.id = ci.movie_id
  AND ml.linked_movie_id = t.id
  AND lt.id = ml.link_type_id
  AND it.id = pi.info_type_id
  AND pi.person_id = an.person_id
  AND pi.person_id = ci.person_id
  AND an.person_id = ci.person_id
  AND ci.movie_id = ml.linked_movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5879.48, + "Total Cost": 5879.49, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 230.136, + "Actual Total Time": 249.723, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5879.44, + "Total Cost": 5879.45, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 137.623, + "Actual Total Time": 249.688, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 5878.44, + "Total Cost": 5878.45, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 152.621, + "Actual Total Time": 152.627, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 137.554, + "Actual Total Time": 137.559, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 137.421, + "Actual Total Time": 137.429, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 143.230, + "Actual Total Time": 143.237, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 222.552, + "Actual Total Time": 222.557, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 138.186, + "Actual Total Time": 138.191, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.74, + "Total Cost": 5878.43, + "Plan Rows": 3, + "Plan Width": 32, + "Actual Startup Time": 124.553, + "Actual Total Time": 152.614, + "Actual Rows": 3, + "Actual Loops": 6, + "Output": ["n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 137.547, + "Actual Total Time": 137.551, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.989, + "Actual Total Time": 137.410, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 73.278, + "Actual Total Time": 143.201, + "Actual Rows": 12, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 222.547, + "Actual Total Time": 222.551, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 138.180, + "Actual Total Time": 138.184, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.32, + "Total Cost": 5877.45, + "Plan Rows": 2, + "Plan Width": 44, + "Actual Startup Time": 124.536, + "Actual Total Time": 152.572, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.person_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 137.547, + "Actual Total Time": 137.550, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.935, + "Actual Total Time": 137.319, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 73.232, + "Actual Total Time": 143.044, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 222.546, + "Actual Total Time": 222.550, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 138.179, + "Actual Total Time": 138.183, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.17, + "Total Cost": 5876.13, + "Plan Rows": 2, + "Plan Width": 48, + "Actual Startup Time": 124.513, + "Actual Total Time": 152.541, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.person_id", "pi.info_type_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 137.546, + "Actual Total Time": 137.549, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 38.842, + "Actual Total Time": 137.218, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 73.186, + "Actual Total Time": 142.970, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 222.546, + "Actual Total Time": 222.548, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 138.179, + "Actual Total Time": 138.182, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 5729.01, + "Plan Rows": 215, + "Plan Width": 40, + "Actual Startup Time": 7.897, + "Actual Total Time": 147.254, + "Actual Rows": 179, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6.708, + "Actual Total Time": 131.128, + "Actual Rows": 139, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.670, + "Actual Total Time": 133.128, + "Actual Rows": 119, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8.578, + "Actual Total Time": 138.215, + "Actual Rows": 158, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.695, + "Actual Total Time": 214.229, + "Actual Rows": 376, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 19.088, + "Actual Total Time": 134.735, + "Actual Rows": 156, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 2691.35, + "Plan Rows": 6683, + "Plan Width": 21, + "Actual Startup Time": 2.961, + "Actual Total Time": 56.279, + "Actual Rows": 5569, + "Actual Loops": 6, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.567, + "Actual Total Time": 54.179, + "Actual Rows": 3935, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.493, + "Actual Total Time": 55.148, + "Actual Rows": 3768, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.162, + "Actual Total Time": 52.467, + "Actual Rows": 5848, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.620, + "Actual Total Time": 59.397, + "Actual Rows": 10718, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.517, + "Actual Total Time": 56.435, + "Actual Rows": 5021, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 2170.77, + "Plan Rows": 87, + "Plan Width": 25, + "Actual Startup Time": 2.892, + "Actual Total Time": 31.056, + "Actual Rows": 72, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.476, + "Actual Total Time": 31.267, + "Actual Rows": 64, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6.406, + "Actual Total Time": 33.031, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.107, + "Actual Total Time": 28.008, + "Actual Rows": 81, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.565, + "Actual Total Time": 20.530, + "Actual Rows": 75, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2.438, + "Actual Total Time": 33.609, + "Actual Rows": 80, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 632.40, + "Plan Rows": 1037, + "Plan Width": 4, + "Actual Startup Time": 0.294, + "Actual Total Time": 16.974, + "Actual Rows": 864, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.166, + "Actual Total Time": 16.908, + "Actual Rows": 694, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.541, + "Actual Total Time": 18.413, + "Actual Rows": 842, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.097, + "Actual Total Time": 15.126, + "Actual Rows": 913, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.100, + "Actual Total Time": 10.182, + "Actual Rows": 726, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.665, + "Actual Total Time": 18.671, + "Actual Rows": 975, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.059, + "Actual Total Time": 9.840, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.059, + "Actual Total Time": 9.918, + "Actual Rows": 3953, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.084, + "Actual Total Time": 10.697, + "Actual Rows": 5244, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.030, + "Actual Total Time": 9.004, + "Actual Rows": 5292, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 5.929, + "Actual Rows": 3013, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.108, + "Actual Total Time": 10.794, + "Actual Rows": 5758, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 6721, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3953, + "Cache Hits": 3937, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5244, + "Cache Hits": 5228, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5292, + "Cache Hits": 5276, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 3013, + "Cache Hits": 2997, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 5758, + "Cache Hits": 5742, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = 'features'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.006, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.005, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.007, + "Actual Total Time": 0.007, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.48, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 5186, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1980) AND (t.production_year <= 1984))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 694 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 842 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 913 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 726 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 975 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 5.21, + "Plan Rows": 77, + "Plan Width": 8, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.317, + "Actual Rows": 77, + "Actual Loops": 435, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.328, + "Actual Rows": 61, + "Actual Loops": 64 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.305, + "Actual Rows": 56, + "Actual Loops": 67 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.276, + "Actual Rows": 72, + "Actual Loops": 81 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.464, + "Actual Rows": 143, + "Actual Loops": 75 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.261, + "Actual Rows": 63, + "Actual Loops": 80 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 33415, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((n.name_pcode_cf)::text ~~ 'D%'::text) AND ((n.gender)::text = 'm'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 3935 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 3768 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 5848 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 10718 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 5021 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.67, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 1076, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(pi.note = 'Volker Boehm'::text)", + "Rows Removed by Filter": 16, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 139 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 119 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 158 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 376 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 156 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.64, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["it.id"], + "Cache Key": "pi.info_type_id", + "Cache Mode": "logical", + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 2, + "Cache Hits": 1, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 6, + "Cache Hits": 5, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.63, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 0.062, + "Actual Rows": 1, + "Actual Loops": 2, + "Output": ["it.id"], + "Index Cond": "(it.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'mini biography'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.084, + "Actual Total Time": 0.085, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.027, + "Actual Rows": 2, + "Actual Loops": 8, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(an.name ~~ '%a%'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.041, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.022, + "Actual Rows": 2, + "Actual Loops": 6 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -298514962653462987, + "Planning Time": 68.506, + "Triggers": [ + ], + "Execution Time": 250.183, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -298514962653462987, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(n.name) AS cast_member_name,
       MIN(pi.info) AS cast_member_info
FROM aka_name AS an,
     cast_info AS ci,
     info_type AS it,
     link_type AS lt,
     movie_link AS ml,
     name AS n,
     person_info AS pi,
     title AS t
WHERE an.name IS NOT NULL
  AND (an.name LIKE '%a%'
       OR an.name LIKE 'A%')
  AND it.info ='mini biography'
  AND lt.link IN ('references',
                  'referenced in',
                  'features',
                  'featured in')
  AND n.name_pcode_cf BETWEEN 'A' AND 'F'
  AND (n.gender='m'
       OR (n.gender = 'f'
           AND n.name LIKE 'A%'))
  AND pi.note IS NOT NULL
  AND t.production_year BETWEEN 1980 AND 2010
  AND n.id = an.person_id
  AND n.id = pi.person_id
  AND ci.person_id = n.id
  AND t.id = ci.movie_id
  AND ml.linked_movie_id = t.id
  AND lt.id = ml.link_type_id
  AND it.id = pi.info_type_id
  AND pi.person_id = an.person_id
  AND pi.person_id = ci.person_id
  AND an.person_id = ci.person_id
  AND ci.movie_id = ml.linked_movie_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 79187.92, + "Total Cost": 79187.93, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 6576.843, + "Actual Total Time": 6618.014, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(n.name)", "min(pi.info)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 79187.89, + "Total Cost": 79187.90, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 6231.699, + "Actual Total Time": 6617.951, + "Actual Rows": 6, + "Actual Loops": 1, + "Output": ["(PARTIAL min(n.name))", "(PARTIAL min(pi.info))"], + "Workers Planned": 5, + "Workers Launched": 5, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 79186.89, + "Total Cost": 79186.90, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 6368.271, + "Actual Total Time": 6368.278, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["PARTIAL min(n.name)", "PARTIAL min(pi.info)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 6412.404, + "Actual Total Time": 6412.408, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 6448.006, + "Actual Total Time": 6448.019, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 6567.284, + "Actual Total Time": 6567.287, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 6391.327, + "Actual Total Time": 6391.331, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 6159.923, + "Actual Total Time": 6159.931, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.74, + "Total Cost": 79118.70, + "Plan Rows": 13637, + "Plan Width": 110, + "Actual Startup Time": 20.996, + "Actual Total Time": 6155.562, + "Actual Rows": 11364, + "Actual Loops": 6, + "Output": ["n.name", "pi.info"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.591, + "Actual Total Time": 6212.606, + "Actual Rows": 11141, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.680, + "Actual Total Time": 6267.770, + "Actual Rows": 9706, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 70.844, + "Actual Total Time": 6282.054, + "Actual Rows": 14152, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.021, + "Actual Total Time": 6194.299, + "Actual Rows": 11080, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.879, + "Actual Total Time": 5971.227, + "Actual Rows": 11065, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.32, + "Total Cost": 75139.89, + "Plan Rows": 8031, + "Plan Width": 122, + "Actual Startup Time": 10.606, + "Actual Total Time": 5971.261, + "Actual Rows": 6693, + "Actual Loops": 6, + "Output": ["ci.person_id", "n.name", "n.id", "pi.info", "pi.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 9.357, + "Actual Total Time": 6040.584, + "Actual Rows": 6849, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.393, + "Actual Total Time": 6112.802, + "Actual Rows": 5827, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.888, + "Actual Total Time": 6049.622, + "Actual Rows": 7836, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.216, + "Actual Total Time": 6017.707, + "Actual Rows": 6710, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 15.306, + "Actual Total Time": 5799.480, + "Actual Rows": 6704, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.89, + "Total Cost": 75139.44, + "Plan Rows": 1, + "Plan Width": 130, + "Actual Startup Time": 6.701, + "Actual Total Time": 5829.360, + "Actual Rows": 10608, + "Actual Loops": 6, + "Output": ["ci.person_id", "ci.movie_id", "ml.linked_movie_id", "n.name", "n.id", "pi.info", "pi.person_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.655, + "Actual Total Time": 5894.774, + "Actual Rows": 10994, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.328, + "Actual Total Time": 5982.881, + "Actual Rows": 9641, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.796, + "Actual Total Time": 5894.616, + "Actual Rows": 11469, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.172, + "Actual Total Time": 5878.149, + "Actual Rows": 10344, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.829, + "Actual Total Time": 5657.132, + "Actual Rows": 11341, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.73, + "Total Cost": 75133.09, + "Plan Rows": 106, + "Plan Width": 134, + "Actual Startup Time": 6.656, + "Actual Total Time": 5799.690, + "Actual Rows": 10608, + "Actual Loops": 6, + "Output": ["ci.person_id", "ci.movie_id", "ml.linked_movie_id", "n.name", "n.id", "pi.info", "pi.person_id", "pi.info_type_id"], + "Inner Unique": false, + "Join Filter": "(n.id = pi.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.615, + "Actual Total Time": 5863.974, + "Actual Rows": 10994, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.291, + "Actual Total Time": 5956.258, + "Actual Rows": 9641, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 10.740, + "Actual Total Time": 5862.287, + "Actual Rows": 11469, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 22.124, + "Actual Total Time": 5849.081, + "Actual Rows": 10344, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.778, + "Actual Total Time": 5626.748, + "Actual Rows": 11341, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 71699.30, + "Plan Rows": 5248, + "Plan Width": 31, + "Actual Startup Time": 1.205, + "Actual Total Time": 4721.119, + "Actual Rows": 37358, + "Actual Loops": 6, + "Output": ["ci.person_id", "ci.movie_id", "ml.linked_movie_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.400, + "Actual Total Time": 4763.149, + "Actual Rows": 38457, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.238, + "Actual Total Time": 4934.425, + "Actual Rows": 36834, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1.920, + "Actual Total Time": 4638.644, + "Actual Rows": 35736, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.523, + "Actual Total Time": 4796.894, + "Actual Rows": 37970, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.380, + "Actual Total Time": 4593.960, + "Actual Rows": 39805, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.88, + "Total Cost": 50132.38, + "Plan Rows": 46678, + "Plan Width": 12, + "Actual Startup Time": 0.886, + "Actual Total Time": 1273.332, + "Actual Rows": 255540, + "Actual Loops": 6, + "Output": ["ci.person_id", "ci.movie_id", "ml.linked_movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.323, + "Actual Total Time": 1324.707, + "Actual Rows": 258411, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.174, + "Actual Total Time": 1279.846, + "Actual Rows": 270664, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.437, + "Actual Total Time": 1290.518, + "Actual Rows": 241336, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.429, + "Actual Total Time": 1238.627, + "Actual Rows": 264255, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.275, + "Actual Total Time": 1221.557, + "Actual Rows": 262384, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 629.43, + "Plan Rows": 4301, + "Plan Width": 4, + "Actual Startup Time": 0.103, + "Actual Total Time": 31.668, + "Actual Rows": 3584, + "Actual Loops": 6, + "Output": ["ml.linked_movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.070, + "Actual Total Time": 33.811, + "Actual Rows": 3620, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.094, + "Actual Total Time": 30.538, + "Actual Rows": 3710, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.109, + "Actual Total Time": 31.037, + "Actual Rows": 3463, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.100, + "Actual Total Time": 30.204, + "Actual Rows": 3568, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.153, + "Actual Total Time": 32.336, + "Actual Rows": 3691, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "linked_movie_id_movie_link", + "Relation Name": "movie_link", + "Schema": "public", + "Alias": "ml", + "Startup Cost": 0.29, + "Total Cost": 479.75, + "Plan Rows": 5999, + "Plan Width": 8, + "Actual Startup Time": 0.044, + "Actual Total Time": 14.535, + "Actual Rows": 5000, + "Actual Loops": 6, + "Output": ["ml.id", "ml.movie_id", "ml.linked_movie_id", "ml.link_type_id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.026, + "Actual Total Time": 15.425, + "Actual Rows": 5868, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 13.927, + "Actual Rows": 4732, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.043, + "Actual Total Time": 14.398, + "Actual Rows": 4549, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.050, + "Actual Total Time": 13.875, + "Actual Rows": 4592, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.061, + "Actual Total Time": 15.198, + "Actual Rows": 5381, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 29997, + "Output": ["lt.id"], + "Cache Key": "ml.link_type_id", + "Cache Mode": "logical", + "Cache Hits": 4859, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 5868, + "Cache Hits": 5852, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 4732, + "Cache Hits": 4716, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 4549, + "Cache Hits": 4533, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 1, + "Actual Loops": 4592, + "Cache Hits": 4576, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 5381, + "Cache Hits": 5365, + "Cache Misses": 16, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 2 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "link_type_pkey", + "Relation Name": "link_type", + "Schema": "public", + "Alias": "lt", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 96, + "Output": ["lt.id"], + "Index Cond": "(lt.id = ml.link_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((lt.link)::text = ANY ('{references,\"referenced in\",features,\"featured in\"}'::text[]))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 16 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 16 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 11.16, + "Plan Rows": 35, + "Plan Width": 8, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.318, + "Actual Rows": 71, + "Actual Loops": 21505, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = ml.linked_movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.325, + "Actual Rows": 71, + "Actual Loops": 3620 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.308, + "Actual Rows": 73, + "Actual Loops": 3710 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.335, + "Actual Rows": 70, + "Actual Loops": 3463 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.309, + "Actual Rows": 74, + "Actual Loops": 3568 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.295, + "Actual Rows": 71, + "Actual Loops": 3691 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.46, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 1533243, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(((n.name_pcode_cf)::text >= 'A'::text) AND ((n.name_pcode_cf)::text <= 'F'::text) AND (((n.gender)::text = 'm'::text) OR (((n.gender)::text = 'f'::text) AND (n.name ~~ 'A%'::text))))",+ "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 258411 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 270664 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 241336 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 264255 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 262384 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_person_info", + "Relation Name": "person_info", + "Schema": "public", + "Alias": "pi", + "Startup Cost": 0.43, + "Total Cost": 0.64, + "Plan Rows": 1, + "Plan Width": 103, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 224149, + "Output": ["pi.id", "pi.person_id", "pi.info_type_id", "pi.info", "pi.note"], + "Index Cond": "(pi.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(pi.note IS NOT NULL)", + "Rows Removed by Filter": 20, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.028, + "Actual Rows": 0, + "Actual Loops": 38457 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 36834 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 35736 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 37970 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 39805 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.15, + "Total Cost": 0.17, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 63648, + "Output": ["it.id"], + "Cache Key": "pi.info_type_id", + "Cache Mode": "logical", + "Cache Hits": 9858, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 10994, + "Cache Hits": 10993, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 9641, + "Cache Hits": 9640, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 11469, + "Cache Hits": 11468, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 10344, + "Cache Hits": 10343, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 1, + "Actual Loops": 11341, + "Cache Hits": 11340, + "Cache Misses": 1, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "info_type_pkey", + "Relation Name": "info_type", + "Schema": "public", + "Alias": "it", + "Startup Cost": 0.14, + "Total Cost": 0.16, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 1, + "Actual Loops": 6, + "Output": ["it.id"], + "Index Cond": "(it.id = pi.info_type_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((it.info)::text = 'mini biography'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.045, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 63648, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"], + "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 1980) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 10994 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 9641 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 11469 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 10344 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 11341 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.47, + "Plan Rows": 2, + "Plan Width": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.025, + "Actual Rows": 2, + "Actual Loops": 40157, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((an.name IS NOT NULL) AND ((an.name ~~ '%a%'::text) OR (an.name ~~ 'A%'::text)))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.023, + "Actual Rows": 2, + "Actual Loops": 6849 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.025, + "Actual Rows": 2, + "Actual Loops": 5827 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.028, + "Actual Rows": 2, + "Actual Loops": 7836 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.024, + "Actual Rows": 2, + "Actual Loops": 6710 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.024, + "Actual Rows": 2, + "Actual Loops": 6704 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -7678011977838348522, + "Planning Time": 79.966, + "Triggers": [ + ], + "Execution Time": 6618.511, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -7678011977838348522, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an1.name) AS actress_pseudonym,
       MIN(t.title) AS japanese_movie_dubbed
FROM aka_name AS an1,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n1,
     role_type AS rt,
     title AS t
WHERE ci.note ='(voice: English version)'
  AND cn.country_code ='[jp]'
  AND mc.note LIKE '%(Japan)%'
  AND mc.note NOT LIKE '%(USA)%'
  AND n1.name LIKE '%Yo%'
  AND n1.name NOT LIKE '%Yu%'
  AND rt.role ='actress'
  AND an1.person_id = n1.id
  AND n1.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND an1.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27202.55, + "Total Cost": 27202.56, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1270.431, + "Actual Total Time": 1325.947, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an1.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27202.50, + "Total Cost": 27202.51, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 1258.814, + "Actual Total Time": 1325.904, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an1.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 27201.50, + "Total Cost": 27201.51, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 1252.419, + "Actual Total Time": 1252.427, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an1.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1249.313, + "Actual Total Time": 1249.321, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1250.081, + "Actual Total Time": 1250.090, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1250.185, + "Actual Total Time": 1250.195, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1261.674, + "Actual Total Time": 1261.680, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1249.949, + "Actual Total Time": 1249.956, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1250.013, + "Actual Total Time": 1250.021, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1250.063, + "Actual Total Time": 1250.070, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 27201.46, + "Plan Rows": 8, + "Plan Width": 33, + "Actual Startup Time": 304.648, + "Actual Total Time": 1252.377, + "Actual Rows": 8, + "Actual Loops": 8, + "Output": ["an1.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n1.id = an1.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 313.146, + "Actual Total Time": 1249.233, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 165.301, + "Actual Total Time": 1250.047, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 257.114, + "Actual Total Time": 1250.175, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 279.597, + "Actual Total Time": 1261.636, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 341.950, + "Actual Total Time": 1249.922, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 472.143, + "Actual Total Time": 1249.982, + "Actual Rows": 6, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 479.877, + "Actual Total Time": 1249.996, + "Actual Rows": 9, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 27198.20, + "Plan Rows": 5, + "Plan Width": 25, + "Actual Startup Time": 304.494, + "Actual Total Time": 1252.039, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["ci.person_id", "n1.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 313.074, + "Actual Total Time": 1248.943, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 165.031, + "Actual Total Time": 1249.672, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 257.040, + "Actual Total Time": 1250.096, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 279.327, + "Actual Total Time": 1261.052, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 341.876, + "Actual Total Time": 1249.802, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 472.067, + "Actual Total Time": 1249.795, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 479.810, + "Actual Total Time": 1249.746, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 26097.38, + "Plan Rows": 930, + "Plan Width": 21, + "Actual Startup Time": 86.453, + "Actual Total Time": 1235.562, + "Actual Rows": 930, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 14.362, + "Actual Total Time": 1231.417, + "Actual Rows": 1023, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.615, + "Actual Total Time": 1228.040, + "Actual Rows": 1047, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 234.480, + "Actual Total Time": 1240.864, + "Actual Rows": 545, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 193.646, + "Actual Total Time": 1251.286, + "Actual Rows": 652, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.848, + "Actual Total Time": 1241.001, + "Actual Rows": 483, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 67.994, + "Actual Total Time": 1226.230, + "Actual Rows": 1507, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.715, + "Actual Total Time": 1225.698, + "Actual Rows": 1131, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 26087.58, + "Plan Rows": 2450, + "Plan Width": 25, + "Actual Startup Time": 81.664, + "Actual Total Time": 1233.287, + "Actual Rows": 2450, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.role_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 13.807, + "Actual Total Time": 1228.943, + "Actual Rows": 2674, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 19.003, + "Actual Total Time": 1225.421, + "Actual Rows": 3002, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 234.118, + "Actual Total Time": 1239.240, + "Actual Rows": 1376, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 193.177, + "Actual Total Time": 1249.712, + "Actual Rows": 1647, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 99.405, + "Actual Total Time": 1239.617, + "Actual Rows": 1291, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 32.972, + "Actual Total Time": 1222.694, + "Actual Rows": 3912, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.182, + "Actual Total Time": 1223.075, + "Actual Rows": 3035, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 18348.83, + "Plan Rows": 6041, + "Plan Width": 25, + "Actual Startup Time": 0.328, + "Actual Total Time": 246.367, + "Actual Rows": 6041, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.237, + "Actual Total Time": 261.900, + "Actual Rows": 5808, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.567, + "Actual Total Time": 307.216, + "Actual Rows": 6591, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.364, + "Actual Total Time": 269.640, + "Actual Rows": 6101, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.222, + "Actual Total Time": 166.171, + "Actual Rows": 4981, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.424, + "Actual Total Time": 189.680, + "Actual Rows": 4380, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.259, + "Actual Total Time": 253.682, + "Actual Rows": 7739, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.259, + "Actual Total Time": 240.426, + "Actual Rows": 6747, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 7204.52, + "Plan Rows": 6041, + "Plan Width": 4, + "Actual Startup Time": 0.233, + "Actual Total Time": 109.124, + "Actual Rows": 6041, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.142, + "Actual Total Time": 138.047, + "Actual Rows": 5808, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.443, + "Actual Total Time": 133.593, + "Actual Rows": 6591, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.253, + "Actual Total Time": 130.929, + "Actual Rows": 6101, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.140, + "Actual Total Time": 62.205, + "Actual Rows": 4981, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.337, + "Actual Total Time": 80.944, + "Actual Rows": 4380, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.147, + "Actual Total Time": 94.178, + "Actual Rows": 7739, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.147, + "Actual Total Time": 94.725, + "Actual Rows": 6747, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 844, + "Plan Width": 4, + "Actual Startup Time": 0.101, + "Actual Total Time": 25.768, + "Actual Rows": 844, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[jp]'::text)", + "Rows Removed by Filter": 28531, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 35.243, + "Actual Rows": 1156, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.325, + "Actual Total Time": 35.443, + "Actual Rows": 1132, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 34.217, + "Actual Rows": 1170, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.045, + "Actual Total Time": 8.311, + "Actual Rows": 355, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.260, + "Actual Total Time": 19.015, + "Actual Rows": 491, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 14.272, + "Actual Rows": 572, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.041, + "Actual Total Time": 22.267, + "Actual Rows": 605, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 4.48, + "Plan Rows": 7, + "Plan Width": 8, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.094, + "Actual Rows": 7, + "Actual Loops": 6752, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(Japan)%'::text) AND (mc.note !~~ '%(USA)%'::text))", + "Rows Removed by Filter": 8, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.086, + "Actual Rows": 5, + "Actual Loops": 1156 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.081, + "Actual Rows": 6, + "Actual Loops": 1132 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.079, + "Actual Rows": 5, + "Actual Loops": 1170 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.144, + "Actual Rows": 14, + "Actual Loops": 355 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.120, + "Actual Rows": 9, + "Actual Loops": 491 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.133, + "Actual Rows": 14, + "Actual Loops": 572 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.114, + "Actual Rows": 11, + "Actual Loops": 605 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 1.84, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 48328, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 5808 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 6591 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 1, + "Actual Loops": 6101 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 4981 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 4380 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 7739 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 6747 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.27, + "Plan Rows": 1, + "Plan Width": 12, + "Actual Startup Time": 0.156, + "Actual Total Time": 0.162, + "Actual Rows": 0, + "Actual Loops": 48328, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice: English version)'::text)", + "Rows Removed by Filter": 32, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.157, + "Actual Total Time": 0.165, + "Actual Rows": 0, + "Actual Loops": 5808 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.132, + "Actual Total Time": 0.138, + "Actual Rows": 0, + "Actual Loops": 6591 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.154, + "Actual Total Time": 0.158, + "Actual Rows": 0, + "Actual Loops": 6101 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.210, + "Actual Total Time": 0.216, + "Actual Rows": 0, + "Actual Loops": 4981 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.232, + "Actual Total Time": 0.238, + "Actual Rows": 0, + "Actual Loops": 4380 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.118, + "Actual Total Time": 0.124, + "Actual Rows": 1, + "Actual Loops": 7739 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.138, + "Actual Total Time": 0.144, + "Actual Rows": 0, + "Actual Loops": 6747 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.038, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.042, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.052, + "Actual Total Time": 0.052, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.030, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.033, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.030, + "Actual Total Time": 0.033, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n1", + "Startup Cost": 0.43, + "Total Cost": 1.18, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 7438, + "Output": ["n1.id", "n1.name", "n1.imdb_index", "n1.imdb_id", "n1.gender", "n1.name_pcode_cf", "n1.name_pcode_nf", "n1.surname_pcode", "n1.md5sum"], + "Index Cond": "(n1.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n1.name ~~ '%Yo%'::text) AND (n1.name !~~ '%Yu%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1023 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1047 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 545 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 652 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 483 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1507 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1131 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an1", + "Startup Cost": 0.42, + "Total Cost": 0.63, + "Plan Rows": 2, + "Plan Width": 20, + "Actual Startup Time": 0.056, + "Actual Total Time": 0.066, + "Actual Rows": 2, + "Actual Loops": 38, + "Output": ["an1.id", "an1.person_id", "an1.name", "an1.imdb_index", "an1.name_pcode_cf", "an1.name_pcode_nf", "an1.surname_pcode", "an1.md5sum"], + "Index Cond": "(an1.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.030, + "Actual Rows": 2, + "Actual Loops": 8 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.050, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.067, + "Actual Total Time": 0.069, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.285, + "Actual Rows": 2, + "Actual Loops": 2 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.034, + "Actual Rows": 2, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.055, + "Actual Rows": 2, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 8 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 99813637196177449, + "Planning Time": 46.964, + "Triggers": [ + ], + "Execution Time": 1326.292, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 99813637196177449, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(an.name) AS acress_pseudonym,
       MIN(t.title) AS japanese_anime_movie
FROM aka_name AS an,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note ='(voice: English version)'
  AND cn.country_code ='[jp]'
  AND mc.note LIKE '%(Japan)%'
  AND mc.note NOT LIKE '%(USA)%'
  AND (mc.note LIKE '%(2006)%'
       OR mc.note LIKE '%(2007)%')
  AND n.name LIKE '%Yo%'
  AND n.name NOT LIKE '%Yu%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2006 AND 2007
  AND (t.title LIKE 'One Piece%'
       OR t.title LIKE 'Dragon Ball Z%')
  AND an.person_id = n.id
  AND n.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND an.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9265.75, + "Total Cost": 9265.76, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 127.389, + "Actual Total Time": 143.392, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9265.70, + "Total Cost": 9265.71, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 126.690, + "Actual Total Time": 143.370, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 9264.70, + "Total Cost": 9264.71, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 117.152, + "Actual Total Time": 117.159, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.721, + "Actual Total Time": 117.727, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 112.598, + "Actual Total Time": 112.605, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.732, + "Actual Total Time": 117.737, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 109.733, + "Actual Total Time": 109.740, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 118.146, + "Actual Total Time": 118.152, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 117.136, + "Actual Total Time": 117.142, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 118.322, + "Actual Total Time": 118.329, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.27, + "Total Cost": 9264.69, + "Plan Rows": 1, + "Plan Width": 33, + "Actual Startup Time": 102.881, + "Actual Total Time": 117.149, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["an.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.716, + "Actual Total Time": 117.721, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 72.653, + "Actual Total Time": 112.584, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.728, + "Actual Total Time": 117.733, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 109.728, + "Actual Total Time": 109.735, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 118.142, + "Actual Total Time": 118.148, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 42.945, + "Actual Total Time": 117.114, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 118.317, + "Actual Total Time": 118.323, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.84, + "Total Cost": 9263.09, + "Plan Rows": 3, + "Plan Width": 41, + "Actual Startup Time": 101.933, + "Actual Total Time": 117.073, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["an.name", "an.person_id", "ci.person_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.715, + "Actual Total Time": 117.719, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 67.202, + "Actual Total Time": 112.213, + "Actual Rows": 15, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.727, + "Actual Total Time": 117.731, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 109.727, + "Actual Total Time": 109.733, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 118.141, + "Actual Total Time": 118.147, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 40.812, + "Actual Total Time": 116.885, + "Actual Rows": 9, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 118.317, + "Actual Total Time": 118.321, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.41, + "Total Cost": 9261.18, + "Plan Rows": 3, + "Plan Width": 21, + "Actual Startup Time": 101.876, + "Actual Total Time": 116.090, + "Actual Rows": 3, + "Actual Loops": 8, + "Output": ["ci.person_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.714, + "Actual Total Time": 117.718, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 66.832, + "Actual Total Time": 106.902, + "Actual Rows": 14, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.726, + "Actual Total Time": 117.730, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 109.727, + "Actual Total Time": 109.732, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 118.141, + "Actual Total Time": 118.145, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 40.731, + "Actual Total Time": 114.339, + "Actual Rows": 11, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 118.316, + "Actual Total Time": 118.320, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.31, + "Total Cost": 9260.03, + "Plan Rows": 13, + "Plan Width": 25, + "Actual Startup Time": 101.690, + "Actual Total Time": 115.945, + "Actual Rows": 13, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.role_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(t.id = ci.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.625, + "Actual Total Time": 117.627, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 66.399, + "Actual Total Time": 106.736, + "Actual Rows": 58, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.637, + "Actual Total Time": 117.639, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 109.609, + "Actual Total Time": 109.612, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 118.079, + "Actual Total Time": 118.082, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 40.515, + "Actual Total Time": 114.201, + "Actual Rows": 46, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 118.243, + "Actual Total Time": 118.246, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.87, + "Total Cost": 9220.76, + "Plan Rows": 1, + "Plan Width": 25, + "Actual Startup Time": 101.640, + "Actual Total Time": 115.795, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 117.624, + "Actual Total Time": 117.626, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 66.086, + "Actual Total Time": 105.932, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 117.636, + "Actual Total Time": 117.638, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 109.609, + "Actual Total Time": 109.611, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 118.078, + "Actual Total Time": 118.080, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 40.437, + "Actual Total Time": 113.814, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 118.243, + "Actual Total Time": 118.244, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 7373.32, + "Plan Rows": 1062, + "Plan Width": 4, + "Actual Startup Time": 0.591, + "Actual Total Time": 89.630, + "Actual Rows": 1062, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.102, + "Actual Total Time": 82.838, + "Actual Rows": 744, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.343, + "Actual Total Time": 87.271, + "Actual Rows": 901, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.451, + "Actual Total Time": 95.772, + "Actual Rows": 541, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.166, + "Actual Total Time": 85.208, + "Actual Rows": 1264, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.259, + "Actual Total Time": 95.119, + "Actual Rows": 1251, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.695, + "Actual Total Time": 86.563, + "Actual Rows": 1496, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1.598, + "Actual Total Time": 88.337, + "Actual Rows": 1137, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 844, + "Plan Width": 4, + "Actual Startup Time": 0.047, + "Actual Total Time": 14.001, + "Actual Rows": 844, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[jp]'::text)", + "Rows Removed by Filter": 28531, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 9.645, + "Actual Rows": 561, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.045, + "Actual Total Time": 13.837, + "Actual Rows": 852, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.040, + "Actual Total Time": 13.905, + "Actual Rows": 891, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.042, + "Actual Total Time": 16.158, + "Actual Rows": 866, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 11.993, + "Actual Rows": 718, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.041, + "Actual Total Time": 14.712, + "Actual Rows": 898, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.093, + "Actual Total Time": 15.979, + "Actual Rows": 949, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 4.74, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.088, + "Actual Rows": 1, + "Actual Loops": 6752, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(Japan)%'::text) AND (mc.note !~~ '%(USA)%'::text) AND ((mc.note ~~ '%(2006)%'::text) OR (mc.note ~~ '%(2007)%'::text)))", + "Rows Removed by Filter": 14, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.085, + "Actual Total Time": 0.129, + "Actual Rows": 1, + "Actual Loops": 561 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.085, + "Actual Rows": 1, + "Actual Loops": 852 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.051, + "Actual Total Time": 0.091, + "Actual Rows": 1, + "Actual Loops": 891 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.078, + "Actual Rows": 1, + "Actual Loops": 866 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.114, + "Actual Rows": 2, + "Actual Loops": 718 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.079, + "Actual Rows": 2, + "Actual Loops": 898 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.075, + "Actual Rows": 1, + "Actual Loops": 949 + } + ] + } + ] + }, + { + "Node Type": "Memoize", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 0.44, + "Total Cost": 2.61, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 8495, + "Output": ["t.title", "t.id"], + "Cache Key": "mc.movie_id", + "Cache Mode": "logical", + "Cache Hits": 69, + "Cache Misses": 1092, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 73, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 744, + "Cache Hits": 28, + "Cache Misses": 716, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 48 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 901, + "Cache Hits": 34, + "Cache Misses": 867, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 58 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 0, + "Actual Loops": 541, + "Cache Hits": 21, + "Cache Misses": 520, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 35 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 1264, + "Cache Hits": 219, + "Cache Misses": 1045, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 70 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1251, + "Cache Hits": 129, + "Cache Misses": 1122, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 75 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1496, + "Cache Hits": 71, + "Cache Misses": 1425, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 95 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1137, + "Cache Hits": 45, + "Cache Misses": 1092, + "Cache Evictions": 0, + "Cache Overflows": 0, + "Peak Memory Usage": 73 + } + ], + "Plans": [ + { + "Node Type": "Index Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 2.60, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 7879, + "Output": ["t.title", "t.id"], + "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2006) AND (t.production_year <= 2007) AND ((t.title ~~ 'One Piece%'::text) OR (t.title ~~ 'Dragon Ball Z%'::text)))",+ "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 0, + "Actual Loops": 716 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 867 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.034, + "Actual Rows": 0, + "Actual Loops": 520 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 1045 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 1122 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1425 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1092 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 38.95, + "Plan Rows": 26, + "Plan Width": 12, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.281, + "Actual Rows": 26, + "Actual Loops": 4, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice: English version)'::text)", + "Rows Removed by Filter": 17, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.141, + "Actual Total Time": 0.383, + "Actual Rows": 29, + "Actual Loops": 2 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.179, + "Actual Rows": 23, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.058, + "Actual Total Time": 0.059, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.037, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.047, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.63, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.295, + "Actual Total Time": 0.311, + "Actual Rows": 1, + "Actual Loops": 25, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.362, + "Actual Total Time": 0.376, + "Actual Rows": 1, + "Actual Loops": 14 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.211, + "Actual Total Time": 0.229, + "Actual Rows": 1, + "Actual Loops": 11 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 24, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Yo%'::text) AND (n.name !~~ '%Yu%'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 15 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 0, + "Actual Loops": 9 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 4954783290691726040, + "Planning Time": 44.546, + "Triggers": [ + ], + "Execution Time": 143.964, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 4954783290691726040, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(a1.name) AS writer_pseudo_name,
       MIN(t.title) AS movie_title
FROM aka_name AS a1,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n1,
     role_type AS rt,
     title AS t
WHERE cn.country_code ='[us]'
  AND rt.role ='writer'
  AND a1.person_id = n1.id
  AND n1.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND a1.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN --------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 228775.90, + "Total Cost": 228775.91, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 8067.221, + "Actual Total Time": 8177.250, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(a1.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 228775.85, + "Total Cost": 228775.86, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 7983.182, + "Actual Total Time": 8177.213, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(a1.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 228774.85, + "Total Cost": 228774.86, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 7979.868, + "Actual Total Time": 7983.527, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(a1.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7970.237, + "Actual Total Time": 7970.246, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7969.425, + "Actual Total Time": 7969.433, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7970.810, + "Actual Total Time": 7970.819, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7971.042, + "Actual Total Time": 7971.051, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 8033.609, + "Actual Total Time": 8033.630, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7970.288, + "Actual Total Time": 7970.297, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7971.289, + "Actual Total Time": 7971.298, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 214611.64, + "Total Cost": 228151.00, + "Plan Rows": 124770, + "Plan Width": 33, + "Actual Startup Time": 7198.474, + "Actual Total Time": 7807.933, + "Actual Rows": 310951, + "Actual Loops": 8, + "Output": ["a1.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(ci.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7197.300, + "Actual Total Time": 7799.280, + "Actual Rows": 310658, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7195.495, + "Actual Total Time": 7786.821, + "Actual Rows": 311201, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7197.851, + "Actual Total Time": 7775.456, + "Actual Rows": 330221, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7197.685, + "Actual Total Time": 7800.286, + "Actual Rows": 295336, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7196.256, + "Actual Total Time": 7859.974, + "Actual Rows": 304344, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7196.818, + "Actual Total Time": 7788.632, + "Actual Rows": 304540, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7197.735, + "Actual Total Time": 7813.049, + "Actual Rows": 316316, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 147146.10, + "Total Cost": 160247.11, + "Plan Rows": 101458, + "Plan Width": 20, + "Actual Startup Time": 5767.537, + "Actual Total Time": 6075.186, + "Actual Rows": 292966, + "Actual Loops": 8, + "Output": ["a1.name", "ci.movie_id"], + "Inner Unique": false, + "Hash Cond": "(a1.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5767.507, + "Actual Total Time": 6075.894, + "Actual Rows": 277258, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5767.453, + "Actual Total Time": 6079.699, + "Actual Rows": 290706, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5767.558, + "Actual Total Time": 6035.261, + "Actual Rows": 283191, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5767.774, + "Actual Total Time": 6070.418, + "Actual Rows": 298025, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5767.505, + "Actual Total Time": 6119.147, + "Actual Rows": 272152, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5767.500, + "Actual Total Time": 6063.467, + "Actual Rows": 293950, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5767.438, + "Actual Total Time": 6059.221, + "Actual Rows": 321996, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "a1", + "Startup Cost": 0.00, + "Total Cost": 12522.68, + "Plan Rows": 112668, + "Plan Width": 20, + "Actual Startup Time": 0.083, + "Actual Total Time": 87.022, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["a1.id", "a1.person_id", "a1.name", "a1.imdb_index", "a1.name_pcode_cf", "a1.name_pcode_nf", "a1.surname_pcode", "a1.md5sum"],+ "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.040, + "Actual Total Time": 100.475, + "Actual Rows": 115356, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 98.972, + "Actual Rows": 120855, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.056, + "Actual Total Time": 64.160, + "Actual Rows": 87904, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.294, + "Actual Total Time": 82.351, + "Actual Rows": 109395, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.065, + "Actual Total Time": 91.546, + "Actual Rows": 115853, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 81.155, + "Actual Rows": 109687, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.106, + "Actual Total Time": 92.308, + "Actual Rows": 125252, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 139941.35, + "Total Cost": 139941.35, + "Plan Rows": 576380, + "Plan Width": 12, + "Actual Startup Time": 5765.583, + "Actual Total Time": 5769.236, + "Actual Rows": 341118, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 185408, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 5767.225, + "Actual Total Time": 5767.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 5767.244, + "Actual Total Time": 5767.248, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 5767.227, + "Actual Total Time": 5767.231, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5767.225, + "Actual Total Time": 5767.228, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5767.246, + "Actual Total Time": 5767.255, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 5767.225, + "Actual Total Time": 5767.229, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5767.211, + "Actual Total Time": 5767.215, + "Actual Rows": 2728943, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 45131.29, + "Total Cost": 139941.35, + "Plan Rows": 576380, + "Plan Width": 12, + "Actual Startup Time": 772.478, + "Actual Total Time": 1224.576, + "Actual Rows": 341118, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 772.350, + "Actual Total Time": 772.353, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 772.375, + "Actual Total Time": 772.378, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 772.374, + "Actual Total Time": 772.377, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 772.373, + "Actual Total Time": 772.376, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 772.375, + "Actual Total Time": 772.382, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 772.350, + "Actual Total Time": 772.353, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 773.257, + "Actual Total Time": 4360.827, + "Actual Rows": 2728943, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 93297.51, + "Plan Rows": 576380, + "Plan Width": 8, + "Actual Startup Time": 0.113, + "Actual Total Time": 272.653, + "Actual Rows": 341118, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.887, + "Actual Total Time": 2181.196, + "Actual Rows": 2728943, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.006, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id", "rt.role"], + "Filter": "((rt.role)::text = 'writer'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.030, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 83497.96, + "Plan Rows": 979846, + "Plan Width": 12, + "Actual Startup Time": 0.858, + "Actual Total Time": 1625.491, + "Actual Rows": 2728943, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.role_id = rt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 6, + "Actual Startup Time": 0.858, + "Actual Total Time": 1625.491, + "Actual Rows": 2728943, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 38619.15, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 759.099, + "Actual Total Time": 759.100, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 195904, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 772.308, + "Actual Total Time": 772.309, + "Actual Rows": 503250, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 772.334, + "Actual Total Time": 772.335, + "Actual Rows": 502518, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 772.330, + "Actual Total Time": 772.332, + "Actual Rows": 529236, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 666.512, + "Actual Total Time": 666.513, + "Actual Rows": 526889, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 772.332, + "Actual Total Time": 772.334, + "Actual Rows": 512034, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 772.308, + "Actual Total Time": 772.309, + "Actual Rows": 536190, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 772.333, + "Actual Total Time": 772.334, + "Actual Rows": 508740, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n1", + "Startup Cost": 0.43, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 0.271, + "Actual Total Time": 267.655, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.446, + "Actual Total Time": 264.936, + "Actual Rows": 503250, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.305, + "Actual Total Time": 266.069, + "Actual Rows": 502518, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.223, + "Actual Total Time": 262.464, + "Actual Rows": 529236, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.153, + "Actual Total Time": 272.198, + "Actual Rows": 526889, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.494, + "Actual Total Time": 263.790, + "Actual Rows": 512034, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.090, + "Actual Total Time": 269.276, + "Actual Rows": 536190, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.377, + "Actual Total Time": 272.702, + "Actual Rows": 508740, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 65662.73, + "Total Cost": 65662.73, + "Plan Rows": 144225, + "Plan Width": 25, + "Actual Startup Time": 1425.649, + "Actual Total Time": 1425.653, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 2097152, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 87360, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1429.428, + "Actual Total Time": 1429.430, + "Actual Rows": 145515, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1427.794, + "Actual Total Time": 1427.797, + "Actual Rows": 155163, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1430.019, + "Actual Total Time": 1430.022, + "Actual Rows": 139850, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1429.410, + "Actual Total Time": 1429.413, + "Actual Rows": 154798, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1427.784, + "Actual Total Time": 1427.790, + "Actual Rows": 123083, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1429.011, + "Actual Total Time": 1429.014, + "Actual Rows": 136219, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1429.990, + "Actual Total Time": 1429.993, + "Actual Rows": 159183, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 43145.31, + "Total Cost": 65662.73, + "Plan Rows": 144225, + "Plan Width": 25, + "Actual Startup Time": 597.247, + "Actual Total Time": 1235.996, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 597.294, + "Actual Total Time": 1233.066, + "Actual Rows": 145515, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 597.251, + "Actual Total Time": 1226.073, + "Actual Rows": 155163, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 597.241, + "Actual Total Time": 1237.433, + "Actual Rows": 139850, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 597.215, + "Actual Total Time": 1226.037, + "Actual Rows": 154798, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 597.192, + "Actual Total Time": 1243.411, + "Actual Rows": 123083, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 597.253, + "Actual Total Time": 1240.855, + "Actual Rows": 136219, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 597.220, + "Actual Total Time": 1223.479, + "Actual Rows": 159183, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 22139.26, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 0.131, + "Actual Total Time": 472.175, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.151, + "Actual Total Time": 476.529, + "Actual Rows": 145515, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.156, + "Actual Total Time": 449.569, + "Actual Rows": 155163, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.146, + "Actual Total Time": 485.100, + "Actual Rows": 139850, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.095, + "Actual Total Time": 461.983, + "Actual Rows": 154798, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.102, + "Actual Total Time": 473.187, + "Actual Rows": 123083, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.156, + "Actual Total Time": 493.291, + "Actual Rows": 136219, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.157, + "Actual Total Time": 455.509, + "Actual Rows": 159183, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 17.236, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 18.299, + "Actual Rows": 11111, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 15.253, + "Actual Rows": 9431, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.017, + "Actual Total Time": 18.838, + "Actual Rows": 11624, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 16.671, + "Actual Rows": 10436, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.019, + "Actual Total Time": 19.358, + "Actual Rows": 11715, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 15.480, + "Actual Rows": 9599, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 15.215, + "Actual Rows": 9536, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.038, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.036, + "Actual Rows": 13, + "Actual Loops": 11111 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.040, + "Actual Rows": 16, + "Actual Loops": 9431 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.035, + "Actual Rows": 12, + "Actual Loops": 11624 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.037, + "Actual Rows": 15, + "Actual Loops": 10436 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.034, + "Actual Rows": 11, + "Actual Loops": 11715 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.044, + "Actual Rows": 14, + "Actual Loops": 9599 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.040, + "Actual Rows": 17, + "Actual Loops": 9536 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 39194.39, + "Total Cost": 39194.39, + "Plan Rows": 316039, + "Plan Width": 21, + "Actual Startup Time": 588.480, + "Actual Total Time": 588.481, + "Actual Rows": 316039, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 174880, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 597.100, + "Actual Total Time": 597.101, + "Actual Rows": 311192, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 597.053, + "Actual Total Time": 597.054, + "Actual Rows": 320899, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 597.055, + "Actual Total Time": 597.056, + "Actual Rows": 318047, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 597.069, + "Actual Total Time": 597.070, + "Actual Rows": 325961, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 597.046, + "Actual Total Time": 597.047, + "Actual Rows": 318133, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 597.051, + "Actual Total Time": 597.052, + "Actual Rows": 308562, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 597.024, + "Actual Total Time": 597.025, + "Actual Rows": 305180, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.00, + "Total Cost": 39194.39, + "Plan Rows": 316039, + "Plan Width": 21, + "Actual Startup Time": 2.813, + "Actual Total Time": 223.071, + "Actual Rows": 316039, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.067, + "Actual Total Time": 223.682, + "Actual Rows": 311192, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.107, + "Actual Total Time": 221.343, + "Actual Rows": 320899, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.067, + "Actual Total Time": 219.686, + "Actual Rows": 318047, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 5.505, + "Actual Total Time": 217.863, + "Actual Rows": 325961, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 5.625, + "Actual Total Time": 225.168, + "Actual Rows": 318133, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.084, + "Actual Total Time": 226.311, + "Actual Rows": 308562, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 5.509, + "Actual Total Time": 228.848, + "Actual Rows": 305180, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2444720784039749802, + "Planning Time": 31.837, + "Triggers": [ + ], + "Execution Time": 8177.640, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2444720784039749802, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(an1.name) AS costume_designer_pseudo,
       MIN(t.title) AS movie_with_costumes
FROM aka_name AS an1,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n1,
     role_type AS rt,
     title AS t
WHERE cn.country_code ='[us]'
  AND rt.role ='costume designer'
  AND an1.person_id = n1.id
  AND n1.id = ci.person_id
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND an1.person_id = ci.person_id
  AND ci.movie_id = mc.movie_id;

QUERY PLAN ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 228775.90, + "Total Cost": 228775.91, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3087.692, + "Actual Total Time": 3160.965, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an1.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 228775.85, + "Total Cost": 228775.86, + "Plan Rows": 8, + "Plan Width": 64, + "Actual Startup Time": 3080.626, + "Actual Total Time": 3160.926, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an1.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 228774.85, + "Total Cost": 228774.86, + "Plan Rows": 1, + "Plan Width": 64, + "Actual Startup Time": 3035.973, + "Actual Total Time": 3035.983, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an1.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 3030.368, + "Actual Total Time": 3030.379, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3030.342, + "Actual Total Time": 3030.353, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 3030.550, + "Actual Total Time": 3030.558, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 3028.142, + "Actual Total Time": 3028.151, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 3028.118, + "Actual Total Time": 3028.127, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 3030.350, + "Actual Total Time": 3030.359, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 3030.304, + "Actual Total Time": 3030.312, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 214611.64, + "Total Cost": 228151.00, + "Plan Rows": 124770, + "Plan Width": 33, + "Actual Startup Time": 2859.608, + "Actual Total Time": 3010.532, + "Actual Rows": 40376, + "Actual Loops": 8, + "Output": ["an1.name", "t.title"], + "Inner Unique": false, + "Hash Cond": "(ci.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 2857.767, + "Actual Total Time": 3001.172, + "Actual Rows": 51261, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 2858.083, + "Actual Total Time": 3007.789, + "Actual Rows": 36493, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 2858.869, + "Actual Total Time": 3000.956, + "Actual Rows": 39893, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2856.456, + "Actual Total Time": 3003.046, + "Actual Rows": 43069, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 2859.464, + "Actual Total Time": 3006.068, + "Actual Rows": 38239, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2858.958, + "Actual Total Time": 3005.773, + "Actual Rows": 42608, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2858.974, + "Actual Total Time": 3004.481, + "Actual Rows": 31963, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 147146.10, + "Total Cost": 160247.11, + "Plan Rows": 101458, + "Plan Width": 20, + "Actual Startup Time": 1375.889, + "Actual Total Time": 1479.471, + "Actual Rows": 27371, + "Actual Loops": 8, + "Output": ["an1.name", "ci.movie_id"], + "Inner Unique": false, + "Hash Cond": "(an1.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1375.072, + "Actual Total Time": 1473.002, + "Actual Rows": 30869, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1375.407, + "Actual Total Time": 1486.887, + "Actual Rows": 27392, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1375.664, + "Actual Total Time": 1469.469, + "Actual Rows": 27055, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1375.110, + "Actual Total Time": 1479.056, + "Actual Rows": 35078, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1378.847, + "Actual Total Time": 1479.368, + "Actual Rows": 22249, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1375.122, + "Actual Total Time": 1481.278, + "Actual Rows": 30283, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1376.382, + "Actual Total Time": 1480.809, + "Actual Rows": 19042, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an1", + "Startup Cost": 0.00, + "Total Cost": 12522.68, + "Plan Rows": 112668, + "Plan Width": 20, + "Actual Startup Time": 0.027, + "Actual Total Time": 31.033, + "Actual Rows": 112668, + "Actual Loops": 8, + "Output": ["an1.id", "an1.person_id", "an1.name", "an1.imdb_index", "an1.name_pcode_cf", "an1.name_pcode_nf", "an1.surname_pcode", "an1.md5sum"],+ "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.049, + "Actual Total Time": 30.029, + "Actual Rows": 116803, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 34.659, + "Actual Rows": 132112, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.028, + "Actual Total Time": 26.260, + "Actual Rows": 76770, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.020, + "Actual Total Time": 31.206, + "Actual Rows": 115133, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 28.550, + "Actual Rows": 107895, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 32.603, + "Actual Rows": 122085, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 32.468, + "Actual Rows": 100048, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 139941.35, + "Total Cost": 139941.35, + "Plan Rows": 576380, + "Plan Width": 12, + "Actual Startup Time": 1373.265, + "Actual Total Time": 1373.270, + "Actual Rows": 34550, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Hash Buckets": 1048576, + "Original Hash Buckets": 1048576, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 21184, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1374.892, + "Actual Total Time": 1374.896, + "Actual Rows": 276403, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1374.914, + "Actual Total Time": 1374.918, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1374.906, + "Actual Total Time": 1374.909, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1361.772, + "Actual Total Time": 1361.776, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1374.915, + "Actual Total Time": 1374.919, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1374.901, + "Actual Total Time": 1374.904, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1374.904, + "Actual Total Time": 1374.908, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 45131.29, + "Total Cost": 139941.35, + "Plan Rows": 576380, + "Plan Width": 12, + "Actual Startup Time": 791.839, + "Actual Total Time": 846.467, + "Actual Rows": 34550, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id", "n1.id"], + "Inner Unique": true, + "Hash Cond": "(ci.person_id = n1.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 793.118, + "Actual Total Time": 1230.116, + "Actual Rows": 276403, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 791.674, + "Actual Total Time": 791.678, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 791.652, + "Actual Total Time": 791.655, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 791.674, + "Actual Total Time": 791.677, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 791.641, + "Actual Total Time": 791.644, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 791.647, + "Actual Total Time": 791.650, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 791.634, + "Actual Total Time": 791.637, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 93297.51, + "Plan Rows": 576380, + "Plan Width": 8, + "Actual Startup Time": 0.184, + "Actual Total Time": 30.714, + "Actual Rows": 34550, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.452, + "Actual Total Time": 245.683, + "Actual Rows": 276403, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.004, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.004, + "Actual Total Time": 0.005, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id", "rt.role"], + "Filter": "((rt.role)::text = 'costume designer'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.003, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.002, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.001, + "Actual Total Time": 0.001, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.002, + "Actual Total Time": 0.003, + "Actual Rows": 0, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 83497.96, + "Plan Rows": 979846, + "Plan Width": 12, + "Actual Startup Time": 1.422, + "Actual Total Time": 179.239, + "Actual Rows": 276403, + "Actual Loops": 1, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.role_id = rt.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1.422, + "Actual Total Time": 179.239, + "Actual Rows": 276403, + "Actual Loops": 1 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 38619.15, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 781.248, + "Actual Total Time": 781.249, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 195936, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 791.517, + "Actual Total Time": 791.518, + "Actual Rows": 545340, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 791.524, + "Actual Total Time": 791.525, + "Actual Rows": 500322, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 791.517, + "Actual Total Time": 791.518, + "Actual Rows": 545706, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 709.389, + "Actual Total Time": 709.390, + "Actual Rows": 490440, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 791.500, + "Actual Total Time": 791.501, + "Actual Rows": 503099, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 791.516, + "Actual Total Time": 791.517, + "Actual Rows": 491538, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 791.493, + "Actual Total Time": 791.494, + "Actual Rows": 548268, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Index Only Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n1", + "Startup Cost": 0.43, + "Total Cost": 38619.15, + "Plan Rows": 520936, + "Plan Width": 4, + "Actual Startup Time": 0.153, + "Actual Total Time": 249.959, + "Actual Rows": 520936, + "Actual Loops": 8, + "Output": ["n1.id"], + "Heap Fetches": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.197, + "Actual Total Time": 258.817, + "Actual Rows": 545340, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.158, + "Actual Total Time": 260.208, + "Actual Rows": 500322, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.135, + "Actual Total Time": 246.413, + "Actual Rows": 545706, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.145, + "Actual Total Time": 259.764, + "Actual Rows": 490440, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.203, + "Actual Total Time": 243.907, + "Actual Rows": 503099, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.203, + "Actual Total Time": 230.395, + "Actual Rows": 491538, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.130, + "Actual Total Time": 254.420, + "Actual Rows": 548268, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 65662.73, + "Total Cost": 65662.73, + "Plan Rows": 144225, + "Plan Width": 25, + "Actual Startup Time": 1478.240, + "Actual Total Time": 1478.244, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Hash Buckets": 2097152, + "Original Hash Buckets": 2097152, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 87360, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1482.388, + "Actual Total Time": 1482.392, + "Actual Rows": 138503, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1482.328, + "Actual Total Time": 1482.331, + "Actual Rows": 142240, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1482.577, + "Actual Total Time": 1482.579, + "Actual Rows": 143743, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1480.109, + "Actual Total Time": 1480.113, + "Actual Rows": 129127, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1480.082, + "Actual Total Time": 1480.085, + "Actual Rows": 166936, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1482.336, + "Actual Total Time": 1482.340, + "Actual Rows": 136720, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1482.262, + "Actual Total Time": 1482.266, + "Actual Rows": 153371, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 43145.31, + "Total Cost": 65662.73, + "Plan Rows": 144225, + "Plan Width": 25, + "Actual Startup Time": 617.362, + "Actual Total Time": 1277.163, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(mc.movie_id = t.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 617.360, + "Actual Total Time": 1283.039, + "Actual Rows": 138503, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 617.353, + "Actual Total Time": 1271.366, + "Actual Rows": 142240, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 617.367, + "Actual Total Time": 1277.508, + "Actual Rows": 143743, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 617.342, + "Actual Total Time": 1270.618, + "Actual Rows": 129127, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 617.310, + "Actual Total Time": 1261.517, + "Actual Rows": 166936, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 617.351, + "Actual Total Time": 1279.382, + "Actual Rows": 136720, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 617.353, + "Actual Total Time": 1271.691, + "Actual Rows": 153371, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 22139.26, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 0.108, + "Actual Total Time": 484.354, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.117, + "Actual Total Time": 493.655, + "Actual Rows": 138503, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.116, + "Actual Total Time": 485.081, + "Actual Rows": 142240, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.105, + "Actual Total Time": 487.254, + "Actual Rows": 143743, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.105, + "Actual Total Time": 499.144, + "Actual Rows": 129127, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.118, + "Actual Total Time": 449.908, + "Actual Rows": 166936, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.098, + "Actual Total Time": 495.802, + "Actual Rows": 136720, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.114, + "Actual Total Time": 474.426, + "Actual Rows": 153371, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.020, + "Actual Total Time": 17.794, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.024, + "Actual Total Time": 19.444, + "Actual Rows": 11564, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.022, + "Actual Total Time": 16.288, + "Actual Rows": 9908, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.022, + "Actual Total Time": 19.265, + "Actual Rows": 11487, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 18.414, + "Actual Rows": 11226, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.021, + "Actual Total Time": 14.507, + "Actual Rows": 8521, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.015, + "Actual Total Time": 19.992, + "Actual Rows": 11557, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.018, + "Actual Total Time": 16.447, + "Actual Rows": 9807, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.038, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.035, + "Actual Rows": 12, + "Actual Loops": 11564 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.041, + "Actual Rows": 14, + "Actual Loops": 9908 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.035, + "Actual Rows": 13, + "Actual Loops": 11487 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.038, + "Actual Rows": 12, + "Actual Loops": 11226 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.043, + "Actual Rows": 20, + "Actual Loops": 8521 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.036, + "Actual Rows": 12, + "Actual Loops": 11557 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.040, + "Actual Rows": 16, + "Actual Loops": 9807 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 39194.39, + "Total Cost": 39194.39, + "Plan Rows": 316039, + "Plan Width": 21, + "Actual Startup Time": 607.986, + "Actual Total Time": 607.987, + "Actual Rows": 316039, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Hash Buckets": 4194304, + "Original Hash Buckets": 4194304, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 174880, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 617.199, + "Actual Total Time": 617.200, + "Actual Rows": 321899, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 617.197, + "Actual Total Time": 617.198, + "Actual Rows": 320515, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 617.209, + "Actual Total Time": 617.209, + "Actual Rows": 323104, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 617.186, + "Actual Total Time": 617.187, + "Actual Rows": 317481, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 617.143, + "Actual Total Time": 617.144, + "Actual Rows": 295952, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 617.199, + "Actual Total Time": 617.200, + "Actual Rows": 323688, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 617.189, + "Actual Total Time": 617.190, + "Actual Rows": 304986, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.00, + "Total Cost": 39194.39, + "Plan Rows": 316039, + "Plan Width": 21, + "Actual Startup Time": 0.085, + "Actual Total Time": 212.941, + "Actual Rows": 316039, + "Actual Loops": 8, + "Output": ["t.title", "t.id"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.077, + "Actual Total Time": 219.817, + "Actual Rows": 321899, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.099, + "Actual Total Time": 209.926, + "Actual Rows": 320515, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.057, + "Actual Total Time": 208.473, + "Actual Rows": 323104, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.078, + "Actual Total Time": 213.377, + "Actual Rows": 317481, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.091, + "Actual Total Time": 216.382, + "Actual Rows": 295952, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.101, + "Actual Total Time": 212.349, + "Actual Rows": 323688, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.098, + "Actual Total Time": 210.453, + "Actual Rows": 304986, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -2444720784039749802, + "Planning Time": 38.307, + "Triggers": [ + ], + "Execution Time": 3161.367, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -2444720784039749802, + "JOINS": 6 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS character_name,
       MIN(t.title) AS movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND mc.note IS NOT NULL
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND n.gender ='f'
  AND n.name LIKE '%Ang%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2005 AND 2015
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 66255.29, + "Total Cost": 66255.30, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 317.094, + "Actual Total Time": 320.492, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 66255.22, + "Total Cost": 66255.23, + "Plan Rows": 8, + "Plan Width": 96, + "Actual Startup Time": 316.715, + "Actual Total Time": 320.462, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 66254.22, + "Total Cost": 66254.23, + "Plan Rows": 1, + "Plan Width": 96, + "Actual Startup Time": 306.334, + "Actual Total Time": 306.343, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 298.874, + "Actual Total Time": 298.883, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 307.213, + "Actual Total Time": 307.221, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 307.048, + "Actual Total Time": 307.057, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 307.064, + "Actual Total Time": 307.071, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 300.136, + "Actual Total Time": 300.144, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 307.338, + "Actual Total Time": 307.345, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 307.368, + "Actual Total Time": 307.376, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.68, + "Total Cost": 66254.11, + "Plan Rows": 15, + "Plan Width": 49, + "Actual Startup Time": 97.370, + "Actual Total Time": 306.295, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.894, + "Actual Total Time": 298.773, + "Actual Rows": 60, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 48.287, + "Actual Total Time": 307.183, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.254, + "Actual Total Time": 306.986, + "Actual Rows": 19, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 101.778, + "Actual Total Time": 307.044, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 57.178, + "Actual Total Time": 300.097, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 307.331, + "Actual Total Time": 307.337, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.858, + "Actual Total Time": 307.328, + "Actual Rows": 13, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 66247.30, + "Plan Rows": 15, + "Plan Width": 53, + "Actual Startup Time": 97.295, + "Actual Total Time": 305.931, + "Actual Rows": 15, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "mc.company_id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.829, + "Actual Total Time": 297.943, + "Actual Rows": 60, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 48.213, + "Actual Total Time": 306.979, + "Actual Rows": 7, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 51.192, + "Actual Total Time": 306.022, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 101.705, + "Actual Total Time": 306.949, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 57.119, + "Actual Total Time": 299.915, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 307.330, + "Actual Total Time": 307.335, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.790, + "Actual Total Time": 307.087, + "Actual Rows": 13, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 66239.21, + "Plan Rows": 16, + "Plan Width": 41, + "Actual Startup Time": 96.041, + "Actual Total Time": 305.012, + "Actual Rows": 16, + "Actual Loops": 8, + "Output": ["an.name", "ci.person_role_id", "mc.company_id", "t.title"], + "Inner Unique": false, + "Join Filter": "(ci.movie_id = mc.movie_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.552, + "Actual Total Time": 296.828, + "Actual Rows": 60, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.200, + "Actual Total Time": 304.983, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 50.921, + "Actual Total Time": 304.317, + "Actual Rows": 21, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 101.404, + "Actual Total Time": 306.627, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 49.679, + "Actual Total Time": 298.732, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 307.329, + "Actual Total Time": 307.334, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.334, + "Actual Total Time": 306.444, + "Actual Rows": 16, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 66228.61, + "Plan Rows": 19, + "Plan Width": 45, + "Actual Startup Time": 56.845, + "Actual Total Time": 303.752, + "Actual Rows": 19, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.person_role_id", "t.title", "t.id"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 76.412, + "Actual Total Time": 295.420, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 47.116, + "Actual Total Time": 302.927, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 50.615, + "Actual Total Time": 302.818, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.949, + "Actual Total Time": 305.089, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 47.695, + "Actual Total Time": 296.935, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 70.711, + "Actual Total Time": 307.222, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 60.248, + "Actual Total Time": 305.811, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.29, + "Total Cost": 66227.44, + "Plan Rows": 19, + "Plan Width": 49, + "Actual Startup Time": 56.432, + "Actual Total Time": 303.291, + "Actual Rows": 19, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.role_id", "ci.person_role_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 75.736, + "Actual Total Time": 294.652, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.816, + "Actual Total Time": 302.578, + "Actual Rows": 20, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 50.310, + "Actual Total Time": 302.464, + "Actual Rows": 13, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.640, + "Actual Total Time": 304.723, + "Actual Rows": 32, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 47.022, + "Actual Total Time": 296.189, + "Actual Rows": 36, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 70.380, + "Actual Total Time": 306.884, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 59.915, + "Actual Total Time": 305.457, + "Actual Rows": 8, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 66200.53, + "Plan Rows": 53, + "Plan Width": 28, + "Actual Startup Time": 52.851, + "Actual Total Time": 301.982, + "Actual Rows": 53, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.role_id", "ci.person_role_id"], + "Inner Unique": false, + "Join Filter": "(n.id = ci.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 63.767, + "Actual Total Time": 293.435, + "Actual Rows": 67, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 46.677, + "Actual Total Time": 300.860, + "Actual Rows": 70, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 50.219, + "Actual Total Time": 301.228, + "Actual Rows": 29, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 48.360, + "Actual Total Time": 303.583, + "Actual Rows": 38, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 42.923, + "Actual Total Time": 293.854, + "Actual Rows": 88, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 58.481, + "Actual Total Time": 305.105, + "Actual Rows": 103, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 59.814, + "Actual Total Time": 304.948, + "Actual Rows": 15, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 65429.75, + "Plan Rows": 195, + "Plan Width": 24, + "Actual Startup Time": 40.259, + "Actual Total Time": 281.894, + "Actual Rows": 195, + "Actual Loops": 8, + "Output": ["an.name", "an.person_id", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 32.271, + "Actual Total Time": 277.405, + "Actual Rows": 143, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 40.481, + "Actual Total Time": 278.252, + "Actual Rows": 160, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 41.041, + "Actual Total Time": 282.196, + "Actual Rows": 135, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 41.251, + "Actual Total Time": 285.330, + "Actual Rows": 156, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 35.426, + "Actual Total Time": 267.789, + "Actual Rows": 444, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 40.544, + "Actual Total Time": 288.010, + "Actual Rows": 180, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 41.349, + "Actual Total Time": 280.244, + "Actual Rows": 199, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 846, + "Plan Width": 4, + "Actual Startup Time": 39.480, + "Actual Total Time": 265.502, + "Actual Rows": 846, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%Ang%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 520090, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 31.474, + "Actual Total Time": 260.397, + "Actual Rows": 731, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 40.365, + "Actual Total Time": 262.801, + "Actual Rows": 718, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 40.377, + "Actual Total Time": 266.344, + "Actual Rows": 748, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 39.994, + "Actual Total Time": 268.044, + "Actual Rows": 756, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 33.195, + "Actual Total Time": 247.866, + "Actual Rows": 1597, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 40.454, + "Actual Total Time": 271.866, + "Actual Rows": 786, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 40.858, + "Actual Total Time": 265.456, + "Actual Rows": 703, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 2.30, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.018, + "Actual Rows": 0, + "Actual Loops": 6768, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 731 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 718 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 748 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 0, + "Actual Loops": 756 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.012, + "Actual Rows": 0, + "Actual Loops": 1597 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 786 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 0, + "Actual Loops": 703 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.94, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.096, + "Actual Total Time": 0.102, + "Actual Rows": 0, + "Actual Loops": 1558, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.094, + "Actual Total Time": 0.110, + "Actual Rows": 0, + "Actual Loops": 143 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.135, + "Actual Total Time": 0.140, + "Actual Rows": 0, + "Actual Loops": 160 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.130, + "Actual Total Time": 0.139, + "Actual Rows": 0, + "Actual Loops": 135 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.113, + "Actual Total Time": 0.116, + "Actual Rows": 0, + "Actual Loops": 156 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.058, + "Actual Rows": 0, + "Actual Loops": 444 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.091, + "Actual Total Time": 0.093, + "Actual Rows": 1, + "Actual Loops": 180 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.117, + "Actual Total Time": 0.123, + "Actual Rows": 0, + "Actual Loops": 199 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 425, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2005) AND (t.production_year <= 2015))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 67 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 0, + "Actual Loops": 70 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 29 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 38 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 88 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 103 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 15 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.044, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.065, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.078, + "Actual Total Time": 0.079, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.045, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.55, + "Plan Rows": 1, + "Plan Width": 8, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.063, + "Actual Rows": 1, + "Actual Loops": 155, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note IS NOT NULL) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 5, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.037, + "Actual Rows": 2, + "Actual Loops": 36 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.095, + "Actual Total Time": 0.101, + "Actual Rows": 0, + "Actual Loops": 20 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.098, + "Actual Total Time": 0.112, + "Actual Rows": 2, + "Actual Loops": 13 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 32 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.048, + "Actual Rows": 0, + "Actual Loops": 36 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 2 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.057, + "Actual Total Time": 0.076, + "Actual Rows": 2, + "Actual Loops": 8 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 130, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 60 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.247, + "Actual Total Time": 0.247, + "Actual Rows": 1, + "Actual Loops": 8 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.079, + "Actual Total Time": 0.079, + "Actual Rows": 1, + "Actual Loops": 21 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.105, + "Actual Total Time": 0.105, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.089, + "Actual Total Time": 0.089, + "Actual Rows": 1, + "Actual Loops": 13 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 16 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.45, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.022, + "Actual Rows": 1, + "Actual Loops": 123, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 60 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.027, + "Actual Rows": 1, + "Actual Loops": 7 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.044, + "Actual Total Time": 0.044, + "Actual Rows": 1, + "Actual Loops": 21 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 10 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 13 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -6747521538659772949, + "Planning Time": 80.576, + "Triggers": [ + ], + "Execution Time": 320.874, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -6747521538659772949, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS voiced_character,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS american_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note = '(voice)'
  AND cn.country_code ='[us]'
  AND mc.note LIKE '%(200%)%'
  AND (mc.note LIKE '%(USA)%'
       OR mc.note LIKE '%(worldwide)%')
  AND n.gender ='f'
  AND n.name LIKE '%Angel%'
  AND rt.role ='actress'
  AND t.production_year BETWEEN 2007 AND 2010
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51389.69, + "Total Cost": 51389.70, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1859.342, + "Actual Total Time": 1901.073, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51389.60, + "Total Cost": 51389.61, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 1810.987, + "Actual Total Time": 1901.034, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 51388.60, + "Total Cost": 51388.61, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 1809.285, + "Actual Total Time": 1809.293, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 1849.160, + "Actual Total Time": 1849.166, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1803.065, + "Actual Total Time": 1803.073, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 1801.814, + "Actual Total Time": 1801.822, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1802.017, + "Actual Total Time": 1802.024, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 1803.262, + "Actual Total Time": 1803.270, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 1802.463, + "Actual Total Time": 1802.471, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1802.401, + "Actual Total Time": 1802.408, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.69, + "Total Cost": 51388.55, + "Plan Rows": 5, + "Plan Width": 64, + "Actual Startup Time": 834.589, + "Actual Total Time": 1809.258, + "Actual Rows": 5, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "n.name", "t.title"], + "Inner Unique": false, + "Join Filter": "(n.id = an.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 161.128, + "Actual Total Time": 1849.120, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1039.604, + "Actual Total Time": 1803.029, + "Actual Rows": 8, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 900.573, + "Actual Total Time": 1801.787, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 1120.117, + "Actual Total Time": 1802.009, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 791.522, + "Actual Total Time": 1803.232, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 975.834, + "Actual Total Time": 1802.433, + "Actual Rows": 10, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1393.168, + "Actual Total Time": 1802.390, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 51386.57, + "Plan Rows": 4, + "Plan Width": 56, + "Actual Startup Time": 785.751, + "Actual Total Time": 1809.135, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["chn.name", "ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 161.076, + "Actual Total Time": 1848.941, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1039.546, + "Actual Total Time": 1802.869, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 900.535, + "Actual Total Time": 1801.726, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 729.745, + "Actual Total Time": 1801.864, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 791.488, + "Actual Total Time": 1803.133, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 975.771, + "Actual Total Time": 1802.304, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1393.113, + "Actual Total Time": 1802.322, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 51384.50, + "Plan Rows": 4, + "Plan Width": 44, + "Actual Startup Time": 785.580, + "Actual Total Time": 1808.810, + "Actual Rows": 4, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.person_role_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 161.008, + "Actual Total Time": 1848.761, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 1039.433, + "Actual Total Time": 1802.632, + "Actual Rows": 5, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 900.450, + "Actual Total Time": 1801.619, + "Actual Rows": 2, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 728.994, + "Actual Total Time": 1800.593, + "Actual Rows": 4, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 791.399, + "Actual Total Time": 1802.953, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 975.662, + "Actual Total Time": 1802.143, + "Actual Rows": 3, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 1392.999, + "Actual Total Time": 1802.187, + "Actual Rows": 2, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 50857.77, + "Plan Rows": 946, + "Plan Width": 25, + "Actual Startup Time": 15.067, + "Actual Total Time": 1792.063, + "Actual Rows": 946, + "Actual Loops": 8, + "Output": ["ci.person_id", "ci.person_role_id", "t.title"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.838, + "Actual Total Time": 1836.904, + "Actual Rows": 583, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 4.433, + "Actual Total Time": 1788.722, + "Actual Rows": 744, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 19.823, + "Actual Total Time": 1777.427, + "Actual Rows": 1454, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 23.123, + "Actual Total Time": 1782.186, + "Actual Rows": 1128, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 10.119, + "Actual Total Time": 1781.338, + "Actual Rows": 1217, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 31.048, + "Actual Total Time": 1785.991, + "Actual Rows": 808, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 11.149, + "Actual Total Time": 1795.522, + "Actual Rows": 301, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.30, + "Total Cost": 50844.68, + "Plan Rows": 3374, + "Plan Width": 29, + "Actual Startup Time": 12.011, + "Actual Total Time": 1789.188, + "Actual Rows": 3374, + "Actual Loops": 8, + "Output": ["ci.role_id", "ci.person_id", "ci.person_role_id", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.406, + "Actual Total Time": 1834.504, + "Actual Rows": 1976, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 3.995, + "Actual Total Time": 1786.036, + "Actual Rows": 2992, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 12.900, + "Actual Total Time": 1774.000, + "Actual Rows": 4567, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 18.566, + "Actual Total Time": 1779.051, + "Actual Rows": 3951, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9.729, + "Actual Total Time": 1778.010, + "Actual Rows": 4103, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 20.386, + "Actual Total Time": 1783.182, + "Actual Rows": 2873, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 10.702, + "Actual Total Time": 1793.979, + "Actual Rows": 1097, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 40287.37, + "Plan Rows": 5876, + "Plan Width": 25, + "Actual Startup Time": 0.577, + "Actual Total Time": 752.022, + "Actual Rows": 5876, + "Actual Loops": 8, + "Output": ["mc.movie_id", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.320, + "Actual Total Time": 726.982, + "Actual Rows": 7577, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.691, + "Actual Total Time": 734.272, + "Actual Rows": 4830, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.229, + "Actual Total Time": 673.422, + "Actual Rows": 5806, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.167, + "Actual Total Time": 858.023, + "Actual Rows": 5027, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.470, + "Actual Total Time": 846.594, + "Actual Rows": 5853, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 2.338, + "Actual Total Time": 701.670, + "Actual Rows": 5652, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.240, + "Actual Total Time": 816.412, + "Actual Rows": 5856, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 25002.61, + "Plan Rows": 22133, + "Plan Width": 4, + "Actual Startup Time": 0.174, + "Actual Total Time": 434.498, + "Actual Rows": 22133, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.176, + "Actual Total Time": 379.003, + "Actual Rows": 24890, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.435, + "Actual Total Time": 443.444, + "Actual Rows": 20731, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.075, + "Actual Total Time": 419.843, + "Actual Rows": 18698, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.101, + "Actual Total Time": 499.831, + "Actual Rows": 25208, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.197, + "Actual Total Time": 504.747, + "Actual Rows": 22984, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.162, + "Actual Total Time": 388.934, + "Actual Rows": 21269, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.168, + "Actual Total Time": 495.572, + "Actual Rows": 22489, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.016, + "Actual Total Time": 16.734, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 7.636, + "Actual Rows": 3750, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 18.500, + "Actual Rows": 11939, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 17.358, + "Actual Rows": 11274, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.016, + "Actual Total Time": 20.436, + "Actual Rows": 13229, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.018, + "Actual Total Time": 20.184, + "Actual Rows": 13067, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.020, + "Actual Total Time": 16.901, + "Actual Rows": 10835, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.019, + "Actual Total Time": 22.372, + "Actual Rows": 14010, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 2.02, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.038, + "Actual Rows": 2, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((mc.note ~~ '%(200%)%'::text) AND ((mc.note ~~ '%(USA)%'::text) OR (mc.note ~~ '%(worldwide)%'::text)))", + "Rows Removed by Filter": 12, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.096, + "Actual Rows": 7, + "Actual Loops": 3750 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.034, + "Actual Rows": 2, + "Actual Loops": 11939 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.034, + "Actual Rows": 2, + "Actual Loops": 11274 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.035, + "Actual Rows": 2, + "Actual Loops": 13229 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.036, + "Actual Rows": 2, + "Actual Loops": 13067 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.033, + "Actual Rows": 2, + "Actual Loops": 10835 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.033, + "Actual Rows": 2, + "Actual Loops": 14010 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.69, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 177065, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((t.production_year >= 2007) AND (t.production_year <= 2010))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 24890 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 20731 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 18698 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 25208 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 22984 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 21269 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 0, + "Actual Loops": 22489 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 1.79, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.159, + "Actual Total Time": 0.175, + "Actual Rows": 1, + "Actual Loops": 47009, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.movie_id = t.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = '(voice)'::text)", + "Rows Removed by Filter": 31, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.134, + "Actual Total Time": 0.145, + "Actual Rows": 0, + "Actual Loops": 7577 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.196, + "Actual Total Time": 0.216, + "Actual Rows": 1, + "Actual Loops": 4830 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.173, + "Actual Total Time": 0.188, + "Actual Rows": 1, + "Actual Loops": 5806 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.165, + "Actual Total Time": 0.182, + "Actual Rows": 1, + "Actual Loops": 5027 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.139, + "Actual Total Time": 0.158, + "Actual Rows": 1, + "Actual Loops": 5853 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.166, + "Actual Total Time": 0.190, + "Actual Rows": 1, + "Actual Loops": 5652 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.154, + "Actual Total Time": 0.166, + "Actual Rows": 0, + "Actual Loops": 5856 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.034, + "Actual Total Time": 0.035, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.037, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.026, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.033, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.041, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.031, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.031, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.56, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 7565, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.name ~~ '%Angel%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 583 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 744 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 1454 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 0, + "Actual Loops": 1128 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1217 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 0, + "Actual Loops": 808 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.021, + "Actual Total Time": 0.021, + "Actual Rows": 0, + "Actual Loops": 301 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.52, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.082, + "Actual Total Time": 0.082, + "Actual Rows": 1, + "Actual Loops": 30, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.043, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.048, + "Actual Total Time": 0.048, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.312, + "Actual Total Time": 0.312, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.055, + "Actual Total Time": 0.055, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.049, + "Actual Total Time": 0.049, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.064, + "Actual Total Time": 0.064, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.48, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 30, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.040, + "Actual Rows": 1, + "Actual Loops": 4 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.025, + "Actual Total Time": 0.028, + "Actual Rows": 2, + "Actual Loops": 5 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 2 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 4 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.027, + "Actual Total Time": 0.028, + "Actual Rows": 1, + "Actual Loops": 3 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.037, + "Actual Rows": 3, + "Actual Loops": 3 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.028, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 2 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 316739818532851506, + "Planning Time": 64.068, + "Triggers": [ + ], + "Execution Time": 1901.457, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 316739818532851506, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS voiced_character_name,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS american_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND n.gender ='f'
  AND n.name LIKE '%An%'
  AND rt.role ='actress'
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76138.45, + "Total Cost": 76138.46, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 661.500, + "Actual Total Time": 668.536, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76138.36, + "Total Cost": 76138.37, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 658.143, + "Actual Total Time": 668.485, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 76137.36, + "Total Cost": 76137.37, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 646.707, + "Actual Total Time": 646.718, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 648.155, + "Actual Total Time": 648.168, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 628.934, + "Actual Total Time": 628.943, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 649.959, + "Actual Total Time": 649.969, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 638.880, + "Actual Total Time": 638.890, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 650.565, + "Actual Total Time": 650.572, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 650.483, + "Actual Total Time": 650.494, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 649.520, + "Actual Total Time": 649.529, + "Actual Rows": 1, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.68, + "Total Cost": 76127.18, + "Plan Rows": 1018, + "Plan Width": 64, + "Actual Startup Time": 48.481, + "Actual Total Time": 643.662, + "Actual Rows": 1018, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "n.name", "t.title"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 50.906, + "Actual Total Time": 647.260, + "Actual Rows": 578, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 37.099, + "Actual Total Time": 627.198, + "Actual Rows": 896, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.297, + "Actual Total Time": 647.492, + "Actual Rows": 1801, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.504, + "Actual Total Time": 623.962, + "Actual Rows": 2026, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 48.736, + "Actual Total Time": 648.821, + "Actual Rows": 1215, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 46.155, + "Actual Total Time": 649.432, + "Actual Rows": 702, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 66.275, + "Actual Total Time": 648.883, + "Actual Rows": 398, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 3.26, + "Total Cost": 75114.51, + "Plan Rows": 2293, + "Plan Width": 68, + "Actual Startup Time": 43.796, + "Actual Total Time": 609.708, + "Actual Rows": 2293, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "mc.company_id", "n.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 50.836, + "Actual Total Time": 623.991, + "Actual Rows": 1289, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.371, + "Actual Total Time": 586.394, + "Actual Rows": 2398, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.228, + "Actual Total Time": 595.852, + "Actual Rows": 4357, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.416, + "Actual Total Time": 588.463, + "Actual Rows": 2897, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 48.650, + "Actual Total Time": 611.532, + "Actual Rows": 2439, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 43.152, + "Actual Total Time": 624.627, + "Actual Rows": 1698, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 54.689, + "Actual Total Time": 633.888, + "Actual Rows": 989, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.83, + "Total Cost": 74580.64, + "Plan Rows": 966, + "Plan Width": 72, + "Actual Startup Time": 43.681, + "Actual Total Time": 590.598, + "Actual Rows": 966, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "chn.name", "n.name", "t.title", "t.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 50.723, + "Actual Total Time": 611.839, + "Actual Rows": 572, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.277, + "Actual Total Time": 570.056, + "Actual Rows": 631, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.125, + "Actual Total Time": 569.824, + "Actual Rows": 1765, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.298, + "Actual Total Time": 565.381, + "Actual Rows": 1048, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 48.556, + "Actual Total Time": 591.212, + "Actual Rows": 1104, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 43.073, + "Actual Total Time": 609.232, + "Actual Rows": 552, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 54.621, + "Actual Total Time": 623.526, + "Actual Rows": 377, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 2.40, + "Total Cost": 74095.02, + "Plan Rows": 966, + "Plan Width": 51, + "Actual Startup Time": 43.596, + "Actual Total Time": 574.404, + "Actual Rows": 966, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "chn.name", "n.name"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 50.628, + "Actual Total Time": 602.100, + "Actual Rows": 572, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.192, + "Actual Total Time": 556.904, + "Actual Rows": 631, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 48.042, + "Actual Total Time": 545.448, + "Actual Rows": 1765, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 31.203, + "Actual Total Time": 550.161, + "Actual Rows": 1048, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 48.464, + "Actual Total Time": 574.614, + "Actual Rows": 1104, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 42.985, + "Actual Total Time": 588.962, + "Actual Rows": 552, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 54.543, + "Actual Total Time": 616.706, + "Actual Rows": 377, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Hash Join", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 1.97, + "Total Cost": 73576.46, + "Plan Rows": 1026, + "Plan Width": 39, + "Actual Startup Time": 43.312, + "Actual Total Time": 542.708, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.person_role_id", "n.name"], + "Inner Unique": true, + "Hash Cond": "(ci.role_id = rt.id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 49.992, + "Actual Total Time": 575.837, + "Actual Rows": 593, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 22.099, + "Actual Total Time": 528.643, + "Actual Rows": 693, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 47.923, + "Actual Total Time": 506.351, + "Actual Rows": 1829, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.784, + "Actual Total Time": 523.191, + "Actual Rows": 1116, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 48.347, + "Actual Total Time": 541.814, + "Actual Rows": 1202, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 42.567, + "Actual Total Time": 559.510, + "Actual Rows": 618, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 54.474, + "Actual Total Time": 597.361, + "Actual Rows": 400, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.86, + "Total Cost": 73571.71, + "Plan Rows": 1026, + "Plan Width": 43, + "Actual Startup Time": 43.031, + "Actual Total Time": 539.156, + "Actual Rows": 1026, + "Actual Loops": 8, + "Output": ["an.name", "ci.movie_id", "ci.role_id", "ci.person_role_id", "n.name"], + "Inner Unique": false, + "Join Filter": "(n.id = ci.person_id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 49.683, + "Actual Total Time": 568.081, + "Actual Rows": 593, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 21.795, + "Actual Total Time": 527.141, + "Actual Rows": 693, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 47.671, + "Actual Total Time": 500.193, + "Actual Rows": 1829, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 30.461, + "Actual Total Time": 521.348, + "Actual Rows": 1116, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 48.135, + "Actual Total Time": 539.906, + "Actual Rows": 1202, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 42.361, + "Actual Total Time": 558.375, + "Actual Rows": 618, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 54.244, + "Actual Total Time": 596.423, + "Actual Rows": 400, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.42, + "Total Cost": 68369.91, + "Plan Rows": 1316, + "Plan Width": 39, + "Actual Startup Time": 36.637, + "Actual Total Time": 391.702, + "Actual Rows": 1316, + "Actual Loops": 8, + "Output": ["an.name", "an.person_id", "n.name", "n.id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 38.504, + "Actual Total Time": 411.811, + "Actual Rows": 1297, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.776, + "Actual Total Time": 378.064, + "Actual Rows": 1513, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 39.627, + "Actual Total Time": 383.107, + "Actual Rows": 1347, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.951, + "Actual Total Time": 384.184, + "Actual Rows": 1138, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 40.001, + "Actual Total Time": 406.490, + "Actual Rows": 1431, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 40.724, + "Actual Total Time": 413.047, + "Actual Rows": 1131, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 39.320, + "Actual Total Time": 427.369, + "Actual Rows": 1422, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.00, + "Total Cost": 63478.05, + "Plan Rows": 6251, + "Plan Width": 19, + "Actual Startup Time": 36.358, + "Actual Total Time": 324.650, + "Actual Rows": 6251, + "Actual Loops": 8, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Filter": "((n.name ~~ '%An%'::text) AND ((n.gender)::text = 'f'::text))", + "Rows Removed by Filter": 514685, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 37.947, + "Actual Total Time": 337.252, + "Actual Rows": 6352, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 18.602, + "Actual Total Time": 306.692, + "Actual Rows": 6976, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 39.273, + "Actual Total Time": 316.357, + "Actual Rows": 6274, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 28.845, + "Actual Total Time": 326.179, + "Actual Rows": 5832, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 39.735, + "Actual Total Time": 337.498, + "Actual Rows": 6891, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 40.470, + "Actual Total Time": 345.447, + "Actual Rows": 5472, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 39.210, + "Actual Total Time": 359.647, + "Actual Rows": 6597, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.77, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.010, + "Actual Rows": 0, + "Actual Loops": 50011, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 6352 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6976 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6274 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 5832 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6891 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 5472 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 0, + "Actual Loops": 6597 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 3.94, + "Plan Rows": 1, + "Plan Width": 16, + "Actual Startup Time": 0.102, + "Actual Total Time": 0.110, + "Actual Rows": 1, + "Actual Loops": 10525, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.person_id = an.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 44, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.111, + "Actual Total Time": 0.119, + "Actual Rows": 0, + "Actual Loops": 1297 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.087, + "Actual Total Time": 0.097, + "Actual Rows": 0, + "Actual Loops": 1513 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.077, + "Actual Total Time": 0.085, + "Actual Rows": 1, + "Actual Loops": 1347 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.113, + "Actual Total Time": 0.119, + "Actual Rows": 1, + "Actual Loops": 1138 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.080, + "Actual Total Time": 0.092, + "Actual Rows": 1, + "Actual Loops": 1431 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.122, + "Actual Total Time": 0.127, + "Actual Rows": 1, + "Actual Loops": 1131 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.112, + "Actual Total Time": 0.118, + "Actual Rows": 0, + "Actual Loops": 1422 + } + ] + } + ] + }, + { + "Node Type": "Hash", + "Parent Relationship": "Inner", + "Parallel Aware": true, + "Async Capable": false, + "Startup Cost": 1.09, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.040, + "Actual Rows": 0, + "Actual Loops": 8, + "Output": ["rt.id"], + "Hash Buckets": 1024, + "Original Hash Buckets": 1024, + "Hash Batches": 1, + "Original Hash Batches": 1, + "Peak Memory Usage": 40, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.055, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.047, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.053, + "Actual Total Time": 0.054, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.032, + "Actual Total Time": 0.032, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.025, + "Actual Rows": 0, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.09, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.038, + "Actual Total Time": 0.041, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["rt.id"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.029, + "Actual Total Time": 0.029, + "Actual Rows": 1, + "Actual Loops": 8204, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.042, + "Actual Total Time": 0.042, + "Actual Rows": 1, + "Actual Loops": 593 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.039, + "Actual Rows": 1, + "Actual Loops": 693 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.020, + "Actual Total Time": 0.020, + "Actual Rows": 1, + "Actual Loops": 1829 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.023, + "Actual Total Time": 0.023, + "Actual Rows": 1, + "Actual Loops": 1116 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.026, + "Actual Total Time": 0.026, + "Actual Rows": 1, + "Actual Loops": 1202 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.036, + "Actual Total Time": 0.036, + "Actual Rows": 1, + "Actual Loops": 618 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.046, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 400 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.50, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 7726, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 572 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.019, + "Actual Total Time": 0.019, + "Actual Rows": 1, + "Actual Loops": 631 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 1765 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1048 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 1104 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.035, + "Actual Rows": 1, + "Actual Loops": 552 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 377 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "movie_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 0.53, + "Plan Rows": 2, + "Plan Width": 8, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.018, + "Actual Rows": 2, + "Actual Loops": 7726, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.movie_id = ci.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.019, + "Actual Rows": 2, + "Actual Loops": 572 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.018, + "Actual Total Time": 0.023, + "Actual Rows": 4, + "Actual Loops": 631 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.013, + "Actual Rows": 2, + "Actual Loops": 1765 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.020, + "Actual Rows": 3, + "Actual Loops": 1048 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.017, + "Actual Rows": 2, + "Actual Loops": 1104 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.026, + "Actual Rows": 3, + "Actual Loops": 552 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.022, + "Actual Total Time": 0.025, + "Actual Rows": 3, + "Actual Loops": 377 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_name_pkey", + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.42, + "Total Cost": 0.44, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 18345, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Index Cond": "(cn.id = mc.company_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 1, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 0, + "Actual Loops": 1289 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 0, + "Actual Loops": 2398 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 0, + "Actual Loops": 4357 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 2897 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 2439 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 1698 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 0, + "Actual Loops": 989 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": -180252288200201541, + "Planning Time": 67.183, + "Triggers": [ + ], + "Execution Time": 668.974, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": -180252288200201541, + "JOINS": 7 + } + ] (1 row)
SELECT MIN(an.name) AS alternative_name,
       MIN(chn.name) AS voiced_char_name,
       MIN(n.name) AS voicing_actress,
       MIN(t.title) AS american_movie
FROM aka_name AS an,
     char_name AS chn,
     cast_info AS ci,
     company_name AS cn,
     movie_companies AS mc,
     name AS n,
     role_type AS rt,
     title AS t
WHERE ci.note IN ('(voice)',
                  '(voice: Japanese version)',
                  '(voice) (uncredited)',
                  '(voice: English version)')
  AND cn.country_code ='[us]'
  AND n.gender ='f'
  AND rt.role ='actress'
  AND ci.movie_id = t.id
  AND t.id = mc.movie_id
  AND ci.movie_id = mc.movie_id
  AND mc.company_id = cn.id
  AND ci.role_id = rt.id
  AND n.id = ci.person_id
  AND chn.id = ci.person_role_id
  AND an.person_id = n.id
  AND an.person_id = ci.person_id;

QUERY PLAN ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- [ + { + "Plan": { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Finalize", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 210258.30, + "Total Cost": 210258.31, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 9262.081, + "Actual Total Time": 9299.598, + "Actual Rows": 1, + "Actual Loops": 1, + "Output": ["min(an.name)", "min(chn.name)", "min(n.name)", "min(t.title)"], + "Plans": [ + { + "Node Type": "Gather", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 210258.21, + "Total Cost": 210258.22, + "Plan Rows": 8, + "Plan Width": 128, + "Actual Startup Time": 9102.956, + "Actual Total Time": 9299.567, + "Actual Rows": 8, + "Actual Loops": 1, + "Output": ["(PARTIAL min(an.name))", "(PARTIAL min(chn.name))", "(PARTIAL min(n.name))", "(PARTIAL min(t.title))"], + "Workers Planned": 8, + "Workers Launched": 7, + "Single Copy": false, + "Plans": [ + { + "Node Type": "Aggregate", + "Strategy": "Plain", + "Partial Mode": "Partial", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 210257.21, + "Total Cost": 210257.22, + "Plan Rows": 1, + "Plan Width": 128, + "Actual Startup Time": 8914.213, + "Actual Total Time": 8914.219, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["PARTIAL min(an.name)", "PARTIAL min(chn.name)", "PARTIAL min(n.name)", "PARTIAL min(t.title)"], + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 8853.187, + "Actual Total Time": 8853.191, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 8780.136, + "Actual Total Time": 8780.141, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 8737.813, + "Actual Total Time": 8737.819, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 8914.769, + "Actual Total Time": 8914.774, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 9212.506, + "Actual Total Time": 9212.509, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 8474.894, + "Actual Total Time": 8474.900, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 9238.585, + "Actual Total Time": 9238.590, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 7 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 162196.31, + "Total Cost": 209653.36, + "Plan Rows": 60385, + "Plan Width": 64, + "Actual Startup Time": 7554.559, + "Actual Total Time": 8853.097, + "Actual Rows": 60385, + "Actual Loops": 8, + "Output": ["an.name", "chn.name", "n.name", "t.title"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7545.735, + "Actual Total Time": 8813.806, + "Actual Rows": 33460, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7549.018, + "Actual Total Time": 8741.214, + "Actual Rows": 37698, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7546.131, + "Actual Total Time": 8690.828, + "Actual Rows": 44288, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7556.574, + "Actual Total Time": 8864.388, + "Actual Rows": 49030, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7594.145, + "Actual Total Time": 9114.892, + "Actual Rows": 104178, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7546.184, + "Actual Total Time": 8453.241, + "Actual Rows": 20419, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7544.344, + "Actual Total Time": 9133.006, + "Actual Rows": 106225, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 162195.88, + "Total Cost": 198669.26, + "Plan Rows": 21696, + "Plan Width": 56, + "Actual Startup Time": 7554.236, + "Actual Total Time": 8560.359, + "Actual Rows": 21696, + "Actual Loops": 8, + "Output": ["chn.name", "ci.person_id", "n.name", "n.id", "t.title"], + "Inner Unique": true, + "Join Filter": "(ci.movie_id = t.id)", + "Rows Removed by Join Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7545.645, + "Actual Total Time": 8560.857, + "Actual Rows": 19315, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7548.623, + "Actual Total Time": 8490.603, + "Actual Rows": 18465, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7545.619, + "Actual Total Time": 8443.578, + "Actual Rows": 18223, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7556.425, + "Actual Total Time": 8569.256, + "Actual Rows": 22953, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7594.119, + "Actual Total Time": 8731.791, + "Actual Rows": 28219, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7545.398, + "Actual Total Time": 8299.129, + "Actual Rows": 11718, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7543.757, + "Actual Total Time": 8727.256, + "Actual Rows": 28782, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 162195.45, + "Total Cost": 188296.07, + "Plan Rows": 21696, + "Plan Width": 47, + "Actual Startup Time": 7554.203, + "Actual Total Time": 8331.559, + "Actual Rows": 21696, + "Actual Loops": 8, + "Output": ["chn.name", "ci.movie_id", "ci.person_id", "mc.movie_id", "n.name", "n.id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7545.601, + "Actual Total Time": 8340.687, + "Actual Rows": 19315, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7548.590, + "Actual Total Time": 8291.385, + "Actual Rows": 18465, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7545.587, + "Actual Total Time": 8238.320, + "Actual Rows": 18223, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7556.393, + "Actual Total Time": 8327.690, + "Actual Rows": 22953, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7594.090, + "Actual Total Time": 8459.020, + "Actual Rows": 28219, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7545.370, + "Actual Total Time": 8166.916, + "Actual Rows": 11718, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7543.716, + "Actual Total Time": 8439.934, + "Actual Rows": 28782, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 162195.02, + "Total Cost": 176656.35, + "Plan Rows": 21707, + "Plan Width": 28, + "Actual Startup Time": 7554.157, + "Actual Total Time": 8075.867, + "Actual Rows": 21707, + "Actual Loops": 8, + "Output": ["chn.name", "ci.movie_id", "ci.person_id", "mc.movie_id"], + "Inner Unique": true, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7545.553, + "Actual Total Time": 8091.184, + "Actual Rows": 19330, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7548.538, + "Actual Total Time": 8063.081, + "Actual Rows": 18469, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7545.555, + "Actual Total Time": 8013.608, + "Actual Rows": 18230, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7556.324, + "Actual Total Time": 8054.140, + "Actual Rows": 22966, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7594.057, + "Actual Total Time": 8153.169, + "Actual Rows": 28232, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7545.343, + "Actual Total Time": 8011.724, + "Actual Rows": 11727, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7543.660, + "Actual Total Time": 8122.431, + "Actual Rows": 28792, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Merge Join", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 162194.59, + "Total Cost": 164681.12, + "Plan Rows": 23694, + "Plan Width": 16, + "Actual Startup Time": 7553.996, + "Actual Total Time": 7704.789, + "Actual Rows": 23694, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id", "mc.movie_id"], + "Inner Unique": false, + "Merge Cond": "(mc.movie_id = ci.movie_id)", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7545.121, + "Actual Total Time": 7706.564, + "Actual Rows": 21187, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 7548.000, + "Actual Total Time": 7693.930, + "Actual Rows": 21521, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 7545.505, + "Actual Total Time": 7700.143, + "Actual Rows": 19795, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 7556.282, + "Actual Total Time": 7704.738, + "Actual Rows": 24971, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 7594.014, + "Actual Total Time": 7741.143, + "Actual Rows": 30806, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 7545.306, + "Actual Total Time": 7691.323, + "Actual Rows": 12895, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 7543.549, + "Actual Total Time": 7696.717, + "Actual Rows": 30600, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Sort", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 34497.87, + "Total Cost": 34858.44, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 520.967, + "Actual Total Time": 534.938, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Sort Key": ["mc.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 530.070, + "Actual Total Time": 546.971, + "Actual Rows": 162923, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 517.271, + "Actual Total Time": 529.408, + "Actual Rows": 123067, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 3073, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 521.465, + "Actual Total Time": 537.037, + "Actual Rows": 160151, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 515.757, + "Actual Total Time": 529.227, + "Actual Rows": 135788, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 517.619, + "Actual Total Time": 530.210, + "Actual Rows": 144590, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 519.619, + "Actual Total Time": 535.040, + "Actual Rows": 147489, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 6, + "Actual Startup Time": 515.386, + "Actual Total Time": 527.537, + "Actual Rows": 133592, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 6145, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.43, + "Total Cost": 22139.26, + "Plan Rows": 144225, + "Plan Width": 4, + "Actual Startup Time": 0.110, + "Actual Total Time": 448.522, + "Actual Rows": 144225, + "Actual Loops": 8, + "Output": ["mc.movie_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.084, + "Actual Total Time": 444.075, + "Actual Rows": 162923, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.081, + "Actual Total Time": 458.483, + "Actual Rows": 123067, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.089, + "Actual Total Time": 442.212, + "Actual Rows": 160151, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.099, + "Actual Total Time": 447.428, + "Actual Rows": 135788, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.097, + "Actual Total Time": 447.360, + "Actual Rows": 144590, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.143, + "Actual Total Time": 445.346, + "Actual Rows": 147489, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.171, + "Actual Total Time": 448.539, + "Actual Rows": 133592, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": true, + "Async Capable": false, + "Relation Name": "company_name", + "Schema": "public", + "Alias": "cn", + "Startup Cost": 0.00, + "Total Cost": 3362.18, + "Plan Rows": 10605, + "Plan Width": 4, + "Actual Startup Time": 0.029, + "Actual Total Time": 18.207, + "Actual Rows": 10605, + "Actual Loops": 8, + "Output": ["cn.id", "cn.name", "cn.country_code", "cn.imdb_id", "cn.name_pcode_nf", "cn.name_pcode_sf", "cn.md5sum"], + "Filter": "((cn.country_code)::text = '[us]'::text)", + "Rows Removed by Filter": 18769, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.022, + "Actual Total Time": 26.743, + "Actual Rows": 8259, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.023, + "Actual Total Time": 17.051, + "Actual Rows": 11064, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.025, + "Actual Total Time": 16.553, + "Actual Rows": 10277, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.027, + "Actual Total Time": 18.616, + "Actual Rows": 11994, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.028, + "Actual Total Time": 17.950, + "Actual Rows": 11654, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.032, + "Actual Total Time": 13.907, + "Actual Rows": 8770, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.026, + "Actual Total Time": 15.322, + "Actual Rows": 10094, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "company_id_movie_companies", + "Relation Name": "movie_companies", + "Schema": "public", + "Alias": "mc", + "Startup Cost": 0.43, + "Total Cost": 1.63, + "Plan Rows": 14, + "Plan Width": 8, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.035, + "Actual Rows": 14, + "Actual Loops": 84843, + "Output": ["mc.id", "mc.movie_id", "mc.company_id", "mc.company_type_id", "mc.note"], + "Index Cond": "(mc.company_id = cn.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.044, + "Actual Rows": 20, + "Actual Loops": 8259 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.036, + "Actual Rows": 11, + "Actual Loops": 11064 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.035, + "Actual Rows": 16, + "Actual Loops": 10277 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.031, + "Actual Rows": 11, + "Actual Loops": 11994 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.032, + "Actual Rows": 12, + "Actual Loops": 11654 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.043, + "Actual Rows": 17, + "Actual Loops": 8770 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.038, + "Actual Rows": 13, + "Actual Loops": 10094 + } + ] + } + ] + } + ] + }, + { + "Node Type": "Sort", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Startup Cost": 127696.72, + "Total Cost": 128387.13, + "Plan Rows": 276166, + "Plan Width": 12, + "Actual Startup Time": 7032.784, + "Actual Total Time": 7079.820, + "Actual Rows": 280537, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Sort Key": ["ci.movie_id"], + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory", + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 7014.504, + "Actual Total Time": 7062.064, + "Actual Rows": 282012, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 1, + "Actual Startup Time": 7030.369, + "Actual Total Time": 7077.617, + "Actual Rows": 280844, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 2, + "Actual Startup Time": 7024.028, + "Actual Total Time": 7071.925, + "Actual Rows": 279304, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 3, + "Actual Startup Time": 7040.504, + "Actual Total Time": 7086.894, + "Actual Rows": 281269, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 4, + "Actual Startup Time": 7075.831, + "Actual Total Time": 7122.594, + "Actual Rows": 282267, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 5, + "Actual Startup Time": 7025.675, + "Actual Total Time": 7070.571, + "Actual Rows": 277460, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + }, + { + "Worker Number": 6, + "Actual Startup Time": 7028.144, + "Actual Total Time": 7076.387, + "Actual Rows": 280869, + "Actual Loops": 1, + "Sort Method": "quicksort", + "Sort Space Used": 29389, + "Sort Space Type": "Memory" + } + ], + "Plans": [ + { + "Node Type": "Nested Loop", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Join Type": "Inner", + "Startup Cost": 0.44, + "Total Cost": 102737.97, + "Plan Rows": 276166, + "Plan Width": 12, + "Actual Startup Time": 1.121, + "Actual Total Time": 6807.821, + "Actual Rows": 276166, + "Actual Loops": 8, + "Output": ["ci.movie_id", "ci.person_id", "ci.person_role_id"], + "Inner Unique": false, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.557, + "Actual Total Time": 6783.093, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.768, + "Actual Total Time": 6805.262, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.566, + "Actual Total Time": 6802.354, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.643, + "Actual Total Time": 6816.833, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.601, + "Actual Total Time": 6848.507, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.503, + "Actual Total Time": 6801.119, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.827, + "Actual Total Time": 6804.197, + "Actual Rows": 276166, + "Actual Loops": 1 + } + ], + "Plans": [ + { + "Node Type": "Seq Scan", + "Parent Relationship": "Outer", + "Parallel Aware": false, + "Async Capable": false, + "Relation Name": "role_type", + "Schema": "public", + "Alias": "rt", + "Startup Cost": 0.00, + "Total Cost": 1.15, + "Plan Rows": 1, + "Plan Width": 4, + "Actual Startup Time": 0.039, + "Actual Total Time": 0.045, + "Actual Rows": 1, + "Actual Loops": 8, + "Output": ["rt.id", "rt.role"], + "Filter": "((rt.role)::text = 'actress'::text)", + "Rows Removed by Filter": 11, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.041, + "Actual Total Time": 0.047, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.031, + "Actual Total Time": 0.038, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.054, + "Actual Total Time": 0.060, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.035, + "Actual Total Time": 0.043, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.040, + "Actual Total Time": 0.046, + "Actual Rows": 1, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.062, + "Actual Total Time": 0.068, + "Actual Rows": 1, + "Actual Loops": 1 + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "role_id_cast_info", + "Relation Name": "cast_info", + "Schema": "public", + "Alias": "ci", + "Startup Cost": 0.44, + "Total Cost": 99975.16, + "Plan Rows": 276166, + "Plan Width": 16, + "Actual Startup Time": 1.077, + "Actual Total Time": 6729.378, + "Actual Rows": 276166, + "Actual Loops": 8, + "Output": ["ci.id", "ci.person_id", "ci.movie_id", "ci.person_role_id", "ci.note", "ci.nr_order", "ci.role_id"], + "Index Cond": "(ci.role_id = rt.id)", + "Rows Removed by Index Recheck": 0, + "Filter": "(ci.note = ANY ('{(voice),\"(voice: Japanese version)\",\"(voice) (uncredited)\",\"(voice: English version)\"}'::text[]))", + "Rows Removed by Filter": 7175807, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.511, + "Actual Total Time": 6707.367, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.731, + "Actual Total Time": 6727.044, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.531, + "Actual Total Time": 6705.836, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 3, + "Actual Startup Time": 2.583, + "Actual Total Time": 6733.515, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.559, + "Actual Total Time": 6773.108, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.457, + "Actual Total Time": 6729.255, + "Actual Rows": 276166, + "Actual Loops": 1 + }, + { + "Worker Number": 6, + "Actual Startup Time": 2.758, + "Actual Total Time": 6731.399, + "Actual Rows": 276166, + "Actual Loops": 1 + } + ] + } + ] + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "char_name_pkey", + "Relation Name": "char_name", + "Schema": "public", + "Alias": "chn", + "Startup Cost": 0.43, + "Total Cost": 0.51, + "Plan Rows": 1, + "Plan Width": 20, + "Actual Startup Time": 0.014, + "Actual Total Time": 0.014, + "Actual Rows": 1, + "Actual Loops": 189554, + "Output": ["chn.id", "chn.name", "chn.imdb_index", "chn.imdb_id", "chn.name_pcode_nf", "chn.surname_pcode", "chn.md5sum"], + "Index Cond": "(chn.id = ci.person_role_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.017, + "Actual Total Time": 0.017, + "Actual Rows": 1, + "Actual Loops": 21187 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.016, + "Actual Total Time": 0.016, + "Actual Rows": 1, + "Actual Loops": 21521 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.015, + "Actual Total Time": 0.015, + "Actual Rows": 1, + "Actual Loops": 19795 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 24971 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 30806 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.024, + "Actual Total Time": 0.024, + "Actual Rows": 1, + "Actual Loops": 12895 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.013, + "Actual Total Time": 0.013, + "Actual Rows": 1, + "Actual Loops": 30600 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "name_pkey", + "Relation Name": "name", + "Schema": "public", + "Alias": "n", + "Startup Cost": 0.43, + "Total Cost": 0.54, + "Plan Rows": 1, + "Plan Width": 19, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 173657, + "Output": ["n.id", "n.name", "n.imdb_index", "n.imdb_id", "n.gender", "n.name_pcode_cf", "n.name_pcode_nf", "n.surname_pcode", "n.md5sum"], + "Index Cond": "(n.id = ci.person_id)", + "Rows Removed by Index Recheck": 0, + "Filter": "((n.gender)::text = 'f'::text)", + "Rows Removed by Filter": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 19330 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 18469 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 18230 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.011, + "Actual Total Time": 0.011, + "Actual Rows": 1, + "Actual Loops": 22966 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 28232 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.012, + "Actual Total Time": 0.012, + "Actual Rows": 1, + "Actual Loops": 11727 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 28792 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "title_pkey", + "Relation Name": "title", + "Schema": "public", + "Alias": "t", + "Startup Cost": 0.43, + "Total Cost": 0.47, + "Plan Rows": 1, + "Plan Width": 21, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 173567, + "Output": ["t.id", "t.title", "t.imdb_index", "t.kind_id", "t.production_year", "t.imdb_id", "t.phonetic_code", "t.episode_of_id", "t.season_nr", "t.episode_nr", "t.series_years", "t.md5sum"],+ "Index Cond": "(t.id = mc.movie_id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 19315 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 18465 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 18223 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 22953 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.008, + "Actual Total Time": 0.008, + "Actual Rows": 1, + "Actual Loops": 28219 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.010, + "Actual Rows": 1, + "Actual Loops": 11718 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.009, + "Actual Rows": 1, + "Actual Loops": 28782 + } + ] + } + ] + }, + { + "Node Type": "Index Scan", + "Parent Relationship": "Inner", + "Parallel Aware": false, + "Async Capable": false, + "Scan Direction": "Forward", + "Index Name": "person_id_aka_name", + "Relation Name": "aka_name", + "Schema": "public", + "Alias": "an", + "Startup Cost": 0.42, + "Total Cost": 0.48, + "Plan Rows": 3, + "Plan Width": 20, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.012, + "Actual Rows": 3, + "Actual Loops": 173567, + "Output": ["an.id", "an.person_id", "an.name", "an.imdb_index", "an.name_pcode_cf", "an.name_pcode_nf", "an.surname_pcode", "an.md5sum"], + "Index Cond": "(an.person_id = n.id)", + "Rows Removed by Index Recheck": 0, + "Workers": [ + { + "Worker Number": 0, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 19315 + }, + { + "Worker Number": 1, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 18465 + }, + { + "Worker Number": 2, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 18223 + }, + { + "Worker Number": 3, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.011, + "Actual Rows": 2, + "Actual Loops": 22953 + }, + { + "Worker Number": 4, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.012, + "Actual Rows": 4, + "Actual Loops": 28219 + }, + { + "Worker Number": 5, + "Actual Startup Time": 0.010, + "Actual Total Time": 0.012, + "Actual Rows": 2, + "Actual Loops": 11718 + }, + { + "Worker Number": 6, + "Actual Startup Time": 0.009, + "Actual Total Time": 0.012, + "Actual Rows": 4, + "Actual Loops": 28782 + } + ] + } + ] + } + ] + } + ] + } + ] + }, + "Query Identifier": 7221379846823333251, + "Planning Time": 61.673, + "Triggers": [ + ], + "Execution Time": 9315.586, + "Using aqo": true, + "AQO mode": "FROZEN", + "Query hash": 7221379846823333251, + "JOINS": 7 + } + ] (1 row)
